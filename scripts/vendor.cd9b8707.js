!function(de){"use strict";var u={objectMaxDepth:5,urlErrorParamsEnabled:!0};function e(e){if(!Ee(e))return u;P(e.objectMaxDepth)&&(u.objectMaxDepth=c(e.objectMaxDepth)?e.objectMaxDepth:NaN),P(e.urlErrorParamsEnabled)&&Te(e.urlErrorParamsEnabled)&&(u.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function c(e){return E(e)&&0<e}function k(a,s){s=s||Error;var l="https://errors.angularjs.org/1.7.8/",e=l.replace(".","\\.")+"[\\s\\S]*",c=new RegExp(e,"g");return function(){var e,t,n=arguments[0],r=arguments[1],i="["+(a?a+":":"")+n+"] ",o=Oe(arguments,2).map(function(e){return Ge(e,u.objectMaxDepth)});if(i+=r.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<o.length?o[t].replace(c,""):e}),i+="\n"+l+(a?a+"/":"")+n,u.urlErrorParamsEnabled)for(t=0,e="?";t<o.length;t++,e="&")i+=e+"p"+t+"="+encodeURIComponent(o[t]);return new s(i)}}var he,fe,t,v,o=/^\/(.+)\/([a-z]*)$/,d="validity",pe=Object.prototype.hasOwnProperty,me=function(e){return _e(e)?e.toLowerCase():e},h=function(e){return _e(e)?e.toUpperCase():e},a=[].slice,r=[].splice,n=[].push,ge=Object.prototype.toString,f=Object.getPrototypeOf,p=k("ng"),b=de.angular||(de.angular={}),i=0;function O(e){if(null!=e&&!S(e)){if($e(e)||_e(e)||fe&&e instanceof fe)return 1;var t="length"in Object(e)&&e.length;return E(t)&&(0<=t&&t-1 in e||"function"==typeof e.item)}}function ve(e,t,n){var r,i;if(e)if(Ae(e))for(r in e)"prototype"!==r&&"length"!==r&&"name"!==r&&e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else if($e(e)||O(e)){var o="object"!=typeof e;for(r=0,i=e.length;r<i;r++)(o||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==ve)e.forEach(t,n,e);else if(x(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)pe.call(e,r)&&t.call(n,e[r],r,e);return e}function s(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function T(n){return function(e,t){n(t,e)}}function l(){return++i}function m(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function g(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var a=t[i];if(Ee(a)||Ae(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],d=a[u];n&&Ee(d)?_(d)?e[u]=new Date(d.valueOf()):$(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):I(d)?e[u]=d.clone():(Ee(e[u])||(e[u]=$e(d)?[]:{}),g(e[u],[d],!0)):e[u]=d}}return m(e,r),e}function ye(e){return g(e,a.call(arguments,1),!1)}function y(e){return g(e,a.call(arguments,1),!0)}function w(e){return parseInt(e,10)}he=de.document.documentMode;var M=Number.isNaN||function(e){return e!=e};function be(e,t){return ye(Object.create(e),t)}function we(){}function Ce(e){return e}function N(e){return function(){return e}}function C(e){return Ae(e.toString)&&e.toString!==ge}function xe(e){return void 0===e}function P(e){return void 0!==e}function Ee(e){return null!==e&&"object"==typeof e}function x(e){return null!==e&&"object"==typeof e&&!f(e)}function _e(e){return"string"==typeof e}function E(e){return"number"==typeof e}function _(e){return"[object Date]"===ge.call(e)}function $e(e){return Array.isArray(e)||e instanceof Array}function Se(e){switch(ge.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return e instanceof Error}}function Ae(e){return"function"==typeof e}function $(e){return"[object RegExp]"===ge.call(e)}function S(e){return e&&e.window===e}function ke(e){return e&&e.$evalAsync&&e.$watch}function Te(e){return"boolean"==typeof e}function A(e){return e&&Ae(e.then)}we.$inject=[],Ce.$inject=[];var R=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var Me=function(e){return _e(e)?e.trim():e},D=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function I(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function Ne(e){return me(e.nodeName||e[0]&&e[0].nodeName)}function L(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function Pe(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function F(e,n,t){var r,i,o=[],a=[];if(t=c(t)?t:NaN,n){if((i=n)&&E(i.length)&&R.test(ge.call(i))||(r=n,"[object ArrayBuffer]"===ge.call(r)))throw p("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===n)throw p("cpi","Can't copy! Source and destination are identical.");return $e(n)?n.length=0:ve(n,function(e,t){"$$hashKey"!==t&&delete n[t]}),o.push(e),a.push(n),s(e,n,t)}return l(e,t);function s(e,t,n){if(--n<0)return"...";var r,i=t.$$hashKey;if($e(e))for(var o=0,a=e.length;o<a;o++)t.push(l(e[o],n));else if(x(e))for(r in e)t[r]=l(e[r],n);else if(e&&"function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&(t[r]=l(e[r],n));else for(r in e)pe.call(e,r)&&(t[r]=l(e[r],n));return m(t,i),t}function l(e,t){if(!Ee(e))return e;var n=o.indexOf(e);if(-1!==n)return a[n];if(S(e)||ke(e))throw p("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(e){switch(ge.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(l(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(Ae(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=$e(e)?[]:Object.create(f(e)),r=!0),o.push(e),a.push(i),r?s(e,i,t):i}}function Re(e,t){return e===t||e!=e&&t!=t}function De(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,r,i,o=typeof e;if(o==typeof t&&"object"==o){if(!$e(e)){if(_(e))return!!_(t)&&Re(e.getTime(),t.getTime());if($(e))return!!$(t)&&e.toString()===t.toString();if(ke(e)||ke(t)||S(e)||S(t)||$e(t)||_(t)||$(t))return!1;for(r in i=je(),e)if("$"!==r.charAt(0)&&!Ae(e[r])){if(!De(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&P(t[r])&&!Ae(t[r]))return!1;return!0}if(!$e(t))return!1;if((n=e.length)===t.length){for(r=0;r<n;r++)if(!De(e[r],t[r]))return!1;return!0}}return!1}var H=function(){if(!P(H.rules)){var e=de.document.querySelector("[ng-csp]")||de.document.querySelector("[data-ng-csp]");if(e){var t=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");H.rules={noUnsafeEval:!t||-1!==t.indexOf("no-unsafe-eval"),noInlineStyle:!t||-1!==t.indexOf("no-inline-style")}}else H.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return H.rules},j=function(){if(P(j.name_))return j.name_;var e,t,n,r,i=J.length;for(t=0;t<i;++t)if(n=J[t],e=de.document.querySelector("["+n.replace(":","\\:")+"jq]")){r=e.getAttribute(n+"jq");break}return j.name_=r};function B(e,t,n){return e.concat(a.call(t,n))}function Oe(e,t){return a.call(e,t||0)}function Ie(e,t){var n=2<arguments.length?Oe(arguments,2):[];return!Ae(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,B(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function U(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:S(t)?n="$WINDOW":t&&de.document===t?n="$DOCUMENT":ke(t)&&(n="$SCOPE"),n}function q(e,t){if(!xe(e))return E(t)||(t=t?2:null),JSON.stringify(e,U,t)}function z(e){return _e(e)?JSON.parse(e):e}var V=/:/g;function W(e,t){e=e.replace(V,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return M(n)?t:n}function G(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}function Y(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset();return G(e,n*(W(t,r)-r))}function Le(e){e=fe(e).clone().empty();var t=fe("<div></div>").append(e).html();try{return e[0].nodeType===Ue?me(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+me(t)})}catch(e){return me(t)}}function K(e){try{return decodeURIComponent(e)}catch(e){}}function X(e){var i={};return ve((e||"").split("&"),function(e){var t,n,r;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(t=e.indexOf("="))&&(n=e.substring(0,t),r=e.substring(t+1)),P(n=K(n))&&(r=!P(r)||K(r),pe.call(i,n)?$e(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r))}),i}function Q(e){return Z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var J=["ng-","data-ng-","ng:","x-ng-"];var ee=function(n){var e=n.currentScript;if(!e)return!0;if(!(e instanceof de.HTMLScriptElement||e instanceof de.SVGScriptElement))return!1;var t=e.attributes;return[t.getNamedItem("src"),t.getNamedItem("href"),t.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var t=n.createElement("a");if(t.href=e.value,n.location.origin===t.origin)return!0;switch(t.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(de.document);function te(r,e){var i,o,t={};if(ve(J,function(e){var t=e+"app";!i&&r.hasAttribute&&r.hasAttribute(t)&&(o=(i=r).getAttribute(t))}),ve(J,function(e){var t,n=e+"app";!i&&(t=r.querySelector("["+n.replace(":","\\:")+"]"))&&(o=(i=t).getAttribute(n))}),i){if(!ee)return void de.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");t.strictDi=null!==function(e,t){var n,r,i=J.length;for(r=0;r<i;++r)if(n=J[r]+t,_e(n=e.getAttribute(n)))return n;return null}(i,"strict-di"),e(i,o?[o]:[],t)}}function ne(n,r,i){Ee(i)||(i={});i=ye({strictDi:!1},i);function t(){if((n=fe(n)).injector()){var e=n[0]===de.document?"document":Le(n);throw p("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}(r=r||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var t=Jt(r,i.strictDi);return t.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),t}var e=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(de&&e.test(de.name)&&(i.debugInfoEnabled=!0,de.name=de.name.replace(e,"")),de&&!o.test(de.name))return t();de.name=de.name.replace(o,""),b.resumeBootstrap=function(e){return ve(e,function(e){r.push(e)}),t()},Ae(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}function re(){de.name="NG_ENABLE_DEBUG_INFO!"+de.name,de.location.reload()}function ie(e){var t=b.element(e).injector();if(!t)throw p("test","no injector found for element argument to getTestability");return t.get("$$testability")}var oe=/[A-Z]/g;function Fe(e,n){return n=n||"_",e.replace(oe,function(e,t){return(t?n:"")+e.toLowerCase()})}var ae=!1;function He(e,t,n){if(!e)throw p("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function se(e,t,n){return n&&$e(e)&&(e=e[e.length-1]),He(Ae(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function le(e,t){if("hasOwnProperty"===e)throw p("badname","hasOwnProperty is not a valid {0} name",t)}function ce(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)!t&&e[i]===n||(t=t||fe(a.call(e,0,i))).push(n);return t||e}function je(){return Object.create(null)}function ue(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!C(e)||$e(e)||_(e)?q(e):e.toString()}return e}var Be=1,Ue=3,qe=8,ze=9,Ve=11;function We(e,t){if($e(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(Ee(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}function Ge(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):xe(e)?"undefined":"string"!=typeof e?(n=e,i=[],c(r=t)&&(n=b.copy(n,null,r)),JSON.stringify(n,function(e,t){if(Ee(t=U(e,t))){if(0<=i.indexOf(t))return"...";i.push(t)}return t})):e;var n,r,i}var Ye={full:"1.7.8",major:1,minor:7,dot:8,codeName:"enthusiastic-oblation"};ht.expando="ng339";var Ke=ht.cache={},Xe=1;ht._data=function(e){return this.cache[e[this.expando]]||{}};var Qe=/-([a-z])/g,Ze=/^-ms-/,Je={mouseleave:"mouseout",mouseenter:"mouseover"},et=k("jqLite");function tt(e,t){return t.toUpperCase()}function nt(e){return e.replace(Qe,tt)}var rt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,it=/<|&#?\w+;/,ot=/<([\w:-]+)/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,st={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function lt(e){return!it.test(e)}function ct(e){var t=e.nodeType;return t===Be||!t||t===ze}function ut(e,t){var n,r,i,o,a=t.createDocumentFragment(),s=[];if(lt(e))s.push(t.createTextNode(e));else{for(n=a.appendChild(t.createElement("div")),r=(ot.exec(e)||["",""])[1].toLowerCase(),i=st[r]||st._default,n.innerHTML=i[1]+e.replace(at,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;s=B(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",ve(s,function(e){a.appendChild(e)}),a}st.optgroup=st.option,st.tbody=st.tfoot=st.colgroup=st.caption=st.thead,st.th=st.td;var dt=de.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function ht(e){if(e instanceof ht)return e;var t,n,r,i;if(_e(e)&&(e=Me(e),t=!0),!(this instanceof ht)){if(t&&"<"!==e.charAt(0))throw et("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ht(e)}t?_t(this,(n=e,r=r||de.document,(i=rt.exec(n))?[r.createElement(i[1])]:(i=ut(n,r))?i.childNodes:[])):Ae(e)?Tt(e):_t(this,e)}function ft(e){return e.cloneNode(!0)}function pt(e,t){!t&&ct(e)&&fe.cleanData([e]),e.querySelectorAll&&fe.cleanData(e.querySelectorAll("*"))}function mt(e){var t;for(t in e)return;return 1}function gt(e){var t=e.ng339,n=t&&Ke[t],r=n&&n.events,i=n&&n.data;i&&!mt(i)||r&&!mt(r)||(delete Ke[t],e.ng339=void 0)}function vt(n,e,r,t){if(P(t))throw et("offargs","jqLite#off() does not support the `selector` argument");var i=bt(n),o=i&&i.events,a=i&&i.handle;if(a){if(e){var s=function(e){var t=o[e];P(r)&&Pe(t||[],r),P(r)&&t&&0<t.length||(n.removeEventListener(e,a),delete o[e])};ve(e.split(" "),function(e){s(e),Je[e]&&s(Je[e])})}else for(e in o)"$destroy"!==e&&n.removeEventListener(e,a),delete o[e];gt(n)}}function yt(e,t){var n=e.ng339,r=n&&Ke[n];r&&(t?delete r.data[t]:r.data={},gt(e))}function bt(e,t){var n=e.ng339,r=n&&Ke[n];return t&&!r&&(e.ng339=n=++Xe,r=Ke[n]={events:{},data:{},handle:void 0}),r}function wt(e,t,n){if(ct(e)){var r,i=P(n),o=!i&&t&&!Ee(t),a=!t,s=bt(e,!o),l=s&&s.data;if(i)l[nt(t)]=n;else{if(a)return l;if(o)return l&&l[nt(t)];for(r in t)l[nt(r)]=t[r]}}}function Ct(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function xt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;ve(t.split(" "),function(e){e=Me(e),r=r.replace(" "+e+" "," ")}),r!==n&&e.setAttribute("class",Me(r))}}function Et(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=n;ve(t.split(" "),function(e){e=Me(e),-1===r.indexOf(" "+e+" ")&&(r+=e+" ")}),r!==n&&e.setAttribute("class",Me(r))}}function _t(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function $t(e,t){return St(e,"$"+(t||"ngController")+"Controller")}function St(e,t,n){e.nodeType===ze&&(e=e.documentElement);for(var r=$e(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(P(n=fe.data(e,r[i])))return n;e=e.parentNode||e.nodeType===Ve&&e.host}}function At(e){for(pt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function kt(e,t){t||pt(e);var n=e.parentNode;n&&n.removeChild(e)}function Tt(e){function t(){de.document.removeEventListener("DOMContentLoaded",t),de.removeEventListener("load",t),e()}"complete"===de.document.readyState?de.setTimeout(e):(de.document.addEventListener("DOMContentLoaded",t),de.addEventListener("load",t))}var Mt=ht.prototype={ready:Tt,toString:function(){var t=[];return ve(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return fe(0<=e?this[e]:this[this.length+e])},length:0,push:n,sort:[].sort,splice:[].splice},Nt={};ve("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Nt[me(e)]=e});var Pt={};ve("input,select,option,textarea,button,form,details".split(","),function(e){Pt[e]=!0});var Rt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Dt(e,t){var n=Nt[t.toLowerCase()];return n&&Pt[Ne(e)]&&n}function Ot(e,t){if(xe(t)){var n=e.nodeType;return n===Be||n===Ue?e.textContent:""}e.textContent=t}function It(s,l){function e(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=l[t||e.type],r=n?n.length:0;if(r){if(xe(e.immediatePropagationStopped)){var i=e.stopImmediatePropagation;e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),i&&i.call(e)}}e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var o=n.specialHandlerWrapper||Lt;1<r&&(n=We(n));for(var a=0;a<r;a++)e.isImmediatePropagationStopped()||o(s,e,n[a])}}return e.elem=s,e}function Lt(e,t,n){n.call(e,t)}function Ft(e,t,n){var r=t.relatedTarget;r&&(r===e||dt.call(e,r))||n.call(e,t)}function Ht(){this.$get=function(){return ye(ht,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ct(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Et(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),xt(e,t)}})}}function jt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}ve({data:wt,removeData:yt,hasData:function(e){for(var t in Ke[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)yt(e[t]),vt(e[t])}},function(e,t){ht[t]=e}),ve({data:wt,inheritedData:St,scope:function(e){return fe.data(e,"$scope")||St(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return fe.data(e,"$isolateScope")||fe.data(e,"$isolateScopeNoTemplate")},controller:$t,injector:function(e){return St(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ct,css:function(e,t,n){if(t=nt(t.replace(Ze,"ms-")),!P(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var r,i=e.nodeType;if(i!==Ue&&2!==i&&i!==qe&&e.getAttribute){var o=me(t),a=Nt[o];if(!P(n))return r=e.getAttribute(t),a&&null!==r&&(r=o),null===r?void 0:r;null===n||!1===n&&a?e.removeAttribute(t):e.setAttribute(t,a?o:n)}},prop:function(e,t,n){if(!P(n))return e[t];e[t]=n},text:(Ot.$dv="",Ot),val:function(e,t){if(xe(t)){if(e.multiple&&"select"===Ne(e)){var n=[];return ve(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(xe(t))return e.innerHTML;pt(e,!0),e.innerHTML=t},empty:At},function(c,e){ht.prototype[e]=function(e,t){var n,r,i=this.length;if(c!==At&&xe(2===c.length&&c!==Ct&&c!==$t?e:t)){if(Ee(e)){for(n=0;n<i;n++)if(c===wt)c(this[n],e);else for(r in e)c(this[n],r,e[r]);return this}for(var o=c.$dv,a=xe(o)?Math.min(i,1):i,s=0;s<a;s++){var l=c(this[s],e,t);o=o?o+l:l}return o}for(n=0;n<i;n++)c(this[n],e,t);return this}}),ve({removeData:yt,on:function(i,e,o,t){if(P(t))throw et("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ct(i)){var n=bt(i,!0),a=n.events,s=n.handle;s=s||(n.handle=It(i,a));for(var r=0<=e.indexOf(" ")?e.split(" "):[e],l=r.length,c=function(e,t,n){var r=a[e];r||((r=a[e]=[]).specialHandlerWrapper=t,"$destroy"===e||n||i.addEventListener(e,s)),r.push(o)};l--;)e=r[l],Je[e]?(c(Je[e],Ft),c(e,void 0,!0)):c(e)}},off:vt,one:function(t,n,r){(t=fe(t)).on(n,function e(){t.off(n,r),t.off(n,e)}),t.on(n,r)},replaceWith:function(t,e){var n,r=t.parentNode;pt(t),ve(new ht(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(e){var t=[];return ve(e.childNodes,function(e){e.nodeType===Be&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Be||n===Ve)for(var r=0,i=(t=new ht(t)).length;r<i;r++){var o=t[r];e.appendChild(o)}},prepend:function(t,e){if(t.nodeType===Be){var n=t.firstChild;ve(new ht(e),function(e){t.insertBefore(e,n)})}},wrap:function(e,t){var n,r,i;n=e,r=fe(t).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:kt,detach:function(e){kt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;if(r)for(var i=0,o=(t=new ht(t)).length;i<o;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Et,removeClass:xt,toggleClass:function(n,e,r){e&&ve(e.split(" "),function(e){var t=r;xe(t)&&(t=!Ct(n,e)),(t?Et:xt)(n,e)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Ve?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ft,triggerHandler:function(t,e,n){var r,i,o,a=e.type||e,s=bt(t),l=s&&s.events,c=l&&l[a];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:we,type:a,target:t},e.type&&(r=ye(r,e)),i=We(c),o=n?[r].concat(n):[r],ve(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(a,e){ht.prototype[e]=function(e,t,n){for(var r,i=0,o=this.length;i<o;i++)xe(r)?P(r=a(this[i],e,t,n))&&(r=fe(r)):_t(r,a(this[i],e,t,n));return P(r)?r:this}}),ht.prototype.bind=ht.prototype.on,ht.prototype.unbind=ht.prototype.off;var Bt=Object.create(null);function Ut(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}Ut.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return M(e)?Bt:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var qt=Ut,zt=[function(){this.$get=[function(){return qt}]}],Vt=/^([^(]+?)=>/,Wt=/^[^(]*\(\s*([^)]*)\)/m,Gt=/,/,Yt=/^\s*(_?)(\S+?)\1\s*$/,Kt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Xt=k("$injector");function Qt(e){return Function.prototype.toString.call(e)}function Zt(e){var t=Qt(e).replace(Kt,"");return t.match(Vt)||t.match(Wt)}function Jt(e,c){c=!0===c;var i={},a="Provider",s=[],o=new qt,u={$provide:{provider:h(f),factory:h(p),service:h(function(e,t){return p(e,["$injector",function(e){return e.instantiate(t)}])}),value:h(function(e,t){return p(e,N(t),!1)}),constant:h(function(e,t){le(e,"constant"),u[e]=t,n[e]=t}),decorator:function(e,t){var n=l.get(e+a),r=n.$get;n.$get=function(){var e=d.invoke(r,n);return d.invoke(t,null,{$delegate:e})}}}},l=u.$injector=g(u,function(e,t){throw b.isString(t)&&s.push(t),Xt("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},t=g(n,function(e,t){var n=l.get(e+a,t);return d.invoke(n.$get,n,void 0,e)}),d=t;u["$injector"+a]={$get:N(t)},d.modules=l.modules=je();var r=m(e);return(d=t.get("$injector")).strictDi=c,ve(r,function(e){e&&d.invoke(e)}),d.loadNewModules=function(e){ve(m(e),function(e){e&&d.invoke(e)})},d;function h(n){return function(e,t){if(!Ee(e))return n(e,t);ve(e,T(n))}}function f(e,t){if(le(e,"service"),(Ae(t)||$e(t))&&(t=l.instantiate(t)),!t.$get)throw Xt("pget","Provider '{0}' must define $get factory method.",e);return u[e+a]=t}function p(e,t,n){return f(e,{$get:!1!==n?(r=e,i=t,function(){var e=d.invoke(i,this);if(xe(e))throw Xt("undef","Provider '{0}' must return a value from $get factory method.",r);return e}):t});var r,i}function m(e){He(xe(e)||$e(e),"modulesToLoad","not an array");var n,r=[];return ve(e,function(t){if(!o.get(t)){o.set(t,!0);try{_e(t)?(n=v(t),d.modules[t]=n,r=r.concat(m(n.requires)).concat(n._runBlocks),e(n._invokeQueue),e(n._configBlocks)):Ae(t)||$e(t)?r.push(l.invoke(t)):se(t,"module")}catch(e){throw $e(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Xt("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function e(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=l.get(r[0]);i[r[1]].apply(i,r[2])}}}),r}function g(n,r){function l(t,e){if(n.hasOwnProperty(t)){if(n[t]===i)throw Xt("cdep","Circular dependency found: {0}",t+" <- "+s.join(" <- "));return n[t]}try{return s.unshift(t),n[t]=i,n[t]=r(t,e),n[t]}catch(e){throw n[t]===i&&delete n[t],e}finally{s.shift()}}function o(e,t,n){for(var r=[],i=Jt.$$annotate(e,c,n),o=0,a=i.length;o<a;o++){var s=i[o];if("string"!=typeof s)throw Xt("itkn","Incorrect injection token! Expected service name as string, got {0}",s);r.push(t&&t.hasOwnProperty(s)?t[s]:l(s,n))}return r}return{invoke:function(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=o(e,n,r);return $e(e)&&(e=e[e.length-1]),function(e){if(!he&&"function"==typeof e){var t=e.$$ngIsClass;return Te(t)||(t=e.$$ngIsClass=/^class\b/.test(Qt(e))),t}}(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)},instantiate:function(e,t,n){var r=$e(e)?e[e.length-1]:e,i=o(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:l,annotate:Jt.$$annotate,has:function(e){return u.hasOwnProperty(e+a)||n.hasOwnProperty(e)}}}}function en(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(r,i,o){var a=r.document;function s(e){if(e){e.scrollIntoView();var t=function(){var e=l.yOffset;if(Ae(e))e=e();else if(I(e)){var t=e[0];e="fixed"!==r.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else E(e)||(e=0);return e}();if(t){var n=e.getBoundingClientRect().top;r.scrollBy(0,n-t)}}else r.scrollTo(0,0)}function l(e){var t,n,r;(e=_e(e)?e:E(e)?e.toString():i.hash())?(t=a.getElementById(e))?s(t):(n=a.getElementsByName(e),r=null,Array.prototype.some.call(n,function(e){if("a"===Ne(e))return r=e,!0}),(t=r)?s(t):"top"===e&&s(null)):s(null)}return e&&o.$watch(function(){return i.hash()},function(e,t){var n,r;e===t&&""===e||(n=function(){o.$evalAsync(l)},"complete"===(r=r||de).document.readyState?r.setTimeout(n):fe(r).on("load",n))}),l}]}Jt.$$annotate=function(e,t,n){var r,i,o;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw _e(n)&&n||(n=e.name||((o=Zt(e))?"function("+(o[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Xt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);ve(Zt(e)[1].split(Gt),function(e){e.replace(Yt,function(e,t,n){r.push(n)})})}e.$inject=r}}else $e(e)?(se(e[i=e.length-1],"fn"),r=e.slice(0,i)):se(e,"fn",!0);return r};var tn=k("$animate"),nn=1,rn="ng-animate";function on(e,t){return e||t?e?t?($e(e)&&(e=e.join(" ")),$e(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function an(e){return Ee(e)?e:{}}function sn(){this.$get=we}function ln(){var m=new qt,g=[];this.$get=["$$AnimateRunner","$rootScope",function(d,h){return{enabled:we,on:we,off:we,pin:we,push:function(e,t,n,r){var i,o,a,s,l,c;r&&r(),(n=n||{}).from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&(i=e,o=n.addClass,a=n.removeClass,s=m.get(i)||{},l=f(s,o,!0),c=f(s,a,!1),(l||c)&&(m.set(i,s),g.push(i),1===g.length&&h.$$postDigest(p)));var u=new d;return u.complete(),u}};function f(t,e,n){var r=!1;return e&&ve(e=_e(e)?e.split(" "):$e(e)?e:[],function(e){e&&(r=!0,t[e]=n)}),r}function p(){ve(g,function(e){var t=m.get(e);if(t){var n=function(e){_e(e)&&(e=e.split(" "));var t=je();return ve(e,function(e){e.length&&(t[e]=!0)}),t}(e.attr("class")),r="",i="";ve(t,function(e,t){e!==!!n[t]&&(e?r+=(r.length?" ":"")+t:i+=(i.length?" ":"")+t)}),ve(e,function(e){r&&Et(e,r),i&&xt(e,i)}),m.delete(e)}}),g.length=0}}]}function cn(){this.$get=["$$rAF",function(t){var n=[];function r(e){n.push(e),1<n.length||t(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}return function(){var t=!1;return r(function(){t=!0}),function(e){t?e():r(e)}}}]}function un(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){r()?i(e,0,!1):t(e)},this._state=0}return o.chain=function(e,n){var r=0;!function t(){if(r===e.length)return void n(!0);e[r](function(e){!1!==e?(r++,t()):n(!1)})}()},o.all=function(t,n){var r=0,i=!0;function o(e){i=i&&e,++r===t.length&&n(i)}ve(t,function(e){e.done(o)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:we,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){(!1===e?n:t)()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(ve(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},o}]}function dn(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,e,s){return function(e,t){var n=t||{};n.$$prepared||(n=F(n)),n.cleanupStyles&&(n.from=n.to=null),n.from&&(e.css(n.from),n.from=null);var r,i=new s;return{start:o,end:o};function o(){return a(function(){!function(){n.addClass&&(e.addClass(n.addClass),n.addClass=null);n.removeClass&&(e.removeClass(n.removeClass),n.removeClass=null);n.to&&(e.css(n.to),n.to=null)}(),r||i.complete(),r=!0}),i}}}]}var hn=["$provide",function(r){var i=this,t=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(e,t){if(e&&"."!==e.charAt(0))throw tn("notcsel","Expecting class selector starting with '.' got '{0}'.",e);var n=e+"-animation";i.$$registeredAnimations[e.substr(1)]=n,r.factory(n,t)},this.customFilter=function(e){return 1===arguments.length&&(n=Ae(e)?e:null),n},this.classNameFilter=function(e){if(1===arguments.length&&((t=e instanceof RegExp?e:null)&&new RegExp("[(\\s|\\/)]"+rn+"[(\\s|\\/)]").test(t.toString())))throw t=null,tn("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',rn);return t},this.$get=["$$animateQueue",function(o){function i(e,t,n){if(n){var r=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===nn)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(e,t,n,r){return t=t&&fe(t),n=n&&fe(n),i(e,t=t||n.parent(),n),o.push(e,"enter",an(r))},move:function(e,t,n,r){return t=t&&fe(t),n=n&&fe(n),i(e,t=t||n.parent(),n),o.push(e,"move",an(r))},leave:function(e,t){return o.push(e,"leave",an(t),function(){e.remove()})},addClass:function(e,t,n){return(n=an(n)).addClass=on(n.addclass,t),o.push(e,"addClass",n)},removeClass:function(e,t,n){return(n=an(n)).removeClass=on(n.removeClass,t),o.push(e,"removeClass",n)},setClass:function(e,t,n,r){return(r=an(r)).addClass=on(r.addClass,t),r.removeClass=on(r.removeClass,n),o.push(e,"setClass",r)},animate:function(e,t,n,r,i){return(i=an(i)).from=i.from?ye(i.from,t):t,i.to=i.to?ye(i.to,n):n,r=r||"ng-inline-animate",i.tempClasses=on(i.tempClasses,r),o.push(e,"animate",i)}}}]}];function fn(s,e,t,l,n){var c=this,u=s.location,d=s.history,i=s.setTimeout,r=s.clearTimeout,o={},a=n(t);c.isMock=!1,c.$$completeOutstandingRequest=a.completeTask,c.$$incOutstandingRequestCount=a.incTaskCount,c.notifyWhenNoOutstandingRequests=a.notifyWhenNoPendingTasks;var h,f,p=u.href,m=e.find("base"),g=null,v=l.history?function(){try{return d.state}catch(e){}}:we;x(),c.url=function(e,t,n){if(xe(n)&&(n=null),u!==s.location&&(u=s.location),d!==s.history&&(d=s.history),e){var r=f===n;if(e=pi(e).href,p===e&&(!l.history||r))return c;var i=p&&dr(p)===dr(e);return p=e,f=n,!l.history||i&&r?(i||(g=e),t?u.replace(e):i?u.hash=-1===(a=(o=e).indexOf("#"))?"":o.substr(a):u.href=e,u.href!==e&&(g=e)):(d[t?"replaceState":"pushState"](n,"",e),x()),g=g&&e,c}return(g||u.href).replace(/#$/,"");var o,a},c.state=function(){return h};var y=[],b=!1;function w(){g=null,E()}var C=null;function x(){De(h=xe(h=v())?null:h,C)&&(h=C),f=C=h}function E(){var e=f;x(),p===c.url()&&e===h||(p=c.url(),f=h,ve(y,function(e){e(c.url(),h)}))}c.onUrlChange=function(e){return b||(l.history&&fe(s).on("popstate",w),fe(s).on("hashchange",w),b=!0),y.push(e),e},c.$$applicationDestroyed=function(){fe(s).off("hashchange popstate",w)},c.$$checkUrlChange=E,c.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},c.defer=function(e,t,n){var r;return t=t||0,n=n||a.DEFAULT_TASK_TYPE,a.incTaskCount(n),r=i(function(){delete o[r],a.completeTask(e,n)},t),o[r]=n,r},c.defer.cancel=function(e){if(o.hasOwnProperty(e)){var t=o[e];return delete o[e],r(e),a.completeTask(we,t),!0}return!1}}function pn(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,r,i){return new fn(e,r,t,n,i)}]}function mn(){this.$get=function(){var d={};function e(e,t){if(e in d)throw k("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,r=ye({},t,{id:e}),i=je(),o=t&&t.capacity||Number.MAX_VALUE,a=je(),s=null,l=null;return d[e]={put:function(e,t){if(!xe(t)){if(o<Number.MAX_VALUE)c(a[e]||(a[e]={key:e}));return e in i||n++,i[e]=t,o<n&&this.remove(l.key),t}},get:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return i[e]},remove:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;t===s&&(s=t.p),t===l&&(l=t.n),u(t.n,t.p),delete a[e]}e in i&&(delete i[e],n--)},removeAll:function(){i=je(),n=0,a=je(),s=l=null},destroy:function(){a=r=i=null,delete d[e]},info:function(){return ye({},r,{size:n})}};function c(e){e!==s&&(l?l===e&&(l=e.n):l=e,u(e.n,e.p),u(e,s),(s=e).n=null)}function u(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return e.info=function(){var n={};return ve(d,function(e,t){n[t]=e.info()}),n},e.get=function(e){return d[e]},e}}function gn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var vn=k("$compile");var yn=new function(){};function bn(n,t){var p={},m="Directive",z=/^\s*directive:\s*([\w-]+)\s+(.*)$/,ue=/(([\w-]+)(?::([^;]+))?;?)/,g=function(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),y=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/,s=je();function r(e,r,i){var o=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,a=je();return ve(e,function(e,t){if((e=e.trim())in s)a[t]=s[e];else{var n=e.match(o);if(!n)throw vn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",r,t,e,i?"controller bindings definition":"isolate scope definition");a[t]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||t},n[4]&&(s[e]=a[t])}}),a}function C(e,t){var n={isolateScope:null,bindToController:null};if(Ee(e.scope)&&(!0===e.bindToController?(n.bindToController=r(e.scope,t,!0),n.isolateScope={}):n.isolateScope=r(e.scope,t,!1)),Ee(e.bindToController)&&(n.bindToController=r(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw vn("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(l,t){return He(l,"name"),le(l,"directive"),_e(l)?(function(e){var t=e.charAt(0);if(!t||t!==me(t))throw vn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw vn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(l),He(t,"directiveFactory"),p.hasOwnProperty(l)||(p[l]=[],n.factory(l+m,["$injector","$exceptionHandler",function(o,a){var s=[];return ve(p[l],function(e,t){try{var n=o.invoke(e);Ae(n)?n={compile:N(n)}:!n.compile&&n.link&&(n.compile=N(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||l,n.require=(!$e(i=(r=n).require||r.controller&&r.name)&&Ee(i)&&ve(i,function(e,t){var n=e.match(y);e.substring(n[0].length)||(i[t]=n[0]+t)}),i),n.restrict=function(e,t){if(e&&(!_e(e)||!/[EACM]/.test(e)))throw vn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(n.restrict,l),n.$$moduleName=e.$$moduleName,s.push(n)}catch(e){a(e)}var r,i}),s}])),p[l].push(t)):ve(l,T(e)),this},this.component=function e(t,i){if(!_e(t))return ve(t,T(Ie(this,e))),this;var o=i.controller||function(){};function n(r){function e(n){return Ae(n)||$e(n)?function(e,t){return r.invoke(n,this,{$element:e,$attrs:t})}:n}var t=i.template||i.templateUrl?i.template:"",n={controller:o,controllerAs:function(e,t){if(t&&_e(t))return t;if(_e(e)){var n=An.exec(e);if(n)return n[3]}}(i.controller)||i.controllerAs||"$ctrl",template:e(t),templateUrl:e(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return ve(i,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n}return ve(i,function(e,t){"$"===t.charAt(0)&&(n[t]=e,Ae(o)&&(o[t]=e))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(e){return P(e)?(t.aHrefSanitizationWhitelist(e),this):t.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return P(e)?(t.imgSrcSanitizationWhitelist(e),this):t.imgSrcSanitizationWhitelist()};var x=!0,E=!(this.debugInfoEnabled=function(e){return P(e)?(x=e,this):x});this.strictComponentBindingsEnabled=function(e){return P(e)?(E=e,this):E};var _=10;this.onChangesTtl=function(e){return arguments.length?(_=e,this):_};var $=!0;this.commentDirectivesEnabled=function(e){return arguments.length?($=e,this):$};var S=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(S=e,this):S};var A=je();function e(t,e){ve(e,function(e){A[e.toLowerCase()]=t})}this.addPropertySecurityContext=function(e,t,n){var r=e.toLowerCase()+"|"+t.toLowerCase();if(r in A&&A[r]!==n)throw vn("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,A[r],n);return A[r]=n,this},e(Xr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Xr.CSS,["*|style"]),e(Xr.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(Xr.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(Xr.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(f,T,V,e,M,W,N,h,i){var o,l=/^\w/,c=de.document.createElement("div"),P=$,R=S,t=_;function a(){try{if(!--t)throw o=void 0,vn("infchng","{0} $onChanges() iterations reached. Aborting!\n",_);N.$apply(function(){for(var e=0,t=o.length;e<t;++e)try{o[e]()}catch(e){V(e)}o=void 0})}finally{t++}}function u(e,t){if(!e)return e;if(!_e(e))throw vn("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var n="",r=Me(e),i=/\s/.test(r)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=r.split(i),a=Math.floor(o.length/2),s=0;s<a;s++){var l=2*s;n+=h.getTrustedMediaUrl(Me(o[l])),n+=" "+Me(o[1+l])}var c=Me(o[2*s]).split(/\s/);return n+=h.getTrustedMediaUrl(Me(c[0])),2===c.length&&(n+=" "+Me(c[1])),n}function G(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=t[i]}else this.$attr={};this.$$element=e}function k(e,t){try{e.addClass(t)}catch(e){}}G.prototype={$normalize:En,$addClass:function(e){e&&0<e.length&&i.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&i.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=_n(e,t);n&&n.length&&i.addClass(this.$$element,n);var r=_n(t,e);r&&r.length&&i.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i=Dt(this.$$element[0],e),o=Rt[e],a=e;i?(this.$$element.prop(e,t),r=i):o&&(this[o]=t,a=o),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=Fe(e,"-")),"img"===Ne(this.$$element)&&"srcset"===e&&(this[e]=t=u(t,"$set('srcset', value)")),!1!==n&&(null===t||xe(t)?this.$$element.removeAttr(r):l.test(r)?i&&!1===t?this.$$element.removeAttr(r):this.$$element.attr(r,t):function(e,t,n){c.innerHTML="<span "+t+">";var r=c.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}(this.$$element[0],r,t));var s=this.$$observers;s&&ve(s[a],function(e){try{e(t)}catch(e){V(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=je()),i=r[e]||(r[e]=[]);return i.push(t),N.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||xe(n[e])||t(n[e])}),function(){Pe(i,t)}}};var n=T.startSymbol(),r=T.endSymbol(),Y="{{"===n&&"}}"===r?Ce:function(e){return e.replace(/\{\{/g,n).replace(/}}/g,r)},D=/^ng(Attr|Prop|On)([A-Z].*)$/,O=/^(.+)Start$/;return K.$$addBindingInfo=x?function(e,t){var n=e.data("$binding")||[];$e(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:we,K.$$addBindingClass=x?function(e){k(e,"ng-binding")}:we,K.$$addScopeInfo=x?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:we,K.$$addScopeClass=x?function(e,t){k(e,t?"ng-isolate-scope":"ng-scope")}:we,K.$$createComment=function(e,t){var n="";return x&&(n=" "+(e||"")+": ",t&&(n+=t+" ")),de.document.createComment(n)},K;function K(u,e,t,n,d){u instanceof fe||(u=fe(u));var h=I(u,e,u,t,n,d);K.$$addScopeClass(u);var f=null;return function(e,t,n){if(!u)throw vn("multilink","This element has already been linked.");He(e,"scope"),d&&d.needsNewScope&&(e=e.$parent.$new());var r,i,o,a=(n=n||{}).parentBoundTranscludeFn,s=n.transcludeControllers,l=n.futureParentElement;if(a&&a.$$boundTransclude&&(a=a.$$boundTransclude),f||(i=(r=l)&&r[0],f=i&&"foreignobject"!==Ne(i)&&ge.call(i).match(/SVG/)?"svg":"html"),o="html"!==f?fe(oe(f,fe("<div></div>").append(u).html())):t?Mt.clone.call(u):u,s)for(var c in s)o.data("$"+c+"Controller",s[c].instance);return K.$$addScopeInfo(o,e),t&&t(o,e),h&&h(e,o,o,a),t||(u=h=null),o}}function I(e,p,t,n,r,i){for(var o,a,s,l,c,u,m,g=[],d=$e(e)||e instanceof fe,h=0;h<e.length;h++)o=new G,11===he&&v(e,h,d),(s=(a=X(e[h],[],o,0===h?n:void 0,r)).length?F(a,e[h],o,p,t,null,[],[],i):null)&&s.scope&&K.$$addScopeClass(o.$$element),c=s&&s.terminal||!(l=e[h].childNodes)||!l.length?null:I(l,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:p),(s||c)&&(g.push(h,s,c),u=!0,m=m||s),i=null;return u?function(e,t,n,r){var i,o,a,s,l,c,u,d,h;if(m){var f=t.length;for(h=new Array(f),l=0;l<g.length;l+=3)u=g[l],h[u]=t[u]}else h=t;for(l=0,c=g.length;l<c;)a=h[g[l++]],i=g[l++],o=g[l++],i?(i.scope?(s=e.$new(),K.$$addScopeInfo(fe(a),s)):s=e,d=i.transcludeOnThisElement?L(e,i.transclude,r):!i.templateOnThisElement&&r?r:!r&&p?L(e,p):null,i(o,s,a,n,d)):o&&o(e,a.childNodes,void 0,r)}:null}function v(e,t,n){var r,i=e[t],o=i.parentNode;if(i.nodeType===Ue)for(;(r=o?i.nextSibling:e[t+1])&&r.nodeType===Ue;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===e[t+1]&&e.splice(t+1,1)}function L(o,a,s){function e(e,t,n,r,i){return e||((e=o.$new(!1,i)).$$transcluded=!0),a(e,t,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:r})}var t=e.$$slots=je();for(var n in a.$$slots)a.$$slots[n]?t[n]=L(o,a.$$slots[n],s):t[n]=null;return e}function X(e,t,n,r,i){var o,a,s,l,c,u,d,h,f=e.nodeType,p=n.$attr;switch(f){case Be:H(t,En(a=Ne(e)),"E",r,i);for(var m,g,v,y,b,w=e.attributes,C=0,x=w&&w.length;C<x;C++){var E,_=!1,$=!1,S=!1,A=!1,k=!1;g=(m=w[C]).name,y=m.value,(b=(v=En(g.toLowerCase())).match(D))?(S="Attr"===b[1],A="Prop"===b[1],k="On"===b[1],g=g.replace(Cn,"").toLowerCase().substr(4+b[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(E=v.match(O))&&j(E[1])&&($=(_=g).substr(0,g.length-5)+"end",g=g.substr(0,g.length-6)),A||k?(n[v]=y,p[v]=m.name,A?U(e,t,v,g):(d=v,h=g,t.push(zo(M,N,V,d,h,!1)))):(p[v=En(g.toLowerCase())]=g,!S&&n.hasOwnProperty(v)||(n[v]=y,Dt(e,v)&&(n[v]=!0)),q(e,t,y,v,S),H(t,v,"A",r,i,_,$))}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!R)break;if(Ee(s=e.className)&&(s=s.animVal),_e(s)&&""!==s)for(;o=ue.exec(s);)H(t,v=En(o[2]),"C",r,i)&&(n[v]=Me(o[3])),s=s.substr(o.index+o[0].length);break;case Ue:l=t,c=e.nodeValue,(u=T(c,!0))&&l.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&K.$$addBindingClass(t),function(e,t){var n=t.parent();r||K.$$addBindingClass(n),K.$$addBindingInfo(n,u.expressions),e.$watch(u,function(e){t[0].nodeValue=e})}}});break;case qe:if(!P)break;!function(e,t,n,r,i){try{var o=z.exec(e.nodeValue);if(o){var a=En(o[1]);H(t,a,"M",r,i)&&(n[a]=Me(o[2]))}}catch(e){}}(e,t,n,r,i)}return t.sort(B),t}function Q(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw vn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===Be&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(0<i);else r.push(e);return fe(r)}function Z(o,a,s){return function(e,t,n,r,i){return t=Q(t[0],a,s),o(e,t,n,r,i)}}function J(e,t,n,r,i,o){var a;return e?K(t,n,r,i,o):function(){return a||(a=K(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function F(e,w,C,t,n,r,x,E,i){i=i||{};for(var o,a,s,l,c,u=-Number.MAX_VALUE,_=i.newScopeDirective,$=i.controllerDirectives,S=i.newIsolateScopeDirective,A=i.templateDirective,d=i.nonTlbTranscludeDirective,h=!1,f=!1,k=i.hasElementTranscludeDirective,p=C.$$element=fe(w),m=r,g=t,v=!1,y=!1,b=0,T=e.length;b<T;b++){var M=(o=e[b]).$$start,N=o.$$end;if(M&&(p=Q(w,M,N)),s=void 0,u>o.priority)break;if((c=o.scope)&&(o.templateUrl||(Ee(c)?(ie("new/isolated scope",S||_,o,p),S=o):ie("new/isolated scope",S,o,p)),_=_||o),a=o.name,!v&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var P,R=b+1;P=e[R++];)if(P.transclude&&!P.$$tlb||P.replace&&(P.templateUrl||P.template)){y=!0;break}v=!0}if(!o.templateUrl&&o.controller&&($=$||je(),ie("'"+a+"' controller",$[a],o,p),$[a]=o),c=o.transclude)if(h=!0,o.$$tlb||(ie("transclusion",d,o,p),d=o),"element"===c)k=!0,u=o.priority,s=p,p=C.$$element=fe(K.$$createComment(a,C[a])),w=p[0],ae(n,Oe(s),w),g=J(y,s,t,u,m&&m.name,{nonTlbTranscludeDirective:d});else{var D=je();if(Ee(c)){s=de.document.createDocumentFragment();var O=je(),I=je();for(var L in ve(c,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,O[e]=t,D[t]=null,I[t]=n}),ve(p.contents(),function(e){var t=O[En(Ne(e))];t?(I[t]=!0,D[t]=D[t]||de.document.createDocumentFragment(),D[t].appendChild(e)):s.appendChild(e)}),ve(I,function(e,t){if(!e)throw vn("reqslot","Required transclusion slot `{0}` was not filled.",t)}),D)if(D[L]){var F=fe(D[L].childNodes);D[L]=J(y,F,t)}s=fe(s.childNodes)}else s=fe(ft(w)).contents();p.empty(),(g=J(y,s,t,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope})).$$slots=D}if(o.template)if(f=!0,ie("template",A,o,p),c=Ae((A=o).template)?o.template(p,C):o.template,c=Y(c),o.replace){if(m=o,s=lt(c)?[]:$n(oe(o.templateNamespace,Me(c))),w=s[0],1!==s.length||w.nodeType!==Be)throw vn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a,"");ae(n,p,w);var H={$attr:{}},j=X(w,[],H),B=e.splice(b+1,e.length-(b+1));(S||_)&&te(j,S,_),e=e.concat(j).concat(B),ne(C,H),T=e.length}else p.html(c);if(o.templateUrl)f=!0,ie("template",A,o,p),(A=o).replace&&(m=o),z=re(e.splice(b,e.length-b),p,C,n,h&&g,x,E,{controllerDirectives:$,newScopeDirective:_!==o&&_,newIsolateScopeDirective:S,templateDirective:A,nonTlbTranscludeDirective:d}),T=e.length;else if(o.compile)try{l=o.compile(p,C,g);var U=o.$$originalDirective||o;Ae(l)?q(null,Ie(U,l),M,N):l&&q(Ie(U,l.pre),Ie(U,l.post),M,N)}catch(e){V(e,Le(p))}o.terminal&&(z.terminal=!0,u=Math.max(u,o.priority))}return z.scope=_&&!0===_.scope,z.transcludeOnThisElement=h,z.templateOnThisElement=f,z.transclude=g,i.hasElementTranscludeDirective=k,z;function q(e,t,n,r){e&&(n&&(e=Z(e,n,r)),e.require=o.require,e.directiveName=a,S!==o&&!o.$$isolateScope||(e=se(e,{isolateScope:!0})),x.push(e)),t&&(n&&(t=Z(t,n,r)),t.require=o.require,t.directiveName=a,S!==o&&!o.$$isolateScope||(t=se(t,{isolateScope:!0})),E.push(t))}function z(e,t,n,r,a){var i,o,s,l,c,u,d,h,f,p;for(var m in w===n?h=(f=C).$$element:f=new G(h=fe(n),C),c=t,S?l=t.$new(!0):_&&(c=t.$parent),a&&((d=function(e,t,n,r){var i;ke(e)||(r=n,n=t,t=e,e=void 0);k&&(i=u);n=n||(k?h.parent():h);{if(!r)return a(e,t,i,n,b);var o=a.$$slots[r];if(o)return o(e,t,i,n,b);if(xe(o))throw vn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Le(h))}}).$$boundTransclude=a,d.isSlotFilled=function(e){return!!a.$$slots[e]}),$&&(u=function(e,t,n,r,i,o,a){var s=je();for(var l in r){var c=r[l],u={$scope:c===a||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]);var h=W(d,u,!0,c.controllerAs);s[c.name]=h,e.data("$"+c.name+"Controller",h.instance)}return s}(h,f,d,$,l,t,S)),S&&(K.$$addScopeInfo(h,l,!0,!(A&&(A===S||A===S.$$originalDirective))),K.$$addScopeClass(h,!0),l.$$isolateBindings=S.$$isolateBindings,(p=ce(t,f,l,l.$$isolateBindings,S)).removeWatches&&l.$on("$destroy",p.removeWatches)),u){var g=$[m],v=u[m],y=g.$$bindings.bindToController;v.instance=v(),h.data("$"+g.name+"Controller",v.instance),v.bindingInfo=ce(c,f,v.instance,y,g)}for(ve($,function(e,t){var n=e.require;e.bindToController&&!$e(n)&&Ee(n)&&ye(u[t].instance,ee(t,n,h,u))}),ve(u,function(e){var t=e.instance;if(Ae(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){V(e)}if(Ae(t.$onInit))try{t.$onInit()}catch(e){V(e)}Ae(t.$doCheck)&&(c.$watch(function(){t.$doCheck()}),t.$doCheck()),Ae(t.$onDestroy)&&c.$on("$destroy",function(){t.$onDestroy()})}),i=0,o=x.length;i<o;i++)le(s=x[i],s.isolateScope?l:t,h,f,s.require&&ee(s.directiveName,s.require,h,u),d);var b=t;for(S&&(S.template||null===S.templateUrl)&&(b=l),e&&e(b,n.childNodes,void 0,a),i=E.length-1;0<=i;i--)le(s=E[i],s.isolateScope?l:t,h,f,s.require&&ee(s.directiveName,s.require,h,u),d);ve(u,function(e){var t=e.instance;Ae(t.$postLink)&&t.$postLink()})}}function ee(n,e,r,i){var o;if(_e(e)){var t=e.match(y),a=e.substring(t[0].length),s=t[1]||t[3],l="?"===t[2];if("^^"===s?r=r.parent():o=(o=i&&i[a])&&o.instance,!o){var c="$"+a+"Controller";o="^^"===s&&r[0]&&r[0].nodeType===ze?null:s?r.inheritedData(c):r.data(c)}if(!o&&!l)throw vn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,n)}else if($e(e)){o=[];for(var u=0,d=e.length;u<d;u++)o[u]=ee(n,e[u],r,i)}else Ee(e)&&(o={},ve(e,function(e,t){o[t]=ee(n,e,r,i)}));return o||null}function te(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=be(e[r],{$$isolateScope:t,$$newScope:n})}function H(e,t,n,r,i,o,a){if(t!==i){var s=null;if(p.hasOwnProperty(t))for(var l,c=f.get(t+m),u=0,d=c.length;u<d;u++)if(l=c[u],(xe(r)||r>l.priority)&&-1!==l.restrict.indexOf(n)){if(o&&(l=be(l,{$$start:o,$$end:a})),!l.$$bindings){var h=l.$$bindings=C(l,l.name);Ee(h.isolateScope)&&(l.$$isolateBindings=h.isolateScope)}e.push(l),s=l}return s}}function j(e){if(p.hasOwnProperty(e))for(var t=f.get(e+m),n=0,r=t.length;n<r;n++)if(t[n].multiElement)return 1}function ne(n,r){var i=r.$attr,o=n.$attr;ve(n,function(e,t){"$"!==t.charAt(0)&&(r[t]&&r[t]!==e&&(e.length?e+=("style"===t?";":" ")+r[t]:e=r[t]),n.$set(t,e,!0,i[t]))}),ve(r,function(e,t){n.hasOwnProperty(t)||"$"===t.charAt(0)||(n[t]=e,"class"!==t&&"style"!==t&&(o[t]=i[t]))})}function re(h,f,p,m,g,v,y,b){var w,C,x=[],E=f[0],_=h.shift(),$=be(_,{templateUrl:null,transclude:null,replace:null,$$originalDirective:_}),S=Ae(_.templateUrl)?_.templateUrl(f,p):_.templateUrl,A=_.templateNamespace;return f.empty(),e(S).then(function(e){var n,t,r,i;if(e=Y(e),_.replace){if(r=lt(e)?[]:$n(oe(A,Me(e))),n=r[0],1!==r.length||n.nodeType!==Be)throw vn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",_.name,S);t={$attr:{}},ae(m,f,n);var o=X(n,[],t);Ee(_.scope)&&te(o,!0),h=o.concat(h),ne(p,t)}else n=E,f.html(e);for(h.unshift($),w=F(h,n,p,g,f,_,v,y,b),ve(m,function(e,t){e===n&&(m[t]=f[0])}),C=I(f[0].childNodes,g);x.length;){var a=x.shift(),s=x.shift(),l=x.shift(),c=x.shift(),u=f[0];if(!a.$$destroyed){if(s!==E){var d=s.className;b.hasElementTranscludeDirective&&_.replace||(u=ft(n)),ae(l,fe(s),u),k(fe(u),d)}i=w.transcludeOnThisElement?L(a,w.transclude,c):c,w(C,a,u,m,i)}}x=null}).catch(function(e){Se(e)&&V(e)}),function(e,t,n,r,i){var o=i;t.$$destroyed||(x?x.push(t,n,r,o):(w.transcludeOnThisElement&&(o=L(t,w.transclude,i)),w(C,t,n,r,o)))}}function B(e,t){var n=t.priority-e.priority;return 0!=n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ie(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw vn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,Le(r))}function oe(e,t){switch(e=me(e||"html")){case"svg":case"math":var n=de.document.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function d(e){return u(h.valueOf(e),"ng-prop-srcset")}function U(e,t,n,o){if(w.test(o))throw vn("nodomevents","Property bindings for HTML DOM event properties are disallowed");var r,i,a=Ne(e),s=(r=a,i=o.toLowerCase(),A[r+"|"+i]||A["*|"+i]),l=Ce;"srcset"!==o||"img"!==a&&"source"!==a?s&&(l=h.getTrusted.bind(h,s)):l=d,t.push({priority:100,compile:function(e,t){var r=M(t[n]),i=M(t[n],function(e){return h.valueOf(e)});return{pre:function(t,n){function e(){var e=r(t);n[0][o]=l(e)}e(),t.$watch(i,e)}}}})}function q(e,t,o,a,n){var r,i,s=Ne(e),l=(r=s,"srcdoc"===(i=a)?h.HTML:"src"===i||"ngSrc"===i?-1===["img","video","audio","source","track"].indexOf(r)?h.RESOURCE_URL:h.MEDIA_URL:"xlinkHref"===i?"image"===r?h.MEDIA_URL:"a"===r?h.URL:h.RESOURCE_URL:"form"===r&&"action"===i||"base"===r&&"href"===i||"link"===r&&"href"===i?h.RESOURCE_URL:"a"!==r||"href"!==i&&"ngHref"!==i?void 0:h.URL),c=!n,u=g[a]||n,d=T(o,c,l,u);if(d){if("multiple"===a&&"select"===s)throw vn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Le(e));if(w.test(a))throw vn("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,n){var r=n.$$observers||(n.$$observers=je()),i=n[a];i!==o&&(d=i&&T(i,!0,l,u),o=i),d&&(n[a]=d(e),(r[a]||(r[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||e).$watch(d,function(e,t){"class"===a&&e!==t?n.$updateClass(e,t):n.$set(a,e)}))}}}})}}function ae(e,t,n){var r,i,o=t[0],a=t.length,s=o.parentNode;if(e)for(r=0,i=e.length;r<i;r++)if(e[r]===o){e[r++]=n;for(var l=r,c=l+a-1,u=e.length;l<u;l++,c++)c<u?e[l]=e[c]:delete e[l];e.length-=a-1,e.context===o&&(e.context=n);break}s&&s.replaceChild(n,o);var d=de.document.createDocumentFragment();for(r=0;r<a;r++)d.appendChild(t[r]);for(fe.hasData(o)&&(fe.data(n,fe.data(o)),fe(o).off("$destroy")),fe.cleanData(d.querySelectorAll("*")),r=1;r<a;r++)delete t[r];t[0]=n,t.length=1}function se(e,t){return ye(function(){return e.apply(null,arguments)},e,t)}function le(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){V(e,Le(n))}}function b(e,t){if(E)throw vn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function ce(h,f,p,e,m){var r,g=[],v={};function y(e,t,n){Ae(p.$onChanges)&&!Re(t,n)&&(o||(h.$$postDigest(a),o=[]),r||(r={},o.push(i)),r[e]&&(n=r[e].previousValue),r[e]=new wn(n,t))}function i(){p.$onChanges(r),r=void 0}return ve(e,function(e,n){var t,r,i,o,a,s=e.attrName,l=e.optional;switch(e.mode){case"@":l||pe.call(f,s)||(b(s,m.name),p[n]=f[s]=void 0),a=f.$observe(s,function(e){if(_e(e)||Te(e)){var t=p[n];y(n,e,t),p[n]=e}}),f.$$observers[s].$$scope=h,_e(t=f[s])?p[n]=T(t)(h):Te(t)&&(p[n]=t),v[n]=new wn(yn,p[n]),g.push(a);break;case"=":if(!pe.call(f,s)){if(l)break;b(s,m.name),f[s]=void 0}if(l&&!f[s])break;r=M(f[s]),o=r.literal?De:Re,i=r.assign||function(){throw t=p[n]=r(h),vn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",f[s],s,m.name)},t=p[n]=r(h);var c=function(e){return o(e,p[n])||(o(e,t)?i(h,e=p[n]):p[n]=e),t=e};c.$stateful=!0,a=e.collection?h.$watchCollection(f[s],c):h.$watch(M(f[s],c),null,r.literal),g.push(a);break;case"<":if(!pe.call(f,s)){if(l)break;b(s,m.name),f[s]=void 0}if(l&&!f[s])break;var u=(r=M(f[s])).literal,d=p[n]=r(h);v[n]=new wn(yn,p[n]),a=h[e.collection?"$watchCollection":"$watch"](r,function(e,t){if(t===e){if(t===d||u&&De(t,d))return;t=d}y(n,e,t),p[n]=e}),g.push(a);break;case"&":if(l||pe.call(f,s)||b(s,m.name),(r=f.hasOwnProperty(s)?M(f[s]):we)===we&&l)break;p[n]=function(e){return r(h,e)}}}),{initialChanges:v,removeWatches:g.length&&function(){for(var e=0,t=g.length;e<t;++e)g[e]()}}}}]}function wn(e,t){this.previousValue=e,this.currentValue=t}bn.$inject=["$provide","$$sanitizeUriProvider"],wn.prototype.isFirstChange=function(){return this.previousValue===yn};var Cn=/^((?:x|data)[:\-_])/i,xn=/[:\-_]+(.)/g;function En(e){return e.replace(Cn,"").replace(xn,function(e,t,n){return n?t.toUpperCase():t})}function _n(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue e;n+=(0<n.length?" ":"")+a}return n}function $n(e){var t=(e=fe(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===qe||n.nodeType===Ue&&""===n.nodeValue.trim())&&r.call(e,t,1)}return e}var Sn=k("$controller"),An=/^(\S+)(\s+as\s+([\w$]+))?$/;function kn(){var d={};this.has=function(e){return d.hasOwnProperty(e)},this.register=function(e,t){le(e,"controller"),Ee(e)?ye(d,e):d[e]=t},this.$get=["$injector",function(c){return function(t,n,e,r){var i,o,a,s;if(e=!0===e,r&&_e(r)&&(s=r),_e(t)){if(!(o=t.match(An)))throw Sn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(a=o[1],s=s||o[3],!(t=d.hasOwnProperty(a)?d[a]:function(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;s<a;s++)r=i[s],e=e&&(o=e)[r];return!n&&Ae(e)?Ie(o,e):e}(n.$scope,a,!0)))throw Sn("ctrlreg","The controller with the name '{0}' is not registered.",a);se(t,a,!0)}if(e){var l=($e(t)?t[t.length-1]:t).prototype;return i=Object.create(l||null),s&&u(n,s,i,a||t.name),ye(function(){var e=c.invoke(t,i,n,a);return e!==i&&(Ee(e)||Ae(e))&&(i=e,s&&u(n,s,i,a||t.name)),i},{instance:i,identifier:s})}return i=c.instantiate(t,n,a),s&&u(n,s,i,a||t.name),i};function u(e,t,n,r){if(!e||!Ee(e.$scope))throw k("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}}]}function Tn(){this.$get=["$window",function(e){return fe(e.document)}]}function Mn(){this.$get=["$document","$rootScope",function(e,t){var n=e[0],r=n&&n.hidden;function i(){r=n.hidden}return e.on("visibilitychange",i),t.$on("$destroy",function(){e.off("visibilitychange",i)}),function(){return r}}]}function Nn(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}function Pn(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof fe&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]}var Rn="application/json",Dn={"Content-Type":Rn+";charset=utf-8"},On=/^\[|^\{(?!\{)/,In={"[":/]$/,"{":/}$/},Ln=/^\)]\}',?\n/,Fn=k("$http");function Hn(e){return Ee(e)?_(e)?e.toISOString():q(e):e}function jn(){this.$get=function(){return function(e){if(!e)return"";var n=[];return s(e,function(e,t){null===e||xe(e)||Ae(e)||($e(e)?ve(e,function(e){n.push(Z(t)+"="+Z(Hn(e)))}):n.push(Z(t)+"="+Z(Hn(e))))}),n.join("&")}}}function Bn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function n(e,r,i){$e(e)?ve(e,function(e,t){n(e,r+"["+(Ee(e)?t:"")+"]")}):Ee(e)&&!_(e)?s(e,function(e,t){n(e,r+(i?"":"[")+t+(i?"":"]"))}):(Ae(e)&&(e=e()),t.push(Z(r)+"="+(null==e?"":Z(Hn(e)))))}(e,"",!0),t.join("&")}}}function Un(t,e){if(_e(t)){var n=t.replace(Ln,"").trim();if(n){var r=e("Content-Type"),i=r&&0===r.indexOf(Rn);if(i||(a=(o=n).match(On))&&In[a[0]].test(o))try{t=z(n)}catch(e){if(!i)return t;throw Fn("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,e)}}}var o,a;return t}function qn(e){var t,n=je();function r(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return _e(e)?ve(e.split("\n"),function(e){t=e.indexOf(":"),r(me(Me(e.substr(0,t))),Me(e.substr(t+1)))}):Ee(e)&&ve(e,function(e,t){r(me(t),Me(e))}),n}function zn(n){var r;return function(e){if(r=r||qn(n),e){var t=r[me(e)];return void 0===t&&(t=null),t}return r}}function Vn(t,n,r,e){return Ae(e)?e(t,n,r):(ve(e,function(e){t=e(t,n,r)}),t)}function Wn(e){return 200<=e&&e<300}function Gn(){var x=this.defaults={transformResponse:[Un],transformRequest:[function(e){return Ee(e)&&(r=e,"[object File]"!==ge.call(r))&&(n=e,"[object Blob]"!==ge.call(n))&&(t=e,"[object FormData]"!==ge.call(t))?q(e):e;var t,n,r}],headers:{common:{Accept:"application/json, text/plain, */*"},post:We(Dn),put:We(Dn),patch:We(Dn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},E=!1;this.useApplyAsync=function(e){return P(e)?(E=!!e,this):E};var t=this.interceptors=[],r=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,p,m,e,g,v,l,y){var b=e("$http");x.paramSerializer=_e(x.paramSerializer)?l.get(x.paramSerializer):x.paramSerializer;var c=[];ve(t,function(e){c.unshift(_e(e)?l.get(e):l.invoke(e))});var n,w=(n=[hi].concat(r.map(pi)),function(e){var t=pi(e);return n.some(mi.bind(null,t))});function C(e){if(!Ee(e))throw k("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!_e(y.valueOf(e.url)))throw k("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);var n=ye({method:"get",transformRequest:x.transformRequest,transformResponse:x.transformResponse,paramSerializer:x.paramSerializer,jsonpCallbackParam:x.jsonpCallbackParam},e);n.headers=function(e){var t,n,r,i=x.headers,o=ye({},e.headers);i=ye({},i.common,i[me(e.method)]);e:for(t in i){for(r in n=me(t),o)if(me(r)===n)continue e;o[t]=i[t]}return function(e,n){var r,i={};return ve(e,function(e,t){Ae(e)?null!=(r=e(n))&&(i[t]=r):i[t]=e}),i}(o,We(e))}(e),n.method=h(n.method),n.paramSerializer=_e(n.paramSerializer)?l.get(n.paramSerializer):n.paramSerializer,s.$$incOutstandingRequestCount("$http");var t=[],r=[],i=v.resolve(n);return ve(c,function(e){(e.request||e.requestError)&&t.unshift(e.request,e.requestError),(e.response||e.responseError)&&r.push(e.response,e.responseError)}),i=o(i,t),i=(i=o(i=i.then(function(e){var n=e.headers,t=Vn(e.data,zn(n),void 0,e.transformRequest);xe(t)&&ve(n,function(e,t){"content-type"===me(t)&&delete n[t]});xe(e.withCredentials)&&!xe(x.withCredentials)&&(e.withCredentials=x.withCredentials);return function(o,e){var a,t,s=v.defer(),n=s.promise,r=o.headers,i="jsonp"===me(o.method),l=o.url;i?l=y.getTrustedResourceUrl(l):_e(l)||(l=y.valueOf(l));l=function(e,t){0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(l,o.paramSerializer(o.params)),i&&(l=function(n,r){var e=n.split("?");if(2<e.length)throw Fn("badjsonp",'Illegal use more than one "?", in url, "{1}"',n);return ve(X(e[1]),function(e,t){if("JSON_CALLBACK"===e)throw Fn("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',n);if(t===r)throw Fn("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',r,n)}),n+=(-1===n.indexOf("?")?"?":"&")+r+"=JSON_CALLBACK"}(l,o.jsonpCallbackParam));C.pendingRequests.push(o),n.then(f,f),!o.cache&&!x.cache||!1===o.cache||"GET"!==o.method&&"JSONP"!==o.method||(a=Ee(o.cache)?o.cache:Ee(x.cache)?x.cache:b);a&&(P(t=a.get(l))?A(t)?t.then(h,h):$e(t)?d(t[1],t[0],We(t[2]),t[3],t[4]):d(t,200,{},"OK","complete"):a.put(l,n));if(xe(t)){var c=w(o.url)?m()[o.xsrfCookieName||x.xsrfCookieName]:void 0;c&&(r[o.xsrfHeaderName||x.xsrfHeaderName]=c),p(o.method,l,e,function(e,t,n,r,i){a&&(Wn(e)?a.put(l,[e,t,qn(n),r,i]):a.remove(l));function o(){d(t,e,n,r,i)}E?g.$applyAsync(o):(o(),g.$$phase||g.$apply())},r,o.timeout,o.withCredentials,o.responseType,u(o.eventHandlers),u(o.uploadEventHandlers))}return n;function u(e){if(e){var t={};return ve(e,function(n,e){t[e]=function(e){function t(){n(e)}E?g.$applyAsync(t):g.$$phase?t():g.$apply(t)}}),t}}function d(e,t,n,r,i){(Wn(t=-1<=t?t:0)?s.resolve:s.reject)({data:e,status:t,headers:zn(n),config:o,statusText:r,xhrStatus:i})}function h(e){d(e.data,e.status,We(e.headers()),e.statusText,e.xhrStatus)}function f(){var e=C.pendingRequests.indexOf(o);-1!==e&&C.pendingRequests.splice(e,1)}}(e,t).then(a,a)}),r)).finally(function(){s.$$completeOutstandingRequest(we,"$http")});function o(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(e){var t=ye({},e);return t.data=Vn(e.data,e.headers,e.status,n.transformResponse),Wn(e.status)?t:v.reject(t)}}return C.pendingRequests=[],function(e){ve(arguments,function(n){C[n]=function(e,t){return C(ye({},t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(e){ve(arguments,function(r){C[r]=function(e,t,n){return C(ye({},n||{},{method:r,url:e,data:t}))}})}("post","put","patch"),C.defaults=x,C}]}function Yn(){this.$get=function(){return function(){return new de.XMLHttpRequest}}}function Kn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return y=r,b=(v=e).defer,w=t,C=n[0],function(e,r,t,i,n,o,a,s,l,c){if(r=r||v.url(),"jsonp"===me(e))var u=w.createCallback(r),d=function(e,r,i){e=e.replace("JSON_CALLBACK",r);var o=C.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),C.body.removeChild(o),o=null;var t=-1,n="unknown";e&&("load"!==e.type||w.wasCalled(r)||(e={type:"error"}),n=e.type,t="error"===e.type?404:200),i&&i(t,n)},o.addEventListener("load",a),o.addEventListener("error",a),C.body.appendChild(o),a}(r,u,function(e,t){var n=200===e&&w.getResponse(u);g(i,e,n,"",t,"complete"),w.removeCallback(u)});else{var h=y(e,r),f=!1;if(h.open(e,r,!0),ve(n,function(e,t){P(e)&&h.setRequestHeader(t,e)}),h.onload=function(){var e=h.statusText||"",t="response"in h?h.response:h.responseText,n=1223===h.status?204:h.status;0===n&&(n=t?200:"file"===pi(r).protocol?404:0),g(i,n,t,h.getAllResponseHeaders(),e,"complete")},h.onerror=function(){g(i,-1,null,null,"","error")},h.ontimeout=function(){g(i,-1,null,null,"","timeout")},h.onabort=function(){g(i,-1,null,null,"",f?"timeout":"abort")},ve(l,function(e,t){h.addEventListener(t,e)}),ve(c,function(e,t){h.upload.addEventListener(t,e)}),a&&(h.withCredentials=!0),s)try{h.responseType=s}catch(e){if("json"!==s)throw e}h.send(xe(t)?null:t)}if(0<o)var p=b(function(){m("timeout")},o);else A(o)&&o.then(function(){m(P(o.$$timeoutId)?"timeout":"abort")});function m(e){f="timeout"===e,d&&d(),h&&h.abort()}function g(e,t,n,r,i,o){P(p)&&b.cancel(p),d=h=null,e(t,n,r,i,o)}};var v,y,b,w,C}]}var Xn=b.$interpolateMinErr=k("$interpolate");function Qn(){var S="{{",A="}}";this.startSymbol=function(e){return e?(S=e,this):S},this.endSymbol=function(e){return e?(A=e,this):A},this.$get=["$parse","$exceptionHandler","$sce",function(b,w,C){var x=S.length,E=A.length,t=new RegExp(S.replace(/./g,e),"g"),n=new RegExp(A.replace(/./g,e),"g");function e(e){return"\\\\\\"+e}function _(e){return e.replace(t,S).replace(n,A)}function $(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function r(i,e,r,o){var a=r===C.URL||r===C.MEDIA_URL;if(!i.length||-1===i.indexOf(S)){if(e)return;var t=_(i);a&&(t=C.getTrusted(r,t));var n=N(t);return n.exp=i,n.expressions=[],n.$$watchDelegate=$,n}o=!!o;for(var s,l,c,u,d,h=0,f=[],p=i.length,m=[],g=[];h<p;){if(-1===(s=i.indexOf(S,h))||-1===(l=i.indexOf(A,s+x))){h!==p&&m.push(_(i.substring(h)));break}h!==s&&m.push(_(i.substring(h,s))),u=i.substring(s+x,l),f.push(u),h=l+E,g.push(m.length),m.push("")}d=1===m.length&&1===g.length;var v=a&&d?void 0:function(e){try{return e=r&&!a?C.getTrusted(r,e):C.valueOf(e),o&&!P(e)?e:ue(e)}catch(e){w(Xn.interr(i,e))}};if(c=f.map(function(e){return b(e,v)}),!e||f.length){var y=function(e){for(var t=0,n=f.length;t<n;t++){if(o&&xe(e[t]))return;m[g[t]]=e[t]}return a?C.getTrusted(r,d?m[0]:m.join("")):(r&&1<m.length&&Xn.throwNoconcat(i),m.join(""))};return ye(function(e){var t=0,n=f.length,r=new Array(n);try{for(;t<n;t++)r[t]=c[t](e);return y(r)}catch(e){w(Xn.interr(i,e))}},{exp:i,expressions:f,$$watchDelegate:function(r,i){var o;return r.$watchGroup(c,function(e,t){var n=y(e);i.call(this,n,e!==t?o:n,r),o=n})}})}}return r.startSymbol=function(){return S},r.endSymbol=function(){return A},r}]}Xn.throwNoconcat=function(e){throw Xn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Xn.interr=function(e,t){return Xn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Zn=k("$interval");function Jn(){this.$get=["$$intervalFactory","$window",function(e,i){function r(e){i.clearInterval(e),delete o[e]}var o={},t=e(function(e,t,n){var r=i.setInterval(e,t);return o[r]=n,r},r);return t.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Zn("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!o.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,n=o[t];return Vr(n.promise),n.reject("canceled"),r(t),!0},t}]}function er(){this.$get=["$browser","$q","$$q","$rootScope",function(f,p,m,g){return function(d,h){return function(e,t,n,r){var i=4<arguments.length,o=i?Oe(arguments,4):[],a=0,s=P(r)&&!r,l=(s?m:p).defer(),c=l.promise;function u(){i?e.apply(null,o):e(a)}return n=P(n)?n:0,c.$$intervalId=d(function(){s?f.defer(u):g.$evalAsync(u),l.notify(a++),0<n&&n<=a&&(l.resolve(a),h(c.$$intervalId)),s||g.$apply()},t,l,s),c}}}]}function tr(){this.$get=function(){var o=b.callbacks,a={};return{createCallback:function(e){var t,n="_"+(o.$$counter++).toString(36),r="angular.callbacks."+n,i=((t=function(e){t.data=e,t.called=!0}).id=n,t);return a[r]=o[n]=i,r},wasCalled:function(e){return a[e].called},getResponse:function(e){return a[e].data},removeCallback:function(e){var t=a[e];delete o[t.id],delete a[e]}}}}var nr=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,rr={http:80,https:443,ftp:21},ir=k("$location");function or(e,t,n){var r,i=(r=[],ve(t,function(e,t){$e(e)?ve(e,function(e){r.push(Z(t,!0)+(!0===e?"":"="+Z(e,!0)))}):r.push(Z(t,!0)+(!0===e?"":"="+Z(e,!0)))}),r.length?r.join("&"):""),o=n?"#"+Q(n):"";return function(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Q(t[n].replace(/%2F/g,"/"));return t.join("/")}(e)+(i?"?"+i:"")+o}function ar(e,t){var n=pi(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=w(n.port)||rr[n.protocol]||null}var sr=/^\s*[\\/]{2,}/;function lr(e,t,n){if(sr.test(e))throw ir("badpath",'Invalid url "{0}".',e);var r="/"!==e.charAt(0);r&&(e="/"+e);var i=pi(e),o=r&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname;t.$$path=function(e,t){for(var n=e.split("/"),r=n.length;r--;)n[r]=decodeURIComponent(n[r]),t&&(n[r]=n[r].replace(/\//g,"%2F"));return n.join("/")}(o,n),t.$$search=X(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function cr(e,t){return e.slice(0,t.length)===t}function ur(e,t){if(cr(t,e))return t.substr(e.length)}function dr(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function hr(o,a,s){this.$$html5=!0,s=s||"",ar(o,this),this.$$parse=function(e){var t=ur(a,e);if(!_e(t))throw ir("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,a);lr(t,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return a+e.substr(1)},this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(P(n=ur(o,e))?(r=n,i=s&&P(n=ur(s,n))?a+(ur("/",n)||n):o+r):P(n=ur(a,e))?i=a+n:a===e+"/"&&(i=a),i&&this.$$parse(i),!!i);var n,r,i}}function fr(r,i,o){ar(r,this),this.$$parse=function(e){var t,n=ur(r,e)||ur(i,e);xe(n)||"#"!==n.charAt(0)?this.$$html5?t=n:(t="",xe(n)&&(r=e,this.replace())):xe(t=ur(o,n))&&(t=n),lr(t,this,!1),this.$$path=function(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;cr(t,n)&&(t=t.replace(n,""));if(i.exec(t))return e;return(r=i.exec(e))?r[1]:e}(this.$$path,t,r),this.$$compose()},this.$$normalizeUrl=function(e){return r+(e?o+e:"")},this.$$parseLinkUrl=function(e,t){return dr(r)===dr(e)&&(this.$$parse(e),!0)}}function pr(i,o,a){this.$$html5=!0,fr.apply(this,arguments),this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(i===dr(e)?n=e:(r=ur(o,e))?n=i+a+r:o===e+"/"&&(n=o),n&&this.$$parse(n),!!n);var n,r},this.$$normalizeUrl=function(e){return i+a+e}}var mr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=or(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:gr("$$absUrl"),url:function(e){if(xe(e))return this.$$url;var t=nr.exec(e);return!t[1]&&""!==e||this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:gr("$$protocol"),host:gr("$$host"),port:gr("$$port"),path:vr("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(n,e){switch(arguments.length){case 0:return this.$$search;case 1:if(_e(n)||E(n))n=n.toString(),this.$$search=X(n);else{if(!Ee(n))throw ir("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");ve(n=F(n,{}),function(e,t){null==e&&delete n[t]}),this.$$search=n}break;default:xe(e)||null===e?delete this.$$search[n]:this.$$search[n]=e}return this.$$compose(),this},hash:vr("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function gr(e){return function(){return this[e]}}function vr(t,n){return function(e){return xe(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function yr(){var v="!",y={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return P(e)?(v=e,this):v},this.html5Mode=function(e){return Te(e)?(y.enabled=e,this):Ee(e)?(Te(e.enabled)&&(y.enabled=e.enabled),Te(e.requireBase)&&(y.requireBase=e.requireBase),(Te(e.rewriteLinks)||_e(e.rewriteLinks))&&(y.rewriteLinks=e.rewriteLinks),this):y},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(s,l,c,o,e){var u,t,n,r,i=l.baseHref(),a=l.url();if(y.enabled){if(!i&&y.requireBase)throw ir("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(r=a).substring(0,r.indexOf("/",r.indexOf("//")+2))+(i||"/"),t=c.history?hr:pr}else n=dr(a),t=fr;var d,h=(d=n).substr(0,dr(d).lastIndexOf("/")+1);(u=new t(n,h,"#"+v)).$$parseLinkUrl(a,a),u.$$state=l.state();var f=/^\s*(javascript|mailto):/i;function p(e,t,n){var r=u.url(),i=u.$$state;try{l.url(e,t,n),u.$$state=l.state()}catch(e){throw u.url(r),u.$$state=i,e}}o.on("click",function(e){var t=y.rewriteLinks;if(t&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var n=fe(e.target);"a"!==Ne(n[0]);)if(n[0]===o[0]||!(n=n.parent())[0])return;if(!_e(t)||!xe(n.attr(t))){var r=n.prop("href"),i=n.attr("href")||n.attr("xlink:href");Ee(r)&&"[object SVGAnimatedString]"===r.toString()&&(r=pi(r.animVal).href),f.test(r)||!r||n.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(r,i)&&(e.preventDefault(),u.absUrl()!==l.url()&&s.$apply())}}}),u.absUrl()!==a&&l.url(u.absUrl(),!0);var m=!0;return l.onUrlChange(function(r,i){cr(r,h)?(s.$evalAsync(function(){var e,t=u.absUrl(),n=u.$$state;u.$$parse(r),u.$$state=i,e=s.$broadcast("$locationChangeStart",r,t,i,n).defaultPrevented,u.absUrl()===r&&(e?(u.$$parse(t),p(t,!1,u.$$state=n)):(m=!1,g(t,n)))}),s.$$phase||s.$digest()):e.location.href=r}),s.$watch(function(){if(m||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var n=l.url(),e=u.absUrl(),r=l.state(),i=u.$$replace,o=!((t=n)===(a=e)||pi(t).href===pi(a).href)||u.$$html5&&c.history&&r!==u.$$state;(m||o)&&(m=!1,s.$evalAsync(function(){var e=u.absUrl(),t=s.$broadcast("$locationChangeStart",e,n,u.$$state,r).defaultPrevented;u.absUrl()===e&&(t?(u.$$parse(n),u.$$state=r):(o&&p(e,i,r===u.$$state?null:u.$$state),g(n,r)))}))}var t,a;u.$$replace=!1}),u;function g(e,t){s.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}}]}function br(){var r=!0,o=this;this.debugEnabled=function(e){return P(e)?(r=e,this):r},this.$get=["$window",function(n){var e,i=he||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:(e=t("debug"),function(){r&&e.apply(o,arguments)})};function t(e){var t=n.console||{},r=t[e]||t.log||we;return function(){var n=[];return ve(arguments,function(e){var t;n.push((Se(t=e)&&(t.stack&&i?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t))}),Function.prototype.apply.call(r,t,n)}}}]}ve([pr,fr,hr],function(t){t.prototype=Object.create(mr),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==hr||!this.$$html5)throw ir("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=xe(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var wr=k("$parse"),Cr={}.constructor.prototype.valueOf;function xr(e){return e+""}var Er=je();ve("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Er[e]=!0});var _r={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},$r=function(e){this.options=e};$r.prototype={constructor:$r,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Er[t],o=Er[n],a=Er[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=r&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=P(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw wr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=me(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=_r[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Sr=function(e,t){this.lexer=e,this.options=t};function Ar(e,t){return void 0!==e?e:t}function kr(e,t){return void 0===e?t:void 0===t?e:e+t}Sr.Program="Program",Sr.ExpressionStatement="ExpressionStatement",Sr.AssignmentExpression="AssignmentExpression",Sr.ConditionalExpression="ConditionalExpression",Sr.LogicalExpression="LogicalExpression",Sr.BinaryExpression="BinaryExpression",Sr.UnaryExpression="UnaryExpression",Sr.CallExpression="CallExpression",Sr.MemberExpression="MemberExpression",Sr.Identifier="Identifier",Sr.Literal="Literal",Sr.ArrayExpression="ArrayExpression",Sr.Property="Property",Sr.ObjectExpression="ObjectExpression",Sr.ThisExpression="ThisExpression",Sr.LocalsExpression="LocalsExpression",Sr.NGValueParameter="NGValueParameter",Sr.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Sr.Program,body:e}},expressionStatement:function(){return{type:Sr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Rr(e))throw wr("lval","Trying to assign a value to a non l-value");e={type:Sr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Sr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Sr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Sr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Sr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Sr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Sr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Sr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Sr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Sr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:Sr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Sr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Sr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Sr.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Sr.Identifier,name:e.text}},constant:function(){return{type:Sr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Sr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Sr.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Sr.ObjectExpression,properties:t}},throwError:function(e,t){throw wr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw wr("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw wr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Sr.ThisExpression},$locals:{type:Sr.LocalsExpression}}};var Tr=1,Mr=2;function Nr(e,t,n){var r,i,o,a,s,l=e.isPure=function(e,t){switch(e.type){case Sr.MemberExpression:if(e.computed)return!1;break;case Sr.UnaryExpression:return Tr;case Sr.BinaryExpression:return"+"!==e.operator&&Tr;case Sr.CallExpression:return!1}return void 0===t?Mr:t}(e,n);switch(e.type){case Sr.Program:r=!0,ve(e.body,function(e){Nr(e.expression,t,l),r=r&&e.expression.constant}),e.constant=r;break;case Sr.Literal:e.constant=!0,e.toWatch=[];break;case Sr.UnaryExpression:Nr(e.argument,t,l),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Sr.BinaryExpression:Nr(e.left,t,l),Nr(e.right,t,l),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Sr.LogicalExpression:Nr(e.left,t,l),Nr(e.right,t,l),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Sr.ConditionalExpression:Nr(e.test,t,l),Nr(e.alternate,t,l),Nr(e.consequent,t,l),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Sr.Identifier:e.constant=!1,e.toWatch=[e];break;case Sr.MemberExpression:Nr(e.object,t,l),e.computed&&Nr(e.property,t,l),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Sr.CallExpression:o=!!e.filter&&(a=t,s=e.callee.name,!a(s).$stateful),r=o,i=[],ve(e.arguments,function(e){Nr(e,t,l),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=o?i:[e];break;case Sr.AssignmentExpression:Nr(e.left,t,l),Nr(e.right,t,l),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Sr.ArrayExpression:r=!0,i=[],ve(e.elements,function(e){Nr(e,t,l),r=r&&e.constant,i.push.apply(i,e.toWatch)}),e.constant=r,e.toWatch=i;break;case Sr.ObjectExpression:r=!0,i=[],ve(e.properties,function(e){Nr(e.value,t,l),r=r&&e.value.constant,i.push.apply(i,e.value.toWatch),e.computed&&(Nr(e.key,t,!1),r=r&&e.key.constant,i.push.apply(i,e.key.toWatch))}),e.constant=r,e.toWatch=i;break;case Sr.ThisExpression:case Sr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Pr(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length||n[0]!==t?n:void 0}}function Rr(e){return e.type===Sr.Identifier||e.type===Sr.MemberExpression}function Dr(e){if(1===e.body.length&&Rr(e.body[0].expression))return{type:Sr.AssignmentExpression,left:e.body[0].expression,right:{type:Sr.NGValueParameter},operator:"="}}function Or(e){this.$filter=e}function Ir(e){this.$filter=e}function Lr(e,t,n){this.ast=new Sr(e,n),this.astCompiler=new(n.csp?Ir:Or)(t)}function Fr(e){return Ae(e.valueOf)?e.valueOf():Cr.call(e)}function Hr(){var s,l,c=je(),u={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){u[e]=t},this.setIdentifierFns=function(e,t){return s=e,l=t,this},this.$get=["$filter",function(i){var o={csp:H().noUnsafeEval,literals:F(u),isIdentifierStart:Ae(s)&&s,isIdentifierContinue:Ae(l)&&l};return e.$$getAst=function(e){return new Lr(new $r(o),i,o).getAst(e).ast},e;function e(e,t){var n,r;switch(typeof e){case"string":if(e=e.trim(),!(n=c[r=e]))n=new Lr(new $r(o),i,o).parse(e),c[r]=p(n);return a(n,t);case"function":return a(e,t);default:return a(we,t)}}function h(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Fr(e))&&!n)&&(e===t||e!=e&&t!=t)}function t(e,t,n,o,r){var a,s=o.inputs;if(1===s.length){var i=h;return s=s[0],e.$watch(function(e){var t=s(e);return h(t,i,s.isPure)||(a=o(e,void 0,void 0,[t]),i=t&&Fr(t)),a},t,n,r)}for(var l=[],c=[],u=0,d=s.length;u<d;u++)l[u]=h,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,r=s.length;n<r;n++){var i=s[n](e);(t=t||!h(i,l[n],s[n].isPure))&&(c[n]=i,l[n]=i&&Fr(i))}return t&&(a=o(e,void 0,void 0,c)),a},t,n,r)}function n(e,t,n,r,i){var o,a,s=r.literal?f:P,l=r.$$intercepted||r,c=r.$$interceptor||Ce,u=r.inputs&&!l.inputs;return h.literal=r.literal,h.constant=r.constant,h.inputs=r.inputs,p(h),o=e.$watch(h,t,n,i);function d(){s(a)&&o()}function h(e,t,n,r){return a=u&&r?r[0]:l(e,t,n,r),s(a)&&e.$$postDigest(d),c(a)}}function f(e){var t=!0;return ve(e,function(e){P(e)||(t=!1)}),t}function r(e,t,n,r){var i=e.$watch(function(e){return i(),r(e)},t,n);return i}function p(e){return e.constant?e.$$watchDelegate=r:e.oneTime?e.$$watchDelegate=n:e.inputs&&(e.$$watchDelegate=t),e}function a(o,a){if(!a)return o;function e(e){return n(t(e))}var t,n;o.$$interceptor&&(t=o.$$interceptor,n=a,e.$stateful=t.$stateful||n.$stateful,e.$$pure=t.$$pure&&n.$$pure,a=e,o=o.$$intercepted);function r(e,t,n,r){var i=s&&r?r[0]:o(e,t,n,r);return a(i)}var s=!1;return r.$$intercepted=o,r.$$interceptor=a,r.literal=o.literal,r.oneTime=o.oneTime,r.constant=o.constant,a.$stateful||(s=!o.inputs,r.inputs=o.inputs?o.inputs:[o],a.$$pure||(r.inputs=r.inputs.map(function(t){return t.isPure===Mr?function(e){return t(e)}:t}))),p(r)}}]}function jr(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(t,e){return Ur(function(e){t.$evalAsync(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return P(e)?(n=e,this):n}}function Br(){var n=!0;this.$get=["$browser","$exceptionHandler",function(t,e){return Ur(function(e){t.defer(e)},e,n)}],this.errorOnUnhandledRejections=function(e){return P(e)?(n=e,this):n}}function Ur(a,s,l){var n=k("$q",TypeError),c=0,r=[];function i(){return new e}function e(){var t=this.promise=new o;this.resolve=function(e){h(t,e)},this.reject=function(e){f(t,e)},this.notify=function(e){m(t,e)}}function o(){this.$$state={status:0}}function u(){for(;!c&&r.length;){var e=r.shift();if(!qr(e)){zr(e);var t="Possibly unhandled rejection: "+Ge(e.value);Se(e.value)?s(e.value,t):s(t)}}}function d(e){!l||e.pending||2!==e.status||qr(e)||(0===c&&0===r.length&&a(u),r.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++c,a(function(){!function(e){var t,n,r;r=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var i=0,o=r.length;i<o;++i){zr(e),n=r[i][0],t=r[i][e.status];try{Ae(t)?h(n,t(e.value)):(1===e.status?h:f)(n,e.value)}catch(e){f(n,e),e&&!0===e.$$passToExceptionHandler&&s(e)}}}finally{--c,l&&0===c&&a(u)}}(e)}))}function h(e,t){e.$$state.status||(t===e?p(e,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):function t(n,e){var r;var i=!1;try{(Ee(e)||Ae(e))&&(r=e.then),Ae(r)?(n.$$state.status=-1,r.call(e,o,a,s)):(n.$$state.value=e,n.$$state.status=1,d(n.$$state))}catch(e){a(e)}function o(e){i||(i=!0,t(n,e))}function a(e){i||(i=!0,p(n,e))}function s(e){m(n,e)}}(e,t))}function f(e,t){e.$$state.status||p(e,t)}function p(e,t){e.$$state.value=t,e.$$state.status=2,d(e.$$state)}function m(e,i){var o=e.$$state.pending;e.$$state.status<=0&&o&&o.length&&a(function(){for(var e,t,n=0,r=o.length;n<r;n++){t=o[n][0],e=o[n][3];try{m(t,Ae(e)?e(i):i)}catch(e){s(e)}}})}function g(e){var t=new o;return f(t,e),t}function v(e,t,n){var r=null;try{Ae(n)&&(r=n())}catch(e){return g(e)}return A(r)?r.then(function(){return t(e)},g):t(e)}function y(e,t,n,r){var i=new o;return h(i,e),i.then(t,n,r)}ye(o.prototype,{then:function(e,t,n){if(xe(e)&&xe(t)&&xe(n))return this;var r=new o;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&d(this.$$state),r},catch:function(e){return this.then(null,e)},finally:function(t,e){return this.then(function(e){return v(e,b,t)},function(e){return v(e,g,t)},e)}});var b=y;function t(e){if(!Ae(e))throw n("norslvr","Expected resolverFn, got '{0}'",e);var t=new o;return e(function(e){h(t,e)},function(e){f(t,e)}),t}return t.prototype=o.prototype,t.defer=i,t.reject=g,t.when=y,t.resolve=b,t.all=function(e){var n=new o,r=0,i=$e(e)?[]:{};return ve(e,function(e,t){r++,y(e).then(function(e){i[t]=e,--r||h(n,i)},function(e){f(n,e)})}),0===r&&h(n,i),n},t.race=function(e){var t=i();return ve(e,function(e){y(e).then(t.resolve,t.reject)}),t.promise},t}function qr(e){return e.pur}function zr(e){e.pur=!0}function Vr(e){e.$$state&&zr(e.$$state)}function Wr(){this.$get=["$window","$timeout",function(e,n){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,t=!!r,o=t?function(e){var t=r(e);return function(){i(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return o.supported=t,o}]}function Gr(){var _=10,$=k("$rootScope"),S=null,A=null;this.digestTtl=function(e){return arguments.length&&(_=e),_},this.$get=["$exceptionHandler","$parse","$browser",function(f,p,m){function i(e){e.currentScope.$$destroyed=!0}function o(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}o.prototype={constructor:o,$new:function(e,t){var n;function r(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null,this.$$suspended=!1}return t=t||this,e?(n=new o).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=(r.prototype=this,r)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,!e&&t===this||n.$on("$destroy",i),n},$watch:function(e,t,n,r){var i=p(e),o=Ae(t)?t:we;if(i.$$watchDelegate)return i.$$watchDelegate(this,o,n,i,e);var a=this,s=a.$$watchers,l={fn:o,last:x,get:i,exp:r||e,eq:!!n};return S=null,s||((s=a.$$watchers=[]).$$digestWatchIndex=-1),s.unshift(l),s.$$digestWatchIndex++,c(this,1),function(){var e=Pe(s,l);0<=e&&(c(a,-1),e<s.$$digestWatchIndex&&s.$$digestWatchIndex--),S=null}},$watchGroup:function(t,r){var i=new Array(t.length),o=new Array(t.length),a=[],s=this,l=!1,n=!0;if(!t.length){var e=!0;return s.$evalAsync(function(){e&&r(o,o,s)}),function(){e=!1}}if(1===t.length)return this.$watch(t[0],function(e,t,n){o[0]=e,i[0]=t,r(o,e===t?o:i,n)});function c(){l=!1;try{n?(n=!1,r(o,o,s)):r(o,i,s)}finally{for(var e=0;e<t.length;e++)i[e]=o[e]}}return ve(t,function(e,t){var n=s.$watch(e,function(e){o[t]=e,l||(l=!0,s.$evalAsync(c))});a.push(n)}),function(){for(;a.length;)a.shift()()}},$watchCollection:function(e,n){f.$$pure=p(e).literal,f.$stateful=!f.$$pure;var a,s,r,i=this,o=1<n.length,l=0,t=p(e,f),c=[],u={},d=!0,h=0;function f(e){var t,n,r,i;if(!xe(a=e)){if(Ee(a))if(O(a)){s!==c&&(h=(s=c).length=0,l++),t=a.length,h!==t&&(l++,s.length=h=t);for(var o=0;o<t;o++)i=s[o],r=a[o],i!=i&&r!=r||i===r||(l++,s[o]=r)}else{for(n in s!==u&&(s=u={},h=0,l++),t=0,a)pe.call(a,n)&&(t++,r=a[n],i=s[n],n in s?i!=i&&r!=r||i===r||(l++,s[n]=r):(h++,s[n]=r,l++));if(t<h)for(n in l++,s)pe.call(a,n)||(h--,delete s[n])}else s!==a&&(s=a,l++);return l}}return this.$watch(t,function(){if(d?(d=!1,n(a,a,i)):n(a,r,i),o)if(Ee(a))if(O(a)){r=new Array(a.length);for(var e=0;e<a.length;e++)r[e]=a[e]}else for(var t in r={},a)pe.call(a,t)&&(r[t]=a[t]);else r=a})},$digest:function(){var e,t,n,r,i,o,a,s,l,c=_,u=v.length?g:this,d=[];w("$digest"),m.$$checkUrlChange(),this===g&&null!==A&&(m.defer.cancel(A),E()),S=null;do{i=!1,a=u;for(var h=0;h<v.length;h++){try{(0,(l=v[h]).fn)(l.scope,l.locals)}catch(e){f(e)}S=null}v.length=0;e:do{if(r=!a.$$suspended&&a.$$watchers)for(r.$$digestWatchIndex=r.length;r.$$digestWatchIndex--;)try{if(e=r[r.$$digestWatchIndex])if((t=(0,e.get)(a))===(n=e.last)||(e.eq?De(t,n):M(t)&&M(n))){if(e===S){i=!1;break e}}else i=!0,(S=e).last=e.eq?F(t,null):t,(0,e.fn)(t,n===x?t:n,a),c<5&&(d[s=4-c]||(d[s]=[]),d[s].push({msg:Ae(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:t,oldVal:n}))}catch(e){f(e)}if(!(o=!a.$$suspended&&a.$$watchersCount&&a.$$childHead||a!==u&&a.$$nextSibling))for(;a!==u&&!(o=a.$$nextSibling);)a=a.$parent}while(a=o);if((i||v.length)&&!c--)throw C(),$("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",_,d)}while(i||v.length);for(C();b<y.length;)try{y[b++]()}catch(e){f(e)}y.length=b=0,m.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===g&&m.$$applicationDestroyed(),c(this,-this.$$watchersCount),this.$$listenerCount)a(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=we,this.$on=this.$watch=this.$watchGroup=function(){return we},this.$$listeners={},this.$$nextSibling=null,function e(t){9===he&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return p(e)(this,t)},$evalAsync:function(e,t){g.$$phase||v.length||m.defer(function(){v.length&&g.$digest()},null,"$evalAsync"),v.push({scope:this,fn:p(e),locals:t})},$$postDigest:function(e){y.push(e)},$apply:function(e){try{w("$apply");try{return this.$eval(e)}finally{C()}}catch(e){f(e)}finally{try{g.$digest()}catch(e){throw f(e),e}}},$applyAsync:function(e){var t=this;e&&n.push(function(){t.$eval(e)}),e=p(e),null===A&&(A=m.defer(function(){g.$apply(E)},null,"$applyAsync"))},$on:function(t,n){var r=this.$$listeners[t];r||(this.$$listeners[t]=r=[]),r.push(n);for(var e=this;e.$$listenerCount[t]||(e.$$listenerCount[t]=0),e.$$listenerCount[t]++,e=e.$parent;);var i=this;return function(){var e=r.indexOf(n);-1!==e&&(delete r[e],a(i,1,t))}},$emit:function(e,t){var n,r,i,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=B([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,c)}catch(e){f(e)}else n.splice(r,1),r--,i--;if(s)break;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=n,i=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var a,s,l,c=B([o],arguments,1);r=i;){for(s=0,l=(a=(o.currentScope=r).$$listeners[e]||[]).length;s<l;s++)if(a[s])try{a[s].apply(null,c)}catch(e){f(e)}else a.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var g=new o,v=g.$$asyncQueue=[],y=g.$$postDigestQueue=[],n=g.$$applyAsyncQueue=[],b=0;return g;function w(e){if(g.$$phase)throw $("inprog","{0} already in progress",g.$$phase);g.$$phase=e}function C(){g.$$phase=null}function c(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function a(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function x(){}function E(){for(;n.length;)try{n.shift()()}catch(e){f(e)}A=null}}]}function Yr(){var i=/^\s*(https?|s?ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return P(e)?(i=e,this):i},this.imgSrcSanitizationWhitelist=function(e){return P(e)?(o=e,this):o},this.$get=function(){return function(e,t){var n=t?o:i,r=pi(e&&e.trim()).href;return""===r||r.match(n)?e:"unsafe:"+r}}}Or.prototype={compile:function(e){var i=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Nr(e,i.$filter);var t,n="";if(this.stage="assign",t=Dr(e)){this.state.computing="assign";var r=this.nextId();this.recurse(t,r),this.return_(r),n="fn.assign="+this.generateFunction("assign","s,v,l")}var o=Pr(e.body);i.stage="inputs",ve(o,function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(e,r),i.return_(r),i.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(e);var a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,xr,Ar,kr);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return ve(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(e){return e.name}).join(",")+"];"),t.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var n=[],r=this;return ve(this.state.filters,function(e,t){n.push(e+"=$filter("+r.escape(t)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(n,t,e,r,i,o){var a,s,l,c,u,d=this;if(r=r||we,!o&&P(n.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,r,i,!0));switch(n.type){case Sr.Program:ve(n.body,function(e,t){d.recurse(e.expression,void 0,void 0,function(e){s=e}),t!==n.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case Sr.Literal:c=this.escape(n.value),this.assign(t,c),r(t||c);break;case Sr.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){s=e}),c=n.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),r(c);break;case Sr.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){a=e}),this.recurse(n.right,void 0,void 0,function(e){s=e}),c="+"===n.operator?this.plus(a,s):"-"===n.operator?this.ifDefined(a,0)+n.operator+this.ifDefined(s,0):"("+a+")"+n.operator+"("+s+")",this.assign(t,c),r(c);break;case Sr.LogicalExpression:t=t||this.nextId(),d.recurse(n.left,t),d.if_("&&"===n.operator?t:d.not(t),d.lazyRecurse(n.right,t)),r(t);break;case Sr.ConditionalExpression:t=t||this.nextId(),d.recurse(n.test,t),d.if_(t,d.lazyRecurse(n.alternate,t),d.lazyRecurse(n.consequent,t)),r(t);break;case Sr.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",n.name)),function(){d.if_("inputs"===d.stage||"s",function(){i&&1!==i&&d.if_(d.isNull(d.nonComputedMember("s",n.name)),d.lazyAssign(d.nonComputedMember("s",n.name),"{}")),d.assign(t,d.nonComputedMember("s",n.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",n.name))),r(t);break;case Sr.MemberExpression:a=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(n.object,a,void 0,function(){d.if_(d.notNull(a),function(){n.computed?(s=d.nextId(),d.recurse(n.property,s),d.getStringValue(s),i&&1!==i&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),c=d.computedMember(a,s),d.assign(t,c),e&&(e.computed=!0,e.name=s)):(i&&1!==i&&d.if_(d.isNull(d.nonComputedMember(a,n.property.name)),d.lazyAssign(d.nonComputedMember(a,n.property.name),"{}")),c=d.nonComputedMember(a,n.property.name),d.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){d.assign(t,"undefined")}),r(t)},!!i);break;case Sr.CallExpression:t=t||this.nextId(),n.filter?(s=d.filter(n.callee.name),l=[],ve(n.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",d.assign(t,c),r(t)):(s=d.nextId(),a={},l=[],d.recurse(n.callee,s,a,function(){d.if_(d.notNull(s),function(){ve(n.arguments,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c=a.name?d.member(a.context,a.name,a.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(t,c)},function(){d.assign(t,"undefined")}),r(t)}));break;case Sr.AssignmentExpression:s=this.nextId(),a={},this.recurse(n.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(n.right,s),c=d.member(a.context,a.name,a.computed)+n.operator+s,d.assign(t,c),r(t||c)})},1);break;case Sr.ArrayExpression:l=[],ve(n.elements,function(e){d.recurse(e,n.constant?void 0:d.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),r(t||c);break;case Sr.ObjectExpression:u=!(l=[]),ve(n.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),ve(n.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===Sr.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):(ve(n.properties,function(t){d.recurse(t.value,n.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===Sr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),r(t||c);break;case Sr.ThisExpression:this.assign(t,"s"),r(t||"s");break;case Sr.LocalsExpression:this.assign(t,"l"),r(t||"l");break;case Sr.NGValueParameter:this.assign(t,"v"),r(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(_e(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw wr("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ir.prototype={compile:function(e){var t,r,i=this;Nr(e,i.$filter),(t=Dr(e))&&(r=this.recurse(t));var o,n=Pr(e.body);n&&(o=[],ve(n,function(e,t){var n=i.recurse(e);n.isPure=e.isPure,e.input=n,o.push(n),e.watchId=t}));var a=[];ve(e.body,function(e){a.push(i.recurse(e.expression))});var s=0===e.body.length?we:1===e.body.length?a[0]:function(t,n){var r;return ve(a,function(e){r=e(t,n)}),r};return r&&(s.assign=function(e,t,n){return r(e,n,t)}),o&&(s.inputs=o),s},recurse:function(e,l,t){var a,c,u,n=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Sr.Literal:return this.value(e.value,l);case Sr.UnaryExpression:return c=this.recurse(e.argument),this["unary"+e.operator](c,l);case Sr.BinaryExpression:case Sr.LogicalExpression:return a=this.recurse(e.left),c=this.recurse(e.right),this["binary"+e.operator](a,c,l);case Sr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),l);case Sr.Identifier:return n.identifier(e.name,l,t);case Sr.MemberExpression:return a=this.recurse(e.object,!1,!!t),e.computed||(c=e.property.name),e.computed&&(c=this.recurse(e.property)),e.computed?this.computedMember(a,c,l,t):this.nonComputedMember(a,c,l,t);case Sr.CallExpression:return u=[],ve(e.arguments,function(e){u.push(n.recurse(e))}),e.filter&&(c=this.$filter(e.callee.name)),e.filter||(c=this.recurse(e.callee,!0)),e.filter?function(e,t,n,r){for(var i=[],o=0;o<u.length;++o)i.push(u[o](e,t,n,r));var a=c.apply(void 0,i,r);return l?{context:void 0,name:void 0,value:a}:a}:function(e,t,n,r){var i,o=c(e,t,n,r);if(null!=o.value){for(var a=[],s=0;s<u.length;++s)a.push(u[s](e,t,n,r));i=o.value.apply(o.context,a)}return l?{value:i}:i};case Sr.AssignmentExpression:return a=this.recurse(e.left,!0,1),c=this.recurse(e.right),function(e,t,n,r){var i=a(e,t,n,r),o=c(e,t,n,r);return i.context[i.name]=o,l?{value:o}:o};case Sr.ArrayExpression:return u=[],ve(e.elements,function(e){u.push(n.recurse(e))}),function(e,t,n,r){for(var i=[],o=0;o<u.length;++o)i.push(u[o](e,t,n,r));return l?{value:i}:i};case Sr.ObjectExpression:return u=[],ve(e.properties,function(e){e.computed?u.push({key:n.recurse(e.key),computed:!0,value:n.recurse(e.value)}):u.push({key:e.key.type===Sr.Identifier?e.key.name:""+e.key.value,computed:!1,value:n.recurse(e.value)})}),function(e,t,n,r){for(var i={},o=0;o<u.length;++o)u[o].computed?i[u[o].key(e,t,n,r)]=u[o].value(e,t,n,r):i[u[o].key]=u[o].value(e,t,n,r);return l?{value:i}:i};case Sr.ThisExpression:return function(e){return l?{value:e}:e};case Sr.LocalsExpression:return function(e,t){return l?{value:t}:t};case Sr.NGValueParameter:return function(e,t,n){return l?{value:n}:n}}},"unary+":function(o,a){return function(e,t,n,r){var i=o(e,t,n,r);return i=P(i)?+i:0,a?{value:i}:i}},"unary-":function(o,a){return function(e,t,n,r){var i=o(e,t,n,r);return i=P(i)?-i:-0,a?{value:i}:i}},"unary!":function(o,a){return function(e,t,n,r){var i=!o(e,t,n,r);return a?{value:i}:i}},"binary+":function(o,a,s){return function(e,t,n,r){var i=kr(o(e,t,n,r),a(e,t,n,r));return s?{value:i}:i}},"binary-":function(s,l,c){return function(e,t,n,r){var i=s(e,t,n,r),o=l(e,t,n,r),a=(P(i)?i:0)-(P(o)?o:0);return c?{value:a}:a}},"binary*":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)*a(e,t,n,r);return s?{value:i}:i}},"binary/":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)/a(e,t,n,r);return s?{value:i}:i}},"binary%":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)%a(e,t,n,r);return s?{value:i}:i}},"binary===":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)===a(e,t,n,r);return s?{value:i}:i}},"binary!==":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)!==a(e,t,n,r);return s?{value:i}:i}},"binary==":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)==a(e,t,n,r);return s?{value:i}:i}},"binary!=":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)!=a(e,t,n,r);return s?{value:i}:i}},"binary<":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)<a(e,t,n,r);return s?{value:i}:i}},"binary>":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)>a(e,t,n,r);return s?{value:i}:i}},"binary<=":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)<=a(e,t,n,r);return s?{value:i}:i}},"binary>=":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)>=a(e,t,n,r);return s?{value:i}:i}},"binary&&":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)&&a(e,t,n,r);return s?{value:i}:i}},"binary||":function(o,a,s){return function(e,t,n,r){var i=o(e,t,n,r)||a(e,t,n,r);return s?{value:i}:i}},"ternary?:":function(o,a,s,l){return function(e,t,n,r){var i=(o(e,t,n,r)?a:s)(e,t,n,r);return l?{value:i}:i}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(a,s,l){return function(e,t,n,r){var i=t&&a in t?t:e;l&&1!==l&&i&&null==i[a]&&(i[a]={});var o=i?i[a]:void 0;return s?{context:i,name:a,value:o}:o}},computedMember:function(s,l,c,u){return function(e,t,n,r){var i,o,a=s(e,t,n,r);return null!=a&&(i=xr(i=l(e,t,n,r)),u&&1!==u&&a&&!a[i]&&(a[i]={}),o=a[i]),c?{context:a,name:i,value:o}:o}},nonComputedMember:function(a,s,l,c){return function(e,t,n,r){var i=a(e,t,n,r);c&&1!==c&&i&&null==i[s]&&(i[s]={});var o=null!=i?i[s]:void 0;return l?{context:i,name:s,value:o}:o}},inputs:function(i,o){return function(e,t,n,r){return r?r[o]:i(e,t,n)}}},Lr.prototype={constructor:Lr,parse:function(e){var t,n=this.getAst(e),r=this.astCompiler.compile(n.ast);return r.literal=0===(t=n.ast).body.length||1===t.body.length&&(t.body[0].expression.type===Sr.Literal||t.body[0].expression.type===Sr.ArrayExpression||t.body[0].expression.type===Sr.ObjectExpression),r.constant=n.ast.constant,r.oneTime=n.oneTime,r},getAst:function(e){var t=!1;return":"===(e=e.trim()).charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Kr=k("$sce"),Xr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Qr=/_([a-z])/g;function Zr(e){return e.replace(Qr,tt)}function Jr(e){var t=[];return P(e)&&ve(e,function(e){t.push(function(e){if("self"===e)return e;if(_e(e)){if(-1<e.indexOf("***"))throw Kr("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=D(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if($(e))return new RegExp("^"+e.source+"$");throw Kr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function ei(){this.SCE_CONTEXTS=Xr;var s=["self"],l=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(s=Jr(e)),s},this.resourceUrlBlacklist=function(e){return arguments.length&&(l=Jr(e)),l},this.$get=["$injector","$$sanitizeUri",function(e,r){var i=function(){throw Kr("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,t){return"self"===e?mi(t,hi)||mi(t,de.document.baseURI?de.document.baseURI:(ui||((ui=de.document.createElement("a")).href=".",ui=ui.cloneNode(!1)),ui.href)):e.exec(t.href)}function t(e){function t(e){this.$$unwrapTrustedValue=function(){return e}}return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}e.has("$sanitize")&&(i=e.get("$sanitize"));var n=t(),a={};return a[Xr.HTML]=t(n),a[Xr.CSS]=t(n),a[Xr.MEDIA_URL]=t(n),a[Xr.URL]=t(a[Xr.MEDIA_URL]),a[Xr.JS]=t(n),a[Xr.RESOURCE_URL]=t(a[Xr.URL]),{trustAs:function(e,t){var n=a.hasOwnProperty(e)?a[e]:null;if(!n)throw Kr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||xe(t)||""===t)return t;if("string"!=typeof t)throw Kr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,t){if(null===t||xe(t)||""===t)return t;var n=a.hasOwnProperty(e)?a[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(Ae(t.$$unwrapTrustedValue)&&(t=t.$$unwrapTrustedValue()),e===Xr.MEDIA_URL||e===Xr.URL)return r(t.toString(),e===Xr.MEDIA_URL);if(e===Xr.RESOURCE_URL){if(function(e){var t,n,r=pi(e.toString()),i=!1;for(t=0,n=s.length;t<n;t++)if(o(s[t],r)){i=!0;break}if(i)for(t=0,n=l.length;t<n;t++)if(o(l[t],r)){i=!1;break}return i}(t))return t;throw Kr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Xr.HTML)return i(t);throw Kr("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function ti(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(r,e){if(t&&he<8)throw Kr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=We(Xr);i.isEnabled=function(){return t},i.trustAs=e.trustAs,i.getTrusted=e.getTrusted,i.valueOf=e.valueOf,t||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=Ce),i.parseAs=function(t,e){var n=r(e);return n.literal&&n.constant?n:r(e,function(e){return i.getTrusted(t,e)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return ve(Xr,function(t,e){var n=me(e);i[Zr("parse_as_"+n)]=function(e){return o(t,e)},i[Zr("get_trusted_"+n)]=function(e){return a(t,e)},i[Zr("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function ni(){this.$get=["$window","$document",function(e,t){var n={},r=!(!(e.nw&&e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,i=w((/android (\d+)/.exec(me((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.body&&a.body.style,l=!1,c=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),c=!!("animation"in s||"webkitAnimation"in s)),{history:!(!r||i<4||o),hasEvent:function(e){if("input"===e&&he)return!1;if(xe(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:H(),transitions:l,animations:c,android:i}}]}function ri(){this.$get=N(function(e){return new ii(e)})}function ii(a){var s={},r=[],l=this.ALL_TASKS_TYPE="$$all$$",c=this.DEFAULT_TASK_TYPE="$$default$$";function u(){var e=r.pop();return e&&e.cb}function d(e){for(var t=r.length-1;0<=t;--t){var n=r[t];if(n.type===e)return r.splice(t,1),n.cb}}this.completeTask=function(e,t){t=t||c;try{e()}finally{!function(e){s[e=e||c]&&(s[e]--,s[l]--)}(t);var n=s[t],r=s[l];if(!r||!n)for(var i,o=r?d:u;i=o(t);)try{i()}catch(e){a.error(e)}}},this.incTaskCount=function(e){s[e=e||c]=(s[e]||0)+1,s[l]=(s[l]||0)+1},this.notifyWhenNoPendingTasks=function(e,t){s[t=t||l]?r.push({type:t,cb:e}):e()}}var oi=k("$templateRequest");function ai(){var c;this.httpOptions=function(e){return e?(c=e,this):c},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(r,i,o,a,s){function l(t,n){l.totalPendingRequests++,_e(t)&&!xe(i.get(t))||(t=s.getTrustedResourceUrl(t));var e=o.defaults&&o.defaults.transformResponse;return $e(e)?e=e.filter(function(e){return e!==Un}):e===Un&&(e=null),o.get(t,ye({cache:i,transformResponse:e},c)).finally(function(){l.totalPendingRequests--}).then(function(e){return i.put(t,e.data)},function(e){n||(e=oi("tpload","Failed to load template: {0} (HTTP status: {1} {2})",t,e.status,e.statusText),r(e));return a.reject(e)})}return l.totalPendingRequests=0,l}]}function si(){this.$get=["$rootScope","$browser","$location",function(t,n,r){var e={findBindings:function(e,n,r){var t=e.getElementsByClassName("ng-binding"),i=[];return ve(t,function(t){var e=b.element(t).data("$binding");e&&ve(e,function(e){r?new RegExp("(^|\\s)"+D(n)+"(\\s|\\||$)").test(e)&&i.push(t):-1!==e.indexOf(n)&&i.push(t)})}),i},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return r.url()},setLocation:function(e){e!==r.url()&&(r.url(e),t.$digest())},whenStable:function(e){n.notifyWhenNoOutstandingRequests(e)}};return e}]}var li=k("$timeout");function ci(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(l,c,u,d,h){var f={};function e(e,t,n){Ae(e)||(n=t,t=e,e=we);var r,i=Oe(arguments,3),o=P(n)&&!n,a=(o?d:u).defer(),s=a.promise;return r=c.defer(function(){try{a.resolve(e.apply(null,i))}catch(e){a.reject(e),h(e)}finally{delete f[s.$$timeoutId]}o||l.$apply()},t,"$timeout"),s.$$timeoutId=r,f[r]=a,s}return e.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw li("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!f.hasOwnProperty(e.$$timeoutId))return!1;var t=e.$$timeoutId,n=f[t];return Vr(n.promise),n.reject("canceled"),delete f[t],c.defer.cancel(t)},e}]}var ui,di=de.document.createElement("a"),hi=pi(de.location.href);di.href="http://[::1]";var fi="[::1]"===di.hostname;function pi(e){if(!_e(e))return e;var t=e;he&&(di.setAttribute("href",t),t=di.href),di.setAttribute("href",t);var n=di.hostname;return!fi&&-1<n.indexOf(":")&&(n="["+n+"]"),{href:di.href,protocol:di.protocol?di.protocol.replace(/:$/,""):"",host:di.host,search:di.search?di.search.replace(/^\?/,""):"",hash:di.hash?di.hash.replace(/^#/,""):"",hostname:n,port:di.port,pathname:"/"===di.pathname.charAt(0)?di.pathname:"/"+di.pathname}}function mi(e,t){return e=pi(e),t=pi(t),e.protocol===t.protocol&&e.host===t.host}function gi(){this.$get=N(de)}function vi(e){var a=e[0]||{},s={},l="";function c(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var e,t,n,r,i,o=function(e){try{return e.cookie||""}catch(e){return""}}(a);if(o!==l)for(e=(l=o).split("; "),s={},n=0;n<e.length;n++)0<(r=(t=e[n]).indexOf("="))&&(i=c(t.substring(0,r)),xe(s[i])&&(s[i]=c(t.substring(r+1))));return s}}function yi(){this.$get=vi}function bi(r){var i="Filter";function o(e,t){if(Ee(e)){var n={};return ve(e,function(e,t){n[t]=o(t,e)}),n}return r.factory(e+i,t)}this.register=o,this.$get=["$injector",function(t){return function(e){return t.get(e+i)}}],o("currency",Si),o("date",Fi),o("filter",wi),o("json",Hi),o("limitTo",Ui),o("lowercase",ji),o("number",Ai),o("orderBy",zi),o("uppercase",Bi)}function wi(){return function(e,t,n,r){if(!O(e)){if(null==e)return e;throw k("filter")("notarray","Expected array but received: {0}",e)}var i,o;switch(r=r||"$",xi(t)){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":i=function(t,n,r,i){var o=Ee(t)&&r in t;!0===n?n=De:Ae(n)||(n=function(e,t){return!xe(e)&&(null===e||null===t?e===t:!(Ee(t)||Ee(e)&&!C(e))&&(e=me(""+e),t=me(""+t),-1!==e.indexOf(t)))});return function(e){return o&&!Ee(e)?Ci(e,t[r],n,r,!1):Ci(e,t,n,r,i)}}(t,n,r,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function Ci(e,t,n,r,i,o){var a=xi(e),s=xi(t);if("string"===s&&"!"===t.charAt(0))return!Ci(e,t.substring(1),n,r,i);if($e(e))return e.some(function(e){return Ci(e,t,n,r,i)});switch(a){case"object":var l;if(i){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&Ci(e[l],t,n,r,!0))return!0;return!o&&Ci(e,t,n,r,!1)}if("object"!==s)return n(e,t);for(l in t){var c=t[l];if(!Ae(c)&&!xe(c)){var u=l===r;if(!Ci(u?e:e[l],c,n,r,u,u))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function xi(e){return null===e?"null":typeof e}vi.$inject=["$document"],bi.$inject=["$provide"];var Ei=22,_i=".",$i="0";function Si(e){var i=e.NUMBER_FORMATS;return function(e,t,n){xe(t)&&(t=i.CURRENCY_SYM),xe(n)&&(n=i.PATTERNS[1].maxFrac);var r=t?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:ki(e,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(r,t)}}function Ai(e){var n=e.NUMBER_FORMATS;return function(e,t){return null==e?e:ki(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}function ki(e,t,n,r,i){if(!_e(e)&&!E(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(a)c="∞";else{(function(e,t,n,r){var i=e.d,o=i.length-e.i,a=(t=xe(t)?Math.min(Math.max(n,o),r):+t)+e.i,s=i[a];if(0<a){i.splice(Math.max(e.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(5<=s)if(a-1<0){for(var u=0;a<u;u--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var d=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(i.unshift(d),e.i++)})(o=function(e){var t,n,r,i,o,a=0;for(-1<(n=e.indexOf(_i))&&(e=e.replace(_i,"")),0<(r=e.search(/e/i))?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)===$i;r++);if(r===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===$i;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return Ei<n&&(t=t.splice(0,Ei-1),a=n-1,n=1),{d:t,e:a,i:n}}(l),i,t.minFrac,t.maxFrac);var u=o.d,d=o.i,h=o.e,f=[];for(s=u.reduce(function(e,t){return e&&!t},!0);d<0;)u.unshift(0),d++;0<d?f=u.splice(d,u.length):(f=u,u=[0]);var p=[];for(u.length>=t.lgSize&&p.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)p.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&p.unshift(u.join("")),c=p.join(n),f.length&&(c+=r+f.join("")),h&&(c+="e+"+h)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Ti(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i="-")),e=""+e;e.length<t;)e=$i+e;return n&&(e=e.substr(e.length-t)),i+e}function Mi(n,r,i,o,a){return i=i||0,function(e){var t=e["get"+n]();return(0<i||-i<t)&&(t+=i),0===t&&-12===i&&(t=12),Ti(t,r,o,a)}}function Ni(r,i,o){return function(e,t){var n=e["get"+r]();return t[h((o?"STANDALONE":"")+(i?"SHORT":"")+r)][n]}}function Pi(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Ri(i){return function(e){var t,n=Pi(e.getFullYear()),r=(t=e,new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay())))-n;return Ti(1+Math.round(r/6048e5),i)}}function Di(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Si.$inject=["$locale"];var Oi={yyyy:Mi("FullYear",4,0,!(Ai.$inject=["$locale"]),!0),yy:Mi("FullYear",2,0,!0,!0),y:Mi("FullYear",1,0,!1,!0),MMMM:Ni("Month"),MMM:Ni("Month",!0),MM:Mi("Month",2,1),M:Mi("Month",1,1),LLLL:Ni("Month",!1,!0),dd:Mi("Date",2),d:Mi("Date",1),HH:Mi("Hours",2),H:Mi("Hours",1),hh:Mi("Hours",2,-12),h:Mi("Hours",1,-12),mm:Mi("Minutes",2),m:Mi("Minutes",1),ss:Mi("Seconds",2),s:Mi("Seconds",1),sss:Mi("Milliseconds",3),EEEE:Ni("Day"),EEE:Ni("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var r=-1*n,i=0<=r?"+":"";return i+=Ti(Math[0<r?"floor":"ceil"](r/60),2)+Ti(Math.abs(r%60),2)},ww:Ri(2),w:Ri(1),G:Di,GG:Di,GGG:Di,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Ii=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Li=/^-?\d+$/;function Fi(l){var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var r,i,o="",a=[];if(e=e||"mediumDate",e=l.DATETIME_FORMATS[e]||e,_e(t)&&(t=(Li.test(t)?w:function(e){var t;if(t=e.match(d)){var n=new Date(0),r=0,i=0,o=t[8]?n.setUTCFullYear:n.setFullYear,a=t[8]?n.setUTCHours:n.setHours;t[9]&&(r=w(t[9]+t[10]),i=w(t[9]+t[11])),o.call(n,w(t[1]),w(t[2])-1,w(t[3]));var s=w(t[4]||0)-r,l=w(t[5]||0)-i,c=w(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(n,s,l,c,u),n}return e})(t)),E(t)&&(t=new Date(t)),!_(t)||!isFinite(t.getTime()))return t;for(;e;)e=(i=Ii.exec(e))?(a=B(a,i,1)).pop():(a.push(e),null);var s=t.getTimezoneOffset();return n&&(s=W(n,s),t=Y(t,n,!0)),ve(a,function(e){r=Oi[e],o+=r?r(t,l.DATETIME_FORMATS,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function Hi(){return function(e,t){return xe(t)&&(t=2),q(e,t)}}Fi.$inject=["$locale"];var ji=N(me),Bi=N(h);function Ui(){return function(e,t,n){return t=(Math.abs(Number(t))===1/0?Number:w)(t),M(t)?e:(E(e)&&(e=e.toString()),O(e)?(n=(n=!n||isNaN(n)?0:w(n))<0?Math.max(0,e.length+n):n,0<=t?qi(e,n,n+t):0===n?qi(e,t,e.length):qi(e,Math.max(0,n+t),n)):e)}}function qi(e,t,n){return _e(e)?e.slice(t,n):a.call(e,t,n)}function zi(l){return function(e,t,n,r){if(null==e)return e;if(!O(e))throw k("orderBy")("notarray","Expected array but received: {0}",e);$e(t)||(t=[t]),0===t.length&&(t=["+"]);var o=t.map(function(e){var t=1,n=Ce;if(Ae(e))n=e;else if(_e(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(t="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(n=l(e)).constant)){var r=n();n=function(e){return e[r]}}return{get:n,descending:t}}),a=n?-1:1,s=Ae(r)?r:u,i=Array.prototype.map.call(e,function(t,n){return{value:t,tieBreaker:{value:n,type:"number",index:n},predicateValues:o.map(function(e){return function(e,t){var n=typeof e;null===e?n="null":"object"===n&&(e=function(e){if(Ae(e.valueOf)&&c(e=e.valueOf()))return e;if(C(e)&&c(e=e.toString()))return e;return e}(e));return{value:e,type:n,index:t}}(e.get(t),n)})}});return i.sort(function(e,t){for(var n=0,r=o.length;n<r;n++){var i=s(e.predicateValues[n],t.predicateValues[n]);if(i)return i*o[n].descending*a}return(s(e.tieBreaker,t.tieBreaker)||u(e.tieBreaker,t.tieBreaker))*a}),e=i.map(function(e){return e.value})};function c(e){switch(typeof e){case"number":case"boolean":case"string":return 1;default:return}}function u(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(Ee(o)&&(o=e.index),Ee(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n="undefined"!==r&&("undefined"===i||"null"!==r&&("null"===i||r<i))?-1:1;return n}}function Vi(e){return Ae(e)&&(e={link:e}),e.restrict=e.restrict||"AC",N(e)}zi.$inject=["$parse"];var Wi=N({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ge.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Gi={};ve(Nt,function(e,r){if("multiple"!==e){var i=En("ng-"+r),t=o;"checked"===e&&(t=function(e,t,n){n.ngModel!==n[i]&&o(e,0,n)}),Gi[i]=function(){return{restrict:"A",priority:100,link:t}}}function o(e,t,n){e.$watch(n[i],function(e){n.$set(r,!!e)})}}),ve(Rt,function(e,i){Gi[i]=function(){return{priority:100,link:function(e,t,n){if("ngPattern"===i&&"/"===n.ngPattern.charAt(0)){var r=n.ngPattern.match(o);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(n[i],function(e){n.$set(i,e)})}}}}),ve(["src","srcset","href"],function(a){var s=En("ng-"+a);Gi[s]=["$sce",function(o){return{priority:99,link:function(e,t,n){var r=a,i=a;"href"===a&&"[object SVGAnimatedString]"===ge.call(t.prop("href"))&&(i="xlinkHref",n.$attr[i]="xlink:href",r=null),n.$set(s,o.getTrustedMediaUrl(n[s])),n.$observe(s,function(e){e?(n.$set(i,e),he&&r&&t.prop(r,n[i])):"href"===a&&n.$set(i,null)})}}}]});var Yi={$addControl:we,$getControls:N([]),$$renameControl:function(e,t){e.$name=t},$removeControl:we,$setValidity:we,$setDirty:we,$setPristine:we,$setSubmitted:we,$$setSubmitted:we},Ki="ng-pending",Xi="ng-submitted";function Qi(e,t,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Yi,this.$$element=e,this.$$animate=r,to(this)}Qi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Qi.prototype={$rollbackViewValue:function(){ve(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){ve(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){le(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return We(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],(this[t]=e).$name=t},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],ve(this.$pending,function(e,t){this.$setValidity(t,null,n)},this),ve(this.$error,function(e,t){this.$setValidity(t,null,n)},this),ve(this.$$success,function(e,t){this.$setValidity(t,null,n)},this),Pe(this.$$controls,n),n.$$parentForm=Yi},$setDirty:function(){this.$$animate.removeClass(this.$$element,Zo),this.$$animate.addClass(this.$$element,Jo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Zo,Jo+" "+Xi),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,ve(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){ve(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Yi;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Xi),this.$submitted=!0,ve(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},no({clazz:Qi,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(Pe(r,n),0===r.length&&delete e[t])}});function Zi(n){return["$timeout","$parse",function(l,t){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Qi,compile:function(e,t){e.addClass(Zo).addClass(Xo);var s=t.name?"name":!(!n||!t.ngForm)&&"ngForm";return{pre:function(t,e,n,r){var i=r[0];if(!("action"in n)){var o=function(e){t.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),e.preventDefault()};e[0].addEventListener("submit",o),e.on("$destroy",function(){l(function(){e[0].removeEventListener("submit",o)},0,!1)})}(r[1]||i.$$parentForm).$addControl(i);var a=s?c(i.$name):we;s&&(a(t,i),n.$observe(s,function(e){i.$name!==e&&(a(t,void 0),i.$$parentForm.$$renameControl(i,e),(a=c(i.$name))(t,i))})),e.on("$destroy",function(){i.$$parentForm.$removeControl(i),a(t,void 0),ye(i,Yi)})}}}};function c(e){return""===e?t('this[""]').assign:t(e).assign||we}}]}var Ji=Zi(),eo=Zi(!0);function to(e){e.$$classCache={},e.$$classCache[Qo]=!(e.$$classCache[Xo]=e.$$element.hasClass(Xo))}function no(e){var t=e.clazz,i=e.set,o=e.unset;function a(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function s(e,t,n){t=t?"-"+Fe(t,"-"):"",a(e,Xo+t,!0===n),a(e,Qo+t,!1===n)}t.prototype.$setValidity=function(e,t,n){var r;(xe(t)?function(e,t,n,r){e[t]||(e[t]={});i(e[t],n,r)}:function(e,t,n,r){e[t]&&o(e[t],n,r);ro(e[t])&&(e[t]=void 0)})(this,"$pending",e,n),Te(t)?t?(o(this.$error,e,n),i(this.$$success,e,n)):(i(this.$error,e,n),o(this.$$success,e,n)):(o(this.$error,e,n),o(this.$$success,e,n)),this.$pending?(a(this,Ki,!0),this.$valid=this.$invalid=void 0,s(this,"",null)):(a(this,Ki,!1),this.$valid=ro(this.$error),this.$invalid=!this.$valid,s(this,"",this.$valid)),s(this,e,r=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null)),this.$$parentForm.$setValidity(e,r,this)}}function ro(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var io=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,oo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ao=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,so=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,lo=/^(\d{4,})-(\d{2})-(\d{2})$/,co=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,uo=/^(\d{4,})-W(\d\d)$/,ho=/^(\d{4,})-(\d\d)$/,fo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,po="keydown wheel mousedown",mo=je();ve("date,datetime-local,month,time,week".split(","),function(e){mo[e]=!0});var go={text:function(e,t,n,r,i,o){yo(0,t,n,r,i,o),vo(r)},date:wo("date",lo,bo(lo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":wo("datetimelocal",co,bo(co,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:wo("time",fo,bo(fo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:wo("week",uo,function(e,t){if(_(e))return e;if(_e(e)){uo.lastIndex=0;var n=uo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,c=Pi(r),u=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,c.getDate()+u,o,a,s,l)}}return NaN},"yyyy-Www"),month:wo("month",ho,bo(ho,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,r,i,o,a,s){var l;if(Co(0,t,0,r,"number"),xo(r),yo(0,t,n,r,i,o),P(n.min)||n.ngMin){var c=n.min||s(n.ngMin)(e);l=Eo(c),r.$validators.min=function(e,t){return r.$isEmpty(t)||xe(l)||l<=t},n.$observe("min",function(e){e!==c&&(l=Eo(e),c=e,r.$validate())})}if(P(n.max)||n.ngMax){var u=n.max||s(n.ngMax)(e),d=Eo(u);r.$validators.max=function(e,t){return r.$isEmpty(t)||xe(d)||t<=d},n.$observe("max",function(e){e!==u&&(d=Eo(e),u=e,r.$validate())})}if(P(n.step)||n.ngStep){var h=n.step||s(n.ngStep)(e),f=Eo(h);r.$validators.step=function(e,t){return r.$isEmpty(t)||xe(f)||So(t,l||0,f)},n.$observe("step",function(e){e!==h&&(f=Eo(e),h=e,r.$validate())})}},url:function(e,t,n,r,i,o){yo(0,t,n,r,i,o),vo(r),r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||oo.test(n)}},email:function(e,t,n,r,i,o){yo(0,t,n,r,i,o),vo(r),r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||ao.test(n)}},radio:function(e,n,r,i){var o=!r.ngTrim||"false"!==Me(r.ngTrim);xe(r.name)&&n.attr("name",l());n.on("change",function(e){var t;n[0].checked&&(t=r.value,o&&(t=Me(t)),i.$setViewValue(t,e&&e.type))}),i.$render=function(){var e=r.value;o&&(e=Me(e)),n[0].checked=e===i.$viewValue},r.$observe("value",i.$render)},range:function(e,r,i,n,t,o){Co(0,r,0,n,"range"),xo(n),yo(0,r,i,n,t,o);var a=n.$$hasNativeValidators&&"range"===r[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=r[0].validity,d=P(i.min),h=P(i.max),f=P(i.step),p=n.$render;n.$render=a&&P(u.rangeUnderflow)&&P(u.rangeOverflow)?function(){p(),n.$setViewValue(r.val())}:p,d&&(s=Eo(i.min),n.$validators.min=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||xe(s)||s<=t},m("min",function(e){if(s=Eo(e),M(n.$modelValue))return;if(a){var t=r.val();t<s&&(t=s,r.val(t)),n.$setViewValue(t)}else n.$validate()}));h&&(l=Eo(i.max),n.$validators.max=a?function(){return!0}:function(e,t){return n.$isEmpty(t)||xe(l)||t<=l},m("max",function(e){if(l=Eo(e),M(n.$modelValue))return;if(a){var t=r.val();l<t&&(r.val(l),t=l<s?s:l),n.$setViewValue(t)}else n.$validate()}));f&&(c=Eo(i.step),n.$validators.step=a?function(){return!u.stepMismatch}:function(e,t){return n.$isEmpty(t)||xe(c)||So(t,s||0,c)},m("step",function(e){if(c=Eo(e),M(n.$modelValue))return;a?n.$viewValue!==r.val()&&n.$setViewValue(r.val()):n.$validate()}));function m(e,t){r.attr(e,i[e]);var n=i[e];i.$observe(e,function(e){e!==n&&t(n=e)})}},checkbox:function(e,t,n,r,i,o,a,s){var l=Ao(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Ao(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return De(e,l)}),r.$parsers.push(function(e){return e?l:c})},hidden:we,button:we,submit:we,reset:we,file:we};function vo(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function yo(e,r,i,o,t,a){var s,l=me(r[0].type);if(!t.android){var c=!1;r.on("compositionstart",function(){c=!0}),r.on("compositionupdate",function(e){!xe(e.data)&&""!==e.data||(c=!1)}),r.on("compositionend",function(){c=!1,u()})}var u=function(e){if(s&&(a.defer.cancel(s),s=null),!c){var t=r.val(),n=e&&e.type;"password"===l||i.ngTrim&&"false"===i.ngTrim||(t=Me(t)),(o.$viewValue!==t||""===t&&o.$$hasNativeValidators)&&o.$setViewValue(t,n)}};if(t.hasEvent("input"))r.on("input",u);else{var n=function(e,t,n){s=s||a.defer(function(){s=null,t&&t.value===n||u(e)})};r.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||n(e,this,this.value)}),t.hasEvent("paste")&&r.on("paste cut drop",n)}r.on("change",u),mo[l]&&o.$$hasNativeValidators&&l===i.type&&r.on(po,function(e){if(!s){var t=this[d],n=t.badInput,r=t.typeMismatch;s=a.defer(function(){s=null,t.badInput===n&&t.typeMismatch===r||u(e)})}}),o.$render=function(){var e=o.$isEmpty(o.$viewValue)?"":o.$viewValue;r.val()!==e&&r.val(e)}}function bo(o,a){return function(e,t){var n,r;if(_(e))return e;if(_e(e)){if('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),io.test(e))return new Date(e);if(o.lastIndex=0,n=o.exec(e)){n.shift(),r=t?{yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),sss:t.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},ve(n,function(e,t){t<a.length&&(r[a[t]]=+e)});var i=new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0);return r.yyyy<100&&i.setFullYear(r.yyyy),i}}return NaN}}function wo(y,b,w,C){return function(e,t,n,i,r,o,a,s){Co(0,t,0,i,y),yo(0,t,n,i,r,o);var l,c,u="time"===y||"datetimelocal"===y;if(i.$parsers.push(function(e){return i.$isEmpty(e)?null:b.test(e)?v(e,l):void(i.$$parserName=y)}),i.$formatters.push(function(e){if(e&&!_(e))throw ia("datefmt","Expected `{0}` to be a date",e);if(m(e)){l=e;var t=i.$options.getOption("timezone");return t&&(l=Y(l,c=t,!0)),function(e,t){var n=C;u&&_e(i.$options.getOption("timeSecondsFormat"))&&(n=C.replace("ss.sss",i.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var r=a("date")(e,n,t);u&&i.$options.getOption("timeStripZeroSeconds")&&(r=r.replace(/(?::00)?(?:\.000)?$/,""));return r}(e,t)}return c=l=null,""}),P(n.min)||n.ngMin){var d=n.min||s(n.ngMin)(e),h=g(d);i.$validators.min=function(e){return!m(e)||xe(h)||w(e)>=h},n.$observe("min",function(e){e!==d&&(h=g(e),d=e,i.$validate())})}if(P(n.max)||n.ngMax){var f=n.max||s(n.ngMax)(e),p=g(f);i.$validators.max=function(e){return!m(e)||xe(p)||w(e)<=p},n.$observe("max",function(e){e!==f&&(p=g(e),f=e,i.$validate())})}function m(e){return e&&(!e.getTime||e.getTime()==e.getTime())}function g(e){return P(e)&&!_(e)?v(e)||void 0:e}function v(e,t){var n=i.$options.getOption("timezone");c&&c!==n&&(t=G(t,W(c)));var r=w(e,t);return!isNaN(r)&&n&&(r=Y(r,n)),r}}}function Co(e,n,t,r,i){var o=n[0];(r.$$hasNativeValidators=Ee(o.validity))&&r.$parsers.push(function(e){var t=n.prop(d)||{};if(!t.badInput&&!t.typeMismatch)return e;r.$$parserName=i})}function xo(t){t.$parsers.push(function(e){return t.$isEmpty(e)?null:so.test(e)?parseFloat(e):void(t.$$parserName="number")}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!E(e))throw ia("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function Eo(e){return P(e)&&!E(e)&&(e=parseFloat(e)),M(e)?void 0:e}function _o(e){return(0|e)===e}function $o(e){var t=e.toString(),n=t.indexOf(".");if(-1!==n)return t.length-n-1;if(-1<e&&e<1){var r=/e-(\d+)$/.exec(t);if(r)return Number(r[1])}return 0}function So(e,t,n){var r=Number(e),i=!_o(r),o=!_o(t),a=!_o(n);if(i||o||a){var s=i?$o(r):0,l=o?$o(t):0,c=a?$o(n):0,u=Math.max(s,l,c),d=Math.pow(10,u);r*=d,t*=d,n*=d,i&&(r=Math.round(r)),o&&(t=Math.round(t)),a&&(n=Math.round(n))}return(r-t)%n==0}function Ao(e,t,n,r,i){var o;if(P(r)){if(!(o=e(r)).constant)throw ia("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function ko(){var o={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(e,t){if("hidden"===me(t.type))return{pre:function(e,t,n,r){var i=t[0];i.parentNode&&i.parentNode.insertBefore(i,i.nextSibling),Object.defineProperty&&Object.defineProperty(i,"value",o)}}}}}function To(){function r(e,t,n){var r=P(n)?n:9===he?"":null;e.prop("value",r),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,t){return No.test(t.ngValue)?function(e,t,n){r(t,n,e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){r(t,n,e)})}}}}var Mo=["$browser","$sniffer","$filter","$parse",function(i,o,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,t,n,r){r[0]&&(go[me(n.type)]||go.text)(e,t,n,r[0],o,i,a,s)}}}}],No=/^(true|false|\d+)$/,Po=["$compile",function(r){return{restrict:"AC",compile:function(e){return r.$$addBindingClass(e),function(e,t,n){r.$$addBindingInfo(t,n.ngBind),t=t[0],e.$watch(n.ngBind,function(e){t.textContent=ue(e)})}}}}],Ro=["$interpolate","$compile",function(i,o){return{compile:function(e){return o.$$addBindingClass(e),function(e,t,n){var r=i(t.attr(n.$attr.ngBindTemplate));o.$$addBindingInfo(t,r.expressions),t=t[0],n.$observe("ngBindTemplate",function(e){t.textContent=xe(e)?"":e})}}}}],Do=["$sce","$parse","$compile",function(o,n,a){return{restrict:"A",compile:function(e,t){var r=n(t.ngBindHtml),i=n(t.ngBindHtml,function(e){return o.valueOf(e)});return a.$$addBindingClass(e),function(t,n,e){a.$$addBindingInfo(n,e.ngBindHtml),t.$watch(i,function(){var e=r(t);n.html(o.getTrustedHtml(e)||"")})}}}}],Oo=N({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function Io(a,s){var u;return a="ngClass"+a,["$parse",function(o){return{restrict:"AC",link:function(e,t,l){var n,r=t.data("$classCounts"),i=!0;function c(e,t){var n=[];return ve(e,function(e){(0<t||r[e])&&(r[e]=(r[e]||0)+t,r[e]===+(0<t)&&n.push(e))}),n.join(" ")}r||(r=je(),t.data("$classCounts",r)),"ngClass"!==a&&(u=u||o("$index",function(e){return 1&e}),e.$watch(u,function(e){(e===s?function(e){e=c(h(e),1),l.$addClass(e)}:function(e){e=c(h(e),-1),l.$removeClass(e)})(n);i=e})),e.$watch(o(l[a],f),function(e){i===s&&function(e,t){var n=h(e),r=h(t),i=d(n,r),o=d(r,n),a=c(i,-1),s=c(o,1);l.$addClass(s),l.$removeClass(a)}(n,e);n=e})}}}];function d(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i===t[o])continue e;n.push(i)}return n}function h(e){return e&&e.split(" ")}function f(t){if(!t)return t;var e=t;return $e(t)?e=t.map(f).join(" "):Ee(t)?e=Object.keys(t).filter(function(e){return t[e]}).join(" "):_e(t)||(e=t+""),e}}var Lo=Io("",!0),Fo=Io("Odd",0),Ho=Io("Even",1),jo=Vi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Bo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Uo={},qo={blur:!0,focus:!0};function zo(n,i,o,a,s,l){return{restrict:"A",compile:function(e,t){var r=n(t[a]);return function(n,e){e.on(s,function(e){function t(){r(n,{$event:e})}if(i.$$phase)if(l)n.$evalAsync(t);else try{t()}catch(e){o(e)}else n.$apply(t)})}}}}ve("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(r){var i=En("ng-"+r);Uo[i]=["$parse","$rootScope","$exceptionHandler",function(e,t,n){return zo(e,t,n,i,r,qo[r])}]});function Vo(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=n.ngList||", ",o="false"!==n.ngTrim,a=o?Me(i):i;r.$parsers.push(function(e){if(!xe(e)){var t=[];return e&&ve(e.split(a),function(e){e&&t.push(o?Me(e):e)}),t}}),r.$formatters.push(function(e){if($e(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}}var Wo=["$animate","$compile",function(l,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,r,t,i){var o,a,s;e.$watch(r.ngIf,function(e){e?a||i(function(e,t){a=t,e[e.length++]=c.$$createComment("end ngIf",r.ngIf),o={clone:e},l.enter(e,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=ce(o.clone),l.leave(s).done(function(e){!1!==e&&(s=null)}),o=null))})}}}],Go=["$templateRequest","$anchorScroll","$animate",function(g,v,y){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(e,t){var n=t.ngInclude||t.src,p=t.onload||"",m=t.autoscroll;return function(a,s,e,l,c){function u(){t&&(t.remove(),t=null),d&&(d.$destroy(),d=null),h&&(y.leave(h).done(function(e){!1!==e&&(t=null)}),t=h,h=null)}var d,t,h,f=0;a.$watch(n,function(r){function i(e){!1===e||!P(m)||m&&!a.$eval(m)||v()}var o=++f;r?(g(r,!0).then(function(e){if(!a.$$destroyed&&o===f){var t=a.$new();l.template=e;var n=c(t,function(e){u(),y.enter(e,null,s).done(i)});h=n,(d=t).$emit("$includeContentLoaded",r),a.$eval(p)}},function(){a.$$destroyed||o===f&&(u(),a.$emit("$includeContentError",r))}),a.$emit("$includeContentRequested",r)):(u(),l.template=null)})}}}}],Yo=["$compile",function(i){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,r){if(ge.call(t[0]).match(/SVG/))return t.empty(),void i(ut(r.template,de.document).childNodes)(e,function(e){t.append(e)},{futureParentElement:t});t.html(r.template),i(t.contents())(e)}}}],Ko=Vi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Xo="ng-valid",Qo="ng-invalid",Zo="ng-pristine",Jo="ng-dirty",ea="ng-untouched",ta="ng-touched",na="ng-empty",ra="ng-not-empty",ia=k("ngModel");function oa(e,t,n,r,i,o,a,s,l){var c;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=Yi,this.$options=aa,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=t,to(this),(c=this).$$scope.$watch(function(e){var t=c.$$ngModelGet(e);return t===c.$modelValue||c.$modelValue!=c.$modelValue&&t!=t||c.$$setModelValue(t),t})}oa.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],oa.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),r=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var t=this.$$parsedNgModel(e);return Ae(t)&&(t=n(e)),t},this.$$ngModelSet=function(e,t){Ae(this.$$parsedNgModel(e))?r(e,{$$$p:t}):this.$$parsedNgModelAssign(e,t)}}else if(!this.$$parsedNgModel.assign)throw ia("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Le(this.$$element))},$render:we,$isEmpty:function(e){return xe(e)||""===e||null===e||e!=e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,ra),this.$$animate.addClass(this.$$element,na)):(this.$$animate.removeClass(this.$$element,na),this.$$animate.addClass(this.$$element,ra))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Jo),this.$$animate.addClass(this.$$element,Zo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Zo),this.$$animate.addClass(this.$$element,Jo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,ea,ta)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,ta,ea)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!M(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){i||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(r,i,t){this.$$currentValidationRunId++;var o,a,s,n=this.$$currentValidationRunId,l=this;(function(){var e=l.$$parserName;{if(!xe(l.$$parserValid))return l.$$parserValid||(ve(l.$validators,function(e,t){c(t,null)}),ve(l.$asyncValidators,function(e,t){c(t,null)})),c(e,l.$$parserValid),l.$$parserValid;c(e,null)}return 1})()?(o=!0,ve(l.$validators,function(e,t){var n=Boolean(e(r,i));o=o&&n,c(t,n)}),o||(ve(l.$asyncValidators,function(e,t){c(t,null)}),0)?(a=[],s=!0,ve(l.$asyncValidators,function(e,t){var n=e(r,i);if(!A(n))throw ia("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",n);c(t,void 0),a.push(n.then(function(){c(t,!0)},function(){c(t,s=!1)}))}),a.length?l.$$q.all(a).then(function(){e(s)},we):e(!0)):e(!1)):e(!1);function c(e,t){n===l.$$currentValidationRunId&&l.$setValidity(e,t)}function e(e){n===l.$$currentValidationRunId&&t(e)}},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!xe(t)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var e=0;e<this.$parsers.length;e++)if(xe(t=this.$parsers[e](t))){this.$$parserValid=!1;break}M(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function o(){n.$modelValue!==r&&n.$$writeModelToScope()}this.$$rawModelValue=t,i&&(this.$modelValue=t,o()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(e){i||(n.$modelValue=e?t:void 0,o())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),ve(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");E(t[e])?t=t[e]:E(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:E(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,we))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},no({clazz:oa,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var aa,sa=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:oa,priority:1,compile:function(e){return e.addClass(Zo).addClass(ea).addClass(Xo),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,t,n,r){var i=r[0];function o(){i.$setTouched()}i.$$setUpdateOnEvents(),t.on("blur",function(){i.$touched||(a.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],la=/(\s+|^)default(\s+|$)/;function ca(e){this.$$options=e}ca.prototype={getOption:function(e){return this.$$options[e]},createChild:function(n){var r=!1;return ve(n=ye({},n),function(e,t){"$inherit"===e?"*"===t?r=!0:(n[t]=this.$$options[t],"updateOn"===t&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===t&&(n.updateOnDefault=!1,n[t]=Me(e.replace(la,function(){return n.updateOnDefault=!0," "})))},this),r&&(delete n["*"],da(n,this.$$options)),da(n,aa.$$options),new ca(n)}},aa=new ca({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});function ua(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:aa,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}}function da(n,e){ve(e,function(e,t){P(n[t])||(n[t]=e)})}var ha=Vi({terminal:!0,priority:1e3}),fa=k("ngOptions"),pa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ma=["$compile","$document","$parse",function(g,v,l){function y(e,t,d){var h=e.match(pa);if(!h)throw fa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Le(t));function f(e,t){return g(e,C(e,t))}var n=h[5]||h[7],r=h[6],i=/ as /.test(h[0])&&h[1],p=h[9],o=l(h[2]?h[1]:n),m=i&&l(i)||o,a=p&&l(p),g=p?function(e,t){return a(d,t)}:function(e){return jt(e)},v=l(h[2]||h[1]),y=l(h[3]||""),b=l(h[4]||""),w=l(h[8]),s={},C=r?function(e,t){return s[r]=t,s[n]=e,s}:function(e){return s[n]=e,s};function x(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function E(e){var t;if(!r&&O(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:p,getTrackByValue:f,getWatchables:l(w,function(e){for(var t=[],n=E(e=e||[]),r=n.length,i=0;i<r;i++){var o=e===n?i:n[i],a=e[o],s=C(a,o),l=g(a,s);if(t.push(l),h[2]||h[1]){var c=v(d,s);t.push(c)}if(h[4]){var u=b(d,s);t.push(u)}}return t}),getOptions:function(){for(var e=[],t={},n=w(d)||[],r=E(n),i=r.length,o=0;o<i;o++){var a=n===r?o:r[o],s=C(n[a],a),l=m(d,s),c=g(l,s),u=new x(c,l,v(d,s),y(d,s),b(d,s));e.push(u),t[c]=u}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return p?F(e.viewValue):e.viewValue}}}}}var b=de.document.createElement("option"),w=de.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=we},post:function(e,o,t,n){for(var a=n[0],s=n[1],l=t.multiple,r=0,i=o.children(),c=i.length;r<c;r++)if(""===i[r].value){a.hasEmptyOption=!0,a.emptyOption=i.eq(r);break}o.empty();var u,d=!!a.emptyOption;fe(b.cloneNode(!1)).val("?");var h=y(t.ngOptions,o,e),f=v[0].createDocumentFragment();function p(e,t){var n=b.cloneNode(!1);t.appendChild(n),function(e,t){(e.element=t).disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label);t.value=e.selectValue}(e,n)}function m(e){var t=u.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}a.generateUnknownOptionValue=function(e){return"?"},l?(a.writeValue=function(e){if(u){var t=e&&e.map(m)||[];u.items.forEach(function(e){e.element.selected&&!L(t,e)&&(e.element.selected=!1)})}},a.readValue=function(){var e=o.val()||[],n=[];return ve(e,function(e){var t=u.selectValueMap[e];t&&!t.disabled&&n.push(u.getViewValueFromOption(t))}),n},h.trackBy&&e.$watchCollection(function(){if($e(s.$viewValue))return s.$viewValue.map(function(e){return h.getTrackByValue(e)})},function(){s.$render()})):(a.writeValue=function(e){if(u){var t=o[0].options[o[0].selectedIndex],n=u.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(o[0].value!==n.selectValue&&(a.removeUnknownOption(),o[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):a.selectUnknownOrEmptyOption(e)}},a.readValue=function(){var e=u.selectValueMap[o.val()];return e&&!e.disabled?(a.unselectEmptyOption(),a.removeUnknownOption(),u.getViewValueFromOption(e)):null},h.trackBy&&e.$watch(function(){return h.getTrackByValue(s.$viewValue)},function(){s.$render()})),d&&(g(a.emptyOption)(e),o.prepend(a.emptyOption),a.emptyOption[0].nodeType===qe?(a.hasEmptyOption=!1,a.registerOption=function(e,t){""===t.val()&&(a.hasEmptyOption=!0,a.emptyOption=t,a.emptyOption.removeClass("ng-scope"),s.$render(),t.on("$destroy",function(){var e=a.$isEmptyOptionSelected();a.hasEmptyOption=!1,a.emptyOption=void 0,e&&s.$render()}))}):a.emptyOption.removeClass("ng-scope")),e.$watchCollection(h.getWatchables,function(){var e=u&&a.readValue();if(u)for(var t=u.items.length-1;0<=t;t--){var n=u.items[t];P(n.group)?kt(n.element.parentNode):kt(n.element)}u=h.getOptions();var r={};if(u.items.forEach(function(e){var t;P(e.group)?((t=r[e.group])||(t=w.cloneNode(!1),f.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),p(e,t)):p(e,f)}),o[0].appendChild(f),s.$render(),!s.$isEmpty(e)){var i=a.readValue();(h.trackBy||l?De(e,i):e===i)||(s.$setViewValue(i),s.$render())}})}}}}],ga=["$locale","$interpolate","$log",function(p,m,g){var v=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(i,o,a){var s,e=a.count,l=a.$attr.when&&o.attr(a.$attr.when),c=a.offset||0,u=i.$eval(l)||{},d={},t=m.startSymbol(),n=m.endSymbol(),r=t+e+"-"+c+n,h=b.noop;function f(e){o.text(e||"")}ve(a,function(e,t){var n=y.exec(t);if(n){var r=(n[1]?"-":"")+me(n[2]);u[r]=o.attr(a.$attr[t])}}),ve(u,function(e,t){d[t]=m(e.replace(v,r))}),i.$watch(e,function(e){var t=parseFloat(e),n=M(t);if(n||t in u||(t=p.pluralCat(t-c)),!(t===s||n&&M(s))){h();var r=d[t];xe(r)?(null!=e&&g.debug("ngPluralize: no rule defined for '"+t+"' in "+l),h=we,f()):h=i.$watch(r,f),s=t}})}}}],va=k("ngRef"),ya=["$parse",function(t){return{priority:-1,restrict:"A",compile:function(e,i){var o=En(Ne(e)),a=t(i.ngRef),s=a.assign||function(){throw va("nonassign",'Expression in ngRef="{0}" is non-assignable!',i.ngRef)};return function(e,t,n){var r;if(n.hasOwnProperty("ngRefRead")){if("$element"===n.ngRefRead)r=t;else if(!(r=t.data("$"+n.ngRefRead+"Controller")))throw va("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',n.ngRefRead,i.ngRef)}else r=t.data("$"+o+"Controller");s(e,r=r||t),t.on("$destroy",function(){a(e)===r&&s(e,null)})}}}}],ba=["$parse","$animate","$compile",function(s,T,l){function M(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))}function N(e,t,n){return jt(n)}function P(e,t){return t}var R="$$NG_REMOVED",D=k("ngRepeat");return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,t){var x=t.ngRepeat,E=l.$$createComment("end ngRepeat",x),n=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw D("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);var r=n[1],i=n[2],_=n[3],o=n[4];if(!(n=r.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw D("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",r);var $,S=n[3]||n[1],A=n[2];if(_&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(_)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(_)))throw D("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",_);if(o){var k={$id:jt},a=s(o);$=function(e,t,n,r){return A&&(k[A]=t),k[S]=n,k.$index=r,a(e,k)}}return function(y,b,e,t,w){var C=je();y.$watchCollection(i,function(e){var r,t,n,i,o,a,s,l,c,u,d,h,f,p=b[0],m=je();if(_&&(y[_]=e),O(e))c=e,l=$||N;else for(var g in l=$||P,c=[],e)pe.call(e,g)&&"$"!==g.charAt(0)&&c.push(g);for(i=c.length,d=new Array(i),r=0;r<i;r++)if(o=e===c?r:c[r],a=e[o],s=l(y,o,a,r),C[s])u=C[s],delete C[s],m[s]=u,d[r]=u;else{if(m[s])throw ve(d,function(e){e&&e.scope&&(C[e.id]=e)}),D("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",x,s,a);d[r]={id:s,scope:void 0,clone:void 0},m[s]=!0}for(var v in k&&(k[S]=void 0),C){if(h=ce((u=C[v]).clone),T.leave(h),h[0].parentNode)for(r=0,t=h.length;r<t;r++)h[r][R]=!0;u.scope.$destroy()}for(r=0;r<i;r++)if(o=e===c?r:c[r],a=e[o],(u=d[r]).scope){for(n=p;(n=n.nextSibling)&&n[R];);u.clone[0]!==n&&T.move(ce(u.clone),null,p),p=(f=u).clone[f.clone.length-1],M(u.scope,r,S,a,A,o,i)}else w(function(e,t){u.scope=t;var n=E.cloneNode(!1);e[e.length++]=n,T.enter(e,null,p),p=n,u.clone=e,m[u.id]=u,M(u.scope,r,S,a,A,o,i)});C=m})}}}}],wa="ng-hide",Ca="ng-hide-animate",xa=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngShow,function(e){r[e?"removeClass":"addClass"](t,wa,{tempClasses:Ca})})}}}],Ea=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngHide,function(e){r[e?"addClass":"removeClass"](t,wa,{tempClasses:Ca})})}}}],_a=Vi(function(e,t,n){e.$watchCollection(n.ngStyle,function(n,e){e&&n!==e&&(n=n||{},ve(e,function(e,t){null==n[t]&&(n[t]="")})),n&&t.css(n)})}),$a=["$animate","$compile",function(u,d){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,i){function o(t,n){return function(e){!1!==e&&t.splice(n,1)}}var r=n.ngSwitch||n.on,a=[],s=[],l=[],c=[];e.$watch(r,function(e){for(var t,n;l.length;)u.cancel(l.pop());for(t=0,n=c.length;t<n;++t){var r=ce(s[t].clone);c[t].$destroy(),(l[t]=u.leave(r)).done(o(l,t))}s.length=0,c.length=0,(a=i.cases["!"+e]||i.cases["?"])&&ve(a,function(i){i.transclude(function(e,t){c.push(t);var n=i.element;e[e.length++]=d.$$createComment("end ngSwitchWhen");var r={clone:e};s.push(r),u.enter(e,n.parent(),n)})})})}}}],Sa=Vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){ve(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){r.cases["!"+e]=r.cases["!"+e]||[],r.cases["!"+e].push({transclude:i,element:t})})}}),Aa=Vi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),ka=k("ngTransclude"),Ta=["$compile",function(t){return{restrict:"EAC",compile:function(e){var s=t(e.contents());return e.empty(),function(e,n,t,r,i){if(!i)throw ka("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Le(n));t.ngTransclude===t.$attr.ngTransclude&&(t.ngTransclude="");var o=t.ngTransclude||t.ngTranscludeSlot;function a(){s(e,function(e){n.append(e)})}i(function(e,t){e.length&&function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.nodeType!==Ue||r.nodeValue.trim())return 1}}(e)?n.append(e):(a(),t.$destroy())},null,o),o&&!i.isSlotFilled(o)&&a()}}}}],Ma=["$templateCache",function(i){return{restrict:"E",terminal:!0,compile:function(e,t){if("text/ng-template"===t.type){var n=t.id,r=e[0].text;i.put(n,r)}}}}],Na={$setViewValue:we,$render:we};function Pa(e,t){e.prop("selected",t),e.attr("selected",t)}function Ra(){return{restrict:"E",require:["select","?ngModel"],controller:Fa,priority:1,link:{pre:function(e,t,n,r){var i=r[0],o=r[1];if(!o)return void(i.registerOption=we);if(i.ngModelCtrl=o,t.on("change",function(){i.removeUnknownOption(),e.$apply(function(){o.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var n=[];return ve(t.find("option"),function(e){if(e.selected&&!e.disabled){var t=e.value;n.push(t in i.selectValueMap?i.selectValueMap[t]:t)}}),n},i.writeValue=function(n){ve(t.find("option"),function(e){var t=!!n&&(L(n,e.value)||L(n,i.selectValueMap[e.value]));t!==e.selected&&Pa(fe(e),t)})};var a,s=NaN;e.$watch(function(){s!==o.$viewValue||De(a,o.$viewValue)||(a=We(o.$viewValue),o.$render()),s=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,r){var i=r[1];if(!i)return;var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}}}var Da,Oa,Ia,La,Fa=["$element","$scope",function(i,t){var s=this,r=new qt;s.selectValueMap={},s.ngModelCtrl=Na,s.multiple=!1,s.unknownOption=fe(de.document.createElement("option")),s.hasEmptyOption=!1,s.emptyOption=void 0,s.renderUnknownOption=function(e){var t=s.generateUnknownOptionValue(e);s.unknownOption.val(t),i.prepend(s.unknownOption),Pa(s.unknownOption,!0),i.val(t)},s.updateUnknownOption=function(e){var t=s.generateUnknownOptionValue(e);s.unknownOption.val(t),Pa(s.unknownOption,!0),i.val(t)},s.generateUnknownOptionValue=function(e){return"? "+jt(e)+" ?"},s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.selectEmptyOption=function(){s.emptyOption&&(i.val(""),Pa(s.emptyOption,!0))},s.unselectEmptyOption=function(){s.hasEmptyOption&&Pa(s.emptyOption,!1)},t.$on("$destroy",function(){s.renderUnknownOption=we}),s.readValue=function(){var e=i.val(),t=e in s.selectValueMap?s.selectValueMap[e]:e;return s.hasOption(t)?t:null},s.writeValue=function(e){var t=i[0].options[i[0].selectedIndex];if(t&&Pa(fe(t),!1),s.hasOption(e)){s.removeUnknownOption();var n=jt(e);i.val(n in s.selectValueMap?n:e);var r=i[0].options[i[0].selectedIndex];Pa(fe(r),!0)}else s.selectUnknownOrEmptyOption(e)},s.addOption=function(e,t){if(t[0].nodeType!==qe){le(e,'"option value"'),""===e&&(s.hasEmptyOption=!0,s.emptyOption=t);var n=r.get(e)||0;r.set(e,n+1),l()}},s.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.delete(e),""===e&&(s.hasEmptyOption=!1,s.emptyOption=void 0)):r.set(e,t-1))},s.hasOption=function(e){return!!r.get(e)},s.$hasEmptyOption=function(){return s.hasEmptyOption},s.$isUnknownOptionSelected=function(){return i[0].options[0]===s.unknownOption[0]},s.$isEmptyOptionSelected=function(){return s.hasEmptyOption&&i[0].options[i[0].selectedIndex]===s.emptyOption[0]};var e=!(s.selectUnknownOrEmptyOption=function(e){null==e&&s.emptyOption?(s.removeUnknownOption(),s.selectEmptyOption()):s.unknownOption.parent().length?s.updateUnknownOption(e):s.renderUnknownOption(e)});function l(){e||(e=!0,t.$$postDigest(function(){e=!1,s.ngModelCtrl.$render()}))}var n=!1;function c(e){n||(n=!0,t.$$postDigest(function(){t.$$destroyed||(n=!1,s.ngModelCtrl.$setViewValue(s.readValue()),e&&s.ngModelCtrl.$render())}))}s.registerOption=function(e,r,i,t,n){var o,a;i.$attr.ngValue?i.$observe("value",function(e){var t,n=r.prop("selected");P(a)&&(s.removeOption(o),delete s.selectValueMap[a],t=!0),a=jt(e),o=e,s.selectValueMap[a]=e,s.addOption(e,r),r.attr("value",a),t&&n&&c()}):t?i.$observe("value",function(e){var t;s.readValue();var n=r.prop("selected");P(o)&&(s.removeOption(o),t=!0),o=e,s.addOption(e,r),t&&n&&c()}):n?e.$watch(n,function(e,t){i.$set("value",e);var n=r.prop("selected");t!==e&&s.removeOption(t),s.addOption(e,r),t&&n&&c()}):s.addOption(i.value,r);i.$observe("disabled",function(e){("true"===e||e&&r.prop("selected"))&&(s.multiple?c(!0):(s.ngModelCtrl.$setViewValue(null),s.ngModelCtrl.$render()))}),r.on("$destroy",function(){var e=s.readValue(),t=i.value;s.removeOption(t),l(),(s.multiple&&e&&-1!==e.indexOf(t)||e===t)&&c(!0)})}}],Ha=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(e,t){var a,s;return P(t.ngValue)||(P(t.value)?a=n(t.value,!0):(s=n(e.text(),!0))||t.$set("value",e.text())),function(e,t,n){var r="$selectController",i=t.parent(),o=i.data(r)||i.parent().data(r);o&&o.registerOption(e,t,n,a,s)}}}}],ja=["$parse",function(o){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=n.hasOwnProperty("required")||o(n.ngRequired)(e);n.ngRequired||(n.required=!0),r.$validators.required=function(e,t){return!i||!r.$isEmpty(t)},n.$observe("required",function(e){i!==e&&(i=e,r.$validate())})}}}}],Ba=["$parse",function(n){return{restrict:"A",require:"?ngModel",compile:function(e,t){var a,s;return t.ngPattern&&(a=t.ngPattern,s="/"===t.ngPattern.charAt(0)&&o.test(t.ngPattern)?function(){return t.ngPattern}:n(t.ngPattern)),function(e,n,t,r){if(r){var i=t.pattern;t.ngPattern?i=s(e):a=t.pattern;var o=za(i,a,n);t.$observe("pattern",function(e){var t=o;o=za(e,a,n),(t&&t.toString())!==(o&&o.toString())&&r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||xe(o)||o.test(t)}}}}}}],Ua=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=n.maxlength||a(n.ngMaxlength)(e),o=Va(i);n.$observe("maxlength",function(e){i!==e&&(o=Va(e),i=e,r.$validate())}),r.$validators.maxlength=function(e,t){return o<0||r.$isEmpty(t)||t.length<=o}}}}}],qa=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=n.minlength||a(n.ngMinlength)(e),o=Va(i)||-1;n.$observe("minlength",function(e){i!==e&&(o=Va(e)||-1,i=e,r.$validate())}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=o}}}}}];function za(e,t,n){if(e){if(_e(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw k("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,Le(n));return e}}function Va(e){var t=w(e);return M(t)?-1:t}de.angular.bootstrap?de.console&&console.log("WARNING: Tried to load AngularJS more than once."):(function(){var i;if(!ae){var e=j();(t=xe(e)?de.jQuery:e?de[e]:void 0)&&t.fn.on?ye((fe=t).fn,{scope:Mt.scope,isolateScope:Mt.isolateScope,controller:Mt.controller,injector:Mt.injector,inheritedData:Mt.inheritedData}):fe=ht,i=fe.cleanData,fe.cleanData=function(e){for(var t,n,r=0;null!=(n=e[r]);r++)(t=(fe._data(n)||{}).events)&&t.$destroy&&fe(n).triggerHandler("$destroy");i(e)},b.element=fe,ae=!0}}(),ye(b,{errorHandlingConfig:e,bootstrap:ne,copy:F,extend:ye,merge:y,equals:De,element:fe,forEach:ve,injector:Jt,noop:we,bind:Ie,toJson:q,fromJson:z,identity:Ce,isUndefined:xe,isDefined:P,isString:_e,isFunction:Ae,isObject:Ee,isNumber:E,isElement:I,isArray:$e,version:Ye,isDate:_,callbacks:{$$counter:0},getTestability:ie,reloadWithDebugInfo:re,$$minErr:k,$$csp:H,$$encodeUriSegment:Q,$$encodeUriQuery:Z,$$lowercase:me,$$stringify:ue,$$uppercase:h}),Da=de,Oa=k("$injector"),Ia=k("ng"),(La=Wa(Da,"angular",Object)).$$minErr=La.$$minErr||k,(v=Wa(La,"module",function(){var e={};return function(s,l,c){var u={};return function(e,t){if("hasOwnProperty"===e)throw Ia("badname","hasOwnProperty is not a valid {0} name",t)}(s,"module"),l&&e.hasOwnProperty(s)&&(e[s]=null),Wa(e,s,function(){if(!l)throw Oa("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var o=[],e=[],t=[],n=r("$injector","invoke","push",e),a={_invokeQueue:o,_configBlocks:e,_runBlocks:t,info:function(e){if(P(e)){if(!Ee(e))throw Ia("aobj","Argument '{0}' must be an object","value");return u=e,this}return u},requires:l,name:s,provider:i("$provide","provider"),factory:i("$provide","factory"),service:i("$provide","service"),value:r("$provide","value"),constant:r("$provide","constant","unshift"),decorator:i("$provide","decorator",e),animation:i("$animateProvider","register"),filter:i("$filterProvider","register"),controller:i("$controllerProvider","register"),directive:i("$compileProvider","directive"),component:i("$compileProvider","component"),config:n,run:function(e){return t.push(e),this}};return c&&n(c),a;function r(e,t,n,r){return r=r||o,function(){return r[n||"push"]([e,t,arguments]),a}}function i(n,r,i){return i=i||o,function(e,t){return t&&Ae(t)&&(t.$$moduleName=s),i.push([n,r,arguments]),a}}})}}))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Yr}),e.provider("$compile",bn).directive({a:Wi,input:Mo,textarea:Mo,form:Ji,script:Ma,select:Ra,option:Ha,ngBind:Po,ngBindHtml:Do,ngBindTemplate:Ro,ngClass:Lo,ngClassEven:Ho,ngClassOdd:Fo,ngCloak:jo,ngController:Bo,ngForm:eo,ngHide:Ea,ngIf:Wo,ngInclude:Go,ngInit:Ko,ngNonBindable:ha,ngPluralize:ga,ngRef:ya,ngRepeat:ba,ngShow:xa,ngStyle:_a,ngSwitch:$a,ngSwitchWhen:Sa,ngSwitchDefault:Aa,ngOptions:ma,ngTransclude:Ta,ngModel:sa,ngList:Vo,ngChange:Oo,pattern:Ba,ngPattern:Ba,required:ja,ngRequired:ja,minlength:qa,ngMinlength:qa,maxlength:Ua,ngMaxlength:Ua,ngValue:To,ngModelOptions:ua}).directive({ngInclude:Yo,input:ko}).directive(Gi).directive(Uo),e.provider({$anchorScroll:en,$animate:hn,$animateCss:dn,$$animateJs:sn,$$animateQueue:ln,$$AnimateRunner:un,$$animateAsyncRun:cn,$browser:pn,$cacheFactory:mn,$controller:kn,$document:Tn,$$isDocumentHidden:Mn,$exceptionHandler:Nn,$filter:bi,$$forceReflow:Pn,$interpolate:Qn,$interval:Jn,$$intervalFactory:er,$http:Gn,$httpParamSerializer:jn,$httpParamSerializerJQLike:Bn,$httpBackend:Kn,$xhrFactory:Yn,$jsonpCallbacks:tr,$location:yr,$log:br,$parse:Hr,$rootScope:Gr,$q:jr,$$q:Br,$sce:ti,$sceDelegate:ei,$sniffer:ni,$$taskTrackerFactory:ri,$templateCache:gn,$templateRequest:ai,$$testability:si,$timeout:ci,$window:gi,$$rAF:Wr,$$jqLite:Ht,$$Map:zt,$$cookieReader:yi})}]).info({angularVersion:"1.7.8"}),b.module("ngLocale",[],["$provide",function(e){var i="one",o="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n=0|e,r=function(e,t){var n,r,i=t;void 0===i&&(i=Math.min((n=e,-1==(r=(n+="").indexOf("."))?0:n.length-r-1),3));var o=Math.pow(10,i);return{v:i,f:(e*o|0)%o}}(e,t);return 1==n&&0==r.v?i:o}})}]),fe(function(){te(de.document,ne)}));function Wa(e,t,n){return e[t]||(e[t]=n())}}(window),window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(h,e){"use strict";var re,ie,oe,ae,B=1,se="-add",le="-remove",ce="ng-",_="ng-animate",U="$$ngAnimateChildren";ie=void 0===h.ontransitionend&&void 0!==h.onwebkittransitionend?(re="WebkitTransition","webkitTransitionEnd transitionend"):(re="transition","transitionend"),ae=void 0===h.onanimationend&&void 0!==h.onwebkitanimationend?(oe="WebkitAnimation","webkitAnimationEnd animationend"):(oe="animation","animationend");var i="Duration",ue="TimingFunction",o="PlayState",n=oe+"Delay",de=oe+i,r=re+"Delay",t=re+i,a=e.$$minErr("ng");function f(e,t,n){if(!e)throw a("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function $(e,t){return e||t?e?t?(Me(e)&&(e=e.join(" ")),Me(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function he(e,n,r){var i="";return e=Me(e)?e:e&&K(e)&&e.length?e.split(/\s+/):[],Te(e,function(e,t){e&&0<e.length&&(i+=0<t?" ":"",i+=r?n+e:e+n)}),i}function q(e){if(e instanceof Q)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===B)return e;break;default:return Q(p(e))}if(e.nodeType===B)return Q(e)}function p(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===B)return n}}function z(l){return function(e,t){var n,r,i,o,a,s;t.addClass&&(n=l,r=e,i=t.addClass,Te(r,function(e){n.addClass(e,i)}),t.addClass=null),t.removeClass&&(o=l,a=e,s=t.removeClass,Te(a,function(e){o.removeClass(e,s)}),t.removeClass=null)}}function fe(e){if(!(e=e||{}).$$prepared){var t=e.domOperation||Ne;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=Ne},e.$$prepared=!0}return e}function pe(e,t){me(e,t),ge(e,t)}function me(e,t){t.from&&(e.css(t.from),t.from=null)}function ge(e,t){t.to&&(e.css(t.to),t.to=null)}function V(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),s=function(i,e,t){var n={};i=r(i),e=r(e),Te(e,function(e,t){n[t]=1}),t=r(t),Te(t,function(e,t){n[t]=1===n[t]?null:-1});var o={addClass:"",removeClass:""};function r(e){K(e)&&(e=e.split(" "));var t={};return Te(e,function(e){e.length&&(t[e]=!0)}),t}return Te(n,function(e,t){var n,r;1===e?(n="addClass",r=!i[t]||i[t+le]):-1===e&&(n="removeClass",r=i[t]||i[t+se]),r&&(o[n].length&&(o[n]+=" "),o[n]+=t)}),o}(e.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=W(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==Ne?r.domOperation:null;return m(r,i),l&&(r.domOperation=l),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function ve(e){return e instanceof Q?e[0]:e}function ye(e,t){var n=t?"paused":"",r=oe+o;return be(e,[r,n]),[r,n]}function be(e,t){var n=t[0],r=t[1];e.style[n]=r}function W(e,t){return e?t?e+" "+t:e:t}var we=function(e,t){var n=t?"-"+t+"s":"";return be(e,[r,n]),[r,n]},s=["$interpolate",function(o){return{link:function(e,t,n){var r=n.ngAnimateChildren;function i(e){e="on"===e||"true"===e,t.data(U,e)}K(r)&&0===r.length?t.data(U,!0):(i(o(r)(e)),n.$observe("ngAnimateChildren",i))}}}],Ce="$$animateCss",l={transitionDuration:t,transitionDelay:r,transitionProperty:re+"Property",animationDuration:de,animationDelay:n,animationIterationCount:oe+"IterationCount"},xe={transitionDuration:t,transitionDelay:r,animationDuration:de,animationDelay:n};function Ee(e,t){return[t?n:r,e+"s"]}function _e(e,t,n){var a=Object.create(null),s=e.getComputedStyle(t)||{};return Te(n,function(e,t){var n,r,i=s[e];if(i){var o=i.charAt(0);("-"===o||"+"===o||0<=o)&&(n=0,r=i.split(/\s*,\s*/),Te(r,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e}),i=n),0===i&&(i=null),a[t]=i}}),a}function $e(e){return 0===e||null!=e}function Se(e,t){var n=re,r=e+"s";return t?n+=i:r+=" linear all",[n,r]}function Ae(t,n,e){Te(e,function(e){t[e]=G(t[e])?t[e]:n.style.getPropertyValue(e)})}var ke,m,Te,Me,G,g,C,Y,K,X,Q,Ne,c=["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(G,Y,K,X,Q,n,Z,t,J){var ee=z(Y);var r=[];function te(e){r.push(e),t.waitUntilQuiet(function(){Q.flush();for(var e=n(),t=0;t<r.length;t++)r[t](e);r.length=0})}function ne(e,t,n,r){var i=function(e,t,n,r){var i=Q.get(t);i||"infinite"===(i=_e(G,e,r)).animationIterationCount&&(i.animationIterationCount=1);var o=n||0<i.transitionDuration||0<i.animationDuration;return Q.put(t,i,o),i}(e,n,r,l),o=i.animationDelay,a=i.transitionDelay;return i.maxDelay=o&&a?Math.max(o,a):o||a,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}return function(c,e){var u=e||{};u.$$prepared||(u=fe(ke(u)));var d={},h=ve(c);if(!h||!h.parentNode||!J.enabled())return z();var t,n,f,o,a,r,i,p,m,g,v,y,b=[],s=(c.attr("class"),n={},(t=u)&&(t.to||t.from)&&(n.to=t.to,n.from=t.from),n),w=[];if(0===u.duration||!Z.animations&&!Z.transitions)return z();var C=u.event&&Me(u.event)?u.event.join(" "):u.event,l=C&&u.structural,x="",E="";l?x=he(C,ce,!0):C&&(x=C),u.addClass&&(E+=he(u.addClass,se)),u.removeClass&&(E.length&&(E+=" "),E+=he(u.removeClass,le)),u.applyClassesEarly&&E.length&&ee(c,u);var _=[x,E].join(" ").trim(),$=s.to&&0<Object.keys(s.to).length;if(!(0<(u.keyframeStyle||"").length)&&!$&&!_)return z();var S,A,k=Q.cacheKey(h,C,u.addClass,u.removeClass);if(Q.containsCachedAnimationWithoutDuration(k))return _=null,z();if(0<u.stagger){var T=parseFloat(u.stagger);S={transitionDelay:T,animationDelay:T,transitionDuration:0,animationDuration:0}}else S=function(e,t,n,r){var i,o="stagger-"+n;if(0<Q.count(n)&&!(i=Q.get(o))){var a=he(t,"-stagger");Y.addClass(e,a),(i=_e(G,e,r)).animationDuration=Math.max(i.animationDuration,0),i.transitionDuration=Math.max(i.transitionDuration,0),Y.removeClass(e,a),Q.put(o,i,!0)}return i||{}}(h,_,k,xe);if(u.$$skipPreparationClasses||Y.addClass(c,_),u.transitionStyle){var M=[re,u.transitionStyle];be(h,M),b.push(M)}if(0<=u.duration){A=0<h.style[re].length;var N=Se(u.duration,A);be(h,N),b.push(N)}if(u.keyframeStyle){var P=[oe,u.keyframeStyle];be(h,P),b.push(P)}var R=S?0<=u.staggerIndex?u.staggerIndex:Q.count(k):0,D=0===R;D&&!u.skipBlocking&&we(h,9999);var O=ne(h,0,k,!l),I=O.maxDelay;p=Math.max(I,0),g=O.maxDuration;var L={};if(L.hasTransitions=0<O.transitionDuration,L.hasAnimations=0<O.animationDuration,L.hasTransitionAll=L.hasTransitions&&"all"===O.transitionProperty,L.applyTransitionDuration=$&&(L.hasTransitions&&!L.hasTransitionAll||L.hasAnimations&&!L.hasTransitions),L.applyAnimationDuration=u.duration&&L.hasAnimations,L.applyTransitionDelay=$e(u.delay)&&(L.applyTransitionDuration||L.hasTransitions),L.applyAnimationDelay=$e(u.delay)&&L.hasAnimations,L.recalculateTimingStyles=0<E.length,(L.applyTransitionDuration||L.applyAnimationDuration)&&(g=u.duration?parseFloat(u.duration):g,L.applyTransitionDuration&&(L.hasTransitions=!0,O.transitionDuration=g,A=0<h.style[re+"Property"].length,b.push(Se(g,A))),L.applyAnimationDuration&&(L.hasAnimations=!0,O.animationDuration=g,b.push([de,g+"s"]))),0===g&&!L.recalculateTimingStyles)return z();var F,H=he(_,"-active");null!=u.delay&&("boolean"!=typeof u.delay&&(F=parseFloat(u.delay),p=Math.max(F,0)),L.applyTransitionDelay&&b.push(Ee(F)),L.applyAnimationDelay&&b.push(Ee(F,!0)));return null==u.duration&&0<O.transitionDuration&&(L.recalculateTimingStyles=L.recalculateTimingStyles||D),m=1e3*p,v=1e3*g,u.skipBlocking||(L.blockTransition=0<O.transitionDuration,L.blockKeyframeAnimation=0<O.animationDuration&&0<S.animationDelay&&0===S.animationDuration),u.from&&(u.cleanupStyles&&Ae(d,h,Object.keys(u.from)),me(c,u)),L.blockTransition||L.blockKeyframeAnimation?q(g):u.skipBlocking||we(h,!1),{$$willAnimate:!0,end:j,start:function(){if(!f)return r=new K(i={end:j,cancel:B,resume:null,pause:null}),te(W),r}};function j(){U()}function B(){U(!0)}function U(e){if(!(f||a&&o)){o=!(f=!0),_&&!u.$$skipPreparationClasses&&Y.removeClass(c,_),H&&Y.removeClass(c,H),ye(h,!1),we(h,!1),Te(b,function(e){h.style[e[0]]=""}),ee(c,u),pe(c,u),Object.keys(d).length&&Te(d,function(e,t){e?h.style.setProperty(t,e):h.style.removeProperty(t)}),u.onDone&&u.onDone(),w&&w.length&&c.off(w.join(" "),V);var t=c.data(Ce);t&&(X.cancel(t[0].timer),c.removeData(Ce)),r&&r.complete(!e)}}function q(e){L.blockTransition&&we(h,e),L.blockKeyframeAnimation&&ye(h,!!e)}function z(){return r=new K({end:j,cancel:B}),te(Ne),U(),{$$willAnimate:!1,start:function(){return r},end:j}}function V(e){e.stopPropagation();var t=e.originalEvent||e;if(t.target===h){var n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-y,0)>=m&&g<=r&&(a=!0,U())}}function W(){if(!f)if(h.parentNode){var e=function(e){if(a)o&&e&&(o=!1,U());else if(o=!e,O.animationDuration){var t=ye(h,o);o?b.push(t):(r=t,i=(n=b).indexOf(r),0<=r&&n.splice(i,1))}var n,r,i},t=0<R&&(O.transitionDuration&&0===S.transitionDuration||O.animationDuration&&0===S.animationDuration)&&Math.max(S.animationDelay,S.transitionDelay);t?X(n,Math.floor(t*R*1e3),!1):n(),i.resume=function(){e(!0)},i.pause=function(){e(!1)}}else U();function n(){if(!f){if(q(!1),Te(b,function(e){var t=e[0],n=e[1];h.style[t]=n}),ee(c,u),Y.addClass(c,H),L.recalculateTimingStyles){if(h.getAttribute("class"),k=Q.cacheKey(h,C,u.addClass,u.removeClass),O=ne(h,0,k,!1),I=O.maxDelay,p=Math.max(I,0),0===(g=O.maxDuration))return void U();L.hasTransitions=0<O.transitionDuration,L.hasAnimations=0<O.animationDuration}if(L.applyAnimationDelay&&(I="boolean"!=typeof u.delay&&$e(u.delay)?parseFloat(u.delay):I,p=Math.max(I,0),O.animationDelay=I,F=Ee(I,!0),b.push(F),h.style[F[0]]=F[1]),m=1e3*p,v=1e3*g,u.easing){var e,t=u.easing;L.hasTransitions&&(e=re+ue,b.push([e,t]),h.style[e]=t),L.hasAnimations&&(e=oe+ue,b.push([e,t]),h.style[e]=t)}O.transitionDuration&&w.push(ie),O.animationDuration&&w.push(ae),y=Date.now();var n=m+1.5*v,r=y+n,i=c.data(Ce)||[],o=!0;if(i.length){var a=i[0];(o=r>a.expectedEndTime)?X.cancel(a.timer):i.push(U)}if(o){var s=X(l,n,!1);i[0]={timer:s,expectedEndTime:r},i.push(U),c.data(Ce,i)}w.length&&c.on(w.join(" "),V),u.to&&(u.cleanupStyles&&Ae(d,h,Object.keys(u.to)),ge(c,u))}}function l(){var e=c.data(Ce);if(e){for(var t=1;t<e.length;t++)e[t]();c.removeData(Ce)}}}}}]}],u=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var y="ng-animate-shim",b="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(h,e,f,t,n,r,i){if(!n.animations&&!n.transitions)return Ne;var o,p=i[0].body,a=ve(t),m=Q((o=a).parentNode&&11===o.parentNode.nodeType||p.contains(a)?a:p);return function(e){return e.from&&e.to?function(e,t,n){var r=s(e),i=s(t),o=[];if(Te(n,function(e){var t=function(t,i){var o=Q(ve(t).cloneNode(!0)),a=g(c(o));t.addClass(y),i.addClass(y),o.addClass("ng-anchor"),m.append(o);var r,e=function(){var e=h(o,{addClass:b,delay:!0,from:l(t)});return e.$$willAnimate?e:null}();if(!e&&!(r=u()))return d();var s=e||r;return{start:function(){var e,t=s.start();return t.done(function(){if(t=null,!r&&(r=u()))return(t=r.start()).done(function(){t=null,d(),e.complete()}),t;d(),e.complete()}),e=new f({end:n,cancel:n});function n(){t&&t.end()}}};function l(e){var n={},r=ve(e).getBoundingClientRect();return Te(["width","height","top","left"],function(e){var t=r[e];switch(e){case"top":t+=p.scrollTop;break;case"left":t+=p.scrollLeft}n[e]=Math.floor(t)+"px"}),n}function c(e){return e.attr("class")||""}function u(){var e=g(c(i)),t=v(e,a),n=v(a,e),r=h(o,{to:l(i),addClass:"ng-anchor-in "+t,removeClass:b+" "+n,delay:!0});return r.$$willAnimate?r:null}function d(){o.remove(),t.removeClass(y),i.removeClass(y)}}(e.out,e.in);t&&o.push(t)}),!r&&!i&&0===o.length)return;return{start:function(){var t=[];r&&t.push(r.start()),i&&t.push(i.start()),Te(o,function(e){t.push(e.start())});var n=new f({end:e,cancel:e});return f.all(t,function(e){n.complete(e)}),n;function e(){Te(t,function(e){e.end()})}}}}(e.from,e.to,(e.classes,e.anchors)):s(e)};function g(e){return e.replace(/\bng-\S+\b/g,"")}function v(e,t){return K(e)&&(e=e.split(" ")),K(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function s(e){var t=e.element,n=e.options||{};e.structural&&(n.event=e.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===e.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=W(n.event,n.preparationClasses));var r=h(t,n);return r.$$willAnimate?r:null}}]}],d=["$animateProvider",function(w){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(v,y,e){var b=z(e);return function(e,t,n,r){var i=!1;3===arguments.length&&Y(n)&&(r=n,n=null),r=fe(r),n||(n=e.attr("class")||"",r.addClass&&(n+=" "+r.addClass),r.removeClass&&(n+=" "+r.removeClass));var o,a,s,l,c,u=r.addClass,d=r.removeClass,h=function(e){e=Me(e)?e:e.split(" ");for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=w.$$registeredAnimations[i];o&&!n[i]&&(t.push(v.get(o)),n[i]=!0)}return t}(n);h.length&&(s="leave"===t?(l="leave","afterLeave"):(l="before"+t.charAt(0).toUpperCase()+t.substr(1),t),"enter"!==t&&"move"!==t&&(o=g(e,t,r,h,l)),a=g(e,t,r,h,s));if(o||a)return{$$willAnimate:!0,end:function(){return c?c.end():(p(),(c=new y).complete(!0)),c},start:function(){if(c)return c;var t;c=new y;var e=[];return o&&e.push(function(e){t=o(e)}),e.length?e.push(function(e){f(),e(!0)}):f(),a&&e.push(function(e){t=a(e)}),c.setHost({end:function(){r()},cancel:function(){r(!0)}}),y.chain(e,n),c;function n(e){p(),c.complete(e)}function r(e){i||((t||Ne)(e),n(e))}}};function f(){r.domOperation(),b(e,r)}function p(){i=!0,f(),pe(e,r)}function m(a,s,l,e,t){var n=[];return Te(e,function(e){var o=e[t];o&&n.push(function(){function t(e){i||(i=!0,(r||Ne)(e),n.complete(!e))}var n,r,i=!1;return n=new y({end:function(){t()},cancel:function(){t(!0)}}),r=function(e,t,n,r,i){var o;switch(n){case"animate":o=[t,r.from,r.to,i];break;case"setClass":o=[t,u,d,i];break;case"addClass":o=[t,u,i];break;case"removeClass":o=[t,d,i];break;default:o=[t,i]}o.push(r);var a=e.apply(e,o);if(a)if(C(a.start)&&(a=a.start()),a instanceof y)a.done(i);else if(C(a))return a;return Ne}(o,a,s,l,function(e){t(!1===e)}),n})}),n}function g(e,t,n,r,i){var o,a,s=m(e,t,n,r,i);0===s.length&&("beforeSetClass"===i?(o=m(e,"removeClass",n,r,"beforeRemoveClass"),a=m(e,"addClass",n,r,"beforeAddClass")):"setClass"===i&&(o=m(e,"removeClass",n,r,"removeClass"),a=m(e,"addClass",n,r,"addClass")),o&&(s=s.concat(o)),a&&(s=s.concat(a)));if(0!==s.length)return function(e){var n=[];return s.length&&Te(s,function(e){n.push(e())}),n.length?y.all(n,e):e(),function(t){Te(n,function(e){t?e.cancel():e.end()})}}}}}]}],v=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(o,a){return function(e){if(e.from&&e.to){var r=t(e.from),i=t(e.to);if(!r&&!i)return;return{start:function(){var e=[];r&&e.push(r.start()),i&&e.push(i.start()),a.all(e,function(e){t.complete(e)});var t=new a({end:n(),cancel:n()});return t;function n(){return function(){Te(e,function(e){e.end()})}}}}}return t(e)};function t(e){var t=e.element,n=e.event,r=e.options,i=e.classes;return o(t,n,i,r)}}]}],Z="data-ng-animate",J="$ngAnimatePin",y=["$animateProvider",function(d){var r=" ",i=this.rules={skip:[],cancel:[],join:[]};function F(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function a(e,t){if(e&&t){var n=function(e){if(!e)return null;var t=e.split(r),n=Object.create(null);return Te(t,function(e){n[e]=!0}),n}(t);return e.split(r).some(function(e){return n[e]})}}function H(e,t,n){return i[e].some(function(e){return e(t,n)})}function j(e,t){var n=0<(e.addClass||"").length,r=0<(e.removeClass||"").length;return t?n&&r:n||r}i.join.push(function(e,t){return!e.structural&&j(e)}),i.skip.push(function(e,t){return!e.structural&&!j(e)}),i.skip.push(function(e,t){return"leave"===t.event&&e.structural}),i.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),i.cancel.push(function(e,t){return t.structural&&e.structural}),i.cancel.push(function(e,t){return 2===t.state&&e.structural}),i.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,r=e.removeClass,i=t.addClass,o=t.removeClass;return!(X(n)&&X(r)||X(i)&&X(o))&&(a(n,o)||a(r,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(b,w,C,x,e,E,_,t,n,r,$){var S=new e,A=new e,k=null;function i(e){A.delete(e.target)}function o(){return!0}var a=w.$watch(function(){return 0===t.totalPendingRequests},function(e){e&&(a(),w.$$postDigest(function(){w.$$postDigest(function(){null===k&&(k=!0)})}))}),T=Object.create(null),s=d.customFilter(),l=d.classNameFilter(),M=s||o,N=l?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return l.test(n)}:o,P=z(n);function R(e,t){return V(e,t,{})}var D=h.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))};function c(e,t,n){var r=p(t);return e.filter(function(e){return!(e.node===r&&(!n||e.callback===n))})}function O(e,t){"close"!==e||t.parentNode||u.off(t)}var u={on:function(e,t,n){var r=p(t);T[e]=T[e]||[],T[e].push({node:r,callback:n}),Q(t).on("$destroy",function(){S.get(r)||u.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||K(e)){var r=T[e];r&&(T[e]=1===arguments.length?null:c(r,t,n))}else for(var i in t=e,T)T[i]=c(T[i],t)},pin:function(e,t){f(g(e),"element","not an element"),f(g(t),"parentElement","not an element"),e.data(J,t)},push:function(e,t,n,r){return(n=n||{}).domOperation=r,function(i,o,e){var a=ke(e),c=q(i),u=ve(c),d=u&&u.parentNode;a=fe(a);var s=new _,t=function(){var t=!1;return function(e){t?e():w.$$postDigest(function(){t=!0,e()})}}();Me(a.addClass)&&(a.addClass=a.addClass.join(" "));a.addClass&&!K(a.addClass)&&(a.addClass=null);Me(a.removeClass)&&(a.removeClass=a.removeClass.join(" "));a.removeClass&&!K(a.removeClass)&&(a.removeClass=null);a.from&&!Y(a.from)&&(a.from=null);a.to&&!Y(a.to)&&(a.to=null);if(!(k&&u&&M(u,o,e)&&N(u,a)))return y(),s;var l=0<=["enter","move","leave"].indexOf(o),n=$(),r=n||A.get(u),h=!r&&S.get(u)||{},f=!!h.state;r||f&&1===h.state||(r=!function(e,t){var n,r=x[0].body,i=ve(C),o=e===r||"HTML"===e.nodeName,a=e===i,s=!1,l=A.get(e),c=Q.data(e,J);c&&(t=ve(c));for(;t&&(a=a||t===i,t.nodeType===B);){var u=S.get(t)||{};if(!s){var d=A.get(t);if(!0===d&&!1!==l){l=!0;break}!1===d&&(l=!1),s=u.structural}if(X(n)||!0===n){var h=Q.data(t,U);G(h)&&(n=h)}if(s&&!1===n)break;if((o=o||t===r)&&a)break;t=a||!(c=Q.data(t,J))?t.parentNode:ve(c)}return(!s||n)&&!0!==l&&a&&o}(u,d));if(r)return n&&v(s,o,"start",F(a)),y(),n&&v(s,o,"close",F(a)),s;l&&function(e){var t=e.querySelectorAll("["+Z+"]");Te(t,function(e){var t=parseInt(e.getAttribute(Z),10),n=S.get(e);if(n)switch(t){case 2:n.runner.end();case 1:S.delete(e)}})}(u);var p={structural:l,element:c,event:o,addClass:a.addClass,removeClass:a.removeClass,close:y,options:a,runner:s};if(f){if(H("skip",p,h))return 2===h.state?(y(),s):(V(c,h,p),h.runner);if(H("cancel",p,h))if(2===h.state)h.runner.end();else{if(!h.structural)return V(c,h,p),h.runner;h.close()}else if(H("join",p,h)){if(2!==h.state)return function(e,t,n){var r="";t&&(r=he(t,ce,!0)),n.addClass&&(r=W(r,he(n.addClass,se))),n.removeClass&&(r=W(r,he(n.removeClass,le))),r.length&&(n.preparationClasses=r,e.addClass(r))}(c,l?o:null,a),o=p.event=h.event,a=V(c,h,p),h.runner;R(c,p)}}else R(c,p);var m=p.structural;m=m||("animate"===p.event&&0<Object.keys(p.options.to||{}).length||j(p));if(!m)return y(),I(u),s;var g=(h.counter||0)+1;return p.counter=g,L(u,1,p),w.$$postDigest(function(){c=q(i);var e=S.get(u),t=!e;e=e||{};var n=0<(c.parent()||[]).length&&("animate"===e.event||e.structural||j(e));if(t||e.counter!==g||!n)return t&&(P(c,a),pe(c,a)),(t||l&&e.event!==o)&&(a.domOperation(),s.end()),void(n||I(u));o=!e.structural&&j(e,!0)?"setClass":e.event,L(u,2);var r=E(c,o,e.options);s.setHost(r),v(s,o,"start",F(a)),r.done(function(e){y(!e);var t=S.get(u);t&&t.counter===g&&I(u),v(s,o,"close",F(a))})}),s;function v(e,a,s,l){t(function(){var t,n,r,i,e,o=(t=d,n=u,i=[],(e=T[r=a])&&Te(e,function(e){(D.call(e.node,n)||"leave"===r&&D.call(e.node,t))&&i.push(e.callback)}),i);o.length?b(function(){Te(o,function(e){e(c,s,l)}),O(s,u)}):O(s,u)}),e.progress(a,s,l)}function y(e){var t,n;t=c,(n=a).preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),P(c,a),pe(c,a),a.domOperation(),s.complete(!e)}}(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!k;else if(g(e)){var r=ve(e);1===n?t=!A.get(r):(A.has(r)||Q(e).on("$destroy",i),A.set(r,!t))}else t=k=!!e;return t}};return u;function I(e){e.removeAttribute(Z),S.delete(e)}function L(e,t,n){(n=n||{}).state=t,e.setAttribute(Z,t);var r=S.get(e),i=r?m(r,n):n;S.set(e,i)}}]}],b=["$animateProvider",function(e){var b="ng-animate-ref",w=this.drivers=[],C="$$animationRunner",x="$$animatePrepareClasses";function E(e){return e.data(C)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(d,c,h,f,r,p,m){var g=[],v=z(d);function y(e){var t,i={children:[]},o=new r;for(t=0;t<e.length;t++){var n=e[t];o.set(n.domNode,e[t]={domNode:n.domNode,element:n.element,fn:n.fn,children:[]})}for(t=0;t<e.length;t++)a(e[t]);return function(e){var t,n=[],r=[];for(t=0;t<e.children.length;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;t<r.length;t++){var s=r[t];i<=0&&(i=o,o=0,n.push(a),a=[]),a.push(s),s.children.forEach(function(e){o++,r.push(e)}),i--}a.length&&n.push(a);return n}(i);function a(e){if(e.processed)return e;e.processed=!0;var t,n=e.domNode,r=n.parentNode;for(o.set(n,e);r;){if(t=o.get(r)){t.processed||(t=a(t));break}r=r.parentNode}return(t||i).children.push(e),e}}return function(t,n,u){u=fe(u);var e=0<=["enter","move","leave"].indexOf(n),r=new f({end:function(){l()},cancel:function(){l(!0)}});if(!w.length)return l(),r;var i,o=$(t.attr("class"),$(u.addClass,u.removeClass)),a=u.tempClasses;return a&&(o+=" "+a,u.tempClasses=null),e&&t.data(x,"ng-"+n+"-prepare"),i=r,t.data(C,i),g.push({element:t,classes:o,event:n,structural:e,options:u,beforeStart:function(){a=(a?a+" ":"")+_,d.addClass(t,a);var e=t.data(x);e&&(d.removeClass(t,e),e=null)},close:l}),t.on("$destroy",s),1<g.length||c.$$postDigest(function(){var t=[];Te(g,function(e){E(e.element)?t.push(e):e.close()}),g.length=0;var e=function(u){var d=[],h={};Te(u,function(e,n){var t,r,i,o=ve(e.element),a=e.event,s=0<=["enter","move"].indexOf(a),l=e.structural?(r=(t=o).hasAttribute(b)?[t]:t.querySelectorAll("[ng-animate-ref]"),i=[],Te(r,function(e){var t=e.getAttribute(b);t&&t.length&&i.push(e)}),i):[];if(l.length){var c=s?"to":"from";Te(l,function(e){var t=e.getAttribute(b);h[t]=h[t]||{},h[t][c]={animationID:n,element:Q(e)}})}else d.push(e)});var f={},p={};return Te(h,function(e,t){var n=e.from,r=e.to;if(n&&r){var i=u[n.animationID],o=u[r.animationID],a=n.animationID.toString();if(!p[a]){var s=p[a]={structural:!0,beforeStart:function(){i.beforeStart(),o.beforeStart()},close:function(){i.close(),o.close()},classes:function(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;o<t.length;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}(i.classes,o.classes),from:i,to:o,anchors:[]};s.classes.length?d.push(s):(d.push(i),d.push(o))}p[a].anchors.push({out:n.element,in:r.element})}else{var l=n?n.animationID:r.animationID,c=l.toString();f[c]||(f[c]=!0,d.push(u[l]))}}),d}(t),n=[];Te(e,function(s){var e=s.from?s.from.element:s.element,t=u.addClass;t=(t?t+" ":"")+_;var l=m.cacheKey(e[0],s.event,t,u.removeClass);n.push({element:e,domNode:ve(e),fn:function(){var e,t=s.close;if(m.containsCachedAnimationWithoutDuration(l))t();else{var n,r;if(s.beforeStart(),E(s.anchors?s.from.element||s.to.element:s.element)){var i=function(e){for(var t=w.length-1;0<=t;t--){var n=w[t],r=h.get(n)(e);if(r)return r}}(s);i&&(e=i.start)}if(e){var o=e();o.done(function(e){t(!e)}),r=o,(n=s).from&&n.to?(a(n.from.element),a(n.to.element)):a(n.element)}else t()}function a(e){var t=E(e);t&&t.setHost(r)}}})});for(var r=y(n),i=0;i<r.length;i++)for(var o=r[i],a=0;a<o.length;a++){var s=o[a],l=s.element;if(r[i][a]=s.fn,0!==i){var c=l.data(x);c&&d.addClass(l,c)}else l.removeData(x)}p(r)}),r;function s(){var e=E(t);!e||"leave"===n&&u.$$domOperationFired||e.end()}function l(e){t.off("$destroy",s),t.removeData(C),v(t,u),pe(t,u),u.domOperation(),a&&d.removeClass(t,a),r.complete(!e)}}}]}];e.module("ngAnimate",[],function(){Ne=e.noop,ke=e.copy,m=e.extend,Q=e.element,Te=e.forEach,Me=e.isArray,K=e.isString,Y=e.isObject,X=e.isUndefined,G=e.isDefined,C=e.isFunction,g=e.isElement}).info({angularVersion:"1.7.8"}).directive("ngAnimateSwap",["$animate",function(s){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(e,n,t,r,i){var o,a;e.$watchCollection(t.ngAnimateSwap||t.for,function(e){o&&s.leave(o),a&&(a.$destroy(),a=null),!e&&0!==e||i(function(e,t){o=e,a=t,s.enter(e,null,n)})})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(n){var r,i;function e(e){r=r.concat(e),o()}return r=e.queue=[],e.waitUntilQuiet=function(e){i&&i(),i=n(function(){i=null,e(),o()})},e;function o(){if(r.length){for(var e=r.shift(),t=0;t<e.length;t++)e[t]();i||n(function(){i||o()})}}}]).provider("$$animateQueue",y).provider("$$animateCache",function(){var a="$$ngAnimateParentKey",s=0,r=Object.create(null);this.$get=[function(){return{cacheKey:function(e,t,n,r){var i=e.parentNode,o=[i[a]||(i[a]=++s),t,e.getAttribute("class")];return n&&o.push(n),r&&o.push(r),o.join(" ")},containsCachedAnimationWithoutDuration:function(e){var t=r[e];return t&&!t.isValid||!1},flush:function(){r=Object.create(null)},count:function(e){var t=r[e];return t?t.total:0},get:function(e){var t=r[e];return t&&t.value},put:function(e,t,n){r[e]?(r[e].total++,r[e].value=t):r[e]={total:1,value:t,isValid:n}}}}]}).provider("$$animation",b).provider("$animateCss",c).provider("$$animateCssDriver",u).provider("$$animateJs",d).provider("$$animateJsDriver",v)}(window,window.angular),function(e){"use strict";var x,p,l,c;function t(f){return["$animate",function(h){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(e,r,t,i,n){var o,a,s,l,c,u;if(!f){o=r[0],s=t.ngMessage||t.when;var d=function(e){a=e?p(e)?e:e.split(/[\s,]+/):null,i.reRender()};(l=t.ngMessageExp||t.whenExp)?(d(e.$eval(l)),e.$watchCollection(l,d)):d(s)}i.register(o,u={test:function(e){return function(e,t){if(e)return p(e)?0<=e.indexOf(t):e.hasOwnProperty(t)}(a,e)},attach:function(){c||n(function(e,t){h.enter(e,null,r);var n=(c=e).$$attachId=i.getAttachId();c.on("$destroy",function(){c&&c.$$attachId===n&&(i.deregister(o,f),u.detach()),t.$destroy()})})},detach:function(){if(c){var e=c;c=null,h.leave(e)}}},f),e.$on("$destroy",function(){i.deregister(o,f)})}}}]}e.module("ngMessages",[],function(){x=e.forEach,p=e.isArray,l=e.isString,c=e.element}).info({angularVersion:"1.7.8"}).directive("ngMessages",["$animate",function(y){var b="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(h,f,p){var m=this,i=0,e=0;this.getAttachId=function(){return e++};var g,v,o=this.messages={};function a(e,t){for(var n=t,r=[];n&&n!==e;){var i=n.$$ngMessageNode;if(i&&i.length)return o[i];n.childNodes.length&&-1===r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,r.push(n))}}this.render=function(e){g=!1,v=e=e||{};for(var t=w(f,p.ngMessagesMultiple)||w(f,p.multiple),n=[],r={},i=0,o=m.head,a=!1,s=0;null!=o;){s++;var l=o.message,c=!1;a||x(e,function(e,t){if(C(e)&&!c&&(i++,l.test(t))){if(r[t])return;r[t]=!0,c=!0,l.attach()}}),c?a=!t:n.push(l),o=o.next}x(n,function(e){e.detach()});var u=n.length!==s,d=m.default&&!u&&0<i;d?m.default.attach():m.default&&m.default.detach(),u||d?y.setClass(h,"ng-active",b):y.setClass(h,b,"ng-active")},f.$watchCollection(p.ngMessages||p.for,m.render),this.reRender=function(){g||(g=!0,f.$evalAsync(function(){g&&v&&m.render(v)}))},this.register=function(e,t,n){if(n)m.default=t;else{var r=i.toString();o[r]={message:t},function(e,t,n){var r=o[n];if(m.head){var i=a(e,t);i?(r.next=i.next,i.next=r):(r.next=m.head,m.head=r)}else m.head=r}(h[0],e,r),e.$$ngMessageNode=r,i++}m.reRender()},this.deregister=function(e,t){if(t)delete m.default;else{var n=e.$$ngMessageNode;delete e.$$ngMessageNode,function(e,t,n){var r=o[n];if(!r)return;var i=a(e,t);i?i.next=r.next:m.head=r.next}(h[0],e,n),delete o[n]}m.reRender()}}]};function w(e,t){return l(t)&&0===t.length||C(e.$eval(t))}function C(e){return l(e)?e.length:!!e}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(i,o,a){return{restrict:"AE",require:"^^ngMessages",link:function(t,n,e){var r=e.ngMessagesInclude||e.src;i(r).then(function(e){t.$$destroyed||(l(e)&&!e.trim()?s(n,r):a(e)(t,function(e){n.after(e),s(n,r)}))})}};function s(e,t){var n=a.$$createComment?a.$$createComment("ngMessagesInclude",t):o[0].createComment(" ngMessagesInclude: "+t+" "),r=c(n);e.after(r),e.remove()}}]).directive("ngMessage",t()).directive("ngMessageExp",t()).directive("ngMessageDefault",t(!0))}((window,window.angular)),function(w){"use strict";function i(e,t){var a=[],n=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,r){var i="?"===r||"*?"===r,o="*"===r||"*?"===r;return a.push({name:n,optional:i}),t=t||"",(i?"(?:"+t:t+"(?:")+(o?"(.+?)":"([^/]+)")+(i?"?)?":")")}).replace(/([/$*])/g,"\\$1");return t.ignoreTrailingSlashes&&(n=n.replace(/\/+$/,"")+"/*"),{keys:a,regexp:new RegExp("^"+n+"(?:[?#]|$)",t.caseInsensitiveMatch?"i":"")}}var o,a,t,C,n,e=w.module("ngRoute",[]).info({angularVersion:"1.7.8"}).provider("$route",function(){function y(e,t){return w.extend(Object.create(e),t)}o=w.isArray,a=w.isObject,t=w.isDefined,C=w.noop;var b={};this.when=function(e,t){var n=function(e,t){if(o(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(a(e))for(var i in t=t||{},e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i]);return t||e}(t);if(w.isUndefined(n.reloadOnUrl)&&(n.reloadOnUrl=!0),w.isUndefined(n.reloadOnSearch)&&(n.reloadOnSearch=!0),w.isUndefined(n.caseInsensitiveMatch)&&(n.caseInsensitiveMatch=this.caseInsensitiveMatch),b[e]=w.extend(n,{originalPath:e},e&&i(e,n)),e){var r="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";b[r]=w.extend({originalPath:e,redirectTo:e},i(r,n))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},n=!0,this.eagerInstantiationEnabled=function(e){return t(e)?(n=e,this):n},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(a,s,i,o,l,r,c,e){var u,d,h=!1,f={routes:b,reload:function(){var e={defaultPrevented:!(h=!0),preventDefault:function(){this.defaultPrevented=!0,h=!1}};a.$evalAsync(function(){t(e),e.defaultPrevented||n()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw x("norout","Tried updating route with no current route");e=w.extend({},this.current.params,e),s.path(v(this.current.$$route.originalPath,e)),s.search(e)}};return a.$on("$locationChangeStart",t),a.$on("$locationChangeSuccess",n),f;function t(e){var n,r,t,i,o=f.current;w.forEach(b,function(e,t){!r&&(n=function(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var o=1,a=i.length;o<a;++o){var s=n[o-1],l=i[o];s&&l&&(r[s.name]=l)}return r}(s.path(),e))&&((r=y(e,{params:w.extend({},s.search(),n),pathParams:n})).$$route=e)}),u=r||b.null&&y(b.null,{params:{},pathParams:{}}),t=u,i=o,(d=!h&&t&&i&&t.$$route===i.$$route&&(!t.reloadOnUrl||!t.reloadOnSearch&&w.equals(t.pathParams,i.pathParams)))||!o&&!u||a.$broadcast("$routeChangeStart",u,o).defaultPrevented&&e&&e.preventDefault()}function n(){var t=f.current,n=u;if(d)t.params=n.params,w.copy(t.params,i),a.$broadcast("$routeUpdate",t);else if(n||t){h=!1,f.current=n;var r=o.resolve(n);e.$$incOutstandingRequestCount("$route"),r.then(p).then(m).then(function(e){return e&&r.then(g).then(function(e){n===f.current&&(n&&(n.locals=e,w.copy(n.params,i)),a.$broadcast("$routeChangeSuccess",n,t))})}).catch(function(e){n===f.current&&a.$broadcast("$routeChangeError",n,t,e)}).finally(function(){e.$$completeOutstandingRequest(C,"$route")})}}function p(e){var t={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(w.isString(e.redirectTo))t.path=v(e.redirectTo,e.params),t.search=e.params,t.hasRedirection=!0;else{var n=s.path(),r=s.search(),i=e.redirectTo(e.pathParams,n,r);w.isDefined(i)&&(t.url=i,t.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(l.invoke(e.resolveRedirectTo)).then(function(e){return w.isDefined(e)&&(t.url=e,t.hasRedirection=!0),t});return t}function m(e){var t=!0;if(e.route!==f.current)t=!1;else if(e.hasRedirection){var n=s.url(),r=e.url;r?s.url(r).replace():r=s.path(e.path).search(e.search).replace().url(),r!==n&&(t=!1)}return t}function g(e){if(e){var n=w.extend({},e.resolve);w.forEach(n,function(e,t){n[t]=w.isString(e)?l.get(e):l.invoke(e,null,null,t)});var t=function(e){var t,n;w.isDefined(t=e.template)?w.isFunction(t)&&(t=t(e.params)):w.isDefined(n=e.templateUrl)&&(w.isFunction(n)&&(n=n(e.params)),w.isDefined(n)&&(e.loadedTemplateUrl=c.valueOf(n),t=r(n)));return t}(e);return w.isDefined(t)&&(n.$template=t),o.all(n)}}function v(e,i){var o=[];return w.forEach((e||"").split(":"),function(e,t){if(0===t)o.push(e);else{var n=e.match(/(\w+)(?:[?*])?(.*)/),r=n[1];o.push(i[r]),o.push(n[2]||""),delete i[r]}}),o.join("")}}]}).run(r),x=w.$$minErr("ngRoute");function r(e){n&&e.get("$route")}function s(f,p,m){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(o,a,e,t,s){var l,c,n,u=e.autoscroll,d=e.onload||"";function h(){n&&(m.cancel(n),n=null),l&&(l.$destroy(),l=null),c&&((n=m.leave(c)).done(function(e){!1!==e&&(n=null)}),c=null)}function r(){var e=f.current&&f.current.locals,t=e&&e.$template;if(w.isDefined(t)){var n=o.$new(),r=f.current,i=s(n,function(e){m.enter(e,null,c||a).done(function(e){!1===e||!w.isDefined(u)||u&&!o.$eval(u)||p()}),h()});c=i,(l=r.scope=n).$emit("$viewContentLoaded"),l.$eval(d)}else h()}o.$on("$routeChangeSuccess",r),r()}}}function l(a,s,l){return{restrict:"ECA",priority:-400,link:function(e,t){var n=l.current,r=n.locals;t.html(r.$template);var i=a(t.contents());if(n.controller){r.$scope=e;var o=s(n.controller,r);n.controllerAs&&(e[n.controllerAs]=o),t.data("$ngControllerController",o),t.children().data("$ngControllerController",o)}e[n.resolveAs||"$resolve"]=r,i(e)}}}r.$inject=["$injector"],e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",s),e.directive("ngView",l),s.$inject=["$route","$anchorScroll","$animate"],l.$inject=["$compile","$controller","$route"]}((window,window.angular)),function(_,$){"use strict";var S,A,k,T,M,N,P,R,D,O,I=$.$$minErr("$sanitize");$.module("ngSanitize",[]).provider("$sanitize",function(){var t=!1,r=!1;this.$get=["$$sanitizeUri",function(n){return t=!0,r&&A(h,u),function(e){var t=[];return D(e,O(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(e){return M(e)?(r=e,this):r},this.addValidElements=function(e){return t||(T(e)&&(e={htmlElements:e}),b(u,e.svgElements),b(s,e.htmlVoidElements),b(h,e.htmlVoidElements),b(h,e.htmlElements)),this},this.addValidAttrs=function(e){return t||A(g,y(e,!0)),this},S=$.bind,A=$.extend,k=$.forEach,T=$.isArray,M=$.isDefined,N=$.$$lowercase,P=$.noop,D=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e);var n=w(e);if(!n)return"";var r=5;do{if(0===r)throw I("uinput","Failed to sanitize html because the input is unstable");r--,e=n.innerHTML,n=w(e)}while(e!==n.innerHTML);var i=n.firstChild;for(;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),C(i.attributes));break;case 3:t.chars(i.textContent)}var o;if(!((o=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),o=E("nextSibling",i))))for(;null==o&&(i=E("parentNode",i))!==n;)o=E("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=o}for(;i=n.firstChild;)n.removeChild(i)},O=function(e,o){var t=!1,a=S(e,e.push);return{start:function(i,e){i=N(i),!t&&d[i]&&(t=i),t||!0!==h[i]||(a("<"),a(i),k(e,function(e,t){var n=N(t),r="img"===i&&"src"===n||"background"===n;!0!==g[n]||!0===f[n]&&!o(e,r)||(a(" "),a(t),a('="'),a(x(e)),a('"'))}),a(">"))},end:function(e){e=N(e),t||!0!==h[e]||!0===s[e]||(a("</"),a(e),a(">")),e==t&&(t=!1)},chars:function(e){t||a(x(e))}}},R=_.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^#-~ |!])/g,s=v("area,br,col,hr,img,wbr"),e=v("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o=v("rp,rt"),a=A({},o,e),l=A({},e,v("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),c=A({},o,v("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),u=v("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),d=v("script,style"),h=A({},s,l,c,a),f=v("background,cite,href,longdesc,src,xlink:href,xml:base"),p=v("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),m=v("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),g=A({},f,m,p);function v(e,t){return y(e.split(","),t)}function y(e,t){var n,r={};for(n=0;n<e.length;n++)r[t?N(e[n]):e[n]]=!0;return r}function b(e,t){t&&t.length&&A(e,y(t))}var w=function(r,t){var e;if(!t||!t.implementation)throw I("noinert","Can't create an inert html document");var n=((e=t.implementation.createHTMLDocument("inert")).documentElement||e.getDocumentElement()).querySelector("body");return n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',n.querySelector("svg img")?function(e){e="<remove></remove>"+e;try{var t=(new r.DOMParser).parseFromString(e,"text/html").body;return t.firstChild.remove(),t}catch(e){return}}:function(e){n.innerHTML=e,t.documentMode&&function e(t){for(;t;){if(t.nodeType===_.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var s=t.firstChild;s&&e(s),t=E("nextSibling",t)}}(n);return n}):function(e){e="<remove></remove>"+e;try{e=encodeURI(e)}catch(e){return}var t=new r.XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null);var n=t.response.body;return n.firstChild.remove(),n}}(_,_.document);function C(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function x(e){return e.replace(/&/g,"&amp;").replace(n,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(i,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function E(e,t){var n=t[e];if(n&&R.call(t,n))throw I("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}}).info({angularVersion:"1.7.8"}),$.module("ngSanitize").filter("linky",["$sanitize",function(d){var h=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,f=/^mailto:/i,p=$.$$minErr("linky"),m=$.isDefined,g=$.isFunction,v=$.isObject,y=$.isString;return function(e,i,t){if(null==e||""===e)return e;if(!y(e))throw p("notstring","Expected string but received: {0}",e);for(var n,r,o,a=g(t)?t:v(t)?function(){return t}:function(){return{}},s=e,l=[];n=s.match(h);)r=n[0],n[2]||n[4]||(r=(n[3]?"http://":"mailto:")+r),o=n.index,c(s.substr(0,o)),u(r,n[0].replace(f,"")),s=s.substring(o+n[0].length);return c(s),d(l.join(""));function c(e){var t,n;e&&l.push((t=e,O(n=[],P).chars(t),n.join("")))}function u(e,t){var n,r=a(e);for(n in l.push("<a "),r)l.push(n+'="'+r[n]+'" ');!m(i)||"target"in r||l.push('target="',i,'" '),l.push('href="',e.replace(/"/g,"&quot;"),'">'),c(t),l.push("</a>")}}}])}(window,window.angular),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&"undefined"!=typeof exports?module.exports=t():e.Papa=t()}(this,function(){"use strict";var o,e,u="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==u?u:{},i=!u.document&&!!u.postMessage,s=i&&/(\?|&)papaworker(=|&|$)/.test(u.location.search),a=!1,l={},c=0,w={};if(w.parse=function(e,t){var n=(t=t||{}).dynamicTyping||!1;L(n)&&(t.dynamicTypingFunction=n,n={});if(t.dynamicTyping=n,t.transform=!!L(t.transform)&&t.transform,t.worker&&w.WORKERS_SUPPORTED){var r=function(){if(!w.WORKERS_SUPPORTED)return!1;if(!a&&null===w.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=w.SCRIPT_PATH||o;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var t=new u.Worker(e);return t.onmessage=y,t.id=c++,l[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=L(t.step),t.chunk=L(t.chunk),t.complete=L(t.complete),t.error=L(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var i=null;{if(e===w.NODE_STREAM_INPUT&&"undefined"==typeof PAPA_BROWSER_CONTEXT)return(i=new v(t)).getStream();"string"==typeof e?i=new(t.download?f:m)(t):!0===e.readable&&L(e.read)&&L(e.on)?i=new g(t):(u.File&&e instanceof File||e instanceof Object)&&(i=new p(t))}return i.stream(e)},w.unparse=function(e,t){var n=!1,g=!0,v=",",y="\r\n",r='"',i=!1;!function(){if("object"!=typeof t)return;"string"!=typeof t.delimiter||w.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(v=t.delimiter);"boolean"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes);"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);"string"==typeof t.newline&&(y=t.newline);"string"==typeof t.quoteChar&&(r=t.quoteChar);"boolean"==typeof t.header&&(g=t.header)}();var o=new RegExp(I(r),"g");"string"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return s(null,e,i);if("object"==typeof e[0])return s(a(e[0]),e,i)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:a(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),s(e.fields||[],e.data||[],i);throw"exception: Unable to serialize unrecognized input";function a(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function s(e,t,n){var r="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var i=Array.isArray(e)&&0<e.length,o=!Array.isArray(t[0]);if(i&&g){for(var a=0;a<e.length;a++)0<a&&(r+=v),r+=b(e[a],a);0<t.length&&(r+=y)}for(var s=0;s<t.length;s++){var l=i?e.length:t[s].length,c=!1,u=i?0===Object.keys(t[s]).length:0===t[s].length;if(n&&!i&&(c="greedy"===n?""===t[s].join("").trim():1===t[s].length&&0===t[s][0].length),"greedy"===n&&i){for(var d=[],h=0;h<l;h++){var f=o?e[h]:h;d.push(t[s][f])}c=""===d.join("").trim()}if(!c){for(var p=0;p<l;p++){0<p&&!u&&(r+=v);var m=i&&o?e[p]:p;r+=b(t[s][m],p)}s<t.length-1&&(!n||0<l&&!u)&&(r+=y)}}return r}function b(e,t){return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(e=e.toString().replace(o,r+r),"boolean"==typeof n&&n||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e,w.BAD_DELIMITERS)||-1<e.indexOf(v)||" "===e.charAt(0)||" "===e.charAt(e.length-1)?r+e+r:e)}},w.RECORD_SEP=String.fromCharCode(30),w.UNIT_SEP=String.fromCharCode(31),w.BYTE_ORDER_MARK="\ufeff",w.BAD_DELIMITERS=["\r","\n",'"',w.BYTE_ORDER_MARK],w.WORKERS_SUPPORTED=!i&&!!u.Worker,w.SCRIPT_PATH=null,w.NODE_STREAM_INPUT=1,w.LocalChunkSize=10485760,w.RemoteChunkSize=5242880,w.DefaultDelimiter=",",w.Parser=b,w.ParserHandle=n,w.NetworkStreamer=f,w.FileStreamer=p,w.StringStreamer=m,w.ReadableStreamStreamer=g,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(w.DuplexStreamStreamer=v),u.jQuery){var d=u.jQuery;d.fn.parse=function(s){var n=s.config||{},l=[];return this.each(function(e){if(!("INPUT"===d(this).prop("tagName").toUpperCase()&&"file"===d(this).attr("type").toLowerCase()&&u.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)l.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},n)})}),e(),this;function e(){if(0!==l.length){var e,t,n,r,i=l[0];if(L(s.before)){var o=s.before(i.file,i.inputElem);if("object"==typeof o){if("abort"===o.action)return e="AbortError",t=i.file,n=i.inputElem,r=o.reason,void(L(s.error)&&s.error({name:e},t,n,r));if("skip"===o.action)return void c();"object"==typeof o.config&&(i.instanceConfig=d.extend(i.instanceConfig,o.config))}else if("skip"===o)return void c()}var a=i.instanceConfig.complete;i.instanceConfig.complete=function(e){L(a)&&a(e,i.file,i.inputElem),c()},w.parse(i.file,i.instanceConfig)}else L(s.complete)&&s.complete()}function c(){l.splice(0,1),e()}}}function h(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=E(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new n(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&L(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);void 0!==n&&(e=n)}this.isFirstChunk=!1;var r=this._partialLine+e;this._partialLine="";var i=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var o=i.meta.cursor;this._finished||(this._partialLine=r.substring(o-this._baseIndex),this._baseIndex=o),i&&i.data&&(this._rowCount+=i.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)u.postMessage({results:i,workerId:w.WORKER_ID,finished:a});else if(L(this._config.chunk)&&!t){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return;i=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!a||!L(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||i&&i.meta.paused||this._nextChunk(),i}},this._sendError=function(e){L(this._config.error)?this._config.error(e):s&&this._config.error&&u.postMessage({workerId:w.WORKER_ID,error:e,finished:!1})}}function f(e){var r;(e=e||{}).chunkSize||(e.chunkSize=w.RemoteChunkSize),h.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),i||(r.onload=_(this._chunkLoaded,this),r.onerror=_(this._chunkError,this)),r.open("GET",this._input,!i),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var n=this._start+this._config.chunkSize-1;r.setRequestHeader("Range","bytes="+this._start+"-"+n),r.setRequestHeader("If-None-Match","webkit-no-cache")}try{r.send()}catch(e){this._chunkError(e.message)}i&&0===r.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var e;4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null!==(e=r.getResponseHeader("Content-Range"))?parseInt(e.substr(e.lastIndexOf("/")+1)):-1),this.parseChunk(r.responseText)))},this._chunkError=function(e){var t=r.statusText||e;this._sendError(new Error(t))}}function p(e){var r,i;(e=e||{}).chunkSize||(e.chunkSize=w.LocalChunkSize),h.call(this,e);var o="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,i=e.slice||e.webkitSlice||e.mozSlice,o?((r=new FileReader).onload=_(this._chunkLoaded,this),r.onerror=_(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=i.call(e,this._start,t)}var n=r.readAsText(e,this._config.encoding);o||this._chunkLoaded({target:{result:n}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function m(e){var n;h.call(this,e=e||{}),this.stream=function(e){return n=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,t=e?n.substr(0,e):n;return n=e?n.substr(e):"",this._finished=!n,this.parseChunk(t)}}}function g(e){h.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=_(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=_(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=_(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(e){var t=require("stream").Duplex,n=E(e),r=!0,i=!1,o=[],a=null;this._onCsvData=function(e){for(var t=e.data,n=0;n<t.length;n++)a.push(t[n])||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){a.push(null)},n.step=_(this._onCsvData,this),n.complete=_(this._onCsvComplete,this),h.call(this,n),this._nextChunk=function(){i&&1===o.length&&(this._finished=!0),o.length?o.shift()():r=!0},this._addToParseQueue=function(e,t){o.push(_(function(){if(this.parseChunk("string"==typeof e?e:e.toString(n.encoding)),L(t))return t()},this)),r&&(r=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(e,t,n){this._addToParseQueue(e,n)},this._onWriteComplete=function(){i=!0,this._addToParseQueue("")},this.getStream=function(){return a},(a=new t({readableObjectMode:!0,decodeStrings:!1,read:_(this._onRead,this),write:_(this._onWrite,this)})).once("finish",_(this._onWriteComplete,this))}function n(g){var a,s,l,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,i=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,t=this,n=0,o=0,c=!1,e=!1,u=[],d={data:[],errors:[],meta:{}};if(L(g.step)){var h=g.step;g.step=function(e){if(d=e,p())f();else{if(f(),0===d.data.length)return;n+=e.data.length,g.preview&&n>g.preview?s.abort():h(d,t)}}}function v(e){return"greedy"===g.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function f(){if(d&&l&&(y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+w.DefaultDelimiter+"'"),l=!1),g.skipEmptyLines)for(var e=0;e<d.data.length;e++)v(d.data[e])&&d.data.splice(e--,1);return p()&&function(){if(!d)return;for(var e=0;p()&&e<d.data.length;e++)for(var t=0;t<d.data[e].length;t++){var n=d.data[e][t];g.trimHeaders&&(n=n.trim()),u.push(n)}d.data.splice(0,1)}(),function(){if(!d||!g.header&&!g.dynamicTyping&&!g.transform)return d;for(var e=0;e<d.data.length;e++){var t,n=g.header?{}:[];for(t=0;t<d.data[e].length;t++){var r=t,i=d.data[e][t];g.header&&(r=t>=u.length?"__parsed_extra":u[t]),g.transform&&(i=g.transform(i,r)),i=m(r,i),"__parsed_extra"===r?(n[r]=n[r]||[],n[r].push(i)):n[r]=i}d.data[e]=n,g.header&&(t>u.length?y("FieldMismatch","TooManyFields","Too many fields: expected "+u.length+" fields but parsed "+t,o+e):t<u.length&&y("FieldMismatch","TooFewFields","Too few fields: expected "+u.length+" fields but parsed "+t,o+e))}g.header&&d.meta&&(d.meta.fields=u);return o+=d.data.length,d}()}function p(){return g.header&&0===u.length}function m(e,t){return n=e,g.dynamicTypingFunction&&void 0===g.dynamicTyping[n]&&(g.dynamicTyping[n]=g.dynamicTypingFunction(n)),!0===(g.dynamicTyping[n]||g.dynamicTyping)?"true"===t||"TRUE"===t||"false"!==t&&"FALSE"!==t&&(r.test(t)?parseFloat(t):i.test(t)?new Date(t):""===t?null:t):t;var n}function y(e,t,n,r){d.errors.push({type:e,code:t,message:n,row:r})}this.parse=function(e,t,n){var r=g.quoteChar||'"';if(g.newline||(g.newline=function(e,t){e=e.substr(0,1048576);var n=new RegExp(I(t)+"([^]*?)"+I(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(e,r)),l=!1,g.delimiter)L(g.delimiter)&&(g.delimiter=g.delimiter(e),d.meta.delimiter=g.delimiter);else{var i=function(e,t,n,r){for(var i,o,a,s=[",","\t","|",";",w.RECORD_SEP,w.UNIT_SEP],l=0;l<s.length;l++){var c=s[l],u=0,d=0,h=0;a=void 0;for(var f=new b({comments:r,delimiter:c,newline:t,preview:10}).parse(e),p=0;p<f.data.length;p++)if(n&&v(f.data[p]))h++;else{var m=f.data[p].length;d+=m,void 0!==a?1<m&&(u+=Math.abs(m-a),a=m):a=0}0<f.data.length&&(d/=f.data.length-h),(void 0===o||o<u)&&1.99<d&&(o=u,i=c)}return{successful:!!(g.delimiter=i),bestDelimiter:i}}(e,g.newline,g.skipEmptyLines,g.comments);i.successful?g.delimiter=i.bestDelimiter:(l=!0,g.delimiter=w.DefaultDelimiter),d.meta.delimiter=g.delimiter}var o=E(g);return g.preview&&g.header&&o.preview++,a=e,s=new b(o),d=s.parse(a,t,n),f(),c?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,s.abort(),a=a.substr(s.getCharIndex())},this.resume=function(){c=!1,t.streamer.parseChunk(a,!0)},this.aborted=function(){return e},this.abort=function(){e=!0,s.abort(),d.meta.aborted=!0,L(g.complete)&&g.complete(d),a=""}}function I(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(e){var S,A=(e=e||{}).delimiter,k=e.newline,T=e.comments,M=e.step,N=e.preview,P=e.fastMode,R=S=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(R=e.escapeChar),("string"!=typeof A||-1<w.BAD_DELIMITERS.indexOf(A))&&(A=","),T===A)throw"Comment character same as delimiter";!0===T?T="#":("string"!=typeof T||-1<w.BAD_DELIMITERS.indexOf(T))&&(T=!1),"\n"!==k&&"\r"!==k&&"\r\n"!==k&&(k="\n");var D=0,O=!1;this.parse=function(r,t,n){if("string"!=typeof r)throw"Input must be a string";var i=r.length,e=A.length,o=k.length,a=T.length,s=L(M),l=[],c=[],u=[],d=D=0;if(!r)return _();if(P||!1!==P&&-1===r.indexOf(S)){for(var h=r.split(k),f=0;f<h.length;f++){if(u=h[f],D+=u.length,f!==h.length-1)D+=k.length;else if(n)return _();if(!T||u.substr(0,a)!==T){if(s){if(l=[],w(u.split(A)),$(),O)return _()}else w(u.split(A));if(N&&N<=f)return l=l.slice(0,N),_(!0)}}return _()}for(var p,m=r.indexOf(A,D),g=r.indexOf(k,D),v=new RegExp(I(R)+I(S),"g");;)if(r[D]!==S)if(T&&0===u.length&&r.substr(D,a)===T){if(-1===g)return _();D=g+o,g=r.indexOf(k,D),m=r.indexOf(A,D)}else if(-1!==m&&(m<g||-1===g))u.push(r.substring(D,m)),D=m+e,m=r.indexOf(A,D);else{if(-1===g)break;if(u.push(r.substring(D,g)),E(g+o),s&&($(),O))return _();if(N&&l.length>=N)return _(!0)}else for(p=D,D++;;){if(-1===(p=r.indexOf(S,p+1)))return n||c.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:l.length,index:D}),x();if(p===i-1)return x(r.substring(D,p).replace(v,S));if(S!==R||r[p+1]!==R){if(S===R||0===p||r[p-1]!==R){var y=C(-1===g?m:Math.min(m,g));if(r[p+1+y]===A){u.push(r.substring(D,p).replace(v,S)),D=p+1+y+e,m=r.indexOf(A,D),g=r.indexOf(k,D);break}var b=C(g);if(r.substr(p+1+b,o)===k){if(u.push(r.substring(D,p).replace(v,S)),E(p+1+b+o),m=r.indexOf(A,D),s&&($(),O))return _();if(N&&l.length>=N)return _(!0);break}c.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:l.length,index:D}),p++}}else p++}return x();function w(e){l.push(e),d=D}function C(e){var t=0;if(-1!==e){var n=r.substring(p+1,e);n&&""===n.trim()&&(t=n.length)}return t}function x(e){return n||(void 0===e&&(e=r.substr(D)),u.push(e),D=i,w(u),s&&$()),_()}function E(e){D=e,w(u),u=[],g=r.indexOf(k,D)}function _(e){return{data:l,errors:c,meta:{delimiter:A,linebreak:k,aborted:O,truncated:!!e,cursor:d+(t||0)}}}function $(){M(_()),l=[],c=[]}},this.abort=function(){O=!0},this.getCharIndex=function(){return D}}function y(e){var t=e.data,n=l[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,C(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:x,resume:x};if(L(n.userStep)){for(var o=0;o<t.results.data.length&&(n.userStep({data:[t.results.data[o]],errors:t.results.errors,meta:t.results.meta},i),!r);o++);delete t.results}else L(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&C(t.workerId,t.results)}function C(e,t){var n=l[e];L(n.userComplete)&&n.userComplete(t),n.terminate(),delete l[e]}function x(){throw"Not implemented."}function E(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=E(e[n]);return t}function _(e,t){return function(){e.apply(t,arguments)}}function L(e){return"function"==typeof e}return s?u.onmessage=function(e){var t=e.data;void 0===w.WORKER_ID&&t&&(w.WORKER_ID=t.workerId);if("string"==typeof t.input)u.postMessage({workerId:w.WORKER_ID,results:w.parse(t.input,t.config),finished:!0});else if(u.File&&t.input instanceof File||t.input instanceof Object){var n=w.parse(t.input,t.config);n&&u.postMessage({workerId:w.WORKER_ID,results:n,finished:!0})}}:w.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),o=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){a=!0},!0):a=!0),(f.prototype=Object.create(h.prototype)).constructor=f,(p.prototype=Object.create(h.prototype)).constructor=p,(m.prototype=Object.create(m.prototype)).constructor=m,(g.prototype=Object.create(h.prototype)).constructor=g,"undefined"==typeof PAPA_BROWSER_CONTEXT&&((v.prototype=Object.create(h.prototype)).constructor=v),w}),function(t){"use strict";var f="ngAriaDisable",e=t.module("ngAria",["ng"]).info({angularVersion:"1.7.8"}).provider("$aria",function(){var l={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};function e(i,o,a,s){return function(e,t,n){if(!n.hasOwnProperty(f)){var r=n.$normalize(o);!l[r]||c(t,a)||n[r]||e.$watch(n[i],function(e){e=s?!e:!!e,t.attr(o,e)})}}}this.config=function(e){l=t.extend(l,e)},this.$get=function(){return{config:function(e){return l[e]},$$watchExpr:e}}}),o=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],c=function(e,t){if(-1!==t.indexOf(e[0].nodeName))return!0};e.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",o,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",o,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",o,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",o,!1)}]).directive("ngModel",["$aria",function(u){function d(e,t,n,r){return u.config(t)&&!n.attr(e)&&(r||!c(n,o))&&("hidden"!==n.attr("type")||"INPUT"!==n[0].nodeName)}function h(e,t){return!t.attr("role")&&t.attr("type")===e&&!c(t,o)}return{restrict:"A",require:"ngModel",priority:200,compile:function(e,t){if(!t.hasOwnProperty(f)){var n,r,i,c=(r=(n=t).type,i=n.role,"checkbox"===(r||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(r||i)||"menuitemradio"===i?"radio":"range"===r||"progressbar"===i||"slider"===i?"range":"");return{post:function(e,n,r,i){var t=d("tabindex","tabindex",n,!1);function o(){return i.$modelValue}switch(c){case"radio":case"checkbox":h(c,n)&&n.attr("role",c),d("aria-checked","ariaChecked",n,!1)&&e.$watch(o,"radio"==c?function(e){var t=r.value==i.$viewValue;n.attr("aria-checked",t)}:function(){n.attr("aria-checked",!i.$isEmpty(i.$viewValue))}),t&&n.attr("tabindex",0);break;case"range":if(h(c,n)&&n.attr("role","slider"),u.config("ariaValue")){var a=!n.attr("aria-valuemin")&&(r.hasOwnProperty("min")||r.hasOwnProperty("ngMin")),s=!n.attr("aria-valuemax")&&(r.hasOwnProperty("max")||r.hasOwnProperty("ngMax")),l=!n.attr("aria-valuenow");a&&r.$observe("min",function(e){n.attr("aria-valuemin",e)}),s&&r.$observe("max",function(e){n.attr("aria-valuemax",e)}),l&&e.$watch(o,function(e){n.attr("aria-valuenow",e)})}t&&n.attr("tabindex",0)}!r.hasOwnProperty("ngRequired")&&i.$validators.required&&d("aria-required","ariaRequired",n,!1)&&r.$observe("required",function(){n.attr("aria-required",!!r.required)}),d("aria-invalid","ariaInvalid",n,!0)&&e.$watch(function(){return i.$invalid},function(e){n.attr("aria-invalid",!!e)})}}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",o,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,r){n.hasOwnProperty(f)||t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(i,n){return{restrict:"A",compile:function(e,t){if(!t.hasOwnProperty(f)){var r=n(t.ngClick);return function(n,e,t){c(e,o)||(i.config("bindRoleForClick")&&!e.attr("role")&&e.attr("role","button"),i.config("tabindex")&&!e.attr("tabindex")&&e.attr("tabindex",0),!i.config("bindKeydown")||t.ngKeydown||t.ngKeypress||t.ngKeyup||e.on("keydown",function(e){var t=e.which||e.keyCode;13!==t&&32!==t||(-1!==o.indexOf(e.target.nodeName)||e.target.isContentEditable||e.preventDefault(),n.$apply(function(){r(n,{$event:e})}))}))}}}}}]).directive("ngDblclick",["$aria",function(r){return function(e,t,n){n.hasOwnProperty(f)||!r.config("tabindex")||t.attr("tabindex")||c(t,o)||t.attr("tabindex",0)}}])}((window,window.angular)),function(j,ue,de){"use strict";function e(e,t){if(t.has("$swipe")){e.warn("You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!")}}function t(e,t){e.decorator("$$rAF",["$delegate",n]),e.decorator("$q",["$delegate",r]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function n(o){return o.throttle=function(e){var t,n,r,i;return function(){t=arguments,i=this,r=e,n||(n=!0,o(function(){r.apply(i,Array.prototype.slice.call(t)),n=!1}))}},o}function r(e){return e.resolve||(e.resolve=e.when),e}function i(o){return{restrict:"A",link:{pre:function(e,t,n){var r=n.mdAutoFocus||n.mdAutofocus||n.mdSidenavFocus;i(o(r)(e)),r&&e.$watch(r,i);function i(e){ue.isUndefined(e)&&(e=!0),t.toggleClass("md-autofocus",!!e)}}}}}function o(e,s){function l(){return!0}e&&!ue.isArray(e)&&(e=Array.prototype.slice.call(e)),s=!!s;var c=e||[];return{items:function(){return[].concat(c)},count:function(){return c.length},inRange:u,contains:t,indexOf:d,itemAt:function(e){return u(e)?c[e]:null},findBy:function(t,n){return c.filter(function(e){return e[t]===n})},add:function(e,t){if(!e)return-1;ue.isNumber(t)||(t=c.length);return c.splice(t,0,e),d(e)},remove:function(e){t(e)&&c.splice(d(e),1)},first:h,last:f,next:ue.bind(null,n,!1),previous:ue.bind(null,n,!0),hasPrevious:function(e){return!!e&&u(d(e)-1)},hasNext:function(e){return!!e&&u(d(e)+1)}};function u(e){return c.length&&-1<e&&e<c.length}function d(e){return c.indexOf(e)}function t(e){return e&&-1<d(e)}function h(){return c.length?c[0]:null}function f(){return c.length?c[c.length-1]:null}function n(e,t,n,r){n=n||l;for(var i=d(t);;){if(!u(i))return null;var o=i+(e?-1:1),a=null;if(u(o)?a=c[o]:s&&(o=d(a=(e?f:h)())),null===a||o===r)return null;if(n(a))return a;ue.isUndefined(r)&&(r=o),i=o}}}function a(a,t,i){var o={},s={},l={},n={};return e.getResponsiveAttribute=function(e,t){for(var n=0;n<a.MEDIA_PRIORITY.length;n++){var r=a.MEDIA_PRIORITY[n];if(s[o[r]].matches){var i=u(e,t+"-"+r);if(e[i])return e[i]}}return e[u(e,t)]},e.getQuery=function(e){return s[e]},e.watchResponsiveAttributes=function(e,r,i){var o=[];return e.forEach(function(e){var t=u(r,e);for(var n in ue.isDefined(r[t])&&o.push(r.$observe(t,ue.bind(void 0,i,null))),a.MEDIA)t=u(r,e+"-"+n),ue.isDefined(r[t])&&o.push(r.$observe(t,ue.bind(void 0,i,n)))}),function(){o.forEach(function(e){e()})}},e;function e(e){var t,n=o[e];ue.isUndefined(n)&&(n=o[e]=(t=e,a.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)));var r=l[n];return ue.isUndefined(r)&&(r=function(e){var t=s[e];t=t||(s[e]=i.matchMedia(e));return t.addListener(c),l[t.media]=!!t.matches}(n)),r}function c(e){t.$evalAsync(function(){l[e.media]=!!e.matches})}function u(e,t){return n[t]||(n[t]=e.$normalize(t))}}function s(e,t){var r=["data","x"];return e?(t?n:i)(e):{buildList:i,buildSelector:n,hasAttribute:function(e,t){if(!(e=o(e)))return!1;for(var n=i(t),r=0;r<n.length;r++)if(e.hasAttribute(n[r]))return!0;return!1},removeAttribute:function(t,e){if(!(t=o(t)))return;i(e).forEach(function(e){t.removeAttribute(e)})}};function i(n){return(n=ue.isArray(n)?n:[n]).forEach(function(t){r.forEach(function(e){n.push(e+"-"+t)})}),n}function n(e){return i(e=ue.isArray(e)?e:[e]).map(function(e){return"["+e+"]"}).join(",")}function o(e){if((e=e[0]||e).nodeType)return e}}function $(e){return e.replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()})}var S,A,k,T,M,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x,E;function _(r,i,l,o){var a=this.showWarnings;return{expect:s,expectAsync:c,expectWithText:function(e,t){var n=u(e)||"";-1<n.indexOf(o.startSymbol())?c(e,t,function(){return u(e)}):s(e,t,n)},expectWithoutText:function(e,t){var n=u(e);-1<n.indexOf(o.startSymbol())||n||s(e,t,n)},getText:u,hasAriaLabel:d,parentHasAriaLabel:function e(t,n){n=n||1;var r=ue.element(t)[0]||t;if(!r.parentNode)return!1;if(i(r.parentNode))return!0;n--;if(n)return e(r.parentNode,n);return!1;function i(e){if(!d(e))return!1;if(e.hasAttribute("role"))switch(e.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(e.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}}};function s(e,t,n){var r=ue.element(e)[0]||e;!r||r.hasAttribute(t)&&0!==r.getAttribute(t).length||function(e,t){var n=e.hasChildNodes(),r=!1;if(n)for(var i=e.childNodes,o=0;o<i.length;o++){var a=i[o];1===a.nodeType&&a.hasAttribute(t)&&"none"!==((s=a).currentStyle?s.currentStyle:l.getComputedStyle(s)).display&&(r=!0)}var s;return r}(r,t)||((n=ue.isString(n)?n.trim():"").length?e.attr(t,n):a&&i.warn('ARIA: Attribute "',t,'", required for accessibility, is missing on node:',r))}function c(e,t,n){r(function(){s(e,t,n())})}function u(t){t=t[0]||t;for(var e,n=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),r="";e=n.nextNode();)i(e)||(r+=e.textContent);return r.trim()||"";function i(e){for(;e.parentNode&&(e=e.parentNode)!==t;)if(e.getAttribute&&"true"===e.getAttribute("aria-hidden"))return 1}}function d(e){var t=ue.element(e)[0]||e;return!!t.hasAttribute&&(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby")||t.hasAttribute("aria-describedby"))}}function N(o){var a=!1;function s(e,t,n,r,i){this.$q=e,this.$templateRequest=t,this.$injector=n,this.$compile=r,this.$controller=i}this.respectPreAssignBindingsEnabled=function(e){return ue.isDefined(e)?(a=e,this):a},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(e,t,n,r,i){return new s(e,t,n,r,i)}],s.prototype.compile=function(e){return e.contentElement?this._prepareContentElement(e):this._compileTemplate(e)},s.prototype._prepareContentElement=function(e){var t=this._fetchContentElement(e);return this.$q.resolve({element:t.element,cleanup:t.restore,locals:{},link:function(){return t.element}})},s.prototype._compileTemplate=function(r){var i=this,e=r.templateUrl,t=r.template||"",n=ue.extend({},r.resolve),o=ue.extend({},r.locals),a=r.transformTemplate||ue.identity;return ue.forEach(n,function(e,t){ue.isString(e)?n[t]=i.$injector.get(e):n[t]=i.$injector.invoke(e)}),ue.extend(n,o),n.$$ngTemplate=e?this.$templateRequest(e):this.$q.when(t),this.$q.all(n).then(function(e){var t=a(e.$$ngTemplate,r),n=r.element||ue.element("<div>").html(t.trim()).contents();return i._compileElement(e,n,r)})},s.prototype._compileElement=function(r,i,o){var a=this,s=this.$compile(i),l={element:i,cleanup:i.remove.bind(i),locals:r,link:function(e){if(r.$scope=e,o.controller){var t=ue.extend({},r,{$element:i}),n=a._createController(o,t,r);i.data("$ngControllerController",n),i.children().data("$ngControllerController",n),l.controller=n}return s(e)}};return l},s.prototype._createController=function(e,t,n){var r;if(!a||("function"==typeof o.preAssignBindingsEnabled?o.preAssignBindingsEnabled():1===ue.version.major&&ue.version.minor<6)){var i=this.$controller(e.controller,t,!0);e.bindToController&&ue.extend(i.instance,n),r=i()}else r=this.$controller(e.controller,t),e.bindToController&&ue.extend(r,n);return e.controllerAs&&(t.$scope[e.controllerAs]=r),ue.isFunction(r.$onInit)&&r.$onInit(),r},s.prototype._fetchContentElement=function(e){var t=e.contentElement,n=null;return n=ue.isString(t)?r(t=document.querySelector(t)):(t=t[0]||t,document.contains(t)?r(t):function(){t.parentNode&&t.parentNode.removeChild(t)}),{element:ue.element(t),restore:n};function r(e){var t=e.parentNode,n=e.nextElementSibling;return function(){n?t.insertBefore(e,n):t.appendChild(e)}}}}function P(e,t,n){this.$timeout=e,this.$mdUtil=t,this.$rootScope=n,this.pointerEvent="MSPointerEvent"in j?"MSPointerDown":"PointerEvent"in j?"pointerdown":null,this.bodyElement=ue.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputHandler=this.onInputEvent.bind(this),this.bufferedInputHandler=this.onBufferInputEvent.bind(this),this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents(),this.$rootScope.$on("$destroy",this.deregister.bind(this))}function R(e){return e.replace(f,"").replace(p,function(e,t,n,r){return r?n.toUpperCase():n})}function D(){var e=!!document.querySelector("[md-layouts-disabled]");E.enabled=!e}function O(){return E.enabled=!1,{restrict:"A",priority:"900"}}function I(r){return["$mdUtil","$interpolate","$log",function(e,t,n){return c=e,u=t,d=n,{restrict:"A",compile:function(e,t){var n;return E.enabled&&(H(r,q(r,t,""),B(0,r,t)),i(0,e),n=i),n||ue.noop}}}];function i(e,t){t.addClass(r)}}function L(t){var n=t.split("-");return["$log",function(e){return e.warn(t+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),ue.noop}]}function F(e,t,n,r){var i,o=n[0].nodeName.toLowerCase();switch(e.replace(v,"")){case"flex":"md-button"!=o&&"fieldset"!=o||(i="<"+o+" "+e+"></"+o+">",r.warn(c.supplant("Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",[i,"https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers"])))}}function H(e,t,n){if(!U(t)){switch(e.replace(v,"")){case"layout":z(t,w)||(t=w[0]);break;case"flex":z(t,b)||isNaN(t)&&(t="");break;case"flex-offset":case"flex-order":t&&!isNaN(+t)||(t="0");break;case"layout-align":var r=function(e){var t,n={main:"start",cross:"stretch"};0!==(e=e||"").indexOf("-")&&0!==e.indexOf(" ")||(e="none"+e);(t=e.toLowerCase().trim().replace(y,"-").split("-")).length&&"space"===t[0]&&(t=[t[0]+"-"+t[1],t[2]]);0<t.length&&(n.main=t[0]||n.main);1<t.length&&(n.cross=t[1]||n.cross);C.indexOf(n.main)<0&&(n.main="start");x.indexOf(n.cross)<0&&(n.cross="stretch");return n}(t);t=c.supplant("{main}-{cross}",r);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":t=""}null!=t&&(n||ue.noop)(t)}return t?t.trim():""}function B(e,t,n){return function(e){U(e)||(n[n.$normalize(t)]=e)}}function U(e){return-1<(e||"").indexOf(u.startSymbol())}function q(e,t,n){var r=t.$normalize(e);return t[r]?t[r].trim().replace(y,"-"):n||null}function z(t,e,n){t=n&&t?t.replace(y,n):t;var r=!1;return t&&e.forEach(function(e){e=n?e.replace(y,n):e,r=r||e===t}),r}function V(e){this._$timeout=e,this._liveElement=this._createLiveElement(),this._announceTimeout=100}function W(n,r){var i,o=[],a={};return i={notFoundError:function(e,t){n.error((t||"")+"No instance found for handle",e)},getInstances:function(){return o},get:function(e){if(!s(e))return null;var t,n,r;for(t=0,n=o.length;t<n;t++)if((r=o[t]).$$mdHandle===e)return r;return null},register:function(t,e){return e?(t.$$mdHandle=e,o.push(t),(n=a[e])&&(n.forEach(function(e){e.resolve(t)}),delete a[e]),function(){var e=o.indexOf(t);-1!==e&&o.splice(e,1)}):ue.noop;var n},when:function(e){if(s(e)){var t=r.defer(),n=i.get(e);return n?t.resolve(n):(a[e]===de&&(a[e]=[]),a[e].push(t)),t.promise}return r.reject("Invalid `md-component-id` value.")}};function s(e){return e&&""!==e}}function G(i){return{attach:function(e,t,n){var r;return n=ue.extend((r=t).hasClass("md-icon-button")?{isMenuItem:r.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:r.hasClass("md-menu-item"),dimBackground:!0},n),i.attach(e,t,n)}}}function Y(r){return{attach:function(e,t,n){return r.attach(e,t,ue.extend({center:!0,dimBackground:!1,fitRipple:!0},n))}}}function K(r){return{attach:function(e,t,n){return r.attach(e,t,ue.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},n))}}}function X(r){return{attach:function(e,t,n){return r.attach(e,t,ue.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},n))}}}function Q(c){var u="virtual",t=["standard",u];function d(e){return e?(e=e.toLowerCase(),-1<t.indexOf(e)?e:u):u}return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?inputAriaLabel",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",menuContainerClass:"@?mdMenuContainerClass",inputClass:"@?mdInputClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton",selectedMessage:"@?mdSelectedMessage",mdMode:"=?mdMode"},compile:function(e,n){var r=e.find("input");return["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"].forEach(function(e){var t=n[n.$normalize(e)];null!==t&&r.attr(e,t)}),function(e,t,n,r){r.hasNotFound=!!t.attr("md-has-not-found"),ue.isDefined(n.mdClearButton)||e.floatingLabel||(e.clearButton=!0),e.mdMode=d(n.mdMode)}},template:function(n,e){var t,r,i=(t=n.find("md-not-found").detach(),(r=t.length?t.html():"")?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()"                         md-autocomplete-parent-scope>'+r+"</li>":""),o=function(){var e=n.find("md-item-template").detach(),t=e.length?e.html():n.html();e.length||n.empty();return"<md-autocomplete-parent-scope md-autocomplete-replace>"+t+"</md-autocomplete-parent-scope>"}(),a=n.html(),s=e.tabindex;return i&&n.attr("md-has-not-found",!0),n.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+(e.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                '+(null!=s?'tabindex="'+s+'"':"")+'                id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-class="::inputClass"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-model-options="{ allowInvalid: true }"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                aria-label="{{floatingLabel}}"                aria-autocomplete="list"                role="combobox"                aria-haspopup="true"                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                ng-attr-aria-activedescendant="{{$mdAutocompleteCtrl.index >= 0 ? \'selected_option\' : undefined}}">              <div md-autocomplete-parent-scope md-autocomplete-replace>'+a+"</div>            </md-input-container>":'            <input type="search"              '+(null!=s?'tabindex="'+s+'"':"")+'              id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"              name="{{inputName}}"              ng-class="::inputClass"              ng-if="!floatingLabel"              autocomplete="off"              ng-required="$mdAutocompleteCtrl.isRequired"              ng-disabled="$mdAutocompleteCtrl.isDisabled"              ng-readonly="$mdAutocompleteCtrl.isReadonly"              ng-minlength="inputMinlength"              ng-maxlength="inputMaxlength"              ng-model="$mdAutocompleteCtrl.scope.searchText"              ng-keydown="$mdAutocompleteCtrl.keydown($event)"              ng-blur="$mdAutocompleteCtrl.blur($event)"              ng-focus="$mdAutocompleteCtrl.focus($event)"              placeholder="{{placeholder}}"              aria-label="{{placeholder}}"              aria-autocomplete="list"              role="combobox"              aria-haspopup="true"              aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"              aria-owns="ul-{{$mdAutocompleteCtrl.id}}"              ng-attr-aria-activedescendant="{{$mdAutocompleteCtrl.index >= 0 ? \'selected_option\' : undefined}}">')+'          <button type="button" aria-label="Clear Input" tabindex="-1" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+c.mdClose+'"></md-icon></button>          <md-progress-linear              class="'+(e.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          '+function(e,t){if(e=e?" "+e:"",l(t))return'            <div                 ng-hide="$mdAutocompleteCtrl.hidden"                class="md-standard-list-container md-autocomplete-suggestions-container md-whiteframe-z1'+e+'"                ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"                role="presentation">              <div class="md-standard-list-scroller" role="presentation">';return'          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-virtual-repeat-container md-autocomplete-suggestions-container md-whiteframe-z1'+e+'"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              role="presentation">'}(e.mdMenuContainerClass,e.mdMode)+'            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}"                ng-mouseenter="$mdAutocompleteCtrl.listEnter()"                ng-mouseleave="$mdAutocompleteCtrl.listLeave()"                ng-mouseup="$mdAutocompleteCtrl.mouseUp()"                role="listbox">              <li '+(l(e.mdMode)?"ng-repeat":"md-virtual-repeat")+' ="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-attr-id="{{$index === $mdAutocompleteCtrl.index ? \'selected_option\' : undefined}}"                  ng-click="$mdAutocompleteCtrl.select($index)"                  role="option"                  aria-setsize="{{$mdAutocompleteCtrl.matches.length}}"                  aria-posinset="{{$index+1}}"                  aria-selected="{{$index === $mdAutocompleteCtrl.index ? true : false}}"                   md-extra-name="$mdAutocompleteCtrl.itemName">                  '+o+"                  </li>"+i+"            </ul>          "+(l(e.mdMode)?"   </div>              </div>            </div>":"</md-virtual-repeat-container>")+"        </md-autocomplete-wrap>";function l(e){return d(e)!==u}}}}function Z(e,c){return{restrict:"AE",compile:function(e,t,l){return function(n,t){var e,r,i=n.$mdAutocompleteCtrl,o=i.parent.$new(),a=i.itemName;function s(e,t){o[t]=n[e],n.$watch(e,function(e){c.nextTick(function(){o[t]=e})})}s("$index","$index"),s("item",a),r=e=!1,n.$watch(function(){r||e||(e=!0,n.$$postDigest(function(){r||o.$digest(),e=r=!1}))}),o.$watch(function(){r=!0}),l(o,function(e){t.after(e)})}},terminal:!0,transclude:"element"}}function J(e,t,n){this.$scope=e,this.$element=t,this.$attrs=n,this.regex=null}function ee(n,r){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(e,t){var i=r(t.mdHighlightText),o=n(e.html());return function(e,t,n,r){r.init(i,o)}}}}function te(n){return{restrict:"E",link:function(e,t){t.addClass("_md"),e.$on("$destroy",function(){n.destroy()})}}}function ne(e){t.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var f=.5,p=80;return e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:t});function t(i,a,s,o,l,c,u,d){var h;return{themable:!0,onShow:function(e,t,n,r){if((t=s.extractElementByName(t,"md-bottom-sheet")).attr("tabindex","-1"),t.hasClass("ng-cloak")){d.warn("$mdBottomSheet: using `<md-bottom-sheet ng-cloak>` will affect the bottom-sheet opening animations.",t[0])}n.isLockedOpen?(n.clickOutsideToClose=!1,n.escapeToClose=!1):n.cleanupGestures=function(r,e){var t=u.register(e,"drag",{horizontal:!1});return e.on("$md.dragstart",n).on("$md.drag",i).on("$md.dragend",o),function(){t(),e.off("$md.dragstart",n),e.off("$md.drag",i),e.off("$md.dragend",o)};function n(){r.css(a.CSS.TRANSITION_DURATION,"0ms")}function i(e){var t=e.pointer.distanceY;t<5&&(t=Math.max(-p,t/2)),r.css(a.CSS.TRANSFORM,"translate3d(0,"+(p+t)+"px,0)")}function o(e){if(0<e.pointer.distanceY&&(20<e.pointer.distanceY||Math.abs(e.pointer.velocityY)>f)){var t=r.prop("offsetHeight")-e.pointer.distanceY,n=Math.min(t/e.pointer.velocityY*.75,500);r.css(a.CSS.TRANSITION_DURATION,n+"ms"),s.nextTick(l.cancel,!0)}else r.css(a.CSS.TRANSITION_DURATION,""),r.css(a.CSS.TRANSFORM,"")}}(t,n.parent);n.disableBackdrop||((h=s.createBackdrop(e,"md-bottom-sheet-backdrop md-opaque"))[0].tabIndex=-1,n.clickOutsideToClose&&h.on("click",function(){s.nextTick(l.cancel,!0)}),o.inherit(h,n.parent),i.enter(h,n.parent,null));o.inherit(t,n.parent),n.disableParentScroll&&(n.restoreScroll=s.disableScrollAround(t,n.parent));return i.enter(t,n.parent,h).then(function(){var e=s.findFocusTarget(t)||ue.element(t[0].querySelector("button")||t[0].querySelector("a")||t[0].querySelector(s.prefixer("ng-click",!0)))||h;n.escapeToClose&&(n.rootElementKeyupCallback=function(e){e.keyCode===a.KEY_CODE.ESCAPE&&s.nextTick(l.cancel,!0)},c.on("keyup",n.rootElementKeyupCallback),e&&e.focus())})},onRemove:function(e,t,n){n.disableBackdrop||i.leave(h);return i.leave(t).then(function(){n.disableParentScroll&&(n.restoreScroll(),delete n.restoreScroll),n.cleanupGestures&&n.cleanupGestures()})},disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0,isLockedOpen:!1}}}function re(n){return{restrict:"E",link:function(e,t){n(t)}}}function ie(r,i,o,a){return{restrict:"EA",replace:!0,transclude:!0,template:function(e,t){{return s(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" type="'+(void 0===t.type?"button":t.type)+'" ng-transclude></button>'}},link:function(e,t,n){i(t),r.attach(e,t),o.expectWithoutText(t,"aria-label"),s(n)&&ue.isDefined(n.ngDisabled)&&!t.hasClass("_md-nav-button")&&e.$watch(n.ngDisabled,function(e){t.attr("tabindex",e?-1:0)});t.on("click",function(e){!0===n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),t.hasClass("md-no-focus")||(t.on("focus",function(){a.isUserInvoked()&&"keyboard"!==a.getLastInteractionType()||t.addClass("md-focused")}),t.on("blur",function(){t.removeClass("md-focused")}))}};function s(e){return ue.isDefined(e.href)||ue.isDefined(e.ngHref)||ue.isDefined(e.ngLink)||ue.isDefined(e.uiSref)}}function oe(r){return{restrict:"E",link:function(e,t,n){t.addClass("_md"),r(t)}}}function ae(d,h,f,p,m,g){return d=d[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:f.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:function(e,t){return t.$set("tabindex",t.tabindex||"0"),t.$set("type","checkbox"),t.$set("role",t.type),{pre:function(e,t){t.on("click",function(e){this.hasAttribute("disabled")&&e.stopImmediatePropagation()})},post:function(r,i,o,e){var t,n=e[0],a=e[1]||m.fakeNgModel(),s=e[2];if(n){var l=n.isErrorGetter||function(){return a.$invalid&&(a.$touched||s&&s.$submitted)};n.input=i,r.$watch(l,n.setInvalid)}p(i),i.children().on("focus",function(){i.focus()}),m.parseAttributeBoolean(o.mdIndeterminate)&&(u(),r.$watch(o.mdIndeterminate,u));o.ngChecked&&r.$watch(r.$eval.bind(r,o.ngChecked),function(e){a.$setViewValue(e),a.$render()});function c(t){i[0].hasAttribute("disabled")||r.skipToggle||r.$apply(function(){var e=o.ngChecked&&o.ngClick?o.checked:!a.$viewValue;a.$setViewValue(e,t&&t.type),a.$render()})}function u(e){(t=!1!==e)&&i.attr("aria-checked","mixed"),i.toggleClass("md-indeterminate",t)}(function(e,t,n){o[e]&&r.$watch(o[e],function(e){n[e]&&i.attr(t,n[e])})})("ngDisabled","tabindex",{true:"-1",false:o.tabindex}),h.expectWithText(i,"aria-label"),d.link.pre(r,{on:ue.noop,0:{}},o,[a]),i.on("click",c).on("keypress",function(e){var t,n,r=e.which||e.keyCode;switch(e.preventDefault(),r){case f.KEY_CODE.SPACE:i.addClass("md-focused"),c(e);break;case f.KEY_CODE.ENTER:(n=m.getClosest(e.target,"form"))&&(t=n.querySelector('button[type="submit"]:enabled, input[type="submit"]:enabled'))&&t.click()}}).on("focus",function(){"keyboard"===g.getLastInteractionType()&&i.addClass("md-focused")}).on("blur",function(){i.removeClass("md-focused")}),a.$render=function(){i.toggleClass("md-checked",!!a.$viewValue&&!t)}}}}}}function se(e,t,n,r,i){this.$scope=e,this.$element=t,this.$mdConstant=n,this.$timeout=r,this.$mdUtil=i,this.isEditing=!1,this.parentController=de,this.enableChipEdit=!1}function le(s,e,t,l){return{restrict:"E",require:["^?mdChips","mdChip"],link:function(e,t,n,r){var i=r.shift(),o=r.shift(),a=ue.element(t[0].querySelector(".md-chip-content"));s(t),i&&(o.init(i),a.on("blur",function(){i.resetSelectedChip(),i.$scope.$applyAsync()}));l(function(){i&&i.shouldFocusLastChip&&i.focusLastChipThenInput()})},controller:"MdChipCtrl"}}function ce(i){return{restrict:"A",require:"^mdChips",scope:!1,link:function(t,e,n,r){e.on("click",function(e){t.$apply(function(){r.removeChip(t.$$replacedScope.$index)})}),i(function(){e.attr({tabindex:"-1","aria-hidden":"true"}),e.find("button").attr("tabindex","-1")})}}}function he(a){return{restrict:"EA",terminal:!0,link:function(e,t,n){var r=e.$parent.$mdChipsCtrl,i=r.parent.$new(!1,r.parent);i.$$replacedScope=e,i.$chip=e.$chip,i.$index=e.$index;var o=(i.$mdChipsCtrl=r).$scope.$eval(n.mdChipTransclude);t.html(o),a(t.contents())(i)},scope:!1}}function fe(e,t,n){this.$element=t,this.$attrs=e,this.$timeout=n,this.selectedItem=null,this.searchText="",this.deRegister=[],this.init()}function pe(r){return{restrict:"E",controller:["$scope","$element",function(e,t){this.$scope=e,this.$element=t}],link:function(e,t){var n;t.addClass("_md"),r(t),e.$broadcast("$mdContentLoaded",t),n=t[0],ue.element(n).on("$md.pressdown",function(e){"t"===e.pointer.type&&(e.$materialScrollFixed||(e.$materialScrollFixed=!0,0===n.scrollTop?n.scrollTop=1:n.scrollHeight===n.scrollTop+n.offsetHeight&&--n.scrollTop))})}}}function me(e,t){var s=e('<md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:ge,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0],o=r[1],a=r[2];a.calendarCtrl=i,a.monthCtrl=o,a.arrowIcon=s.cloneNode(!0),e.$watch(function(){return a.offset},function(e){ue.isNumber(e)&&a.generateContent()})}}}function ge(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}function ve(e,t,n){this.$element=e,this.dateUtil=t,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}function ye(e,t,o){return{restrict:"E",link:function(r,i){i.addClass("_md"),t(i),e(function(){var e,t=i[0].querySelector("md-dialog-content");function n(){i.toggleClass("md-content-overflow",t.scrollHeight>t.clientHeight)}t&&(e=t.getElementsByTagName("img"),n(),ue.element(e).on("load",n)),r.$on("$destroy",function(){o.destroy(i)})})}}}function be(e){var b,w;return n.$inject=["$mdDialog","$mdConstant"],r.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:r}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:t}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:t}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:t});function t(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:n,controllerAs:"dialog",bindToController:!0}}function n(r,i){this.$onInit=function(){var n="prompt"==this.$type;n&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){r.hide(!n||this.result)},this.abort=function(){r.cancel()},this.keypress=function(e){var t=n&&this.required&&!ue.isDefined(this.result);e.keyCode!==i.KEY_CODE.ENTER||t||r.hide(this.result)}}}function r(h,s,f,p,r,l,m,c,u,a,t,d,g){return{hasBackdrop:!0,isolateScope:!0,onCompiling:function(e){e.defaultTheme=t.defaultTheme(),function(t){var e;t.targetEvent&&t.targetEvent.target&&(e=ue.element(t.targetEvent.target));var n=e&&e.controller("mdTheme");if(t.hasTheme=!!n,!t.hasTheme)return;t.themeWatch=n.$shouldWatch;var r=t.theme||n.$mdTheme;r&&(t.scope.theme=r);var i=n.registerChanges(function(e){t.scope.theme=e,t.themeWatch||i()})}(e)},onShow:function(e,i,o,t){ue.element(l[0].body).addClass("md-dialog-is-showing");var a=i.find("md-dialog");if(a.hasClass("ng-cloak")){u.warn("$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.",i[0])}return function(e){e.origin=ue.extend({element:null,bounds:null,focus:ue.noop},e.origin||{}),e.parent=n(e.parent,c),e.closeTo=t(n(e.closeTo)),e.openFrom=t(n(e.openFrom)),e.targetEvent&&(e.origin=t(e.targetEvent.target,e.origin),e.originInteraction=g.getLastInteractionType());function t(e,t){var n=ue.element(e||{});if(n&&n.length){var r=ue.isFunction(n[0].getBoundingClientRect);return ue.extend(t||{},{element:r?n:de,bounds:r?n[0].getBoundingClientRect():ue.extend({},{top:0,left:0,height:0,width:0},n[0]),focus:ue.bind(n,n.focus)})}}function n(e,t){return ue.isString(e)&&(e=l[0].querySelector(e)),ue.element(e||t)}}(o),function(e,t){var n="alert"===t.$type?"alertdialog":"dialog",r=e.find("md-dialog-content"),i=e.attr("id"),o="dialogContent_"+(i||f.nextUid());e.attr({role:n,tabIndex:"-1"}),0===r.length&&(r=e,i&&(o=i));r.attr("id",o),e.attr("aria-describedby",o),t.ariaLabel?s.expect(e,"aria-label",t.ariaLabel):s.expectAsync(e,"aria-label",function(){if(t.title)return t.title;var e=r.text().split(/\s+/);return 3<e.length&&(e=e.slice(0,3).concat("...")),e.join(" ")});(b=document.createElement("div")).classList.add("md-dialog-focus-trap"),b.tabIndex=0,w=b.cloneNode(!1);function a(){e.focus()}b.addEventListener("focus",a),w.addEventListener("focus",a),e[0].parentNode.insertBefore(b,e[0]),e.after(w)}(a,o),function(e,t,n){n.disableParentScroll&&(n.restoreScroll=f.disableScrollAround(t,n.parent));n.hasBackdrop&&(n.backdrop=f.createBackdrop(e,"md-dialog-backdrop md-opaque"),r.enter(n.backdrop,n.parent));n.hideBackdrop=function(e){n.backdrop&&(e?n.backdrop.remove():r.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}(e,i,o),function(e,t){function n(){var e="alert"==t.$type?h.hide:h.cancel;f.nextTick(e,!0)}var r=ue.element(m),i=f.debounce(function(){v(e,t)},60),o=[];if(t.escapeToClose){var a=t.parent,s=function(e){e.keyCode===p.KEY_CODE.ESCAPE&&(e.stopImmediatePropagation(),e.preventDefault(),n())};e.on("keydown",s),a.on("keydown",s),o.push(function(){e.off("keydown",s),a.off("keydown",s)})}if(r.on("resize",i),o.push(function(){r.off("resize",i)}),t.clickOutsideToClose){var l,c=e,u=function(e){l=e.target},d=function(e){l===c[0]&&e.target===c[0]&&(e.stopPropagation(),e.preventDefault(),n())};c.on("mousedown",u),c.on("mouseup",d),o.push(function(){c.off("mousedown",u),c.off("mouseup",d)})}t.deactivateListeners=function(){o.forEach(function(e){e()}),t.deactivateListeners=null}}(i,o),function(e,t){t.parent.append(e),t.reverseContainerStretch=v(e,t);var n=e.find("md-dialog"),r=f.dom.animator,i=r.calculateZoomToOrigin,o={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},a=r.toTransformCss(i(n,t.openFrom||t.origin)),s=r.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!t.fullscreen),r.translate3d(n,a,s,o).then(function(e){return t.reverseAnimate=function(){return delete t.reverseAnimate,t.closeTo?(o={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},a=s,s=r.toTransformCss(i(n,t.closeTo)),r.translate3d(n,a,s,o)):e(s=r.toTransformCss(i(n,t.origin)))},t.clearAnimate=function(){return delete t.clearAnimate,n.removeClass([o.transitionOutClass,o.transitionInClass].join(" ")),r.translate3d(n,s,r.toTransformCss(""),{})},!0})}(i,o).then(function(){function e(e){for(var t=function(e){for(var t=[];e.parentNode;){if(e===document.body)return t;for(var n=e.parentNode.children,r=0;r<n.length;r++)e===n[r]||y(n[r],["SCRIPT","STYLE"])||n[r].hasAttribute("aria-live")||t.push(n[r]);e=e.parentNode}return t}(e),n=0;n<t.length;n++)t[n].setAttribute("aria-hidden",r)}var t,n,r;n=o,r=!0,e((t=i)[0]),n.unlockScreenReader=function(){r=!1,e(t[0]),n.unlockScreenReader=null},i[0].querySelector(".md-actions")&&u.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>."),function(){if(o.focusOnOpen){(f.findFocusTarget(i)||i[0].querySelector(".dialog-close, md-dialog-actions button:last-child")||a).focus()}}()})},onShowing:function(e,t,n,r){if(r){var i=r.htmlContent||n.htmlContent||"",o=r.textContent||n.textContent||r.content||n.content||"";if(i&&!a.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(i&&o)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");r.mdHtmlContent=i,r.mdTextContent=o}},onRemove:function(e,t,n){n.deactivateListeners(),n.unlockScreenReader(),n.hideBackdrop(n.$destroy),b&&b.parentNode&&b.parentNode.removeChild(b);w&&w.parentNode&&w.parentNode.removeChild(w);return n.$destroy?r():function(e){return e.reverseAnimate().then(function(){e.contentElement&&e.clearAnimate()})}(n).then(r);function r(){ue.element(l[0].body).removeClass("md-dialog-is-showing"),n.contentElement&&n.reverseContainerStretch(),n.cleanupElement(),n.$destroy||"keyboard"!==n.originInteraction||n.origin.focus()}},clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(e,t){var n,r=d.startSymbol(),i=d.endSymbol(),o=r+(t.themeWatch?"":"::")+"theme"+i;return'<div class="md-dialog-container" tabindex="-1" '+(t.hasTheme?'md-theme="'+o+'"':"")+">"+(n=e,t.autoWrap&&!/<\/md-dialog>/g.test(n)?"<md-dialog>"+(n||"")+"</md-dialog>":n||"")+"</div>"}};function v(e,t){var n="fixed"==m.getComputedStyle(l[0].body).position,r=t.backdrop?m.getComputedStyle(t.backdrop[0]):null,i=r?Math.min(l[0].body.clientHeight,Math.ceil(Math.abs(parseInt(r.height,10)))):0,o={top:e.css("top"),height:e.css("height")},a=Math.abs(t.parent[0].getBoundingClientRect().top);return e.css({top:(n?a:0)+"px",height:i?i+"px":"100%"}),function(){e.css(o)}}function y(e,t){return-1!==t.indexOf(e.nodeName)}}}function we(e){return{restrict:"E",link:e}}function Ce(r){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,t){var n=e.children();r.prefixer().hasAttribute(n,"ng-repeat")?n.addClass("md-fab-action-item"):n.wrap('<div class="md-fab-action-item">')}}}function xe(t,o,a,s,l,n){var r,c=this,e=0;function u(e){"click"==e.type&&function(e){!function(e){return s.getClosest(e,"md-fab-trigger")}(e.target)||c.toggle();!function(e){return s.getClosest(e,"md-fab-actions")}(e.target)||c.close()}(e),"focusout"!=e.type||r||(r=n(function(){c.close()},100,!1)),"focusin"==e.type&&r&&(n.cancel(r),r=null)}function d(){c.currentActionIndex=-1}function h(){0<o[0].scrollHeight?a.addClass(o,"_md-animations-ready").then(function(){o.removeClass("md-animations-waiting")}):e<10&&(n(h,100),e+=1)}function f(){o.off("keydown",m),ue.element(document).off("click touchend",p)}function p(e){if(e.target){var t=s.getClosest(e.target,"md-fab-trigger"),n=s.getClosest(e.target,"md-fab-actions");t||n||c.close()}}function m(e){switch(e.which){case l.KEY_CODE.ESCAPE:return c.close(),e.preventDefault(),!1;case l.KEY_CODE.LEFT_ARROW:return i=e,("left"===c.direction?v:g)(i),!1;case l.KEY_CODE.UP_ARROW:return r=e,("down"===c.direction?g:v)(r),!1;case l.KEY_CODE.RIGHT_ARROW:return n=e,("left"===c.direction?g:v)(n),!1;case l.KEY_CODE.DOWN_ARROW:return t=e,("up"===c.direction?g:v)(t),!1}var t,n,r,i}function g(e){i(e,-1)}function v(e){i(e,1)}function i(e,t){var n,r=(n=y()[0].querySelectorAll(".md-fab-action-item"),ue.forEach(n,function(e){ue.element(ue.element(e).children()[0]).attr("tabindex",-1)}),n);c.currentActionIndex=c.currentActionIndex+t,c.currentActionIndex=Math.min(r.length-1,c.currentActionIndex),c.currentActionIndex=Math.max(0,c.currentActionIndex);var i=ue.element(r[c.currentActionIndex]).children()[0];ue.element(i).attr("tabindex",0),i.focus(),e.preventDefault(),e.stopImmediatePropagation()}function y(){return o.find("md-fab-actions")}c.open=function(){t.$evalAsync("vm.isOpen = true")},c.close=function(){t.$evalAsync("vm.isOpen = false"),o.find("md-fab-trigger")[0].focus()},c.toggle=function(){t.$evalAsync("vm.isOpen = !vm.isOpen")},c.$onInit=function(){var e,r,i;c.direction=c.direction||"down",c.isOpen=c.isOpen||!1,d(),o.addClass("md-animations-waiting"),e=["click","focusin","focusout"],ue.forEach(e,function(e){o.on(e,u)}),t.$on("$destroy",function(){ue.forEach(e,function(e){o.off(e,u)}),f()}),t.$watch("vm.direction",function(e,t){a.removeClass(o,"md-"+t),a.addClass(o,"md-"+e),d()}),t.$watch("vm.isOpen",function(e){d(),r&&i||(r=o.find("md-fab-trigger"),i=y()),e?(o.on("keydown",m),s.nextTick(function(){ue.element(document).on("click touchend",p)})):f();var t=e?"md-is-open":"",n=e?"":"md-is-open";r.attr("aria-haspopup",!0),r.attr("aria-expanded",e),i.attr("aria-hidden",!e),a.setClass(o,t,n)}),h()},1===ue.version.major&&ue.version.minor<=4&&this.$onInit()}function Ee(){function r(e,t){if(t){var n=e[0],r=e.controller("mdFabToolbar"),i=n.querySelector(".md-fab-toolbar-background"),o=n.querySelector("md-fab-trigger button"),a=n.querySelector("md-toolbar"),s=n.querySelector("md-fab-trigger button md-icon"),l=e.find("md-fab-actions").children();if(o&&i){var c=j.getComputedStyle(o).getPropertyValue("background-color"),u=n.offsetWidth,d=(n.offsetHeight,u/o.offsetWidth*2);i.style.backgroundColor=c,i.style.borderRadius=u+"px",r.isOpen?(a.style.pointerEvents="inherit",i.style.width=o.offsetWidth+"px",i.style.height=o.offsetHeight+"px",i.style.transform="scale("+d+")",i.style.transitionDelay="0ms",s&&(s.style.transitionDelay=".3s"),ue.forEach(l,function(e,t){e.style.transitionDelay=25*(l.length-t)+"ms"})):(a.style.pointerEvents="none",i.style.transform="scale(1)",i.style.top="0",e.hasClass("md-right")&&(i.style.left="0",i.style.right=null),e.hasClass("md-left")&&(i.style.right="0",i.style.left=null),i.style.transitionDelay="200ms",s&&(s.style.transitionDelay="0ms"),ue.forEach(l,function(e,t){e.style.transitionDelay=200+25*t+"ms"}))}}}return{addClass:function(e,t,n){r(e,t),n()},removeClass:function(e,t,n){r(e,t),n()}}}function _e(g,v,y,b){return{restrict:"E",controller:$e,scope:{mdOnLayout:"&"},link:function(n,o,a,t){o.addClass("_md"),o.attr("role","list"),t.layoutDelegate=function(e){var r=[].filter.call(o.children(),function(e){return"MD-GRID-TILE"==e.tagName&&!e.$$mdDestroyed}),i={tileSpans:function(e){return[].map.call(e,function(e){var t=ue.element(e).controller("mdGridTile");return{row:parseInt(b.getResponsiveAttribute(t.$attrs,"md-rowspan"),10)||1,col:parseInt(b.getResponsiveAttribute(t.$attrs,"md-colspan"),10)||1}})}(r),colCount:function(){var e=parseInt(b.getResponsiveAttribute(a,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}(),rowMode:d(),rowHeight:function(){var e=b.getResponsiveAttribute(a,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";switch(d()){case"fixed":return h(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}(),gutter:h(b.getResponsiveAttribute(a,"md-gutter")||1)};if(!e&&ue.equals(i,s))return;var t=y(i.colCount,i.tileSpans,r).map(function(e,n){return{grid:{element:o,style:function(e,t,n,r,i){var o={};switch(r){case"fixed":o.height=m({unit:i,span:t,gutter:n}),o.paddingBottom="";break;case"ratio":var a=f({share:1/i*(1/e*100),gutterShare:1===e?0:(e-1)/e,gutter:n});o.height="",o.paddingBottom=m({unit:a,span:t,gutter:n})}return o}(i.colCount,n,i.gutter,i.rowMode,i.rowHeight)},tiles:e.map(function(e,t){return{element:ue.element(r[t]),style:function(e,t,n,r,i,o,a){var s=1/n*100,l=(n-1)/n,c=f({share:s,gutterShare:l,gutter:i}),u="rtl"!=document.dir&&"rtl"!=document.body.dir?{left:p({unit:c,offset:e.col,gutter:i}),width:m({unit:c,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""}:{right:p({unit:c,offset:e.col,gutter:i}),width:m({unit:c,span:t.col,gutter:i}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":u.top=p({unit:a,offset:e.row,gutter:i}),u.height=m({unit:a,span:t.row,gutter:i});break;case"ratio":var d=s/a,h=f({share:d,gutterShare:l,gutter:i});u.paddingTop=m({unit:h,span:t.row,gutter:i}),u.marginTop=p({unit:h,offset:e.row,gutter:i});break;case"fit":h=f({share:d=1/r*100,gutterShare:(r-1)/r,gutter:i}),u.top=p({unit:h,offset:e.row,gutter:i}),u.height=m({unit:h,span:t.row,gutter:i})}return u}(e.position,e.spans,i.colCount,n,i.gutter,i.rowMode,i.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:t}}),s=i};var s,r=ue.bind(t,t.invalidateLayout),i=function(){for(var e in v.MEDIA)b(e),b.getQuery(v.MEDIA[e]).addListener(r);return b.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],a,l)}();function l(e){(null==e||b(e))&&t.invalidateLayout()}n.$on("$destroy",function(){for(var e in t.layoutDelegate=ue.noop,i(),v.MEDIA)b.getQuery(v.MEDIA[e]).removeListener(r)});var c=g.startSymbol(),u=g.endSymbol();function e(e){return c+e+u}var f=g(e("share")+"% - ("+e("gutter")+" * "+e("gutterShare")+")"),p=g("calc(("+e("unit")+" + "+e("gutter")+") * "+e("offset")+")"),m=g("calc(("+e("unit")+") * "+e("span")+" + ("+e("span")+" - 1) * "+e("gutter")+")");function d(){var e=b.getResponsiveAttribute(a,"md-row-height");if(!e)throw"md-grid-list: md-row-height attribute was not found";return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function h(e){return/\D$/.test(e)?e:e+"px"}}}}function $e(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e.nextTick,this.layoutDelegate=ue.noop}function Se(s){var l=t;return e.animateWith=function(e){l=ue.isFunction(e)?e:t},e;function e(t,n){var r,d,i,e,o,a;return e=s.time(function(){function i(){c++,o(l=0,s,-1)}function o(e,t,n){for(var r=e;r<e+t;r++)u[r]=Math.max(u[r]+n,0)}function a(e){var t;for(t=e;t<u.length;t++)if(0!==u[t])return t;if(t===u.length)return t}var s,e,l,c,u;s=t,e=n,c=l=0,u=function(){for(var e=[],t=0;t<s;t++)e.push(0);return e}(),d={positioning:e.map(function(e,t){return{spans:e,position:function(e,t){if(e.col>s)throw"md-grid-list: Tile at position "+t+" has a colspan ("+e.col+") that exceeds the column count ("+s+")";for(var n=0,r=0;r-n<e.col;)s<=l?i():-1!==(n=u.indexOf(0,l))&&-1!==(r=a(n+1))?l=r+1:(n=r=0,i());return o(n,e.col,e.row),l=n+e.col,{col:n,row:c}}(e,t)}}),rowCount:c+Math.max.apply(Math,u)}}),r={layoutInfo:function(){return d},map:function(t){return o=s.time(function(){var e=r.layoutInfo();i=t(e.positioning,e.rowCount)}),r},reflow:function(e){return a=s.time(function(){(e||l)(i.grid,i.tiles)}),r},performance:function(){return{tileCount:n.length,layoutTime:e,mapTime:o,reflowTime:a,totalTime:e+o+a}}}}function t(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}}function Ae(o){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:function(e,t,n,r){t.attr("role","listitem");var i=o.watchResponsiveAttributes(["md-colspan","md-rowspan"],n,ue.bind(r,r.invalidateLayout));r.invalidateTiles(),e.$on("$destroy",function(){t[0].$$mdDestroyed=!0,i(),r.invalidateLayout()}),ue.isDefined(e.$parent.$index)&&e.$watch(function(){return e.$parent.$index},function(e,t){e!==t&&r.invalidateTiles()})}}}function ke(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}function Te(t){return{restrict:"E",compile:function(e){return e[0].setAttribute("role","list"),t}}}function Me(h,f,p,m){var g=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(o,r){var e,i,t,n=o[0].querySelectorAll(".md-secondary"),a=o;if(o[0].setAttribute("role","listitem"),r.ngClick||r.ngDblclick||r.ngHref||r.href||r.uiSref||r.ngAttrUiSref)c("button");else if(!o.hasClass("md-no-proxy")){for(var s,l=0;s=g[l];++l)if(i=o[0].querySelector(s)){e=!0;break}e?c("div"):o.addClass("md-no-proxy")}function c(e){if("div"==e)(a=ue.element('<div class="md-no-style md-list-item-inner">')).append(o.contents()),o.addClass("md-proxy-focus");else{a=ue.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var t=ue.element('<md-button class="md-no-style"></md-button>');u(o[0],t[0]),t.attr("aria-label")||t.attr("aria-label",h.getText(o)),o.hasClass("md-no-focus")&&t.addClass("md-no-focus"),a.prepend(t),a.children().eq(1).append(o.contents()),o.addClass("_md-button-wrap")}o[0].setAttribute("tabindex","-1"),o.append(a)}function u(t,n,e){var r=p.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts","download"]);e&&(r=r.concat(p.prefixer(e))),ue.forEach(r,function(e){t.hasAttribute(e)&&(n.setAttribute(e,t.getAttribute(e)),t.removeAttribute(e))})}function d(e){for(var t=e.attributes,n=0;n<t.length;n++)if("ngClick"===r.$normalize(t[n].name))return!0;return!1}return t=ue.element('<div class="md-secondary-container">'),ue.forEach(n,function(e){!function(e,t){if(e&&!function(e){var t=e.nodeName.toUpperCase();return"MD-BUTTON"==t||"BUTTON"==t}(e)&&e.hasAttribute("ng-click")){h.expect(e,"aria-label");var n=ue.element('<md-button class="md-secondary md-icon-button">');u(e,n[0],["ng-if","ng-hide","ng-show"]),e.setAttribute("tabindex","-1"),n.append(e),e=n[0]}e&&(!d(e)||!r.ngClick&&function(e){return-1!=g.indexOf(e.nodeName.toLowerCase())}(e))&&ue.element(e).removeClass("md-secondary");o.addClass("md-with-secondary"),t.append(e)}(e,t)}),a.append(t),function(){for(var e,t,n=["md-switch","md-checkbox"],r=0;t=n[r];++r)if((e=o.find(t)[0])&&!e.hasAttribute("aria-label")){var i=o.find("p")[0];if(!i)return;e.setAttribute("aria-label","Toggle "+i.textContent)}}(),e&&"MD-MENU"===i.nodeName&&function(){var e=ue.element(i),t=e.parent().hasClass("md-secondary-container")||i.parentNode.firstElementChild!==i,n="left";t&&(n="right");e.attr("md-position-mode")||e.attr("md-position-mode",n+" target");var r=e.children().eq(0);d(r[0])||r.attr("ng-click","$mdMenu.open($event)");r.attr("aria-label")||r.attr("aria-label","Open List Menu")}(),function(e,i,t,n){i.addClass("_md");var r=[],o=i[0].firstElementChild,a=i.hasClass("_md-button-wrap")?o.firstElementChild:o,s=a&&d(a),l=i.hasClass("md-no-proxy");o&&o.children&&!s&&!l&&ue.forEach(g,function(e){ue.forEach(o.querySelectorAll(e+":not(.md-secondary)"),function(e){r.push(e)})}),1!=r.length&&!s||(i.addClass("md-clickable"),s||n.attachRipple(e,ue.element(i[0].querySelector(".md-no-style")))),r.length&&ue.forEach(r,function(t){t=ue.element(t),e.mouseActive=!1,t.on("mousedown",function(){e.mouseActive=!0,m(function(){e.mouseActive=!1},100)}).on("focus",function(){!1===e.mouseActive&&i.addClass("md-focused"),t.on("blur",function e(){i.removeClass("md-focused"),t.off("blur",e)})})});function c(e){"INPUT"==e.target.nodeName||"TEXTAREA"==e.target.nodeName||e.target.isContentEditable||(e.which||e.keyCode)==f.KEY_CODE.SPACE&&a&&(a.click(),e.preventDefault(),e.stopPropagation())}s||r.length||a&&a.addEventListener("keypress",c);i.off("click"),i.off("keypress"),1==r.length&&a&&i.children().eq(0).on("click",function(t){(function(e){var t=["md-slider"];if(!e.path)return-1!==t.indexOf(e.target.tagName.toLowerCase());for(var n=e.path.indexOf(i.children()[0]),r=0;r<n;r++)if(-1!==t.indexOf(e.path[r].tagName.toLowerCase()))return 1})(t)||!p.getClosest(t.target,"BUTTON")&&a.contains(t.target)&&ue.forEach(r,function(e){t.target===e||e.contains(t.target)||("MD-MENU"===e.nodeName&&(e=e.children[0]),ue.element(e).triggerHandler("click"))})});e.$on("$destroy",function(){a&&a.removeEventListener("keypress",c)})}}}}function Ne(e,t,n){this.attachRipple=function(e,t){n.attach(e,t,{})}}function Pe(i,t,o,a,s,r,e,n,l){var c,u,d=s.prefixer(),h=this;this.nestLevel=parseInt(t.mdNestLevel,10)||0,this.init=function(e,t){t=t||{},c=e,(u=o[0].querySelector(d.buildSelector(["ng-click","ng-mouseenter"]))).setAttribute("aria-expanded","false"),this.isInMenuBar=t.isInMenuBar,this.nestedMenus=s.nodesToArray(c[0].querySelectorAll(".md-nested-menu")),c.on("$mdInterimElementRemove",function(){h.isOpen=!1,s.nextTick(function(){h.onIsOpenChanged(h.isOpen)})}),s.nextTick(function(){h.onIsOpenChanged(h.isOpen)});var n="menu_container_"+s.nextUid();c.attr("id",n),ue.element(u).attr({"aria-owns":n,"aria-haspopup":"true"}),a.$on("$destroy",ue.bind(this,function(){this.disableHoverListener(),i.destroy()})),c.on("$destroy",function(){i.destroy()})};var f,p,m=[];this.enableHoverListener=function(){m.push(e.$on("$mdMenuOpen",function(e,t){c[0].contains(t[0])&&(h.currentlyOpenMenu=t.controller("mdMenu"),h.isAlreadyOpening=!1,h.currentlyOpenMenu.registerContainerProxy(h.triggerContainerProxy.bind(h)))})),m.push(e.$on("$mdMenuClose",function(e,t){c[0].contains(t[0])&&(h.currentlyOpenMenu=de)})),(p=ue.element(s.nodesToArray(c[0].children[0].children))).on("mouseenter",h.handleMenuItemHover),p.on("mouseleave",h.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;m.length;)m.shift()();p&&p.off("mouseenter",h.handleMenuItemHover),p&&p.off("mouseleave",h.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(e){if(!h.isAlreadyOpening){var t=e.target.querySelector("md-menu")||s.getClosest(e.target,"MD-MENU");f=r(function(){if(t=t&&ue.element(t).controller("mdMenu"),h.currentlyOpenMenu&&h.currentlyOpenMenu!=t){var e=h.nestLevel+1;h.currentlyOpenMenu.close(!0,{closeTo:e}),h.isAlreadyOpening=!!t,t&&t.open()}else t&&!t.isOpen&&t.open&&(h.isAlreadyOpening=!!t,t&&t.open())},t?100:250);var n=e.currentTarget.querySelector(".md-button:not([disabled])");n&&n.focus()}},this.handleMenuItemMouseLeave=function(){f&&(r.cancel(f),f=de)},this.open=function(e){e&&e.stopPropagation(),e&&e.preventDefault(),h.isOpen||(h.enableHoverListener(),h.isOpen=!0,s.nextTick(function(){h.onIsOpenChanged(h.isOpen)}),(u=u||(e?e.target:o[0])).setAttribute("aria-expanded","true"),a.$emit("$mdMenuOpen",o),i.show({scope:a,mdMenuCtrl:h,nestLevel:h.nestLevel,element:c,target:u,preserveElement:!0,parent:"body"}).finally(function(){u.setAttribute("aria-expanded","false"),h.disableHoverListener()}))},this.onIsOpenChanged=function(e){e?(c.attr("aria-hidden","false"),o[0].classList.add("md-open"),ue.forEach(h.nestedMenus,function(e){e.classList.remove("md-open")})):(c.attr("aria-hidden","true"),o[0].classList.remove("md-open")),a.$mdMenuIsOpen=h.isOpen},this.focusMenuContainer=function(){var e=c[0].querySelector(d.buildSelector(["md-menu-focus-target","md-autofocus"]));(e=e||c[0].querySelector(".md-button:not([disabled])")).focus()},this.registerContainerProxy=function(e){this.containerProxy=e},this.triggerContainerProxy=function(e){this.containerProxy&&this.containerProxy(e)},this.destroy=function(){return h.isOpen?i.destroy():n.when(!1)},this.close=function(e,t){if(h.isOpen){h.isOpen=!1,s.nextTick(function(){h.onIsOpenChanged(h.isOpen)});var n=ue.extend({},t,{skipFocus:e});if(a.$emit("$mdMenuClose",o,n),i.hide(null,t),!e){var r=h.restoreFocusTo||o.find("button")[0];r instanceof ue.element&&(r=r[0]),r&&r.focus()}}},this.positionMode=function(){var e=(t.mdPositionMode||"target").split(" ");return 1===e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(t.mdOffset||"0 0").split(" ").map(parseFloat);if(2===e.length)return{left:e[0],top:e[1]};if(1===e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},a.$mdMenu={open:this.open,close:this.close},a.$mdOpenMenu=ue.bind(this,function(){return l.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}function Re(a){var s="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:function(e){e.addClass("md-menu");var t=e.children()[0],n=a.prefixer();n.hasAttribute(t,"ng-click")||(t=t.querySelector(n.buildSelector(["ng-click","ng-mouseenter"]))||t);var r="MD-BUTTON"===t.nodeName||"BUTTON"===t.nodeName;t&&r&&!t.hasAttribute("type")&&t.setAttribute("type","button");if(!t)throw Error(s+"Expected the menu to have a trigger element.");if(2!==e.children().length)throw Error(s+"Expected two children elements. The second element must have a `md-menu-content` element.");t&&t.setAttribute("aria-haspopup","true");var i=e[0].querySelectorAll("md-menu"),o=parseInt(e[0].getAttribute("md-nest-level"),10)||0;i&&ue.forEach(a.nodesToArray(i),function(e){e.hasAttribute("md-position-mode")||e.setAttribute("md-position-mode","cascade"),e.classList.add("_md-nested-menu"),e.setAttribute("md-nest-level",o+1)});return l}};function l(e,t,n,r){var i=r[0],o=!!r[1],a=ue.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),s=t.children()[1];t.addClass("_md"),s.hasAttribute("role")||s.setAttribute("role","menu"),a.append(s),t.on("$destroy",function(){a.remove()}),t.append(a),a[0].style.display="none",i.init(a,{isInMenuBar:o})}}function De(e){t.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var S=8;return e("$mdMenu").setDefaults({methods:["target"],options:t});function t(x,e,l,E,_,r,i,o,c,u){var $=x.prefixer(),d=x.dom.animator;return{parent:"body",onShow:function(a,n,s){(function(){if(!s.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");ue.extend(s,{alreadyOpen:!1,isRemoved:!1,target:ue.element(s.target),parent:ue.element(s.parent),menuContentEl:ue.element(n[0].querySelector("md-menu-content"))})})(),s.menuContentEl[0]?e.inherit(s.menuContentEl,s.target):u.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",n);return s.cleanupResizing=function(){var e=function(t,n){return i.throttle(function(){if(!s.isRemoved){var e=p(t,n);t.css(d.toCss(e))}})}(n,s);return _.addEventListener("resize",e),_.addEventListener("orientationchange",e),function(){_.removeEventListener("resize",e),_.removeEventListener("orientationchange",e)}}(),s.hideBackdrop=function(e,t){if(t.nestLevel)return ue.noop;t.disableParentScroll&&!x.getClosest(t.target,"MD-DIALOG")?t.restoreScroll=x.disableScrollAround(t.element,t.parent):t.disableParentScroll=!1;t.hasBackdrop&&(t.backdrop=x.createBackdrop(e,"md-menu-backdrop md-click-catcher"),c.enter(t.backdrop,E[0].body));return function(){t.backdrop&&t.backdrop.remove(),t.disableParentScroll&&t.restoreScroll()}}(a,s),function(){return s.parent.append(n),n[0].style.display="",r(function(e){var t=p(n,s);n.removeClass("md-leave"),o(n,{addClass:"md-active",from:d.toCss(t),to:d.toCss({transform:""})}).start().then(e)})}().then(function(e){return s.alreadyOpen=!0,s.cleanupInteraction=function(){if(!s.menuContentEl[0])return ue.noop;s.menuContentEl.on("keydown",i),s.menuContentEl[0].addEventListener("click",o,!0);var e=s.menuContentEl[0].querySelector($.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!e)for(var t=s.menuContentEl[0].children.length,n=0;n<t;n++){var r=s.menuContentEl[0].children[n];if(e=r.querySelector(".md-button:not([disabled])"))break;if(r.firstElementChild&&!r.firstElementChild.disabled){e=r.firstElementChild;break}}return e&&e.focus(),function(){s.menuContentEl.off("keydown",i),s.menuContentEl[0].removeEventListener("click",o,!0)};function i(e){var t;switch(e.keyCode){case l.KEY_CODE.ESCAPE:s.mdMenuCtrl.close(!1,{closeAll:!0}),t=!0;break;case l.KEY_CODE.TAB:s.mdMenuCtrl.close(!1,{closeAll:!0}),t=!1;break;case l.KEY_CODE.UP_ARROW:h(e,s.menuContentEl,0,-1)||s.nestLevel||s.mdMenuCtrl.triggerContainerProxy(e),t=!0;break;case l.KEY_CODE.DOWN_ARROW:h(e,s.menuContentEl,0,1)||s.nestLevel||s.mdMenuCtrl.triggerContainerProxy(e),t=!0;break;case l.KEY_CODE.LEFT_ARROW:s.nestLevel?s.mdMenuCtrl.close():s.mdMenuCtrl.triggerContainerProxy(e),t=!0;break;case l.KEY_CODE.RIGHT_ARROW:var n=x.getClosest(e.target,"MD-MENU");n&&n!=s.parent[0]?e.target.click():s.mdMenuCtrl.triggerContainerProxy(e),t=!0}t&&(e.preventDefault(),e.stopImmediatePropagation())}function o(e){var t=e.target;do{if(t==s.menuContentEl[0])return;if((r(t,["ng-click","ng-href","ui-sref"])||"BUTTON"==t.nodeName||"MD-BUTTON"==t.nodeName)&&!r(t,["md-prevent-menu-close"])){var n=x.getClosest(t,"MD-MENU");t.hasAttribute("disabled")||n&&n!=s.parent[0]||a.$apply(function(){s.mdMenuCtrl.close(!0,{closeAll:!0})});break}}while(t=t.parentNode);function r(e,t){if(e)for(var n,r=0;n=t[r];++r)if($.hasAttribute(e,n))return 1}}}(),s.cleanupBackdrop=s.backdrop?(s.backdrop.on("click",t),function(){s.backdrop.off("click",t)}):ue.noop,n.addClass("md-clickable"),e});function t(e){e.preventDefault(),e.stopPropagation(),a.$apply(function(){s.mdMenuCtrl.close(!0,{closeAll:!0})})}},onRemove:function(e,n,r){return r.cleanupInteraction(),r.cleanupBackdrop(),r.cleanupResizing(),r.hideBackdrop(),n.removeClass("md-clickable"),!0===r.$destroy?t():function(){return o(n,{addClass:"md-leave"}).start()}().then(t);function t(){var e,t;n.removeClass("md-active"),e=n,(t=r).preserveElement?a(e).style.display="none":a(e).parentNode===a(t.parent)&&a(t.parent).removeChild(a(e)),r.alreadyOpen=!1}},hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0};function h(e,t,n,r){for(var i,o=x.getClosest(e.target,"MD-MENU-ITEM"),a=x.nodesToArray(t[0].children),s=a.indexOf(o)+r;0<=s&&s<a.length;s+=r){if(i=f(a[s].querySelector(".md-button")))break}return i}function f(e){if(e&&-1!=e.getAttribute("tabindex"))return e.focus(),E[0].activeElement==e}function p(e,t){var n,r=e[0],i=e[0].firstElementChild,o=i.getBoundingClientRect(),a=E[0].body.getBoundingClientRect(),s=_.getComputedStyle(i),l=t.target[0].querySelector($.buildSelector("md-menu-origin"))||t.target[0],c=l.getBoundingClientRect(),u={left:a.left+S,top:Math.max(a.top,0)+S,bottom:Math.max(a.bottom,Math.max(a.top,0)+a.height)-S,right:a.right-S},d={top:0,left:0,right:0,bottom:0},h={top:0,left:0,right:0,bottom:0},f=t.mdMenuCtrl.positionMode();"target"!==f.top&&"target"!==f.left&&"target-right"!==f.left||(n=function(){for(var e=0;e<i.children.length;++e)if("none"!=_.getComputedStyle(i.children[e]).display)return i.children[e]}())&&(d=(n=(n=n.firstElementChild||n).querySelector($.buildSelector("md-menu-align-target"))||n).getBoundingClientRect(),h={top:parseFloat(r.style.top||0),left:parseFloat(r.style.left||0)});var p={},m="top ";switch(f.top){case"target":p.top=h.top+c.top-d.top;break;case"cascade":p.top=c.top-parseFloat(s.paddingTop)-l.style.top;break;case"bottom":p.top=c.top+c.height;break;default:throw new Error('Invalid target mode "'+f.top+'" specified for md-menu on Y axis.')}var g="rtl"===x.bidi();switch(f.left){case"target":p.left=h.left+c.left-d.left,m+=g?"right":"left";break;case"target-left":p.left=c.left,m+="left";break;case"target-right":p.left=c.right-o.width+(o.right-d.right),m+="right";break;case"cascade":var v=g?c.left-o.width<u.left:c.right+o.width<u.right;p.left=v?c.right-l.style.left:c.left-l.style.left-o.width,m+=v?"left":"right";break;case"right":g?(p.left=c.right-c.width,m+="left"):(p.left=c.right-o.width,m+="right");break;case"left":g?(p.left=c.right-o.width,m+="right"):(p.left=c.left,m+="left");break;default:throw new Error('Invalid target mode "'+f.left+'" specified for md-menu on X axis.')}var y,b=t.mdMenuCtrl.offsets();p.top+=b.top,p.left+=b.left,(y=p).top=Math.max(Math.min(y.top,u.bottom-r.offsetHeight),u.top),y.left=Math.max(Math.min(y.left,u.right-r.offsetWidth),u.left);var w=Math.round(100*Math.min(c.width/r.offsetWidth,1))/100,C=Math.round(100*Math.min(c.height/r.offsetHeight,1))/100;return{top:Math.round(p.top),left:Math.round(p.left),transform:t.alreadyOpen?de:x.supplant("scale({0},{1})",[w,C]),transformOrigin:m}}}function a(e){return e instanceof ue.element&&(e=e[0]),e}}function Oe(n,i){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(e,t){return t.ariaRole||e[0].setAttribute("role","menubar"),ue.forEach(e[0].children,function(e){if("MD-MENU"==e.nodeName){e.hasAttribute("md-position-mode")||(e.setAttribute("md-position-mode","left bottom"),e.querySelector("button, a, md-button").setAttribute("role","menuitem"));var t=n.nodesToArray(e.querySelectorAll("md-menu-content"));ue.forEach(t,function(e){e.classList.add("md-menu-bar-menu"),e.classList.add("md-dense"),e.hasAttribute("width")||e.setAttribute("width",5)})}}),e.find("md-menu-item").addClass("md-in-menu-bar"),function(e,t,n,r){t.addClass("_md"),i(e,t),r.init()}}}}function Ie(e,t,n){this.$element=t,this.$attrs=n,this.$scope=e}function Le(u,e,d){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:e.BEFORE_NG_ARIA,compile:function(r,e){var t,n,i=e.type,o="md-in-menu-bar";if("checkbox"!==i&&"radio"!==i||!r.hasClass(o))c("role","menuitem",r[0].querySelector("md-button, button, a"));else{var a=r[0].textContent,s=ue.element('<md-button type="button"></md-button>'),l='<md-icon md-svg-src="'+d.mdChecked+'"></md-icon>';s.html(a),s.attr("tabindex","0"),ue.isDefined(e.mdPreventMenuClose)&&s.attr("md-prevent-menu-close",e.mdPreventMenuClose),r.html(""),r.append(ue.element(l)),r.append(s),r.addClass("md-indent").removeClass(o),c("role","checkbox"===i?"menuitemcheckbox":"menuitemradio",s),t="ng-disabled",n=u.prefixer(t),ue.forEach(n,function(e){if(r[0].hasAttribute(e)){var t=r[0].getAttribute(e);s[0].setAttribute(e,t),r[0].removeAttribute(e)}})}return function(e,t,n,r){var i=r[0],o=r[1];i.init(o)};function c(e,t,n){(n=n||r)instanceof ue.element&&(n=n[0]),n.hasAttribute(e)||n.setAttribute(e,t)}}}}function Fe(i,o){return{restrict:"E",transclude:!0,controller:He,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="tablist" ng-focus="ctrl.onFocus()" aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(e,t,n,r){o(t),r.navBarAriaLabel||i.expectAsync(t,"aria-label",ue.noop)}}}function He(e,t,n,r){this._$timeout=n,this._$scope=t,this._$mdConstant=r,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=e[0],this._inkbar;var i=this,o=this._$scope.$watch(function(){return i._navBarEl.querySelectorAll("._md-nav-button").length},function(e){0<e&&(i._initTabs(),o())})}function je(u,e,d,h){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:Be,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(e,t){var n,r,i=t.mdNavClick,o=t.mdNavHref,a=t.mdNavSref,s=t.srefOpts;if(1<(i?1:0)+(o?1:0)+(a?1:0))throw Error("Please do not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");if(i!==de&&null!==i)n='ng-click="ctrl.mdNavClick()"';else if(o!==de&&null!==o)n='ng-href="{{ctrl.mdNavHref}}"';else{if(a===de||null===a)throw Error("Please specify at least one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");n='ui-sref="{{ctrl.mdNavSref}}"'}return n&&(r='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" ng-disabled="ctrl.disabled" tabindex="-1" role="tab" ng-attr-aria-label="{{ctrl.navItemAriaLabel ? ctrl.navItemAriaLabel : undefined}}" aria-selected="{{ctrl.isSelected()}}" '+(s?'ui-sref-opts="{{ctrl.srefOpts}}" ':"")+n+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="presentation">'+(r||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@",navItemAriaLabel:"@?"},link:function(n,r,i,o){var a,s,l,c;e(function(){if(s=o[0],l=o[1],c=ue.element(r[0].querySelector("._md-nav-button")),s.name||(s.name=ue.element(r[0].querySelector("._md-nav-button-text")).text().trim()),c.on("keydown",function(e){l.onKeydown(e)}),c.on("focus",function(){l.getFocusedTab()||l.onFocus()}),c.on("click",function(){l.mdSelectedNavItem=s.name,n.$apply()}),s.disabled=d.parseAttributeBoolean(i.disabled,!1),"MutationObserver"in h){var e=r[0],t=new MutationObserver(function(e){d.nextTick(function(){s.disabled=d.parseAttributeBoolean(i[e[0].attributeName],!1)})});t.observe(e,{attributes:!0,attributeFilter:["disabled"]}),a=t.disconnect.bind(t)}else i.$observe("disabled",function(e){s.disabled=d.parseAttributeBoolean(e,!1)});s.navItemAriaLabel||u.expectWithText(c,"aria-label")}),n.$on("destroy",function(){c.off("keydown"),c.off("focus"),c.off("click"),a()})}}}function Be(e){this._$element=e,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this.navItemAriaLabel,this._selected=!1,this._focused=!1}function Ue(w,C,s,x,f,e){var E=w.requestAnimationFrame||w.webkitRequestAnimationFrame||ue.noop,p=w.cancelAnimationFrame||w.webkitCancelAnimationFrame||w.webkitCancelRequestAnimationFrame||ue.noop,m="determinate",_="indeterminate",$="_md-progress-circular-disabled",S="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(e,t){if(e.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),ue.isUndefined(t.mdMode)){var n=t.hasOwnProperty("value")?m:_;t.$set("mdMode",n)}else t.$set("mdMode",t.mdMode.trim());return r}};function r(g,l,c){var v,e,t=l[0],a=ue.element(t.querySelector("svg")),y=ue.element(t.querySelector("path")),n=C.startIndeterminate,r=C.endIndeterminate,i=0,b=0;function u(n,e,t,r,i,o){var a=++b,s=x.now(),l=e-n,c=M(g.mdDiameter),u=N(c),d=t||C.easeFn,h=r||C.duration,f=-90*(i||0),p=o||100;function m(e){y.attr("stroke-dashoffset",k(c,u,e,p)),y.attr("transform","rotate("+f+" "+c/2+" "+c/2+")")}e===n?m(e):v=E(function e(){var t=w.Math.max(0,w.Math.min(x.now()-s,h));m(d(t,n,l,h)),a===b&&t<h&&(v=E(e))})}function o(){u(n,r,C.easeFnIndeterminate,C.durationIndeterminate,i,75),i=++i%4}function d(){e||(e=f(o,C.durationIndeterminate,0,!1),o(),l.addClass(S).removeAttr("aria-valuenow"))}function h(){e&&(f.cancel(e),e=null,l.removeClass(S))}s(l),l.toggleClass($,c.hasOwnProperty("disabled")),g.mdMode===_&&d(),g.$on("$destroy",function(){h(),v&&p(v)}),g.$watchGroup(["value","mdMode",function(){var e=t.disabled;return!0===e||!1===e?e:ue.isDefined(l.attr("disabled"))}],function(e,t){var n=e[1],r=e[2],i=0,o=0;if(r!==t[2]&&l.toggleClass($,!!r),r)h();else if(n!==m&&n!==_&&(n=_,c.$set("mdMode",n)),n===_)t[1]===m&&(o=N(i=M(g.mdDiameter)),y.attr("d",A(i,o,!0)),y.attr("stroke-dasharray",(i-o)*w.Math.PI*.75)),d();else{var a=T(e[0]),s=T(t[0]);h(),t[1]===_&&(o=N(i=M(g.mdDiameter)),y.attr("d",A(i,o,!1)),y.attr("stroke-dasharray",(i-o)*w.Math.PI)),l.attr("aria-valuenow",a),u(s,a)}}),g.$watch("mdDiameter",function(e){var t=M(e),n=N(t),r=T(g.value),i=t/2+"px",o={width:t+"px",height:t+"px"};a[0].setAttribute("viewBox","0 0 "+t+" "+t),a.css(o).css("transform-origin",i+" "+i+" "+i),l.css(o),y.attr("stroke-width",n),y.attr("stroke-linecap","square"),g.mdMode==_?(y.attr("d",A(t,n,!0)),y.attr("stroke-dasharray",(t-n)*w.Math.PI*.75),y.attr("stroke-dashoffset",k(t,n,1,75))):(y.attr("d",A(t,n,!1)),y.attr("stroke-dasharray",(t-n)*w.Math.PI),y.attr("stroke-dashoffset",k(t,n,0,100)),u(r,r))})}function A(e,t,n){var r=e/2,i=t/2,o=r+","+i,a=r-i;return"M"+o+"A"+a+","+a+" 0 1 1 "+(i+","+r)+(n?"":"A"+a+","+a+" 0 0 1 "+o)}function k(e,t,n,r){return(e-t)*w.Math.PI*(3*(r||100)/100-n/100)}function T(e){return w.Math.max(0,w.Math.min(e||0,100))}function M(e){var t=C.progressSize;if(e){var n=parseFloat(e);return e.lastIndexOf("%")===e.length-1&&(n=n/100*t),n}return t}function N(e){return C.strokeWidth/100*e}}function qe(d,h,e){var f="determinate",p="indeterminate",m="buffer",g="query",v="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:function(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),r}};function r(e,n,t){var r;d(n);var i=t.hasOwnProperty("disabled"),o=h.dom.animator.toCss,a=ue.element(n[0].querySelector(".md-bar1")),s=ue.element(n[0].querySelector(".md-bar2")),l=ue.element(n[0].querySelector(".md-container"));function c(){var e=(t.mdMode||"").trim();if(e)switch(e){case f:case p:case m:case g:break;default:e=p}return e}function u(e,t){if(!i&&c()){var n=h.supplant("translateX({0}%) scale({1},1)",[(t-100)/2,t/100]),r=o({transform:n});ue.element(e).css(r)}}n.attr("md-mode",c()).toggleClass(v,i),function(){if(ue.isUndefined(t.mdMode)){var e=ue.isDefined(t.value)?f:p;n.attr("md-mode",e),t.mdMode=e}}(),t.$observe("value",function(e){var t=y(e);n.attr("aria-valuenow",t),c()!=g&&u(s,t)}),t.$observe("mdBufferValue",function(e){u(a,y(e))}),t.$observe("disabled",function(e){i=!0===e||!1===e?!!e:ue.isDefined(e),n.toggleClass(v,i),l.toggleClass(r,!i)}),t.$observe("mdMode",function(e){switch(r&&l.removeClass(r),e){case g:case m:case f:case p:l.addClass(r="md-mode-"+e);break;default:l.addClass(r="md-mode-"+p)}})}function y(e){return Math.max(0,Math.min(e||0,100))}}function ze(s,l,c,u){return e.prototype={init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=ue.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return t(this.$element,1)},selectPrevious:function(){return t(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}},{restrict:"E",controller:["$element",e],require:["mdRadioGroup","?ngModel"],link:{pre:function(t,r,e,n){r.addClass("_md"),c(r);var i=n[0],o=n[1]||s.fakeNgModel();function a(){r.hasClass("md-focused")||r.addClass("md-focused")}i.init(o),t.mouseActive=!1,r.attr({role:"radiogroup",tabIndex:r.attr("tabindex")||"0"}).on("keydown",function(e){var t=e.which||e.keyCode;if(t==l.KEY_CODE.ENTER||e.currentTarget==e.target)switch(t){case l.KEY_CODE.LEFT_ARROW:case l.KEY_CODE.UP_ARROW:e.preventDefault(),i.selectPrevious(),a();break;case l.KEY_CODE.RIGHT_ARROW:case l.KEY_CODE.DOWN_ARROW:e.preventDefault(),i.selectNext(),a();break;case l.KEY_CODE.ENTER:var n=ue.element(s.getClosest(r[0],"form"));0<n.length&&n.triggerHandler("submit")}}).on("mousedown",function(e){t.mouseActive=!0,u(function(){t.mouseActive=!1},100)}).on("focus",function(){!1===t.mouseActive&&i.$element.addClass("md-focused")}).on("blur",function(){i.$element.removeClass("md-focused")})}}};function e(e){this._radioButtonRenderFns=[],this.$element=e}function t(e,t){var n=s.iterator(e[0].querySelectorAll("md-radio-button"),!0);if(n.count()){var r=e[0].querySelector("md-radio-button.md-checked"),i=n[t<0?"previous":"next"](r,function(e){return!ue.element(e).attr("disabled")})||n.first();ue.element(i).triggerHandler("click")}}}function Ve(l,c,u){var d="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:function(t,n,r,i){var o;u(n),function(e){e.attr({id:r.id||"radio_"+c.nextUid(),role:"radio","aria-checked":"false"}),l.expectWithText(e,"aria-label")}(n),r.ngValue?c.nextTick(e,!1):e();function e(){if(!i)throw"RadioButton: No RadioGroupController could be found.";i.add(s),r.$observe("value",s),n.on("click",a).on("$destroy",function(){i.remove(s)})}function a(e){n[0].hasAttribute("disabled")||i.isDisabled()||t.$apply(function(){i.setViewValue(r.value,e&&e.type)})}function s(){var e=i.getViewValue()==r.value;e!==o&&("md-radio-group"!==n[0].parentNode.nodeName.toLowerCase()&&n.parent().toggleClass(d,e),e&&i.setActiveDescendant(n.attr("id")),o=e,n.attr("aria-checked",e).toggleClass(d,e))}}}}function We(l,c){return["$mdUtil","$window",function(a,s){return{restrict:"A",multiElement:!0,link:function(r,i,t){var o=r.$on("$md-resize-enable",function(){o();var e=i[0],n=e.nodeType===s.Node.ELEMENT_NODE?s.getComputedStyle(e):{};r.$watch(t[l],function(e){if(!!e===c){a.nextTick(function(){r.$broadcast("$md-resize")});var t={cachedTransitionStyles:n};a.dom.animator.waitTransitionEnd(i,t).then(function(){r.$broadcast("$md-resize")})}})})}}}]}function Ge(r,l,c,i){var u="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",d={find:function(e,t){var n=r.get(e);return n||t?n:(i.error(l.supplant(u,[e||""])),de)},waitFor:h};return function(e,t){if(ue.isUndefined(e))return d;var n,r,i=!0===t,o=d.find(e,i);return!o&&i?d.waitFor(e):!o&&ue.isUndefined(t)?(n=d,r=e,ue.extend({isLockedOpen:a,isOpen:a,toggle:s,open:s,close:s,onClose:ue.noop,then:function(e){return h(r).then(e||ue.noop)}},n)):o;function a(){return!1}function s(){return c.when(l.supplant(u,[r||""]))}};function h(e){return r.when(e).catch(i.error)}}function Ye(r,v,y,b,w,C,e,x,E,_,$,S,A){return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed").attr("tabIndex","-1"),t}};function t(i,o,e,t){var a,s,l,c,u,d=null,h=null,f=_.when(!0),n=x(e.mdIsLockedOpen),p=ue.element(S);function m(e){return e.keyCode===y.KEY_CODE.ESCAPE?g(e):_.when(!0)}function g(e){return e.preventDefault(),t.close()}e.mdDisableScrollTarget&&((d=$[0].querySelector(e.mdDisableScrollTarget))?d=ue.element(d):E.warn(v.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:e.mdDisableScrollTarget}))),d=d||o.parent(),e.hasOwnProperty("mdDisableBackdrop")||(s=v.createBackdrop(i,"md-sidenav-backdrop md-opaque ng-enter")),e.hasOwnProperty("mdDisableCloseEvents")&&(l=!0),o.addClass("_md"),b(o),s&&b.inherit(s,o),o.on("$destroy",function(){s&&s.remove(),t.destroy()}),i.$on("$destroy",function(){s&&s.remove()}),i.$watch(function(){return n(i.$parent,{$media:function(e){return E.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),r(e)},$mdMedia:r})},function(e,t){(i.isLockedOpen=e)===t?o.toggleClass("md-locked-open",!!e):C[e?"addClass":"removeClass"](o,"md-locked-open");s&&s.toggleClass("md-locked-open",!!e)}),i.$watch("isOpen",function(e){var t,n=v.findFocusTarget(o)||v.findFocusTarget(o,"[md-sidenav-focus]")||o,r=o.parent();l||(r[e?"on":"off"]("keydown",m),s&&s[e?"on":"off"]("click",g));t=function(e,t){var n=o[0],r=e[0].scrollTop;if(t&&r){u={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var i={top:r+"px",bottom:"auto",height:e[0].clientHeight+"px"};o.css(i),s.css(i)}if(!t&&u)return function(){n.style.top=u.top,n.style.bottom=u.bottom,n.style.height=u.height,s[0].style.top=null,s[0].style.bottom=null,s[0].style.height=null,u=null}}(r,e),e&&(h=$[0].activeElement,c=w.getLastInteractionType());return function(e){e&&!a?(a=d.css("overflow"),d.css("overflow","hidden")):ue.isDefined(a)&&(d.css("overflow",a),a=de)}(e),f=_.all([e&&s?C.enter(s,r):s?C.leave(s):_.when(!0),C[e?"removeClass":"addClass"](o,"md-closed")]).then(function(){i.isOpen&&(A(function(){p.triggerHandler("resize")}),n&&n.focus()),t&&t()})}),t.$toggleOpen=function(e){return i.isOpen===e?_.when(!0):(i.isOpen&&t.onCloseCb&&t.onCloseCb(),_(function(t){i.isOpen=e,v.nextTick(function(){f.then(function(e){!i.isOpen&&h&&"keyboard"===c&&(h.focus(),h=null),t(e)})})}))}}}function Ke(t,e,n,r,i){var o=this;o.isOpen=function(){return!!t.isOpen},o.isLockedOpen=function(){return!!t.isLockedOpen},o.onClose=function(e){return o.onCloseCb=e,o},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!t.isOpen)},o.$toggleOpen=function(e){return r.when(t.isOpen=e)};var a=e.mdComponentId,s=a&&-1<a.indexOf(i.startSymbol()),l=s?i(a)(t.$parent):a;o.destroy=n.register(o,l),s&&e.$observe("mdComponentId",function(e){e&&e!==o.$$mdHandle&&(o.destroy(),o.destroy=n.register(o,e))})}function Xe(m,g,v,y){var b=v.checkStickySupport();return function(e,t,n){var r,i,o,a=t.controller("mdContent");if(a)if(b)t.css({position:b,top:0,"z-index":2});else{var s=a.$element.data("$$sticky");s||(i=a.$element,o=g.throttle(u),function(e){var t,n,r=200;function i(){v.now()-n>r?(t=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),g.throttle(i))}e.on("scroll touchmove",function(){t||(t=!0,g.throttle(i),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),n=+v.now()})}(i),i.on("$scrollstart",o),i.on("$scroll",function e(){var t=i.prop("scrollTop"),n=(e.prevScrollTop||0)<t;if(0!==(e.prevScrollTop=t)){if(n){if(r.next&&r.next.top<=t)return void h(r.next);if(r.current&&r.next&&r.next.top-t<=r.next.height)return void p(r.current,t+(r.next.top-r.next.height-t))}if(!n){if(r.current&&r.prev&&t<r.current.top)return void h(r.prev);if(r.next&&r.current&&t>=r.next.top-r.current.height)return void p(r.current,t+(r.next.top-t-r.current.height))}r.current&&p(r.current,t)}else h(null)}),s=r={prev:null,current:null,next:null,items:[],add:function(n,e){e.addClass("md-sticky-clone");var t={element:n,clone:e};return r.items.push(t),v.nextTick(function(){i.prepend(t.clone)}),o(),function(){r.items.forEach(function(e,t){e.element[0]===n[0]&&(r.items.splice(t,1),e.clone.remove())}),o()}},refreshElements:u},a.$element.data("$$sticky",s));var l=n||y(t.clone())(e),c=s.add(t,l);e.$on("$destroy",c)}function u(){var e;r.items.forEach(d),r.items=r.items.sort(function(e,t){return e.top<t.top?-1:1});for(var t=i.prop("scrollTop"),n=r.items.length-1;0<=n;n--)if(t>r.items[n].top){e=r.items[n];break}h(e)}function d(e){var t=e.element[0];for(e.top=0,e.left=0,e.right=0;t&&t!==i[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t.offsetParent&&(e.right+=t.offsetParent.offsetWidth-t.offsetWidth-t.offsetLeft),t=t.offsetParent;e.height=e.element.prop("offsetHeight");var n=v.floatingScrollbars()?"0":de;v.bidi(e.clone,"margin-left",e.left,n),v.bidi(e.clone,"margin-right",n,e.right)}function h(e){if(r.current!==e){r.current&&(p(r.current,null),f(r.current,null)),e&&f(e,"active"),r.current=e;var t=r.items.indexOf(e);r.next=r.items[t+1],r.prev=r.items[t-1],f(r.next,"next"),f(r.prev,"prev")}}function f(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function p(e,t){e&&(null===t||t===de?e.translateY&&(e.translateY=null,e.clone.css(m.CSS.TRANSFORM,"")):(e.translateY=t,v.bidi(e.clone,m.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)","translateY("+t+"px)")))}}}function Qe(s,l,c,u,d){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(n,r,e,t,i){c(r),r.addClass("_md"),u.prefixer().removeAttribute(r,"ng-repeat");var o=r[0].outerHTML;function a(e){return ue.element(e[0].querySelector(".md-subheader-content"))}e.$set("role","heading"),d.expect(r,"aria-level","2"),i(n,function(e){a(r).append(e)}),r.hasClass("md-no-sticky")||i(n,function(e){var t=l('<div class="md-subheader-wrapper" aria-hidden="true">'+o+"</div>")(n);u.nextTick(function(){a(t).append(e)}),s(n,r,t)})}}}function Ze(e){t.$inject=["$parse"];var o="md"+e,a="$md."+e.toLowerCase();return t;function t(i){return{restrict:"A",link:function(n,e,t){var r=i(t[o]);e.on(a,function(e){var t=e.currentTarget;n.$applyAsync(function(){r(n,{$event:e,$target:{current:t}})})})}}}}function Je(e,d,h,f,p,m,g){var n=e[0];return{restrict:"E",priority:h.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:function(e,t){var u=n.compile(e,t).post;return e.addClass("md-dragging"),function(t,n,e,r){r[0];var i=r[1]||d.fakeNgModel(),o=(r[2],null);null!=e.disabled?o=function(){return!0}:e.ngDisabled&&(o=f(e.ngDisabled));var a,s=ue.element(n[0].querySelector(".md-thumb-container")),l=ue.element(n[0].querySelector(".md-container")),c=ue.element(n[0].querySelector(".md-label"));p(function(){n.removeClass("md-dragging")}),u(t,n,e,r),o&&t.$watch(o,function(e){n.attr("tabindex",e?-1:0)}),e.$observe("mdInvert",function(e){var t=d.parseAttributeBoolean(e);t?n.prepend(c):n.prepend(l),n.toggleClass("md-inverted",t)}),m.register(l,"drag"),l.on("$md.dragstart",function(e){if(o&&o(t))return;e.stopPropagation(),n.addClass("md-dragging"),a={width:s.prop("offsetWidth")}}).on("$md.drag",function(e){if(!a)return;e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/a.width,n=i.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),s.css(h.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),a.translate=n}).on("$md.dragend",function(e){if(!a)return;e.stopPropagation(),n.removeClass("md-dragging"),s.css(h.CSS.TRANSFORM,""),(i.$viewValue?a.translate<.5:.5<a.translate)&&function(e){t.$apply(function(){i.$setViewValue(e),i.$render()})}(!i.$viewValue);a=null,t.skipToggle=!0,g(function(){t.skipToggle=!1},1)})}}}}function et(r){return{restrict:"A",compile:function(e,t){var n=r(t.mdTabScroll,null,!0);return function(t,e){e.on("wheel",function(e){t.$apply(function(){n(t,{$event:e})})})}}}}function tt(c,u,t,n,i,d,l,o,r,e,a,h,s){var f=this,p=!1,m=[],g=!1,v=!1;function y(t,e){var n=o.$normalize("md-"+t);function r(e){f[t]="false"!==e}e&&O(t,e),o.hasOwnProperty(n)&&r(o[n]),o.$observe(n,r)}function b(){g=!0,ue.element(t).off("resize",T)}function w(){var e=P();ue.element(e.wrapper).toggleClass("md-stretch-tabs",function(){switch(f.stretchTabs){case"always":return!0;case"never":return!1;default:return!f.shouldPaginate&&t.matchMedia("(max-width: 600px)").matches}}()),z()}function C(){f.shouldCenterTabs=R()}function x(t,e){if(t!==e){var n=P();ue.forEach(n.tabs,function(e){e.style.maxWidth=t+"px"}),ue.forEach(n.dummies,function(e){e.style.maxWidth=t+"px"}),d.nextTick(f.updateInkBarStyles)}}function E(e,t){e!==t&&(f.maxTabWidth=F(),f.shouldCenterTabs=R(),d.nextTick(function(){f.maxTabWidth=F(),B(f.selectedIndex)}))}function _(e){u[e?"removeClass":"addClass"]("md-no-tab-content")}function $(e){var t=(f.shouldCenterTabs||W()?"":"-")+e+"px";t=t.replace("--",""),ue.element(P().paging).css(n.CSS.TRANSFORM,"translate("+t+", 0)"),c.$broadcast("$mdTabsPaginationChanged")}function S(e,t){e!==t&&P().tabs[e]&&(B(),j())}function A(e,t){e!==t&&(f.selectedIndex=D(e),f.lastSelectedIndex=t,f.updateInkBarStyles(),q(),B(e),c.$broadcast("$mdTabsChanged"),f.tabs[t]&&f.tabs[t].scope.deselect(),f.tabs[e]&&f.tabs[e].scope.select())}function k(e,t){p||(f.focusIndex=f.selectedIndex=e),t&&f.noSelectClick||d.nextTick(function(){f.tabs[e].element.triggerHandler("click")},!1)}function T(){f.lastSelectedIndex=f.selectedIndex,f.offsetLeft=V(f.offsetLeft),d.nextTick(function(){f.updateInkBarStyles(),I()})}function M(e){ue.element(P().inkBar).toggleClass("ng-hide",e)}function N(e){u.toggleClass("md-dynamic-height",e)}function P(){var e={},t=u[0];return e.wrapper=t.querySelector("md-tabs-wrapper"),e.canvas=e.wrapper.querySelector("md-tabs-canvas"),e.paging=e.canvas.querySelector("md-pagination-wrapper"),e.inkBar=e.paging.querySelector("md-ink-bar"),e.nextButton=t.querySelector("md-next-button"),e.prevButton=t.querySelector("md-prev-button"),e.contents=t.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),e.tabs=e.paging.querySelectorAll("md-tab-item"),e.dummies=e.canvas.querySelectorAll("md-dummy-tab"),e}function R(){return f.centerTabs&&!f.shouldPaginate}function D(e){if(-1===e)return-1;var t,n,r=Math.max(f.tabs.length-e,e);for(t=0;t<=r;t++){if((n=f.tabs[e+t])&&!0!==n.scope.disabled)return n.getIndex();if((n=f.tabs[e-t])&&!0!==n.scope.disabled)return n.getIndex()}return e}function O(e,n,r){Object.defineProperty(f,e,{get:function(){return r},set:function(e){var t=r;r=e,n&&n(e,t)}})}function I(){f.maxTabWidth=F(),f.shouldPaginate=function(){var e;if(f.noPagination||!v)return!1;var t=u.prop("clientWidth");return ue.forEach(P().tabs,function(e){t-=e.offsetWidth}),e=t<0,d.msie&&(P().paging.style.width=e?"999999px":de),e}()}function L(e){var t=0;return ue.forEach(e,function(e){t+=Math.max(e.offsetWidth,e.getBoundingClientRect().width)}),Math.ceil(t)}function F(){var e=P().canvas.clientWidth;return Math.max(0,Math.min(e-1,264))}function H(e,t){var n,r=t?"focusIndex":"selectedIndex",i=f[r];for(n=i+e;f.tabs[n]&&f.tabs[n].scope.disabled;n+=e);n=(i+e+f.tabs.length)%f.tabs.length,f.tabs[n]&&(f[r]=n)}function j(){f.styleTabItemFocus="keyboard"===a.getLastInteractionType();var e=P().tabs[f.focusIndex];e&&e.focus()}function B(e){var t=P();if(ue.isNumber(e)||(e=f.focusIndex),t.tabs[e]&&!f.shouldCenterTabs){var n=t.tabs[e],r=n.offsetLeft,i=n.offsetWidth+r;if(0!==e)if(W()){var o=L(Array.prototype.slice.call(t.tabs,0,e)),a=L(Array.prototype.slice.call(t.tabs,0,e+1));f.offsetLeft=Math.min(f.offsetLeft,V(o)),f.offsetLeft=Math.max(f.offsetLeft,V(a-t.canvas.clientWidth))}else f.offsetLeft=Math.max(f.offsetLeft,V(i-t.canvas.clientWidth+32)),f.offsetLeft=Math.min(f.offsetLeft,V(r));else f.offsetLeft=0}}function U(){f.selectedIndex=D(f.selectedIndex),f.focusIndex=D(f.focusIndex)}function q(){if(!f.dynamicHeight)return u.css("height","");if(!f.tabs.length)return m.push(q);var e=P(),t=e.contents[f.selectedIndex],n=t?t.offsetHeight:0,r=e.wrapper.offsetHeight,i=n+r,o=u.prop("clientHeight");if(o!==i){"bottom"===u.attr("md-align-tabs")&&(o-=r,i-=r,u.attr("md-border-bottom")!==de&&++o),p=!0;var a={height:o+"px"},s={height:i+"px"};u.css(a),l(u,{from:a,to:s,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){u.css({transition:"none",height:""}),d.nextTick(function(){u.css("transition","")}),p=!1})}}function z(e,t){if(!f.noInkBar){var n=P();if(n.tabs[f.selectedIndex])if(f.tabs.length)if(u.prop("offsetParent")){var r=f.selectedIndex,i=n.paging.offsetWidth,o=n.tabs[r],a=o.offsetLeft,s=i-a-o.offsetWidth;if(f.shouldCenterTabs){var l=L(n.tabs);l<i&&e!==i&&t!==l&&h(z,0,!0,i,l)}!function(){var e=P(),t=f.selectedIndex,n=f.lastSelectedIndex,r=ue.element(e.inkBar);if(!ue.isNumber(n))return;r.toggleClass("md-left",t<n).toggleClass("md-right",n<t)}(),ue.element(n.inkBar).css({left:a+"px",right:s+"px"})}else(function e(){e.watcher||(e.watcher=c.$watch(function(){d.nextTick(function(){e.watcher&&u.prop("offsetParent")&&(e.watcher(),e.watcher=null,T())},!1)}))})();else m.push(f.updateInkBarStyles);else ue.element(n.inkBar).css({left:"auto",right:"auto"})}}function V(e){var t=P();if(!t.tabs.length||!f.shouldPaginate)return 0;var n=t.tabs[t.tabs.length-1],r=n.offsetLeft+n.offsetWidth;return e=W()?(e=Math.min(t.paging.offsetWidth-t.canvas.clientWidth,e),Math.max(0,e)):(e=Math.max(0,e),Math.min(r-t.canvas.clientWidth,e))}function W(){return"rtl"===d.bidi()}f.$onInit=function(){(function(t,e){var n=o.$normalize("md-"+t);e&&O(t,e);o.$observe(n,function(e){f[t]=e})})("stretchTabs",w),O("focusIndex",S,f.selectedIndex||0),O("offsetLeft",$,0),O("hasContent",_,!1),O("maxTabWidth",x,F()),O("shouldPaginate",E,!1),y("noInkBar",M),y("dynamicHeight",N),y("noPagination"),y("swipeContent"),y("noDisconnect"),y("autoselect"),y("noSelectClick"),y("centerTabs",C),y("enableDisconnect"),f.scope=c,f.parent=c.$parent,f.tabs=[],f.lastSelectedIndex=null,f.hasFocus=!1,f.styleTabItemFocus=!1,f.shouldCenterTabs=R(),f.tabContentPrefix="tab-content-",f.navigationHint="Use the left and right arrow keys to navigate between tabs",f.selectedIndex=f.selectedIndex||0,function(){var e=o.$mdTabsTemplate,t=ue.element(u[0].querySelector("md-tab-data"));t.html(e),r(t.contents())(f.parent),delete o.$mdTabsTemplate}(),c.$watch("$mdTabsCtrl.selectedIndex",A),ue.element(t).on("resize",T),c.$on("$destroy",b),e(u),d.nextTick(function(){q(),B(),z(),f.tabs[f.selectedIndex]&&f.tabs[f.selectedIndex].scope.select(),v=!0,I()})},f.updatePagination=d.debounce(I,100),f.redirectFocus=j,f.attachRipple=function(e,t){var n=P(),r={colorElement:ue.element(n.inkBar)};i.attach(e,t,r)},f.insertTab=function(e,t){var n=v,r={getIndex:function(){return f.tabs.indexOf(i)},isActive:function(){return this.getIndex()===f.selectedIndex},isLeft:function(){return this.getIndex()<f.selectedIndex},isRight:function(){return this.getIndex()>f.selectedIndex},shouldRender:function(){return!f.noDisconnect||this.isActive()},hasFocus:function(){return f.styleTabItemFocus&&f.hasFocus&&this.getIndex()===f.focusIndex},id:d.nextUid(),hasContent:!(!e.template||!e.template.trim())},i=ue.extend(r,e);ue.isDefined(t)?f.tabs.splice(t,0,i):f.tabs.push(i);return function(){m.forEach(function(e){d.nextTick(e)}),m=[]}(),function(){var e,t=!1;for(e=0;e<f.tabs.length;e++)if(f.tabs[e].hasContent){t=!0;break}f.hasContent=t}(),d.nextTick(function(){I(),function(e){if(e.hasContent){var t=u[0].querySelectorAll('[md-tab-id="'+e.id+'"]');ue.element(t).attr("aria-controls",f.tabContentPrefix+e.id)}}(i),n&&f.autoselect&&d.nextTick(function(){d.nextTick(function(){k(f.tabs.indexOf(i))})})}),i},f.removeTab=function(e){if(g)return;var t=f.selectedIndex,n=f.tabs.splice(e.getIndex(),1)[0];U(),f.selectedIndex===t&&(n.scope.deselect(),f.tabs[f.selectedIndex]&&f.tabs[f.selectedIndex].scope.select());d.nextTick(function(){I(),f.offsetLeft=V(f.offsetLeft)})},f.select=k,f.scroll=function(e){if(!f.shouldPaginate)return;e.preventDefault(),e.deltaY?f.offsetLeft=V(f.offsetLeft+e.deltaY):e.deltaX&&(f.offsetLeft=V(f.offsetLeft+e.deltaX))},f.nextPage=function(){if(!f.canPageForward())return;var e=s.increasePageOffset(P(),f.offsetLeft);f.offsetLeft=V(e)},f.previousPage=function(){if(!f.canPageBack())return;var e=s.decreasePageOffset(P(),f.offsetLeft);f.offsetLeft=V(e)},f.keydown=function(e){switch(e.keyCode){case n.KEY_CODE.LEFT_ARROW:e.preventDefault(),H(-1,!0);break;case n.KEY_CODE.RIGHT_ARROW:e.preventDefault(),H(1,!0);break;case n.KEY_CODE.SPACE:case n.KEY_CODE.ENTER:e.preventDefault(),p||k(f.focusIndex);break;case n.KEY_CODE.TAB:f.focusIndex!==f.selectedIndex&&(f.focusIndex=f.selectedIndex)}},f.canPageForward=function(){var e=P(),t=e.tabs[e.tabs.length-1];if(W())return f.offsetLeft<e.paging.offsetWidth-e.canvas.offsetWidth;return t&&t.offsetLeft+t.offsetWidth>e.canvas.clientWidth+f.offsetLeft},f.canPageBack=function(){return 0<f.offsetLeft},f.refreshIndex=U,f.incrementIndex=H,f.getTabElementIndex=function(e){var t=u[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(t,e[0])},f.updateInkBarStyles=d.debounce(z,100),f.updateTabOrder=d.debounce(function(){var e=f.tabs[f.selectedIndex],t=f.tabs[f.focusIndex];f.tabs=f.tabs.sort(function(e,t){return e.index-t.index}),f.selectedIndex=f.tabs.indexOf(e),f.focusIndex=f.tabs.indexOf(t)},100),f.getFocusedTabId=function(){var e=f.tabs[f.focusIndex];return e&&e.id?"tab-item-"+e.id:null},1===ue.version.major&&ue.version.minor<=4&&this.$onInit()}function nt(n){return{scope:{navigationHint:"@?mdNavigationHint",selectedIndex:"=?mdSelected"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+n.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+n.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist" aria-label="{{::$mdTabsCtrl.navigationHint}}"><md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab {{::tab.scope.tabClass}}" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}function rt(l,c){return{require:"^?mdTabs",link:function(e,t,n,r){if(r){var i,o,a=function(){r.updatePagination(),r.updateInkBarStyles()};if("MutationObserver"in c){(i=new MutationObserver(a)).observe(t[0],{childList:!0,subtree:!0,characterData:!0}),o=i.disconnect.bind(i)}else{var s=l.debounce(a,15,null,!1);t.on("DOMSubtreeModified",s),o=t.off.bind(t,"DOMSubtreeModified",s)}e.$on("$destroy",function(){o()})}}}}function it(a,s){return{restrict:"A",link:function(e,t,n,r){if(!r)return;var i=r.enableDisconnect?e.compileScope.$new():e.compileScope;return t.html(e.template),a(t.contents())(i),s.nextTick(function(){e.$watch("connected",function(e){!1===e?r.enableDisconnect&&s.disconnectScope(i):o()}),e.$on("$destroy",o)});function o(){r.enableDisconnect&&s.reconnectScope(i)}},scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}function ot(n){return{restrict:"E",link:function(e,t){t.addClass("_md"),e.$on("$destroy",function(){n.destroy()})}}}function at(e){n.$inject=["$mdToast","$scope","$log"],r.$inject=["$animate","$mdToast","$mdUtil","$mdMedia","$document"];var d,h="ok";function t(e){d=e}return e("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:r}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","actionKey","actionHint","highlightAction","highlightClass","theme","parent","dismissHint"],options:["$mdToast","$mdTheming",function(e,t){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content" aria-live="polite" aria-relevant="all">    <span class="md-toast-text">      {{ toast.content }}    </span>    <span class="md-visually-hidden">{{ toast.dismissHint }}</span>    <span class="md-visually-hidden" ng-if="toast.action && toast.actionKey">      {{ toast.actionHint }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"                ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:n,theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",t).addMethod("updateContent",t);function n(t,n,r){this.$onInit=function(){var e=this;e.highlightAction&&(n.highlightClasses=["md-highlight",e.highlightClass]),e.action&&!e.actionKey&&r.warn("Toasts with actions should define an actionKey for accessibility.","Details: https://material.angularjs.org/latest/api/service/$mdToast#mdtoast-simple"),e.actionKey&&!e.actionHint&&(e.actionHint='Press Control-"'+e.actionKey+'" to '),e.dismissHint||(e.dismissHint="Press Escape to dismiss."),n.$watch(function(){return d},function(){e.content=d}),this.resolve=function(){t.hide(h)}}}function r(r,s,l,t,c){var u="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:function(e,i,o){d=o.textContent||o.content;var a=!t("gt-sm");i=l.extractElementByName(i,"md-toast",!0),o.element=i,o.onSwipe=function(e,t){var n=e.type.replace("$md.",""),r=n.replace("swipe","");"down"===r&&-1!==o.position.indexOf("top")&&!a||"up"===r&&(-1!==o.position.indexOf("bottom")||a)||("left"===r||"right"===r)&&a||(i.addClass("md-"+n),l.nextTick(s.cancel))},o.openClass=function(e){return t("gt-xs")?"md-toast-open-"+(-1<e.indexOf("top")?"top":"bottom"):"md-toast-open-bottom"}(o.position),i.addClass(o.toastClass),o.parent.addClass(o.openClass),l.hasComputedStyle(o.parent,"position","static")&&o.parent.css("position","relative");(function(t){c.on("keydown",function(e){"Escape"===e.key&&s.hide(!1),t&&e.key===t&&e.ctrlKey&&s.hide(h)})})(e.toast&&e.toast.actionKey?e.toast.actionKey:de),i.on(u,o.onSwipe),i.addClass(a?"md-bottom":o.position.split(" ").map(function(e){return"md-"+e}).join(" ")),o.parent&&o.parent.addClass("md-toast-animating");return r.enter(i,o.parent).then(function(){o.parent&&o.parent.removeClass("md-toast-animating")})},onRemove:function(e,t,n){e.toast&&e.toast.actionKey&&c.off("keydown");t.off(u,n.onSwipe),n.parent&&n.parent.addClass("md-toast-animating");n.openClass&&n.parent.removeClass(n.openClass);return(!0===n.$destroy?t.remove():r.leave(t)).then(function(){n.parent&&n.parent.removeClass("md-toast-animating"),l.hasComputedStyle(n.parent,"position","static")&&n.parent.css("position","")})},toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(e,t){if(t.autoWrap&&e&&!/md-toast-content/g.test(e)){var n=document.createElement("md-template");n.innerHTML=e;for(var r=0;r<n.children.length;r++)if("MD-TOAST"===n.children[r].nodeName){var i=ue.element('<div class="md-toast-content">');i.append(ue.element(n.children[r].childNodes)),n.children[r].appendChild(i[0])}return n.innerHTML}return e||""}}}}function st(m,g,v,e,y){var b=ue.bind(null,v.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(h,f,p){f.addClass("_md"),e(f),v.nextTick(function(){f.addClass("_md-toolbar-transitions")},!1),ue.isDefined(p.mdScrollShrink)&&function(){var n,r,i=ue.noop,o=0,a=0,s=p.mdShrinkSpeedFactor||.5,l=m.throttle(t),c=v.debounce(e,5e3);h.$on("$mdContentLoaded",u),p.$observe("mdScrollShrink",function(e){var t=f.parent().find("md-content");!r&&t.length&&u(0,t);!1===(e=h.$eval(e))?i():i=d()}),p.ngShow&&h.$watch(p.ngShow,e);p.ngHide&&h.$watch(p.ngHide,e);function u(e,t){t&&f.parent()[0]===t.parent()[0]&&(r&&r.off("scroll",l),r=t,i=d())}function t(e){var t=e?e.target.scrollTop:a;c(),o=Math.min(n/s,Math.max(0,o+t-a)),f.css(g.CSS.TRANSFORM,b([-o*s])),r.css(g.CSS.TRANSFORM,b([(n-o)*s])),a=t,v.nextTick(function(){var e=f.hasClass("md-whiteframe-z1");e&&!o?y.removeClass(f,"md-whiteframe-z1"):!e&&o&&y.addClass(f,"md-whiteframe-z1")})}function d(){return r?(r.on("scroll",l),r.attr("scroll-shrink","true"),v.nextTick(e,!1),function(){r.off("scroll",l),r.attr("scroll-shrink","false"),e()}):ue.noop}function e(){var e=-(n=f.prop("offsetHeight"))*s+"px";r.css({"margin-top":e,"margin-bottom":e}),t()}h.$on("$destroy",i)}()}}}function lt(y,b,w,C,x,E,_,$){var S="focus touchstart mouseenter",A="blur touchcancel mouseleave",k={top:{x:_.xPosition.CENTER,y:_.yPosition.ABOVE},right:{x:_.xPosition.OFFSET_END,y:_.yPosition.CENTER},bottom:{x:_.xPosition.CENTER,y:_.yPosition.BELOW},left:{x:_.xPosition.OFFSET_START,y:_.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:function(a,r,s){var i,e,o,l,c,u="md-tooltip-"+E.nextUid(),d=E.getParentWithPointerEvents(r),h=w.throttle(m),f=!1,p=null;function t(){a.mdZIndex=a.mdZIndex||100,a.mdDelay=a.mdDelay||0,k[a.mdDirection]||(a.mdDirection="bottom")}function n(e){var t=e||x(r.text().trim())(a.$parent);(d.attr("aria-label")||d.attr("aria-labelledby"))&&!d.attr("md-labeled-by-tooltip")||(d.attr("aria-label",t),d.attr("md-labeled-by-tooltip")||d.attr("md-labeled-by-tooltip",u))}function m(){t(),l&&l.panelEl&&l.panelEl.removeClass(i),i="md-origin-"+a.mdDirection,e=k[a.mdDirection],o=_.newPanelPosition().relativeTo(d).addPanelPosition(e.x,e.y),l&&l.panelEl&&(l.panelEl.addClass(i),l.updatePosition(o))}function g(e){g.queued&&g.value===!!e||!g.queued&&a.mdVisible===!!e||(g.value=!!e,g.queued||(e?(g.queued=!0,c=y(function(){a.mdVisible=g.value,g.queued=!1,c=null,a.visibleWatcher||v(a.mdVisible)},a.mdDelay)):E.nextTick(function(){a.mdVisible=!1,a.visibleWatcher||v(!1)})))}function v(e){e?function(){if(!r[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!l){var e=ue.element(document.body),t=_.newPanelAnimation().openFrom(d).closeTo(d).withAnimation({open:"md-show",close:"md-hide"}),n={id:u,attachTo:e,contentElement:r,propagateContainerEvents:!0,panelClass:"md-tooltip",animation:t,position:o,zIndex:a.mdZIndex,focusOnOpen:!1,onDomAdded:function(){l.panelEl.addClass(i)}};l=_.create(n)}l.open().then(function(){l.panelEl.attr("role","tooltip")})}():l&&l.close()}t(),n(),r.detach(),m(),function(){if(d[0]&&"MutationObserver"in b){var e=new MutationObserver(function(e){e.some(function(e){return"disabled"===e.attributeName&&d[0].disabled})});e.observe(d[0],{attributes:!0})}function t(){g(!1)}function n(){p=document.activeElement===d[0]}function r(e){"focus"===e.type&&p?p=!1:a.mdVisible||(d.on(A,i),g(!0),"touchstart"===e.type&&d.one("touchend",function(){E.nextTick(function(){C.one("touchend",i)},!1)}))}function i(){((a.hasOwnProperty("mdAutohide")?a.mdAutohide:s.hasOwnProperty("mdAutohide"))||f||C[0].activeElement!==d[0])&&(c&&(y.cancel(c),g.queued=!1,c=null),d.off(A,i),d.triggerHandler("blur"),g(!1)),f=!1}function o(){f=!0}p=!1,$.register("scroll",t,!0),$.register("blur",n),$.register("resize",h),a.$on("$destroy",function(){$.deregister("scroll",t,!0),$.deregister("blur",n),$.deregister("resize",h),d.off(S,r).off(A,i).off("mousedown",o),i(),e&&e.disconnect()}),d.on("mousedown",o),d.on(S,r)}(),function(){if(r[0]&&"MutationObserver"in b){var e=new MutationObserver(function(e){e.forEach(function(e){"md-visible"!==e.attributeName||a.visibleWatcher||(a.visibleWatcher=a.$watch("mdVisible",v))})});e.observe(r[0],{attributes:!0}),s.hasOwnProperty("mdVisible")&&(a.visibleWatcher=a.$watch("mdVisible",v))}else a.visibleWatcher=a.$watch("mdVisible",v);function t(){a.$destroy()}a.$watch("mdDirection",m),r.one("$destroy",t),d.one("$destroy",t),a.$on("$destroy",function(){g(!1),l&&l.destroy(),e&&e.disconnect(),r.remove()}),-1<r.text().indexOf(x.startSymbol())&&a.$watch(function(){return r.text().trim()},n)}()}}}function ct(e){e.addClass("md-truncate")}function ut(o){return{link:function(e,n,r){var i="";r.$observe("mdWhiteframe",function(e){-1!=(e=parseInt(e,10)||4)&&(24<e||e<1)&&(o.warn("md-whiteframe attribute value is invalid. It should be a number between 1 and 24",n[0]),e=4);var t=-1==e?"":"md-whiteframe-"+e+"dp";r.$updateClass(t,i),i=t})}}}ue.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.animate","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"]),e.$inject=["$log","$injector"],t.$inject=["$provide","$mdThemingProvider"],n.$inject=["$delegate"],r.$inject=["$delegate"],ue.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(t).run(e),i.$inject=["$parse"],ue.module("material.core").directive("mdAutofocus",i).directive("mdAutoFocus",i).directive("mdSidenavFocus",i),ue.module("material.core").factory("$mdColorUtil",function(){return{rgbaToHex:function(e){return((e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):"").toUpperCase()},hexToRgba:function(e){var t="#"===e[0]?e.substr(1):e,n=t.length/3,r=t.substr(0,n),i=t.substr(n,n),o=t.substr(2*n);return 1==n&&(r+=r,i+=i,o+=o),"rgba("+parseInt(r,16)+","+parseInt(i,16)+","+parseInt(o,16)+",0.1)"},rgbToRgba:function(e){return e.replace(")",", 0.1)").replace("(","a(")},rgbaToRgb:function(e){return e?e.replace("rgba","rgb").replace(/,[^),]+\)/,")"):"rgb(0,0,0)"}}}),ue.module("material.core").factory("$mdConstant",function(){var r=document.createElement("div"),i=function(e){var t,n,r=/^(Moz|webkit|ms)(?=[A-Z])/;for(t in e.style)if(n=r.exec(t))return n[0]}(r),e=/webkit/i.test(i),o=/([:\-_]+(.))/g;function t(e){var t=(i+"-"+e).replace(o,function(e,t,n,r){return r?n.toUpperCase():n}),n=t.charAt(0).toLowerCase()+t.substring(1);return a(r,e)?e:a(r,t)?t:a(r,n)?n:e}function a(e,t){return ue.isDefined(e.style[t])}var n={isInputKey:function(e){return 31<=e.keyCode&&e.keyCode<=90},isNumPadKey:function(e){return 3===e.location&&97<=e.keyCode&&e.keyCode<=105},isMetaKey:function(e){return 91<=e.keyCode&&e.keyCode<=93},isFnLockKey:function(e){return 112<=e.keyCode&&e.keyCode<=145},isNavigationKey:function(e){var t=n.KEY_CODE;return-1!=[t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW].indexOf(e.keyCode)},hasModifierKey:function(e){return e.ctrlKey||e.metaKey||e.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(e?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(e?" webkitAnimationEnd":""),TRANSFORM:t("transform"),TRANSFORM_ORIGIN:t("transformOrigin"),TRANSITION:t("transition"),TRANSITION_DURATION:t("transitionDuration"),ANIMATION_PLAY_STATE:t("animationPlayState"),ANIMATION_DURATION:t("animationDuration"),ANIMATION_NAME:t("animationName"),ANIMATION_TIMING:t("animationTimingFunction"),ANIMATION_DIRECTION:t("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return n}),ue.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=o,e}])}]),a.$inject=["$mdConstant","$rootScope","$window"],ue.module("material.core").factory("$mdMedia",a),ue.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.prefixer=s,e}])}]),function(){e.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var v=0;function e(l,s,n,a,e,t,o,r,c,d){function i(e,t,n){var r=!1;if(e&&e.length){var i=c.getComputedStyle(e[0]);r=ue.isDefined(i[t])&&(!n||i[t]==n)}return r}var u=t.startSymbol(),h=t.endSymbol(),f="{{"===u&&"}}"===h;function p(e){return e?-1<String(e).indexOf("px")||-1<String(e).indexOf("%")?e:e+"px":"0"}var m={dom:{},now:j.performance&&j.performance.now?ue.bind(j.performance,j.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(e,t){if(e.$options){var n=e.$options;return n.getOption?n.getOption(t):n[t]}},bidi:function(e,t,n,r){var i=!("rtl"==l[0].dir||"rtl"==l[0].body.dir);if(0==arguments.length)return i?"ltr":"rtl";var o=ue.element(e);i&&ue.isDefined(n)?o.css(t,p(n)):!i&&ue.isDefined(r)&&o.css(t,p(r))},bidiProperty:function(e,t,n,r){var i=!("rtl"==l[0].dir||"rtl"==l[0].body.dir),o=ue.element(e);i&&ue.isDefined(t)?(o.css(t,p(r)),o.css(n,"")):!i&&ue.isDefined(n)&&(o.css(n,p(r)),o.css(t,""))},clientRect:function(e,t,n){var r=g(e);t=g(t||r.offsetParent||document.body);var i=r.getBoundingClientRect(),o=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:i.left-o.left,top:i.top-o.top,width:i.width,height:i.height}},offsetRect:function(e,t){return m.clientRect(e,t,!0)},nodesToArray:function(e){e=e||[];for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},getViewportTop:function(){return m.disableScrollAround._count&&m.disableScrollAround._viewPortTop?m.disableScrollAround._viewPortTop:c.scrollY||c.pageYOffset||0},findFocusTarget:function(e,t){var n,r=this.prefixer("md-autofocus",!0);return(n=i(e,t||r))||t==r||(n=(n=i(e,this.prefixer("md-auto-focus",!0)))||i(e,r)),n;function i(e,t){var n,r=e[0].querySelectorAll(t);return r&&r.length&&r.length&&ue.forEach(r,function(e){(e=ue.element(e)).hasClass("md-autofocus")&&(n=e)}),n}},disableScrollAround:function(e,t,r){if(r=r||{},m.disableScrollAround._count=Math.max(0,m.disableScrollAround._count||0),m.disableScrollAround._count++,m.disableScrollAround._restoreScroll)return m.disableScrollAround._restoreScroll;var s=l[0].body,n=function(){var e=l[0].documentElement,t=e.style.cssText||"",n=s.style.cssText||"",r=m.getViewportTop();m.disableScrollAround._viewPortTop=r;var i=s.clientWidth,o=s.scrollHeight>s.clientHeight+1,a=0<e.scrollTop?e:s;o&&ue.element(s).css({position:"fixed",width:"100%",top:-r+"px"});s.clientWidth<i&&(s.style.overflow="hidden");return function(){s.style.cssText=n,e.style.cssText=t,a.scrollTop=r}}(),i=function(e){var t;e=ue.element(e||s),r.disableScrollMask?t=e:(t=ue.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),e.append(t));return t.on("wheel",n),t.on("touchmove",n),function(){t.off("wheel"),t.off("touchmove"),!r.disableScrollMask&&t[0].parentNode&&t[0].parentNode.removeChild(t[0])};function n(e){e.preventDefault()}}(t);return m.disableScrollAround._restoreScroll=function(){--m.disableScrollAround._count<=0&&(delete m.disableScrollAround._viewPortTop,n(),i(),delete m.disableScrollAround._restoreScroll)}},enableScrolling:function(){var e=this.disableScrollAround._restoreScroll;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===de){var e=ue.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});e.children().css("height","60px"),l[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(e){var n=e[0]||e;document.addEventListener("click",function e(t){t.target===n&&t.$focus&&(n.focus(),t.stopImmediatePropagation(),t.preventDefault(),n.removeEventListener("click",e))},!0);var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!1,!0,j,{},0,0,0,0,!1,!1,!1,!1,0,null),t.$material=!0,t.$focus=!0,n.dispatchEvent(t)},createBackdrop:function(e,t){return n(m.supplant('<md-backdrop class="{0}">',[t]))(e)},supplant:function(e,o,t){return t=t||/\{([^{}]*)\}/g,e.replace(t,function(t,e){var n=e.split("."),r=o;try{for(var i in n)n.hasOwnProperty(i)&&(r=r[n[i]])}catch(e){r=t}return"string"==typeof r||"number"==typeof r?r:t})},fakeNgModel:function(){return{$fake:!0,$setTouched:ue.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:ue.noop}},debounce:function(n,r,i,o){var a;return function(){var e=i,t=Array.prototype.slice.call(arguments);s.cancel(a),a=s(function(){a=de,n.apply(e,t)},r||10,o)}},throttle:function(n,r){var i;return function(){var e=arguments,t=m.now();(!i||r<t-i)&&(n.apply(this,e),i=t)}},time:function(e){var t=m.now();return e(),m.now()-t},valueOnUse:function(e,t,n){var r=null,i=Array.prototype.slice.call(arguments),o=3<i.length?i.slice(3):[];Object.defineProperty(e,t,{get:function(){return null===r&&(r=n.apply(e,o)),r}})},nextUid:function(){return""+v++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,t,n){if(ue.isString(t)){var r=t.toUpperCase();t=function(e){return e.nodeName.toUpperCase()===r}}if(e instanceof ue.element&&(e=e[0]),n&&(e=e.parentNode),!e)return null;do{if(t(e))return e}while(e=e.parentNode);return null},elementContains:function(t,n){return(j.Node&&j.Node.prototype&&Node.prototype.contains?ue.bind(t,t.contains):ue.bind(t,function(e){return t===n||!!(16&this.compareDocumentPosition(e))}))(n)},extractElementByName:function(e,r,t,n){var i=s(e);return!i&&n&&o.warn(m.supplant("Unable to find node '{0}' in element '{1}'.",[r,e[0].outerHTML])),ue.element(i||e);function s(e){return function(e){if(e)for(var t=0,n=e.length;t<n;t++)if(e[t].nodeName.toLowerCase()===r)return e[t];return null}(e)||(t?function(e){var t;if(e)for(var n=0,r=e.length;n<r;n++){var i=e[n];if(!t)for(var o=0,a=i.childNodes.length;o<a;o++)t=t||s([i.childNodes[o]])}return t}(e):null)}},initOptionalProperties:function(r,i,o){o=o||{},ue.forEach(r.$$isolateBindings,function(e,t){if(e.optional&&ue.isUndefined(r[t])){var n=ue.isDefined(i[e.attrName]);r[t]=ue.isDefined(o[t])?o[t]:n}})},nextTick:function(e,t,n){var r=m.nextTick,i=r.timeout,o=r.queue||[];return o.push({scope:n,callback:e}),null==t&&(t=!0),r.digest=r.digest||t,r.queue=o,i||(r.timeout=s(function(){var e=r.queue,t=r.digest;r.queue=[],r.timeout=null,r.digest=!1,e.forEach(function(e){e.scope&&e.scope.$$destroyed||e.callback()}),t&&a.$digest()},0,!1))},processTemplate:function(e){return!f&&e&&ue.isString(e)?e.replace(/\{\{/g,u).replace(/}}/g,h):e},getParentWithPointerEvents:function(e){for(var t=e.parent();i(t,"pointer-events","none");)t=t.parent();return t},getNearestContentElement:function(e){for(var t=e.parent()[0];t&&t!==r[0]&&t!==document.body&&"MD-CONTENT"!==t.nodeName.toUpperCase();)t=t.parentNode;return t},checkStickySupport:function(){var e,t=ue.element("<div>");l[0].body.appendChild(t[0]);for(var n=["sticky","-webkit-sticky"],r=0;r<n.length;++r)if(t.css({position:n[r],top:0,"z-index":2}),t.css("position")==n[r]){e=n[r];break}return t.remove(),e},parseAttributeBoolean:function(e,t){return""===e||!!e&&(!1===t||"false"!==e&&"0"!==e)},hasComputedStyle:i,isParentFormSubmitted:function(e){var t=m.getClosest(e,"form"),n=t?ue.element(t).controller("form"):null;return!!n&&n.$submitted},animateScrollTo:function(i,o,a){var s=i.scrollTop,l=o-s,c=s<o,u=m.now();d(function e(){var t=(n=a||1e3,r=m.now()-u,function(e,t,n,r){if(r<e)return t+n;var i=(e/=r)*e;return t+n*(i*e*-2+3*i)}(r,s,l,n));var n,r;i.scrollTop=t;(c?t<o:o<t)&&d(e)})},uniq:function(e){if(e)return e.filter(function(e,t,n){return n.indexOf(e)===t})},getInnerHTML:function(e){var t=new XMLSerializer;return Array.prototype.map.call(e.childNodes,function(e){return t.serializeToString(e)}).join("")},getOuterHTML:function(e){return(new XMLSerializer).serializeToString(e)},msie:j.document.documentMode};return m.dom.animator=e(m),m;function g(e){return e[0]||e}}ue.module("material.core").factory("$mdUtil",e),ue.element.prototype.focus=ue.element.prototype.focus||function(){return this.length&&this[0].focus(),this},ue.element.prototype.blur=ue.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),ue.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(r,i,a,s){return function(e){return n=e,t=r,l=i,c=a,o=s,u={translate3d:function(t,n,e,r){return o(t,{from:n,to:e,addClass:r.transitionInClass,removeClass:r.transitionOutClass,duration:r.duration}).start().then(function(){return i});function i(e){return o(t,{to:e||n,addClass:r.transitionOutClass,removeClass:r.transitionInClass,duration:r.duration}).start()}},waitTransitionEnd:function(o,a){var s=3e3;return t(function(t,e){var n;"0s"!=(n=(n=(a=a||{}).cachedTransitionStyles)||j.getComputedStyle(o[0])).transitionDuration&&(n.transition||n.transitionProperty)||(s=0);var r=l(i,a.timeout||s);function i(e){e&&e.target!==o[0]||(e&&l.cancel(r),o.off(c.CSS.TRANSITIONEND,i),t())}o.on(c.CSS.TRANSITIONEND,i)})},calculateTransformValues:function(e,t){var n,r,i=t.element,o=t.bounds;if(i||o){var a=i?u.clientRect(i)||(n=e?e.parent():null,(r=n?n.parent():null)?u.clientRect(r):null):u.copyRect(o),s=u.copyRect(e[0].getBoundingClientRect()),l=u.centerPointFor(s),c=u.centerPointFor(a);return{centerX:c.x-l.x,centerY:c.y-l.y,scaleX:Math.round(100*Math.min(.5,a.width/s.width))/100,scaleY:Math.round(100*Math.min(.5,a.height/s.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(e,t){return ue.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )")(u.calculateTransformValues(e,t))},calculateSlideToOrigin:function(e,t){return ue.bind(null,n.supplant,"translate3d( {centerX}px, {centerY}px, 0 )")(u.calculateTransformValues(e,t))},toCss:function(e){var r={};return ue.forEach(e,function(e,t){if(!ue.isUndefined(e))if(0<="left top right bottom width height x y min-width min-height max-width max-height".indexOf(t))r[t]=e+"px";else switch(t){case"transition":n(0,c.CSS.TRANSITION,e);break;case"transform":n(0,c.CSS.TRANSFORM,e);break;case"transformOrigin":n(0,c.CSS.TRANSFORM_ORIGIN,e);break;case"font-size":r["font-size"]=e}}),r;function n(e,t,n){ue.forEach(t.split(" "),function(e){r[e]=n})}},toTransformCss:function(t,e,n){var r={};return ue.forEach(c.CSS.TRANSFORM.split(" "),function(e){r[e]=t}),e&&(n=n||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=n),r},copyRect:function(t,n){return t?(n=n||{},ue.forEach("left top right bottom width height".split(" "),function(e){n[e]=Math.round(t[e])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(e){var t,n=ue.element(e)[0].getBoundingClientRect();return(t=n)&&0<t.width&&0<t.height?u.copyRect(n):null},centerPointFor:function(e){return e?{x:Math.round(e.left+e.width/2),y:Math.round(e.top+e.height/2)}:{x:0,y:0}}};var n,t,l,c,o,u}}]),4<=ue.version.minor?ue.module("material.core.animate",[]):(S=ue.forEach,A=ue.isDefined(document.documentElement.style.WebkitAppearance),k=A?"-webkit-":"",T=(A?"webkitTransitionEnd ":"")+"transitionend",M=(A?"webkitAnimationEnd ":"")+"animationend",l=["$q","$$rAFMutex",function(t,n){function e(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}return e.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:ue.noop,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){(!1===e?n:t)()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(S(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},e.all=function(t,n){var r=0,i=!0;function o(e){i=i&&e,++r===t.length&&n(i)}S(t,function(e){e.done(o)})},e}],ue.module("material.core.animate",[]).factory("$$forceReflow",["$document",function(e){return function(){return e[0].body.clientWidth+1}}]).factory("$$AnimateRunner",l).factory("$$rAFMutex",["$$rAF",function(n){return function(){var t=!1;return n(function(){t=!0}),function(e){t?e():n(e)}}}]).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(p,o,a,m,n,g,s){function v(e,t){t.addClass&&(n.addClass(e,t.addClass),t.addClass=null),t.removeClass&&(n.removeClass(e,t.removeClass),t.removeClass=null)}function y(e){var t=0,n=(e||"").split(/\s*,\s*/);return S(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}var b,w=[];function C(e,t){t.from&&(e.css(t.from),t.from=null)}function x(e,t){t.to&&(e.css(t.to),t.to=null)}function E(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return e[t]}function _(e,t){var n=E(e),r=$(k+"transition-delay");n.style[r]=t?"-9999s":""}return function(r,l){var c=[],u=E(r),e=u&&s.enabled(),t=!1,n=!1;e&&(l.transitionStyle&&c.push([k+"transition",l.transitionStyle]),l.keyframeStyle&&c.push([k+"animation",l.keyframeStyle]),l.delay&&c.push([k+"transition-delay",l.delay+"s"]),l.duration&&c.push([k+"transition-duration",l.duration+"s"]),t=l.keyframeStyle||l.to&&(0<l.duration||l.transitionStyle),n=!!l.addClass||!!l.removeClass,_(r,!0));var d=e&&(t||n);C(r,l);var h,f,i=!1;return{close:p.close,start:function(){var n=new a;return function(e){b&&b();w.push(e),b=o(function(){b=null;for(var e=m(),t=0;t<w.length;t++)w[t](e);w.length=0})}(function(){if(_(r,!1),!d)return s();S(c,function(e){var t=e[0],n=e[1];u.style[$(t)]=n}),v(r,l);var e=function(e){var t=E(e),n=p.getComputedStyle(t),r=y(n[c("transitionDuration")]),i=y(n[c("animationDuration")]),o=y(n[c("transitionDelay")]),a=y(n[c("animationDelay")]);i*=parseInt(n[c("animationIterationCount")],10)||1;var s=Math.max(i,r),l=Math.max(a,o);return{duration:s,delay:l,animationDuration:i,transitionDuration:r,animationDelay:a,transitionDelay:o};function c(e){return A?"Webkit"+e.charAt(0).toUpperCase()+e.substr(1):e}}(r);if(0===e.duration)return s();var t=[];l.easing&&(e.transitionDuration&&t.push([k+"transition-timing-function",l.easing]),e.animationDuration&&t.push([k+"animation-timing-function",l.easing])),l.delay&&e.animationDelay&&t.push([k+"animation-delay",l.delay+"s"]),l.duration&&e.animationDuration&&t.push([k+"animation-duration",l.duration+"s"]),S(t,function(e){var t=e[0],n=e[1];u.style[$(t)]=n,c.push(e)});var i=1e3*e.delay,o=e.duration,n=1e3*o,a=Date.now();h=[],e.transitionDuration&&h.push(T),e.animationDuration&&h.push(M),h=h.join(" "),f=function(e){e.stopPropagation();var t=e.originalEvent||e,n=t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(3));Math.max(n-a,0)>=i&&o<=r&&s()},r.on(h,f),x(r,l),g(s,i+1.5*n,!1)}),n;function s(){var e,t;if(!i)return i=!0,h&&f&&r.off(h,f),v(r,l),C(e=r,t=l),x(e,t),S(c,function(e){u.style[$(e[0])]=""}),n.complete(!0),n}}}}}])),_.$inject=["$$rAF","$log","$window","$interpolate"],ue.module("material.core").provider("$mdAria",function(){var i={showWarnings:!0};return{disableWarnings:function(){i.showWarnings=!1},$get:["$$rAF","$log","$window","$interpolate",function(e,t,n,r){return _.apply(i,arguments)}]}}),ue.module("material.core").provider("$mdCompiler",N),N.$inject=["$compileProvider"],function(){i.$inject=["$$MdGestureHandler","$$rAF","$timeout"];var o,r,s={},l=6,c=!(p.$inject=["$mdGesture","$$MdGestureHandler"]),a=!1,u=null,d=!1,e=navigator.userAgent||navigator.vendor||j.opera,h=e.match(/ipad|iphone|ipod/i),f=e.match(/android/i);function t(){}function i(r,e,n){var i=function(){for(var e=document.createElement("div"),t=["","webkit","Moz","MS","ms","o"],n=0;n<t.length;n++){var r=t[n],i=r?r+"TouchAction":"touchAction";if(ue.isDefined(e.style[i]))return i}}(),t=void 0!==j.jQuery&&ue.element===j.jQuery,o={handler:function(e,t){var n=new r(e);return ue.extend(n,t),s[e]=n,o},register:function(e,t,n){var r=s[t.replace(/^\$md./,"")];if(r)return r.registerElement(e,n);throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(s).join(", "))},isAndroid:f,isIos:h,isHijackingClicks:(h||f)&&!t&&!c};function a(n){return function(e,t){t.distance<this.state.options.maxDistance&&this.dispatchEvent(e,n,t)}}return o.isHijackingClicks&&(o.handler("click",{options:{maxDistance:l},onEnd:a("click")}),o.handler("focus",{options:{maxDistance:l},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&w(e.target)&&(this.dispatchEvent(e,"focus",t),e.target.focus())}}),o.handler("mouseup",{options:{maxDistance:l},onEnd:a("mouseup")}),o.handler("mousedown",{onStart:function(e){this.dispatchEvent(e,"mousedown")}})),o.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){n.cancel(this.state.timeout)},onStart:function(e,t){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:t.x,y:t.y},this.state.timeout=n(ue.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1)},onMove:function(e,t){i||"touchmove"!==e.type||e.preventDefault();var n=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(e,t){i&&(this.oldTouchAction=e[0].style[i],e[0].style[i]=t.horizontal?"pan-y":"pan-x")},onCleanup:function(e){this.oldTouchAction&&(e[0].style[i]=this.oldTouchAction)},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,r;i||"touchmove"!==e.type||e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(r=this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=m(e),y(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:e.throttle(function(e){this.state.isRunning&&(y(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(y(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){var n;Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance?(n="left"==t.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(e,n)):Math.abs(t.velocityY)>this.state.options.minVelocity&&Math.abs(t.distanceY)>this.state.options.minDistance&&(n="up"==t.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(e,n))}})}function n(e){this.name=e,this.state={}}function p(e,i){if(!a){document.contains||(document.contains=function(e){return document.body.contains(e)}),!d&&e.isHijackingClicks&&(document.addEventListener("click",function(e){var t;t=h?ue.isDefined(e.webkitForce)&&0===e.webkitForce:0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||v(e)?(u=null,"label"===e.target.tagName.toLowerCase()&&(u={x:e.x,y:e.y})):(e.preventDefault(),e.stopPropagation(),u=null)},!0),document.addEventListener("mouseup",t,!0),document.addEventListener("mousedown",t,!0),document.addEventListener("focus",t,!0),d=!0);ue.element(document).on("mousedown touchstart pointerdown",function(e){if(o)return;var t=+Date.now();if(r&&!g(e,r)&&t-r.endTime<1500)return;o=m(e),n("start",e)}).on("mousemove touchmove pointermove",function(e){if(!o||!g(e,o))return;y(e,o),n("move",e)}).on("mouseup mouseleave touchend touchcancel pointerup pointercancel",function(e){if(!o||!g(e,o))return;y(e,o),o.endTime=+Date.now(),"pointercancel"!==e.type&&n("end",e);r=o,o=null}).on("$$mdGestureReset",function(){r=o=null})}function t(e){!e.clientX&&!e.clientY||e.$material||e.isIonicTap||v(e)||"mousedown"===e.type&&(w(e.target)||w(document.activeElement))||(e.preventDefault(),e.stopPropagation())}function n(e,t){var n;for(var r in s)(n=s[r])instanceof i&&("start"===e&&n.cancel(),n[e](t,o))}}function m(e){var t=b(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function g(e,t){return e&&t&&e.type.charAt(0)===t.type}function v(e){return u&&u.x===e.x&&u.y===e.y}function y(e,t){var n=b(e),r=t.x=n.pageX,i=t.y=n.pageY;t.distanceX=r-t.startX,t.distanceY=i-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=0<t.distanceX?"right":t.distanceX<0?"left":"",t.directionY=0<t.distanceY?"down":t.distanceY<0?"up":"",t.duration=Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function b(e){return(e=e.originalEvent||e).touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}function w(e){return e&&"-1"!==e.getAttribute("tabindex")&&!e.hasAttribute("disabled")&&(e.hasAttribute("tabindex")||e.hasAttribute("href")||e.isContentEditable||-1!==["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(e.nodeName))}ue.module("material.core.gestures",[]).provider("$mdGesture",t).factory("$$MdGestureHandler",function(){var e=void 0!==j.jQuery&&ue.element===j.jQuery;return n.prototype={options:{},dispatchEvent:e?function(e,t,n){n=n||o;var r=new ue.element.Event(t);r.$material=!0,r.pointer=n,r.srcEvent=e,ue.extend(r,{clientX:n.x,clientY:n.y,screenX:n.x,screenY:n.y,pageX:n.x,pageY:n.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),ue.element(n.target).trigger(r)}:function(e,t,n){var r;n=n||o,"click"===t||"mouseup"===t||"mousedown"===t?"function"==typeof j.MouseEvent?r=new MouseEvent(t,{bubbles:!0,cancelable:!0,screenX:Number(e.screenX),screenY:Number(e.screenY),clientX:Number(n.x),clientY:Number(n.y),ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,button:e.button,buttons:e.buttons,relatedTarget:e.relatedTarget||null}):(r=document.createEvent("MouseEvents")).initMouseEvent(t,!0,!0,j,e.detail,n.x,n.y,n.x,n.y,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget||null):"function"==typeof j.CustomEvent?r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:{}}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,{});r.$material=!0,r.pointer=n,r.srcEvent=e,n.target.dispatchEvent(r)},onSetup:ue.noop,onCleanup:ue.noop,onStart:ue.noop,onMove:ue.noop,onEnd:ue.noop,onCancel:ue.noop,start:function(e,t){if(!this.state.isRunning){var n=this.getNearestParent(e.target),r=n&&n.$mdGesture[this.name]||{};this.state={isRunning:!0,options:ue.extend({},this.options,r),registeredParent:n},this.onStart(e,t)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){var n=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",r),n.onSetup(e,t||{}),r;function r(){delete e[0].$mdGesture[n.name],e.off("$destroy",r),n.onCleanup(e,t||{})}}},n}).run(p),t.prototype={disableAll:function(){a=!0},skipClickHijack:function(){return c=!0},setMaxClickDistance:function(e){l=parseInt(e)},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new i(e,t,n)}]}}(),P.$inject=["$timeout","$mdUtil","$rootScope"],ue.module("material.core.interaction",[]).service("$mdInteraction",P),P.prototype.deregister=function(){this.bodyElement.off("keydown mousedown",this.inputHandler),"ontouchstart"in document.documentElement&&this.bodyElement.off("touchstart",this.bufferedInputHandler),this.pointerEvent&&this.bodyElement.off(this.pointerEvent,this.inputHandler)},P.prototype.initializeEvents=function(){this.bodyElement.on("keydown mousedown",this.inputHandler),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.bufferedInputHandler),this.pointerEvent&&this.bodyElement.on(this.pointerEvent,this.inputHandler)},P.prototype.onInputEvent=function(e){if(!this.isBuffering){var t=this.inputEventMap[e.type];"pointer"===t&&(t=this.iePointerMap[e.pointerType]||e.pointerType),this.lastInteractionType=t,this.lastInteractionTime=this.$mdUtil.now()}},P.prototype.onBufferInputEvent=function(e){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(e),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},P.prototype.getLastInteractionType=function(){return this.lastInteractionType},P.prototype.isUserInvoked=function(e){var t=ue.isNumber(e)?e:15;return this.lastInteractionTime>=this.$mdUtil.now()-t},ue.module("material.core").provider("$$interimElement",function(){return t.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],e.$get=t,e;function e(i){e.$inject=["$$interimElement","$injector"];var n=["onHide","onShow","onRemove"],o={},c={presets:{}},r={setDefaults:function(e){return c.optionsFactory=e.options,c.methods=(e.methods||[]).concat(n),r},addPreset:function(e,t){if((t=t||{}).methods=t.methods||[],t.options=t.options||function(){return{}},/^cancel|hide|show$/.test(e))throw new Error("Preset '"+e+"' in "+i+" is reserved!");if(-1<t.methods.indexOf("_options"))throw new Error("Method '_options' in "+i+" is reserved!");return c.presets[e]={methods:t.methods.concat(n),optionsFactory:t.options,argOption:t.argOption},r},addMethod:function(e,t){return o[e]=t,r},$get:e};return r.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),r;function e(e,r){var a,t,n=e(),s={hide:n.hide,cancel:n.cancel,show:function(e){(e=e||{})._options&&(e=e._options);return n.show(ue.extend({},t,e))},destroy:function(e){return n.destroy(e)}};return a=c.methods||[],t=l(c.optionsFactory,{}),ue.forEach(o,function(e,t){s[t]=e}),ue.forEach(c.presets,function(t,n){var r=l(t.optionsFactory,{}),e=(t.methods||[]).concat(a);function i(e){this._options=ue.extend({},r,e)}if(ue.extend(r,{$type:n}),ue.forEach(e,function(t){i.prototype[t]=function(e){return this._options[t]=e,this}}),t.argOption){var o="show"+n.charAt(0).toUpperCase()+n.slice(1);s[o]=function(e){var t=s[n](e);return s.show(t)}}s[n]=function(e){return arguments.length&&t.argOption&&!ue.isObject(e)&&!ue.isArray(e)?(new i)[t.argOption](e):new i(e)}}),s;function l(e,t){var n={};return n[i]=s,r.invoke(e||function(){return t},{},n)}}}function t(d,h,t,f,p,r,n,m,g,l,c){return function(){var u,i=[],o=[],a=[];return u={show:function(e){var t=new s((e=e||{})||{}),n=e.multiple?h.resolve():h.all(i);e.multiple||(n=n.then(function(){var e=o.concat(a.map(u.cancel));return h.all(e)}));var r=n.then(function(){return t.show().then(function(){a.push(t)}).catch(function(e){return e}).finally(function(){i.splice(i.indexOf(r),1)})});return i.push(r),t.deferred.promise.catch(function(e){return e instanceof Error&&c(e),e}),t.deferred.promise},hide:e(function(n,r){{if((r=r||{}).closeAll)return h.all(a.slice().reverse().map(e));if(r.closeTo!==de)return h.all(a.slice(r.closeTo).map(e))}return e(a[a.length-1]);function e(e){if(!e)return h.when(n);var t=e.remove(n,!1,r||{}).catch(function(e){return e}).finally(function(){o.splice(o.indexOf(t),1)});return a.splice(a.indexOf(e),1),o.push(t),e.deferred.promise}}),cancel:e(function(e,t){var n=a.pop();if(!n)return h.when(e);var r=n.remove(e,!0,t||{}).catch(function(e){return e}).finally(function(){o.splice(o.indexOf(r),1)});return o.push(r),n.deferred.promise.catch(ue.noop)}),destroy:function(e){var t=e?null:a.shift(),n=ue.element(e).length&&ue.element(e)[0].parentNode;if(n){var r=a.filter(function(e){return e.options.element[0]===n});r.length&&(t=r[0],a.splice(a.indexOf(t),1))}return t?t.remove(!1,!1,{$destroy:!0}):h.when(!1)},$injector_:l};function e(t){return function(){var e=arguments;return a.length?t.apply(u,e):i.length?i[0].finally(function(){return t.apply(u,e)}):h.when("No interim elements currently showing up.")}}function s(a){var o,s,l=h.when(!0);return a=function(e){(e=e||{}).template&&(e.template=n.processTemplate(e.template));return ue.extend({preserveScope:!1,cancelAutoHide:ue.noop,scope:e.scope||t.$new(e.isolateScope),onShow:function(e,t,n){return r.enter(t,n.parent)},onRemove:function(e,t){return t&&r.leave(t)||h.when()}},e)}(a),o={options:a,deferred:h.defer(),show:function(){return h(function(t,n){var r;function i(e){o.deferred.reject(e),n(e)}a.onCompiling&&a.onCompiling(a),(((r=a).skipCompile?null:m.compile(r))||h(function(e){e({locals:{},link:function(){return r.element}})})).then(function(e){s=function(e,t){ue.extend(e.locals,t);var n=e.link(t.scope);t.element=n,t.parent=function(e,t){var n,r=t.parent;r=ue.isFunction(r)?r(t.scope,e,t):ue.isString(r)?ue.element(d[0].querySelector(r)):ue.element(r);if((r||{}).length)return r;p[0]&&p[0].querySelector&&(n=p[0].querySelector(":not(svg) > body"));n=n||p[0];"#comment"==n.nodeName&&(n=d[0].body);return ue.element(n)}(n,t),t.themable&&g(n);return n}(e,a),a.cleanupElement=e.cleanup,l=function(n,r,i){var e=r.onShowing||ue.noop,o=r.onComplete||ue.noop;try{e(r.scope,n,r,i)}catch(e){return h.reject(e)}return h(function(e,t){try{h.when(r.onShow(r.scope,n,r,i)).then(function(){o(r.scope,n,r),function(){var e,t=ue.noop;a.hideDelay&&(e=f(u.hide,a.hideDelay),t=function(){f.cancel(e)});a.cancelAutoHide=function(){t(),a.cancelAutoHide=de}}(),e(n)},t)}catch(e){t(e.message)}})}(s,a,e.controller).then(t,i)}).catch(i)})},remove:function(e,t,n){if(!s)return h.when(!1);return(a=ue.extend(a||{},n||{})).cancelAutoHide&&a.cancelAutoHide(),a.element.triggerHandler("$mdInterimElementRemove"),!0===a.$destroy?c(a.element,a).then(function(){t&&i(e)||r(e)}):(h.when(l).finally(function(){c(a.element,a).then(function(){(t?i:r)(e)},i)}),o.deferred.promise);function r(e){o.deferred.resolve(e)}function i(e){o.deferred.reject(e)}}};function c(r,i){var o=i.onRemoving||ue.noop;return h(function(e,t){try{var n=h.when(i.onRemove(i.scope,r,i)||!0);o(r,n),i.$destroy?(e(r),!i.preserveScope&&i.scope&&n.then(function(){i.scope.$destroy()})):n.then(function(){!i.preserveScope&&i.scope&&i.scope.$destroy(),e(r)},t)}catch(e){t(e.message)}})}}}}}),v=/(-gt)?-(sm|md|lg|print)/g,y=/\s+/g,b=["grow","initial","auto","none","noshrink","nogrow"],w=["row","column"],C=["","start","center","end","stretch","space-around","space-between"],x=["","start","center","end","stretch"],E={enabled:!0,breakpoints:[]},h=ue.module("material.core.layout",["ng"]),f=/^((?:x|data)[:\-_])/i,p=/([:\-_]+(.))/g,m=["layout","flex","flex-order","flex-offset","layout-align"],g=["show","hide","layout-padding","layout-margin"],ue.forEach(["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],function(n){ue.forEach(m,function(e){var l,t=n?e+"-"+n:e;function r(e,t,n){var r,i,o,a=(r=t,i=l,function(e){var t=H(i,e||"");ue.isDefined(t)&&(o&&r.removeClass(o),o=t?i+"-"+t.trim().replace(y,"-"):i,r.addClass(o))}),s=n.$observe(n.$normalize(l),a);a(q(l,n,"")),e.$on("$destroy",function(){s()})}h.directive(R(t),(l=t,["$mdUtil","$interpolate","$log",function(e,t,n){return c=e,u=t,d=n,{restrict:"A",compile:function(e,t){var n;return E.enabled&&(F(l,0,e,d),H(l,q(l,t,""),B(0,l,t)),n=r),n||ue.noop}}}]))}),ue.forEach(g,function(e){var t=n?e+"-"+n:e;h.directive(R(t),I(t))})}),h.provider("$$mdLayout",function(){return{$get:ue.noop,validateAttributeValue:H,validateAttributeUsage:F,disableLayouts:function(e){E.enabled=!0!==e}}}).directive("mdLayoutCss",O).directive("ngCloak",function(r){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(e){return E.enabled?(e.addClass(r),function(e,t){n(function(){t.removeClass(r)},10,!1)}):ue.noop}}}]}("ng-cloak")).directive("layoutWrap",I("layout-wrap")).directive("layoutNowrap",I("layout-nowrap")).directive("layoutNoWrap",I("layout-no-wrap")).directive("layoutFill",I("layout-fill")).directive("layoutLtMd",L("layout-lt-md")).directive("layoutLtLg",L("layout-lt-lg")).directive("flexLtMd",L("flex-lt-md")).directive("flexLtLg",L("flex-lt-lg")).directive("layoutAlignLtMd",L("layout-align-lt-md")).directive("layoutAlignLtLg",L("layout-align-lt-lg")).directive("flexOrderLtMd",L("flex-order-lt-md")).directive("flexOrderLtLg",L("flex-order-lt-lg")).directive("offsetLtMd",L("flex-offset-lt-md")).directive("offsetLtLg",L("flex-offset-lt-lg")).directive("hideLtMd",L("hide-lt-md")).directive("hideLtLg",L("hide-lt-lg")).directive("showLtMd",L("show-lt-md")).directive("showLtLg",L("show-lt-lg")).config(D),V.$inject=["$timeout"],ue.module("material.core").service("$mdLiveAnnouncer",V),V.prototype.announce=function(e,t){t=t||"polite";var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",t),n._$timeout(function(){n._liveElement.textContent=e},n._announceTimeout,!1)},V.prototype._createLiveElement=function(){var e=document.createElement("div");return e.classList.add("md-visually-hidden"),e.setAttribute("role","status"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),document.body.appendChild(e),e},ue.module("material.core.meta",[]).provider("$$mdMeta",function(){var r=ue.element(document.head),i={};function o(e){if(i[e])return 1;var t=document.getElementsByName(e)[0];return t&&(i[e]=ue.element(t),1)}var e={setMeta:function(e,t){if(o(e),i[e])i[e].attr("content",t);else{var n=ue.element('<meta name="'+e+'" content="'+t+'"/>');r.append(n),i[e]=n}return function(){i[e].attr("content",""),i[e].remove(),delete i[e]}},getMeta:function(e){if(!o(e))throw Error("$$mdMeta: could not find a meta tag with the name '"+e+"'");return i[e].attr("content")}};return ue.extend({},e,{$get:function(){return e}})}),W.$inject=["$log","$q"],ue.module("material.core").factory("$mdComponentRegistry",W),G.$inject=["$mdInkRipple"],ue.module("material.core").factory("$mdButtonInkRipple",G),Y.$inject=["$mdInkRipple"],ue.module("material.core").factory("$mdCheckboxInkRipple",Y),K.$inject=["$mdInkRipple"],ue.module("material.core").factory("$mdListInkRipple",K),function(){o.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],ue.module("material.core").provider("$mdInkRipple",function(){var i=!1;return{disableInkRipple:function(){i=!0},$get:["$injector",function(r){return{attach:function(e,t,n){return i||t.controller("mdNoInk")?ue.noop:r.instantiate(o,{$scope:e,$element:t,rippleOptions:n})}}}]}}).directive("mdInkRipple",e).directive("mdNoInk",n).directive("mdNoBar",n).directive("mdNoStretch",n);function e(r,i){return{controller:ue.noop,link:function(e,t,n){n.hasOwnProperty("mdInkRippleCheckbox")?i.attach(e,t):r.attach(e,t)}}}function o(e,t,n,r,i,o,a){this.$window=r,this.$timeout=i,this.$mdUtil=o,this.$mdColorUtil=a,this.$scope=e,this.$element=t,this.options=n,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,o.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(t.controller("mdInkRipple")||{}).createRipple=ue.bind(this,this.createRipple),(t.controller("mdInkRipple")||{}).setColor=ue.bind(this,this.color),this.bindEvents()}function t(e,t){(e.mousedown||e.lastRipple)&&(e.mousedown=!1,e.$mdUtil.nextTick(ue.bind(e,t),!1))}function n(){return{controller:ue.noop}}o.prototype.color=function(e){var t,n,r=this;return ue.isDefined(e)&&(r._color=r._parseColor(e)),r._color||r._parseColor(r.inkRipple())||r._parseColor((t=r.options&&r.options.colorElement?r.options.colorElement:[],(n=t.length?t[0]:r.$element[0])?r.$window.getComputedStyle(n).color:"rgb(0,0,0)"))},o.prototype.calculateColor=function(){return this.color()},o.prototype._parseColor=function(e,t){t=t||1;var n=this.$mdColorUtil;if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,(.1*t).toString()+")"):0===e.indexOf("rgb")?n.rgbToRgba(e):0===e.indexOf("#")?n.hexToRgba(e):void 0},o.prototype.bindEvents=function(){this.$element.on("mousedown",ue.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",ue.bind(this,this.handleMouseup)),this.$element.on("mouseleave",ue.bind(this,this.handleMouseup)),this.$element.on("touchmove",ue.bind(this,this.handleTouchmove))},o.prototype.handleMousedown=function(e){if(!this.mousedown)if(e.hasOwnProperty("originalEvent")&&(e=e.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(e.srcElement!==this.$element[0]){var t=this.$element[0].getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;this.createRipple(n,r)}else this.createRipple(e.offsetX,e.offsetY)},o.prototype.handleMouseup=function(){this.$timeout(function(){t(this,this.clearRipples)}.bind(this))},o.prototype.handleTouchmove=function(){t(this,this.deleteRipples)},o.prototype.deleteRipples=function(){for(var e=0;e<this.ripples.length;e++)this.ripples[e].remove()},o.prototype.clearRipples=function(){for(var e=0;e<this.ripples.length;e++)this.fadeInComplete(this.ripples[e])},o.prototype.createContainer=function(){var e=ue.element('<div class="md-ripple-container"></div>');return this.$element.append(e),e},o.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},o.prototype.isRippleAllowed=function(){var e=this.$element[0];do{if(!e.tagName||"BODY"===e.tagName)break;if(e&&ue.isFunction(e.hasAttribute)){if(e.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(e=e.parentNode);return!0},o.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},o.prototype.createRipple=function(e,t){if(this.isRippleAllowed()){var n,r,i,o=this,a=o.$mdColorUtil,s=ue.element('<div class="md-ripple"></div>'),l=this.$element.prop("clientWidth"),c=this.$element.prop("clientHeight"),u=2*Math.max(Math.abs(l-e),e),d=2*Math.max(Math.abs(c-t),t),h=(n=this.options.fitRipple,r=u,i=d,n?Math.max(r,i):Math.sqrt(Math.pow(r,2)+Math.pow(i,2))),f=this.calculateColor();s.css({left:e+"px",top:t+"px",background:"black",width:h+"px",height:h+"px",backgroundColor:a.rgbaToRgb(f),borderColor:a.rgbaToRgb(f)}),this.lastRipple=s,this.clearTimeout(),this.timeout=this.$timeout(function(){o.clearTimeout(),o.mousedown||o.fadeInComplete(s)},157.5,!1),this.options.dimBackground&&this.container.css({backgroundColor:f}),this.container.append(s),this.ripples.push(s),s.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){s.addClass("md-ripple-scaled md-ripple-active"),o.$timeout(function(){o.clearRipples()},450,!1)},!1)}},o.prototype.fadeInComplete=function(e){this.lastRipple===e&&(this.timeout||this.mousedown)||this.removeRipple(e)},o.prototype.removeRipple=function(e){var t=this;this.ripples.indexOf(e)<0||(this.ripples.splice(this.ripples.indexOf(e),1),e.removeClass("md-ripple-active"),e.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){t.fadeOutComplete(e)},450,!1))},o.prototype.fadeOutComplete=function(e){e.remove(),this.lastRipple=null}}(),X.$inject=["$mdInkRipple"],ue.module("material.core").factory("$mdTabInkRipple",X),ue.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}}),function(b){function e(e){var t=!!document.querySelector("[md-themes-disabled]");e.disableTheming(t)}e.$inject=["$mdThemingProvider"],n.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],r.$inject=["$mdTheming"],t.$inject=["$mdColorPalette","$$mdMetaProvider"],i.$inject=["$injector","$mdTheming"],b.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",n).directive("mdThemable",r).directive("mdThemesDisabled",function(){return C.disableTheming=!0,{restrict:"A",priority:"900"}}).provider("$mdTheming",t).config(e).run(i);var p,l={},s={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},c={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},u="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",m="",d=$("rgba(0,0,0,0.87)"),h=$("rgba(255,255,255,0.87)"),f=$("rgb(255,255,255)"),g=["primary","accent","warn","background"],a="primary",v={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},y={background:{default:"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};g.forEach(function(e){var t={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};v[e]||(v[e]=t),y[e]||(y[e]=t)});var w=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],C={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null};function t(e,l){a.$inject=["$rootScope","$mdUtil","$q","$log"];var n,d={},h=!(p={}),f="default";b.extend(p,e);var t=function(e){var t,n,r,i=(e=b.isObject(e)?e:{}).theme||"default",o=e.hue||"800",a=p[e.palette]||p[d[i].colors[e.palette||"primary"].name],s=b.isObject(a[o])?a[o].hex:a[o];return"#"!==s.substr(0,1)&&(s="#"+s),t=s,n=l.setMeta("theme-color",t),r=l.setMeta("msapplication-navbutton-color",t),function(){n(),r()}};return n={definePalette:function(e,t){return t=t||{},p[e]=r(e,t),n},extendPalette:function(e,t){return r(e,b.extend({},p[e]||{},t))},theme:o,configuration:function(){return b.extend({},C,{defaultTheme:f,alwaysWatchTheme:h,registeredStyles:[].concat(C.registeredStyles)})},disableTheming:function(e){C.disableTheming=b.isUndefined(e)||!!e},registerStyles:function(e){C.registeredStyles.push(e)},setNonce:function(e){C.nonce=e},generateThemesOnDemand:function(e){C.generateOnDemand=e},setDefaultTheme:function(e){f=e},alwaysWatchTheme:function(e){h=e},enableBrowserColor:t,$get:a,_LIGHT_DEFAULT_HUES:v,_DARK_DEFAULT_HUES:y,_PALETTES:p,_THEMES:d,_parseRules:x,_rgba:S};function r(e,t){var n=w.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function o(e,t){if(d[e])return d[e];var n="string"==typeof(t=t||"default")?d[t]:t,r=new i(e);return n&&b.forEach(n.colors,function(e,t){r.colors[t]={name:e.name,hues:b.extend({},e.hues)}}),d[e]=r}function i(e){var a=this;function t(e){if((e=0===arguments.length||!!e)!==a.isDark){a.isDark=e,a.foregroundPalette=a.isDark?c:s,a.foregroundShadow=a.isDark?u:m;var t=a.isDark?y:v,o=a.isDark?v:y;return b.forEach(t,function(e,t){var n=a.colors[t],r=o[t];if(n)for(var i in n.hues)n.hues[i]===r[i]&&(n.hues[i]=e[i])}),a}}a.name=e,a.colors={},(a.dark=t)(!1),g.forEach(function(r){var i=(a.isDark?y:v)[r];a[r+"Palette"]=function(t,e){var n=a.colors[r]={name:t,hues:b.extend({},i,e)};return Object.keys(n.hues).forEach(function(e){if(!i[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",a.name).replace("%3",t).replace("%4",Object.keys(i).join(", ")))}),Object.keys(n.hues).map(function(e){return n.hues[e]}).forEach(function(e){if(-1==w.indexOf(e))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",e).replace("%2",a.name).replace("%3",r).replace("%4",t).replace("%5",w.join(", ")))}),a},a[r+"Color"]=function(){var e=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+r+"Color() has been deprecated. Use $mdThemingProviderTheme."+r+"Palette() instead."),a[r+"Palette"].apply(a,e)}})}function a(n,l,r,c){var i=function(e,t){t===de&&(t=e,e=de),e===de&&(e=n),i.inherit(t,t)};return Object.defineProperty(i,"THEMES",{get:function(){return b.extend({},d)}}),Object.defineProperty(i,"PALETTES",{get:function(){return b.extend({},p)}}),Object.defineProperty(i,"ALWAYS_WATCH",{get:function(){return h}}),i.inherit=function(n,e){var r=e.controller("mdTheme")||n.data("$mdThemeController"),t=n.scope();if(s(r&&r.$mdTheme||("default"===f?"":f)),r){var i=h||r.$shouldWatch||l.parseAttributeBoolean(n.attr("md-theme-watch"));if(i||r.isAsyncTheme){var o=function(){a&&(a(),a=de)},a=r.registerChanges(function(e){s(e),i||o()});t?t.$on("$destroy",o):n.on("$destroy",o)}}function s(e){if(e){u(e)||c.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=n.data("$mdThemeName");t&&n.removeClass("md-"+t+"-theme"),n.addClass("md-"+e+"-theme"),n.data("$mdThemeName",e),r&&n.data("$mdThemeController",r)}}},i.registered=u,i.defaultTheme=function(){return f},i.generateTheme=function(e){_(d[e],e,C.nonce)},i.defineTheme=function(e,t){t=t||{};var n=o(e);return t.primary&&n.primaryPalette(t.primary,t.primaryHues),t.accent&&n.accentPalette(t.accent,t.accentHues),t.warn&&n.warnPalette(t.warn,t.warnHues),t.background&&n.backgroundPalette(t.background,t.backgroundHues),t.dark&&n.dark(),this.generateTheme(e),r.resolve(e)},i.setBrowserColor=t,i;function u(e){return e===de||""===e||i.THEMES[e]!==de}}}function n(f,p,m,g,v,y){return{priority:101,link:{pre:function(t,e,n){function r(){var e=p(n.mdTheme)(t);return m(e)(t)||e}var i=[],o=p.startSymbol(),a=p.endSymbol(),s=n.mdTheme.trim(),l=s.substr(0,o.length)===o&&s.lastIndexOf(a)===s.length-a.length,c="::"===n.mdTheme.split(o).join("").split(a).join("").trim().substr(0,"::".length),u={isAsyncTheme:b.isFunction(r())||b.isFunction(r().then),registerChanges:function(t,e){return e&&(t=b.bind(e,t)),i.push(t),function(){var e=i.indexOf(t);-1<e&&i.splice(e,1)}},$setTheme:function(e){f.registered(e)||y.warn("attempted to use unregistered theme '"+e+"'"),u.$mdTheme=e;for(var t=i.length;t--;)i[t](e)},$shouldWatch:g.parseAttributeBoolean(e.attr("md-theme-watch"))||f.ALWAYS_WATCH||l&&!c};e.data("$mdThemeController",u);function d(e){if("string"==typeof e)return u.$setTheme(e);v.when(b.isFunction(e)?e():e).then(function(e){u.$setTheme(e)})}d(r());var h=t.$watch(r,function(e){e&&(d(e),u.$shouldWatch||h())})}}}}function r(e){return e}function x(s,e,t){!function(e,t){if(!p[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(p).join(", ")))}(s,e),t=t.replace(/THEME_NAME/g,s.name);var n=new RegExp("\\.md-"+s.name+"-theme","g");t=t.replace(/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g,function(e,t,n,r,i){return"foreground"===t?"shadow"==n?s.foregroundShadow:s.foregroundPalette[n]||s.foregroundPalette[1]:(0!==n.indexOf("hue")&&"default"!==n||(n=s.colors[t].hues[n]),S((p[s.colors[t].name][n]||"")[i?"contrast":"value"],r))});var r=new RegExp("('|\")?{{\\s*([a-zA-Z]+)-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),i=[];return b.forEach(["default","hue-1","hue-2","hue-3"],function(a){var e=t.replace(r,function(e,t,n,r,i){var o=s.colors[n];return S(p[o.name][o.hues[a]]["color"===r?"value":"contrast"],i)});if("default"!==a&&(e=e.replace(n,".md-"+s.name+"-theme.md-"+a)),"default"==s.name){e=e.replace(/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g,function(e,t,n){return e+", "+t+n})}i.push(e)}),i}var E={};function i(e,t){var n=document.head,r=n?n.firstElementChild:null,i=!C.disableTheming&&e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(i+=C.registeredStyles.join(""),r&&0!==i.length){b.forEach(p,function(r,e){var i=r.contrastDefaultColor,o=r.contrastLightColors||[],a=r.contrastStrongLightColors||[],s=r.contrastDarkColors||[];"string"==typeof o&&(o=o.split(" "));"string"==typeof a&&(a=a.split(" "));"string"==typeof s&&(s=s.split(" "));delete r.contrastDefaultColor,delete r.contrastLightColors,delete r.contrastStrongLightColors,delete r.contrastDarkColors,b.forEach(r,function(e,t){if(!b.isObject(e)){var n=$(e);if(!n)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",e).replace("%2",r.name).replace("%3",t));r[t]={hex:r[t],value:n,contrast:"light"===i?-1<s.indexOf(t)?d:-1<a.indexOf(t)?f:h:-1<o.indexOf(t)?-1<a.indexOf(t)?f:h:d}}})});var o=i.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.trim().length}).map(function(e){return e.trim()+"}"});g.forEach(function(e){E[e]=""}),o.forEach(function(e){for(var t,n=0;t=g[n];n++)if(-1<e.indexOf(".md-"+t))return E[t]+=e;for(n=0;t=g[n];n++)if(-1<e.indexOf(t))return E[t]+=e;return E[a]+=e}),C.generateOnDemand||b.forEach(t.THEMES,function(e){l[e.name]||"default"!==t.defaultTheme()&&"default"===e.name||_(e,e.name,C.nonce)})}}function _(i,e,o){var a=document.head,s=a?a.firstElementChild:null;l[e]||(g.forEach(function(e){for(var t=x(i,e,E[e]);t.length;){var n=t.shift();if(n){var r=document.createElement("style");r.setAttribute("md-theme-style",""),o&&r.setAttribute("nonce",o),r.appendChild(document.createTextNode(n)),a.insertBefore(r,s)}}}),l[i.name]=!0)}function $(e){if(b.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return(3==t?parseFloat:parseInt)(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var t=e.length/3,n=e.substr(0,t),r=e.substr(t,t),i=e.substr(2*t);return 1==t&&(n+=n,r+=r,i+=i),[parseInt(n,16),parseInt(r,16),parseInt(i,16)]}}function S(e,t){return e?(4==e.length&&(e=b.copy(e),t?e.pop():t=e.pop()),t&&("number"==typeof t||"string"==typeof t&&t.length)?"rgba("+e.join(",")+","+t+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}}(j.angular),ue.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){e.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],ue.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var ie=48,oe=5,ae=8,se=2,le="standard",ce="virtual";function e(f,p,m,t,n,r,i,o,g,a,s,l){var e,c,u,d=this,h=f.itemsExpr.split(/ in /i),v=h[1],y=null,b={},w=!1,C=[],x=!1,E=0,_=null,$=null,S=m.debounce(function(){d.hidden||M()}),A=ce;e="hidden",c=function(e,t){!e&&t?(M(),Q(!0,k.Count|k.Selected),y&&(m.disableScrollAround(y.ul),_=function(e){function t(e){e.preventDefault()}return e.on("wheel",t),e.on("touchmove",t),function(){e.off("wheel",t),e.off("touchmove",t)}}(ue.element(y.wrap)))):e&&!t&&(m.enableScrolling(),_&&(_(),_=null))},u=!0,Object.defineProperty(d,e,{get:function(){return u},set:function(e){var t=u;c(u=e,t)}}),d.scope=f,d.parent=f.$parent,d.itemName=h[0],d.matches=[],d.loading=!1,d.hidden=!0,d.index=null,d.id=m.nextUid(),d.isDisabled=null,d.isRequired=null,d.isReadonly=null,d.hasNotFound=!1,d.selectedMessage=f.selectedMessage||"selected",d.keydown=function(e){switch(e.keyCode){case t.KEY_CODE.DOWN_ARROW:if(d.loading||z())return;e.stopPropagation(),e.preventDefault(),d.index=Math.min(d.index+1,d.matches.length-1),Z(),Q(!1,k.Selected);break;case t.KEY_CODE.UP_ARROW:if(d.loading||z())return;e.stopPropagation(),e.preventDefault(),d.index=d.index<0?d.matches.length-1:Math.max(0,d.index-1),Z(),Q(!1,k.Selected);break;case t.KEY_CODE.TAB:if(R(),d.hidden||d.loading||d.index<0||d.matches.length<1)return;G(d.index);break;case t.KEY_CODE.ENTER:if(d.hidden||d.loading||d.index<0||d.matches.length<1)return;if(z())return;e.stopImmediatePropagation(),e.preventDefault(),G(d.index);break;case t.KEY_CODE.ESCAPE:if(e.preventDefault(),!(U("blur")||!d.hidden||d.loading||U("clear")&&f.searchText))return;e.stopPropagation(),Y(),f.searchText&&U("clear")&&K(),d.hidden=!0,U("blur")&&function(e){e&&(x=w=!1);y.input.blur()}(!0)}},d.blur=function(e){x=!1,w||(d.hidden=j(),re("ngBlur",{$event:e}))},d.focus=function(e){x=!0,B()&&W()&&te();d.hidden=j(),re("ngFocus",{$event:e})},d.clear=function(){Y(),K()},d.select=G,d.listEnter=function(){w=!0},d.listLeave=R,d.mouseUp=function(){y.input.focus()},d.getCurrentDisplayValue=V,d.registerSelectedItemWatcher=function(e){-1===C.indexOf(e)&&C.push(e)},d.unregisterSelectedItemWatcher=function(e){var t=C.indexOf(e);-1!==t&&C.splice(t,1)},d.notFoundVisible=ee,d.loadingIsVisible=function(){return d.loading&&!z()},d.positionDropdown=M;var k={Count:1,Selected:2};return m.initOptionalProperties(f,g,{searchText:"",selectedItem:null,clearButton:!1,disableVirtualRepeat:!1}),n(p),function(){var e=parseInt(f.delay,10)||0;g.$observe("disabled",function(e){d.isDisabled=m.parseAttributeBoolean(e,!1)}),g.$observe("required",function(e){d.isRequired=m.parseAttributeBoolean(e,!1)}),g.$observe("readonly",function(e){d.isReadonly=m.parseAttributeBoolean(e,!1)}),f.$watch("searchText",e?m.debounce(O,e):O),f.$watch("selectedItem",D),ue.element(r).on("resize",S),f.$on("$destroy",P)}(),void m.nextTick(function(){var e;e=function(){var e,t;for(e=p;e.length&&(t=e.attr("md-autocomplete-snap"),!ue.isDefined(t));e=e.parent());if(e.length)return{snap:e[0],wrap:"width"===t.toLowerCase()?e[0]:p.find("md-autocomplete-wrap")[0]};var n=p.find("md-autocomplete-wrap")[0];return{snap:n,wrap:n}}(),(y={main:p[0],scrollContainer:p[0].querySelector(".md-virtual-repeat-container, .md-standard-list-container"),scroller:p[0].querySelector(".md-virtual-repeat-scroller, .md-standard-list-scroller"),ul:p.find("ul")[0],input:p.find("input")[0],wrap:e.wrap,snap:e.snap,root:document.body}).li=y.ul.getElementsByTagName("li"),y.$=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=ue.element(e[n]));return t}(y),A=y.scrollContainer.classList.contains("md-standard-list-container")?le:ce,$=y.$.input.controller("ngModel"),function(){if(!y.$.root.length)return;n(y.$.scrollContainer),y.$.scrollContainer.detach(),y.$.root.append(y.$.scrollContainer),i.pin&&i.pin(y.$.scrollContainer,o)}(),f.autofocus&&p.on("focus",N),f.inputAriaDescribedBy&&y.input.setAttribute("aria-describedby",f.inputAriaDescribedBy),f.floatingLabel||(f.inputAriaLabel?y.input.setAttribute("aria-label",f.inputAriaLabel):f.inputAriaLabelledBy?y.input.setAttribute("aria-labelledby",f.inputAriaLabelledBy):f.placeholder&&y.input.setAttribute("aria-label",f.placeholder))});function T(){f.requireMatch&&$&&$.$setValidity("md-require-match",!!f.selectedItem||!f.searchText)}function M(){if(!y)return m.nextTick(M,!1,f);var e,t=(f.dropdownItems||oe)*ie,n=y.wrap.getBoundingClientRect(),r=y.snap.getBoundingClientRect(),i=y.root.getBoundingClientRect(),o=r.bottom-i.top,a=i.bottom-r.top,s=n.left-i.left,l=n.width,c=function(){var e=0,t=p.find("md-input-container");if(t.length){var n=t.find("input");e=t.prop("offsetHeight"),e-=n.prop("offsetTop"),e-=n.prop("offsetHeight"),e+=t.prop("offsetTop")}return e}(),u=f.dropdownPosition,d=i.bottom-r.bottom-ae+m.getViewportTop(),h=r.top-ae;u=u||(!(t<d)&&(t<h||d<h)?"top":"bottom"),g.mdFloatingLabel&&(s+=se,l-=2*se),e={left:s+"px",minWidth:l+"px",maxWidth:Math.max(n.right-i.left,i.right-n.left)-ae+"px"},"top"===u?(e.top="auto",e.bottom=a+"px",e.maxHeight=Math.min(t,h)+"px"):(d=i.bottom-n.bottom-ae+m.getViewportTop(),e.top=o-c+"px",e.bottom="auto",e.maxHeight=Math.min(t,d)+"px"),y.$.scrollContainer.css(e),m.nextTick(function(){var e=y.scrollContainer.getBoundingClientRect(),t={};e.right>i.right&&(t.left=n.right-e.width+"px");y.$.scrollContainer.css(t)},!1,f)}function N(){y.input.focus()}function P(){if(d.hidden||m.enableScrolling(),ue.element(r).off("resize",S),y){ue.forEach(["ul","scroller","scrollContainer","input"],function(e){y.$[e].remove()})}}function R(){x||d.hidden||y.input.focus(),w=!1,d.hidden=j()}function D(r,i){T(),r?L(r).then(function(e){var t,n;f.searchText=e,t=r,n=i,C.forEach(function(e){e(t,n)})}):i&&f.searchText&&L(i).then(function(e){ue.isString(f.searchText)&&e.toString().toLowerCase()===f.searchText.toLowerCase()&&(f.searchText="")}),r!==i&&ue.isFunction(f.itemChange)&&f.itemChange(F(f.selectedItem))}function O(t,n){d.index=f.autoselect?0:-1,t!==n&&(T(),L(f.selectedItem).then(function(e){t!==e&&(f.selectedItem=null,t!==n&&ue.isFunction(f.textChange)&&f.textChange(),W()?te():(H(!(d.matches=[])),Q(!0,k.Count)))}))}function I(){return ue.isNumber(f.minLength)?f.minLength:1}function L(e){return a.when(((t=e)&&f.itemText?f.itemText(F(t)):null)||e).then(function(e){return e&&!ue.isString(e)&&s.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),e});var t}function F(e){if(!e)return de;var t={};return d.itemName&&(t[d.itemName]=e),t}function H(e){d.loading!==e&&(d.loading=e),d.hidden=j()}function j(){return!function(){{if(d.isReadonly)return;if(!B())return}return W()&&q()||ee()}()}function B(){return!(d.loading&&!q()||z()||!x)}function U(e){return!f.escapeOptions||-1!==f.escapeOptions.toLowerCase().indexOf(e)}function q(){return!!d.matches.length}function z(){return!!d.scope.selectedItem}function V(){return L(d.matches[d.index])}function W(){return(f.searchText||"").length>=I()}function G(e){m.nextTick(function(){L(d.matches[e]).then(function(e){var t=y.$.input.controller("ngModel");l.announce(e+" "+d.selectedMessage,"assertive"),t.$setViewValue(e),t.$render()}).finally(function(){f.selectedItem=d.matches[e],H(!1)})},!1)}function Y(){d.index=0,d.matches=[]}function K(){H(!0),f.searchText="";var e=document.createEvent("CustomEvent");e.initCustomEvent("change",!0,!0,{value:""}),y.input.dispatchEvent(e),y.input.blur(),f.searchText="",y.input.focus()}function X(t){var e=f.$parent.$eval(v),n=t.toLowerCase(),r=ue.isArray(e),i=!!e.then;function o(e){b[n]=e,(t||"")===(f.searchText||"")&&ne(e)}r?o(e):i&&function(e){if(!e)return;e=a.when(e),E++,H(!0),m.nextTick(function(){e.then(o).finally(function(){0==--E&&H(!1)})},!0,f)}(e)}function Q(e,t){var n=e?"polite":"assertive",r=[];t&k.Selected&&-1!==d.index&&r.push(V()),t&k.Count&&r.push(a.resolve(function(){switch(d.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+d.matches.length+" matches available."}}())),a.all(r).then(function(e){l.announce(e.join(" "),n)})}function Z(){var e,t,n,r,i,o,a,s,l,c;y.li[0]&&(A===le?(o=y.li[d.index]||y.li[0],a=y.scrollContainer.offsetHeight,s=o&&o.offsetTop||0,l=s+o.clientHeight,c=y.scrollContainer.scrollTop,s<c?J(s):c+a<l&&J(l-a)):(e=y.li[0].offsetHeight,t=e*d.index,n=t+e,r=y.scroller.clientHeight,i=y.scroller.scrollTop,t<i?J(t):i+r<n&&J(n-r)))}function J(e){A===le?y.scrollContainer.scrollTop=e:y.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(e)}function ee(){var e=(d.scope.searchText||"").length;return d.hasNotFound&&!q()&&(!d.loading||0!==E)&&e>=I()&&(x||w)&&!z()}function te(){var e=f.searchText||"",t=e.toLowerCase();!f.noCache&&b[t]?ne(b[t]):X(e),d.hidden=j()}function ne(e){var n,t,r;d.matches=e,d.hidden=j(),d.loading&&H(!1),f.selectOnMatch&&(n=f.searchText,t=d.matches,r=t[0],1===t.length&&L(r).then(function(e){var t=n===e;f.matchInsensitive&&!t&&(t=n.toLowerCase()===e.toLowerCase()),t&&G(0)})),M(),Q(!0,k.Count)}function re(e,t){g[e]&&f.$parent.$eval(g[e],t||{})}}}(),Q.$inject=["$$mdSvgRegistry"],ue.module("material.components.autocomplete").directive("mdAutocomplete",Q),Z.$inject=["$compile","$mdUtil"],ue.module("material.components.autocomplete").directive("mdAutocompleteParentScope",Z),J.$inject=["$scope","$element","$attrs"],ue.module("material.components.autocomplete").controller("MdHighlightCtrl",J),J.prototype.init=function(t,n){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(e){return{term:t(e),contentText:n(e)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},J.prototype.onRender=function(e,t){var n=e.contentText;null!==this.regex&&e.term===t.term||(this.regex=this.createRegex(e.term,this.flags)),e.term?this.applyRegex(n):this.$element.text(n)},J.prototype.applyRegex=function(e){var t=this.resolveTokens(e);this.$element.empty(),t.forEach(function(e){if(e.isMatch){var t=ue.element('<span class="highlight">').text(e.text);this.$element.append(t)}else this.$element.append(document.createTextNode(e))}.bind(this))},J.prototype.resolveTokens=function(r){var i=[],n=0;return r.replace(this.regex,function(e,t){o(n,t),i.push({text:e,isMatch:!0}),n=t+e.length}),o(n),i;function o(e,t){var n=r.slice(e,t);n&&i.push(n)}},J.prototype.createRegex=function(e,t){var n="",r="",i=this.sanitizeRegex(e);return 0<=t.indexOf("^")&&(n="^"),0<=t.indexOf("$")&&(r="$"),new RegExp(n+i+r,t.replace(/[$^]/g,""))},J.prototype.sanitizeRegex=function(e){return e&&e.toString().replace(/[\\^$*+?.()|{}[\]]/g,"\\$&")},ee.$inject=["$interpolate","$parse"],ue.module("material.components.autocomplete").directive("mdHighlightText",ee),ue.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(a,s,t,l,c,u,d,h){return{restrict:"E",link:function(n,r,e){t.pin&&t.pin(r,l);var i;function o(){var e=parseInt(i.height,10)+Math.abs(parseInt(i.top,10));r.css("height",e+"px")}d(function(){if("fixed"===(i=c.getComputedStyle(h[0].body)).position){var e=s.debounce(function(){i=c.getComputedStyle(h[0].body),o()},60,null,!1);o(),ue.element(c).on("resize",e),n.$on("$destroy",function(){ue.element(c).off("resize",e)})}var t=r.parent();t.length&&("BODY"===t[0].nodeName&&r.css("position","fixed"),"static"===c.getComputedStyle(t[0]).position&&u.warn("<md-backdrop> may not work properly in a scrolled, static-positioned parent container."),a.inherit(r,t))})}}}]),te.$inject=["$mdBottomSheet"],ne.$inject=["$$interimElementProvider"],ue.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",te).provider("$mdBottomSheet",ne),ie.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],re.$inject=["$mdTheming"],ue.module("material.components.button",["material.core"]).directive("mdButton",ie).directive("a",re),oe.$inject=["$mdTheming"],ue.module("material.components.card",["material.core"]).directive("mdCard",oe),ae.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],ue.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",ae),ue.module("material.components.chips",["material.core","material.components.autocomplete"]),se.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],ue.module("material.components.chips").controller("MdChipCtrl",se),se.prototype.init=function(e){this.parentController=e,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("dblclick",this.chipMouseDoubleClick.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},se.prototype.getChipContent=function(){var e=this.$element[0].getElementsByClassName("md-chip-content");return ue.element(e[0])},se.prototype.getContentElement=function(){var e=ue.element(this.getChipContent().children()[0]);return e&&0!==e.length||(e=ue.element(this.getChipContent().contents()[0])),e},se.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},se.prototype.goOutOfEditMode=function(){if(this.isEditing){this.isEditing=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var e=this.getChipIndex(),t=this.getContentElement().text();t?(this.parentController.updateChipContents(e,t),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===e&&this.parentController.focusChip(e)}.bind(this))):this.parentController.removeChipAndFocusInput(e)}},se.prototype.selectNodeContents=function(e){var t,n;document.body.createTextRange?((t=document.body.createTextRange()).moveToElementText(e),t.select()):j.getSelection&&(n=j.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t))},se.prototype.goInEditMode=function(){this.isEditing=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},se.prototype.chipKeyDown=function(e){this.isEditing||e.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&e.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditing&&e.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(e.preventDefault(),this.goOutOfEditMode()):(e.preventDefault(),this.goInEditMode())},se.prototype.chipMouseDoubleClick=function(){this.enableChipEdit&&!this.isEditing&&this.goInEditMode()},le.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],ue.module("material.components.chips").directive("mdChip",le),ce.$inject=["$timeout"],ue.module("material.components.chips").directive("mdChipRemove",ce),he.$inject=["$compile"],ue.module("material.components.chips").directive("mdChipTransclude",he),function(){e.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil","$mdLiveAnnouncer","$exceptionHandler"];var c=300;function e(e,t,n,r,i,o,a,s,l){this.$timeout=o,this.$mdConstant=n,this.$scope=e,this.parent=e.$parent,this.$mdUtil=a,this.$log=r,this.$mdLiveAnnouncer=s,this.$exceptionHandler=l,this.$element=i,this.$attrs=t,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=a.parseAttributeBoolean(t.mdEnableChipEdit),this.addOnBlur=a.parseAttributeBoolean(t.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.containerEmptyHint="Chips container. Enter the text area, then type text, and press enter to add a chip.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=c,this.deRegister=[],this.addedMessage="added",this.removedMessage="removed",this.init()}ue.module("material.components.chips").controller("MdChipsCtrl",e),e.prototype.init=function(){var t=this;this.wrapperId="_md-chips-wrapper-"+this.$mdUtil.nextUid(),this.$element.attr("ng-model")||this.setupStaticChips(),this.deRegister.push(this.$scope.$watchCollection("$mdChipsCtrl.items",function(){t.setupInputAria(),t.setupWrapperAria()})),this.deRegister.push(this.$attrs.$observe("mdChipAppendDelay",function(e){t.chipAppendDelay=parseInt(e)||c}))},e.prototype.$onDestroy=function(){for(var e;e=this.deRegister.pop();)e.call(this)},e.prototype.setupInputAria=function(){var e=this.$element.find("input");e&&(e.attr("role","textbox"),e.attr("aria-multiline",!0),this.inputAriaDescribedBy&&e.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy?(e.attr("aria-labelledby",this.inputAriaLabelledBy),e.removeAttr("aria-label")):e.attr("aria-label",this.inputAriaLabel))},e.prototype.setupWrapperAria=function(){var e=this,t=this.$element.find("md-chips-wrap");this.items&&this.items.length?(t.attr("role","listbox"),this.contentIds=this.items.map(function(){return e.wrapperId+"-chip-"+e.$mdUtil.nextUid()}),t.attr("aria-owns",this.contentIds.join(" ")),t.attr("aria-label",this.containerHint)):(t.removeAttr("role"),t.removeAttr("aria-owns"),t.attr("aria-label",this.containerEmptyHint))},e.prototype.setupStaticChips=function(){var e,t,n=this,r=this.$element.find("md-chips-wrap");this.$timeout(function(){for(r.attr("role","list"),t=r[0].children,e=0;e<t.length;e++)t[e].setAttribute("role","listitem"),t[e].setAttribute("aria-setsize",t.length);n.inputAriaDescribedBy&&r.attr("aria-describedby",n.inputAriaDescribedBy),n.inputAriaLabelledBy?(r.attr("aria-labelledby",n.inputAriaLabelledBy),r.removeAttr("aria-label")):r.attr("aria-label",n.inputAriaLabel)},10)},e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();if(!(this.autocompleteCtrl&&e.isDefaultPrevented&&e.isDefaultPrevented())){if(e.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(e.target))return;return e.preventDefault(),e.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),-1!==this.separatorKeys.indexOf(e.keyCode)){if(this.autocompleteCtrl&&this.requireMatch||!t)return;if(e.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(t.trim()),this.resetChipBuffer(),!1}}},e.prototype.getCursorPosition=function(t){try{if(t.selectionStart===t.selectionEnd)return t.selectionStart}catch(e){if(!t.value)return 0}},e.prototype.updateChipContents=function(e,t){0<=e&&e<this.items.length&&(this.items[e]=t,this.updateNgModel(!0))},e.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},e.prototype._isChipObject=function(e){return ue.isObject(e)},e.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(!this.readonly&&!ue.isDefined(this.removable)||this.removable)},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer()&&!this.isEditingChip())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(e.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip,e);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),(this.selectedChip<0||this.readonly&&0===this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){return this.items&&this.items.length&&(""===this.secondaryPlaceholder||this.secondaryPlaceholder)?this.secondaryPlaceholder:this.placeholder},e.prototype.removeAndSelectAdjacentChip=function(e,t){var n=this,r=n.getAdjacentChipIndex(e);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+e+'"]');n.removeChip(e,t),n.$timeout(function(){n.$timeout(function(){n.selectAndFocusChipSafe(r)})})},e.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e===t?e-1:e},e.prototype.appendChip=function(t){if(this.shouldFocusLastChip=!this.addOnBlur,this.useTransformChip&&this.transformChip){var e=this.transformChip({$chip:t});ue.isDefined(e)&&(t=e)}if(ue.isObject(t)&&this.items.some(function(e){return ue.equals(t,e)}))return;if(!(null==t||this.items.indexOf(t)+1)){var n=this.items.push(t)-1;this.updateNgModel();var r=ue.isObject(t)?"":t;this.$mdLiveAnnouncer.announce(r+" "+this.addedMessage,"assertive"),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:t,$index:n})}},e.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},e.prototype.useOnAddExpression=function(){this.useOnAdd=!0},e.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},e.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},e.prototype.getChipBuffer=function(){var e=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return ue.isString(e)?e:""},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.hasMaxChipsReached=function(){return ue.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),0<this.maxChips&&this.items.length>=this.maxChips},e.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached()),this.ngModelCtrl.$validate()},e.prototype.updateNgModel=function(e){e||this.validateModel(),ue.forEach(this.ngModelCtrl.$viewChangeListeners,function(e){try{e()}catch(e){this.$exceptionHandler(e)}})},e.prototype.removeChip=function(e,t){var n=this.items.splice(e,1);this.updateNgModel(),this.ngModelCtrl.$setDirty();var r=ue.isObject(n[0])?"":n[0];this.$mdLiveAnnouncer.announce(r+" "+this.removedMessage,"assertive"),n&&n.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:n[0],$index:e,$event:t})},e.prototype.removeChipAndFocusInput=function(e,t){this.removeChip(e,t),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){if(!this.items.length||-1===e)return this.focusInput();if(e>=this.items.length){if(!this.readonly)return this.onFocus();e=0}e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),this.focusChip(e)},e.prototype.focusLastChipThenInput=function(){var e=this;e.shouldFocusLastChip=!1,e.focusChip(this.items.length-1),e.$timeout(function(){e.focusInput()},e.chipAppendDelay)},e.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},e.prototype.selectChip=function(e){-1<=e&&e<=this.items.length?(this.selectedChip=e,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[e]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!==e&&this.focusChip(e)},e.prototype.focusChip=function(e){var t=this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content');this.ariaTabIndex=e,t.focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$isEmpty=function(e){return!e||0===e.length},e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},e.prototype.configureInput=function(e){var t=e.controller("ngModel"),n=this;t&&(this.deRegister.push(this.$scope.$watch(function(){return t.$touched},function(e){e&&n.ngModelCtrl.$setTouched()})),this.deRegister.push(this.$scope.$watch(function(){return t.$dirty},function(e){e&&n.ngModelCtrl.$setDirty()})))},e.prototype.configureUserInput=function(e){var t=(this.userInputElement=e).controller("ngModel");t!==this.ngModelCtrl&&(this.userInputNgModelCtrl=t);function n(e,t){r.$evalAsync(ue.bind(i,t,e))}var r=this.$scope,i=this;e.attr({tabindex:0}).on("keydown",function(e){n(e,i.inputKeydown)}).on("focus",function(e){n(e,i.onInputFocus)}).on("blur",function(e){n(e,i.onInputBlur)})},e.prototype.configureAutocomplete=function(e){e&&(this.autocompleteCtrl=e,this.$element.attr("container-empty-hint")||(this.containerEmptyHint="Chips container with autocompletion. Enter the text area, type text to search, and then use the up and down arrow keys to select an option. Press enter to add the selected option as a chip.",this.setupWrapperAria()),e.registerSelectedItemWatcher(ue.bind(this,function(e){if(e){if(this.hasMaxChipsReached())return;this.appendChip(e),this.resetChipBuffer()}})),this.$element.find("input").on("focus",ue.bind(this,this.onInputFocus)).on("blur",ue.bind(this,this.onInputBlur)))},e.prototype.shouldAddOnBlur=function(){this.validateModel();var e=this.getChipBuffer().trim(),t=this.ngModelCtrl.$isEmpty(this.ngModelCtrl.$modelValue)||this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(t=t&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&e&&t&&!n},e.prototype.hasFocus=function(){return this.inputHasFocus||0<=this.selectedChip},e.prototype.contentIdFor=function(e){return this.contentIds[e]}}(),function(){r.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],ue.module("material.components.chips").directive("mdChips",r);var e='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"             ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex === $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip === $index}}"              aria-setsize="{{$mdChipsCtrl.items.length}}"              aria-posinset="{{$index+1}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              aria-label="{{$mdChipsCtrl._isChipObject($chip) ? \'\' : $chip + \'. \'}}{{$mdChipsCtrl.isRemovable() ? \'\' + $mdChipsCtrl.deleteHint : \'\'}}"               ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',t='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',n="      <span>{{$chip}}</span>",i='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index, $event)"          type="button"          tabindex="-1"          aria-label="{{$mdChipsCtrl.deleteButtonLabel}}{{$mdChipsCtrl._isChipObject($chip) ? \'\' : \' \' + $chip}}">        <md-icon md-svg-src="{{$mdChipsCtrl.mdCloseIcon}}" aria-hidden="true"></md-icon>      </button>';function r(h,f,p,r,m,g){var v={chips:f.processTemplate(e),input:f.processTemplate(t),default:f.processTemplate(n),remove:f.processTemplate(i)};return{template:function(e,t){return t.$mdUserTemplate=e.clone(),v.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:function(e,a){var n=a.$mdUserTemplate;a.$mdUserTemplate=null;var s=t("md-chips>md-chip-template"),l=t(f.prefixer().buildList("md-chip-remove").map(function(e){return"md-chips>*["+e+"]"}).join(","))||v.remove,c=s||v.default,u=t("md-chips>md-autocomplete")||t("md-chips>input")||v.input,d=n.find("md-chip");n[0].querySelector("md-chip-template>*[md-chip-remove]")&&r.warn("invalid placement of md-chip-remove within md-chip-template.");function t(e){if(a.ngModel){var t=n[0].querySelector(e);return t&&t.outerHTML}}return function(e,t,n,r){f.initOptionalProperties(e,a),h(t);var i=r[0];if(s&&(i.enableChipEdit=!1),i.chipContentsTemplate=c,i.chipRemoveTemplate=l,i.chipInputTemplate=u,i.mdCloseIcon=g.mdClose,t.attr({tabindex:-1}).on("focus",function(){i.onFocus()}).on("click",function(){i.readonly||-1!==i.selectedChip||i.onFocus()}),a.ngModel&&(i.configureNgModel(t.controller("ngModel")),n.mdTransformChip&&i.useTransformChipExpression(),n.mdOnAppend&&i.useOnAppendExpression(),n.mdOnAdd&&i.useOnAddExpression(),n.mdOnRemove&&i.useOnRemoveExpression(),n.mdOnSelect&&i.useOnSelectExpression(),u!==v.input&&e.$watch("$mdChipsCtrl.readonly",function(e){e||f.nextTick(function(){if(0===u.indexOf("<md-autocomplete")){var e=t.find("md-autocomplete");i.configureAutocomplete(e.controller("mdAutocomplete"))}i.configureUserInput(t.find("input"))})}),f.nextTick(function(){var e=t.find("input");e&&(i.configureInput(e),e.toggleClass("md-input",!0))})),0<d.length){var o=p(d.clone())(e.$parent);m(function(){t.find("md-chips-wrap").prepend(o)})}}},scope:{readonly:"=?readonly",removable:"=?mdRemovable",placeholder:"@?",secondaryPlaceholder:"@?",maxChips:"@?mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&?mdOnAppend",onAdd:"&?mdOnAdd",onRemove:"&?mdOnRemove",addedMessage:"@?mdAddedMessage",removedMessage:"@?mdRemovedMessage",onSelect:"&?mdOnSelect",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?",deleteButtonLabel:"@?",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay",ngChange:"&?"}}}}(),fe.$inject=["$attrs","$element","$timeout"],ue.module("material.components.chips").controller("MdContactChipsCtrl",fe),fe.prototype.init=function(){var e=this,t=this.deRegister,n=this.$element;this.$timeout(function(){t.push(n.find("md-chips").scope().$watchCollection("$mdChipsCtrl.items",function(){e.setupChipsAria(),e.setupAutocompleteAria()}))})},fe.prototype.setupChipsAria=function(){var e=this.$element.find("md-chips"),t=e.controller("mdChips");this.removedMessage&&(t.removedMessage=this.removedMessage),this.containerHint&&(t.containerHint=this.containerHint),this.containerEmptyHint&&(e.attr("container-empty-hint",this.containerEmptyHint),t.containerEmptyHint=this.containerEmptyHint),this.deleteHint&&(t.deleteHint=this.deleteHint),this.inputAriaLabel&&(t.inputAriaLabel=this.inputAriaLabel)},fe.prototype.setupAutocompleteAria=function(){var e=this.$element.find("md-chips-wrap").find("md-autocomplete").find("input");this.inputAriaDescribedBy&&e.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy&&(e.removeAttr("aria-label"),e.attr("aria-labelledby",this.inputAriaLabelledBy))},fe.prototype.queryContact=function(e){return this.contactQuery({$query:e})},fe.prototype.inputKeydown=function(e){if(this.separatorKeys&&!(this.separatorKeys.indexOf(e.keyCode)<0)){e.stopPropagation(),e.preventDefault();var t=ue.element(e.target).controller("mdAutocomplete");t.select(t.index)}},fe.prototype.itemName=function(e){return e[this.contactName]},fe.prototype.$onDestroy=function(){for(var e;e=this.deRegister.pop();)e.call(this)},function(){e.$inject=["$mdTheming","$mdUtil"],ue.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          ng-change="$mdContactChipsCtrl.ngChange($mdContactChipsCtrl.contacts)"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"          md-separator-keys="$mdContactChipsCtrl.separatorKeys"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              ng-keydown="$mdContactChipsCtrl.inputKeydown($event)"              placeholder="{{$mdContactChipsCtrl.contacts.length === 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';function e(a,s){return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:function(e,o){return function(e,t,n,r){var i=r;s.initOptionalProperties(e,o),a(t),t.attr("tabindex","-1"),n.$observe("mdChipAppendDelay",function(e){i.chipAppendDelay=e})}},scope:{contactQuery:"&mdContacts",placeholder:"@?",secondaryPlaceholder:"@?",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",ngChange:"&?",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay",separatorKeys:"=?mdSeparatorKeys",removedMessage:"@?mdRemovedMessage",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?"}}}}(),function(){t.$inject=["$mdColors","$mdUtil","$log","$parse"],e.$inject=["$mdTheming","$mdUtil","$log"];var a=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,c=null;function e(o,a,n){return c=c||Object.keys(o.PALETTES),{applyThemeColors:function(e,t){try{t&&e.css(function(e){var i={},o=e.hasOwnProperty("color");return ue.forEach(e,function(e,t){var n=l(e),r=-1<t.indexOf("background");i[t]=s(n),r&&!o&&(i.color=s(n,!0))}),i}(t))}catch(e){n.error(e.message)}},getThemeColor:function(e){return s(l(e))},hasTheme:function(e){return ue.isDefined(o.THEMES[e.split("-")[0]])}};function s(e,t){t=t||!1;var n=o.PALETTES[e.palette][e.hue];return n=t?n.contrast:n.value,a.supplant("rgba({0}, {1}, {2}, {3})",[n[0],n[1],n[2],n[3]||e.opacity])}function l(e){var t=e.split("-"),n=ue.isDefined(o.THEMES[t[0]])?t.splice(0,1)[0]:o.defaultTheme();return{theme:n,palette:function(e,t){var n=1<e.length&&-1!==c.indexOf(e[1]),r=e[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();n&&(r=e[0]+"-"+e.splice(1,1));if(-1===c.indexOf(r)){var i=o.THEMES[t].colors[r];if(!i)throw new Error(a.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:r}));r=i.name}return r}(t,n),hue:function(e,t){var n=o.THEMES[t].colors;if("hue"!==e[1])return e[1]||n[e[0]in n?e[0]:"primary"].hues.default;var r=parseInt(e.splice(2,1)[0],10);if(r<1||3<r)throw new Error(a.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:r}));if(e[1]="hue-"+r,e[0]in n)return n[e[0]].hues[e[1]];throw new Error(a.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(n).join(", "),usedTheme:e[0]}))}(t,n),opacity:t[2]||1}}}function t(u,o,d,h){return{restrict:"A",require:["^?mdTheme"],compile:function(e,i){var c=function(){var e=i.mdColors,t=-1<e.indexOf("::"),n=t||a.test(i.mdColors);i.mdColors=e.replace("::","");var r=ue.isDefined(i.mdColorsWatch);return!t&&!n&&(!r||o.parseAttributeBoolean(i.mdColorsWatch))}();return function(e,n,t,r){function i(n){"string"!=typeof n&&(n=""),t.mdColors||(t.mdColors="{}");var r=h(t.mdColors)(e);return o&&Object.keys(r).forEach(function(e){var t=r[e];u.hasTheme(t)||(r[e]=(n||o.$mdTheme)+"-"+t)}),s(r),r}var o=r[0],a={},s=function(e){if(!ue.equals(e,a)){var t=Object.keys(a);a.background&&!t.color&&t.push("color"),t.forEach(function(e){n.css(e,"")})}a=e},l=ue.noop;o&&(l=o.registerChanges(function(e){u.applyThemeColors(n,i(e))})),e.$on("$destroy",function(){l()});try{c?e.$watch(i,ue.bind(this,u.applyThemeColors,n),!0):u.applyThemeColors(n,i())}catch(e){d.error(e.message)}}}}}ue.module("material.components.colors",["material.core"]).directive("mdColors",t).service("$mdColors",e)}(),pe.$inject=["$mdTheming"],ue.module("material.components.content",["material.core"]).directive("mdContent",pe),ue.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"]),function(){e.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale"],ue.module("material.components.datepicker").directive("mdCalendar",function(){return{template:function(e,t){return'<div ng-switch="calendarCtrl.currentView" '+(t.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"')+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",_mode:"@mdMode",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:e,controllerAs:"calendarCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0];r[1].configureNgModel(i)}}});var d=0,t={day:"month",month:"year"};function e(e,t,n,r,i,o,a,s,l){o(e),this.$element=e,this.$scope=t,this.dateUtil=n,this.$mdUtil=r,this.keyCode=i.KEY_CODE,this.$$rAF=a,this.$mdDateLocale=l,this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=null,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=d++,this.displayDate=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,s.tabindex||e.attr("tabindex","-1");var c,u=ue.bind(this,this.handleKeyEvent);(c=e.parent().hasClass("md-datepicker-calendar")?ue.element(document.body):e).on("keydown",u),t.$on("$destroy",function(){c.off("keydown",u)}),1===ue.version.major&&ue.version.minor<=4&&this.$onInit()}e.prototype.$onInit=function(){this._mode&&t.hasOwnProperty(this._mode)?(this.currentView=t[this._mode],this.mode=this._mode):(this.currentView=this._currentView||"month",this.mode=null);var e=this.$mdDateLocale;this.minDate&&this.minDate>e.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=e.firstRenderableDate,this.maxDate&&this.maxDate<e.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=e.lastRenderableDate},e.prototype.configureNgModel=function(e){var t=this;t.ngModelCtrl=e,t.$mdUtil.nextTick(function(){t.isInitialized=!0}),e.$render=function(){var e=this.$viewValue;t.$scope.$broadcast("md-calendar-parent-changed",e),t.selectedDate||(t.selectedDate=e),t.displayDate||(t.displayDate=t.selectedDate||t.today)}},e.prototype.setNgModelValue=function(e){var t=this.dateUtil.createDateAtMidnight(e);return this.focus(t),this.$scope.$emit("md-calendar-change",t),this.ngModelCtrl.$setViewValue(t),this.ngModelCtrl.$render(),t},e.prototype.setCurrentView=function(e,t){var n=this;n.$mdUtil.nextTick(function(){n.currentView=e,t&&(n.displayDate=ue.isDate(t)?t:new Date(t))})},e.prototype.focus=function(e){if(this.dateUtil.isValidDate(e)){var t=this.$element[0].querySelector("."+this.FOCUSED_DATE_CLASS);t&&t.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(e,this.currentView),r=document.getElementById(n);r&&(r.classList.add(this.FOCUSED_DATE_CLASS),r.focus(),this.displayDate=e)}else{var i=this.$element[0].querySelector("[ng-switch]");i&&i.focus()}},e.prototype.changeSelectedDate=function(e){var t=this.SELECTED_DATE_CLASS,n=this.$element[0].querySelector("."+t);if(n&&(n.classList.remove(t),n.setAttribute("aria-selected","false")),e){var r=document.getElementById(this.getDateId(e,this.currentView));r&&(r.classList.add(t),r.setAttribute("aria-selected","true"))}this.selectedDate=e},e.prototype.getActionFromKeyEvent=function(e){var t=this.keyCode;switch(e.which){case t.ENTER:return"select";case t.RIGHT_ARROW:return"move-right";case t.LEFT_ARROW:return"move-left";case t.DOWN_ARROW:return e.metaKey?"move-page-down":"move-row-down";case t.UP_ARROW:return e.metaKey?"move-page-up":"move-row-up";case t.PAGE_DOWN:return"move-page-down";case t.PAGE_UP:return"move-page-up";case t.HOME:return"start";case t.END:return"end";default:return null}},e.prototype.handleKeyEvent=function(t){var n=this;this.$scope.$apply(function(){if(t.which==n.keyCode.ESCAPE||t.which==n.keyCode.TAB)return n.$scope.$emit("md-calendar-close"),void(t.which==n.keyCode.TAB&&t.preventDefault());var e=n.getActionFromKeyEvent(t);e&&(t.preventDefault(),t.stopPropagation(),n.$scope.$broadcast("md-calendar-parent-action",e))})},e.prototype.hideVerticalScrollbar=function(r){var i=this,t=r.$element[0],o=t.querySelector(".md-calendar-scroll-mask");function n(){var e=i.width||340,t=i.scrollbarWidth,n=r.calendarScroller;o.style.width=e+"px",n.style.width=e+t+"px",n.style.paddingRight=t+"px"}0<i.width?n():i.$$rAF(function(){var e=r.calendarScroller;i.scrollbarWidth=e.offsetWidth-e.clientWidth,i.width=t.querySelector("table").offsetWidth,n()})},e.prototype.getDateId=function(e,t){if(!t)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,t,e.getFullYear(),e.getMonth(),e.getDate()].join("-")},e.prototype.updateVirtualRepeat=function(){var e=this.$scope,t=e.$on("$md-resize-enable",function(){e.$$phase||e.$apply(),t()})}}(),function(){t.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],ue.module("material.components.datepicker").directive("mdCalendarMonth",function(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(e-n)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+n+'"><tr aria-hidden="true" md-force-height="\''+n+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:t,controllerAs:"monthCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0];r[1].initialize(i)}}});var n=265,e=45;function t(e,t,n,r,i,o){this.$element=e,this.$scope=t,this.$animate=n,this.$q=r,this.dateUtil=i,this.dateLocale=o,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var e=i.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(e)})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",i.getTimestampFromNode(this))}}t.prototype.initialize=function(e){this.items={length:this.dateUtil.getMonthDistance(e.firstRenderableDate,e.lastRenderableDate)+2},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},t.prototype.getSelectedMonthIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getMonthDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},t.prototype.changeDisplayDate=function(e){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(e)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var t=this.animateDateChange(e);this.calendarCtrl.displayDate=e;var n=this;return t.then(function(){n.isMonthTransitionInProgress=!1}),t},t.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*n}return this.$q.when()},t.prototype.buildWeekHeader=function(){for(var e=this.dateLocale.firstDayOfWeek,t=this.dateLocale.shortDays,n=document.createElement("tr"),r=0;r<7;r++){var i=document.createElement("th");i.textContent=t[(r+e)%7],n.appendChild(i)}this.$element.find("thead").append(n)},t.prototype.attachScopeListeners=function(){var n=this;n.$scope.$on("md-calendar-parent-changed",function(e,t){n.calendarCtrl.changeSelectedDate(t),n.changeDisplayDate(t)}),n.$scope.$on("md-calendar-parent-action",ue.bind(this,this.handleKeyEvent))},t.prototype.handleKeyEvent=function(e,t){var n=this.calendarCtrl,r=n.displayDate;if("select"===t)n.setNgModelValue(r);else{var i=null,o=this.dateUtil;switch(t){case"move-right":i=o.incrementDays(r,1);break;case"move-left":i=o.incrementDays(r,-1);break;case"move-page-down":i=o.incrementMonths(r,1);break;case"move-page-up":i=o.incrementMonths(r,-1);break;case"move-row-down":i=o.incrementDays(r,7);break;case"move-row-up":i=o.incrementDays(r,-7);break;case"start":i=o.getFirstDateOfMonth(r);break;case"end":i=o.getLastDateOfMonth(r)}i&&(i=this.dateUtil.clampDate(i,n.minDate,n.maxDate),this.changeDisplayDate(i).then(function(){n.focus(i)}))}}}(),me.$inject=["$compile","$$mdSvgRegistry"],ge.$inject=["$element","$$mdDateUtil","$mdDateLocale"],ue.module("material.components.datepicker").directive("mdCalendarMonthBody",me),ge.prototype.generateContent=function(){var e=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},ge.prototype.buildDateCell=function(e){var t=this.monthCtrl,n=this.calendarCtrl,r=document.createElement("td");if(r.tabIndex=-1,r.classList.add("md-calendar-date"),r.setAttribute("role","gridcell"),e){r.setAttribute("tabindex","-1"),r.setAttribute("aria-label",this.dateLocale.longDateFormatter(e)),r.id=n.getDateId(e,"month"),r.setAttribute("data-timestamp",e.getTime()),this.dateUtil.isSameDay(e,n.today)&&r.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(e,n.selectedDate)&&(r.classList.add(n.SELECTED_DATE_CLASS),r.setAttribute("aria-selected","true"));var i=this.dateLocale.dates[e.getDate()];if(this.isDateEnabled(e)){var o=document.createElement("span");o.classList.add("md-calendar-date-selection-indicator"),o.textContent=i,r.appendChild(o),r.addEventListener("click",t.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(e,n.displayDate)&&(this.focusAfterAppend=r)}else r.classList.add("md-calendar-date-disabled"),r.textContent=i}return r},ge.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!ue.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(e))},ge.prototype.buildDateRow=function(e){var t=document.createElement("tr");return t.setAttribute("role","row"),t.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(e)),t},ge.prototype.buildCalendarForMonth=function(e){var t=this.dateUtil.isValidDate(e)?e:new Date,n=this.dateUtil.getFirstDateOfMonth(t),r=this.getLocaleDay_(n),i=this.dateUtil.getNumberOfDaysInMonth(t),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,c=0,u=document.createElement("td"),d=document.createElement("span"),h=this.calendarCtrl;if(d.textContent=this.dateLocale.monthHeaderFormatter(t),u.appendChild(d),u.classList.add("md-calendar-month-label"),h.maxDate&&n>h.maxDate?u.classList.add("md-calendar-month-label-disabled"):h.mode||(u.addEventListener("click",this.monthCtrl.headerClickHandler),u.setAttribute("data-timestamp",n.getTime()),u.setAttribute("aria-label",this.dateLocale.monthFormatter(t)),u.classList.add("md-calendar-label-clickable"),u.appendChild(this.arrowIcon.cloneNode(!0))),r<=2){u.setAttribute("colspan","7");var f=this.buildDateRow();if(f.appendChild(u),o.insertBefore(f,s),l)return o}else c=3,u.setAttribute("colspan","3"),s.appendChild(u);for(var p=c;p<r;p++)s.appendChild(this.buildDateCell());for(var m=r,g=n,v=1;v<=i;v++){if(7===m){if(l)return o;m=0,a++,s=this.buildDateRow(a),o.appendChild(s)}g.setDate(v);var y=this.buildDateCell(g);s.appendChild(y),m++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var b=this.buildDateRow(),w=0;w<7;w++)b.appendChild(this.buildDateCell());o.appendChild(b)}return o},ge.prototype.getLocaleDay_=function(e){return(e.getDay()+(7-this.dateLocale.firstDayOfWeek))%7},function(){e.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdUtil"],ue.module("material.components.datepicker").directive("mdCalendarYear",function(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+n+'"><tr aria-hidden="true" md-force-height="\''+n+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:e,controllerAs:"yearCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0];r[1].initialize(i)}}});var n=88;function e(e,t,n,r,i,o){this.$element=e,this.$scope=t,this.$animate=n,this.$q=r,this.dateUtil=i,this.calendarScroller=e[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1,this.$mdUtil=o;var a=this;this.cellClickHandler=function(){a.onTimestampSelected(i.getTimestampFromNode(this))}}e.prototype.initialize=function(e){this.items={length:this.dateUtil.getYearDistance(e.firstRenderableDate,e.lastRenderableDate)+1},this.calendarCtrl=e,this.attachScopeListeners(),e.updateVirtualRepeat(),e.ngModelCtrl&&e.ngModelCtrl.$render()},e.prototype.getFocusedYearIndex=function(){var e=this.calendarCtrl;return this.dateUtil.getYearDistance(e.firstRenderableDate,e.displayDate||e.selectedDate||e.today)},e.prototype.changeDate=function(e){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(e)&&!this.isMonthTransitionInProgress){var t=this,n=this.animateDateChange(e);return t.isMonthTransitionInProgress=!0,t.calendarCtrl.displayDate=e,n.then(function(){t.isMonthTransitionInProgress=!1})}},e.prototype.animateDateChange=function(e){if(this.dateUtil.isValidDate(e)){var t=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,e);this.calendarScroller.scrollTop=t*n}return this.$q.when()},e.prototype.handleKeyEvent=function(e,t){var n=this,r=n.calendarCtrl,i=r.displayDate;if("select"===t)n.changeDate(i).then(function(){n.onTimestampSelected(i)});else{var o=null,a=n.dateUtil;switch(t){case"move-right":o=a.incrementMonths(i,1);break;case"move-left":o=a.incrementMonths(i,-1);break;case"move-row-down":o=a.incrementMonths(i,6);break;case"move-row-up":o=a.incrementMonths(i,-6)}if(o){var s=r.minDate?a.getFirstDateOfMonth(r.minDate):null,l=r.maxDate?a.getFirstDateOfMonth(r.maxDate):null;o=a.getFirstDateOfMonth(n.dateUtil.clampDate(o,s,l)),n.changeDate(o).then(function(){r.focus(o)})}}},e.prototype.attachScopeListeners=function(){var n=this;n.$scope.$on("md-calendar-parent-changed",function(e,t){n.calendarCtrl.changeSelectedDate(t?n.dateUtil.getFirstDateOfMonth(t):t),n.changeDate(t)}),n.$scope.$on("md-calendar-parent-action",ue.bind(n,n.handleKeyEvent))},e.prototype.onTimestampSelected=function(e){var t=this.calendarCtrl;t.mode?this.$mdUtil.nextTick(function(){t.setNgModelValue(e)}):t.setCurrentView("month",e)}}(),ve.$inject=["$element","$$mdDateUtil","$mdDateLocale"],ue.module("material.components.datepicker").directive("mdCalendarYearBody",function(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:ve,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(e,t,n,r){var i=r[0],o=r[1],a=r[2];a.calendarCtrl=i,a.yearCtrl=o,e.$watch(function(){return a.offset},function(e){ue.isNumber(e)&&a.generateContent()})}}}),ve.prototype.generateContent=function(){var e=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(e)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend.focus(),this.focusAfterAppend=null)},ve.prototype.buildMonthCell=function(e,t){var n=this.calendarCtrl,r=this.yearCtrl,i=this.buildBlankCell(),o=new Date(e,t,1);i.setAttribute("aria-label",this.dateLocale.monthFormatter(o)),i.id=n.getDateId(o,"year"),i.setAttribute("data-timestamp",String(o.getTime())),this.dateUtil.isSameMonthAndYear(o,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameMonthAndYear(o,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var a=this.dateLocale.shortMonths[t];if(!this.dateUtil.isMonthWithinRange(o,n.minDate,n.maxDate)||ue.isFunction(this.calendarCtrl.dateFilter)&&!this.calendarCtrl.dateFilter(o))i.classList.add("md-calendar-date-disabled"),i.textContent=a;else{var s=document.createElement("span");s.classList.add("md-calendar-date-selection-indicator"),s.textContent=a,i.appendChild(s),i.addEventListener("click",r.cellClickHandler),n.displayDate&&this.dateUtil.isSameMonthAndYear(o,n.displayDate)&&(this.focusAfterAppend=i)}return i},ve.prototype.buildBlankCell=function(){var e=document.createElement("td");return e.tabIndex=-1,e.classList.add("md-calendar-date"),e.setAttribute("role","gridcell"),e.setAttribute("tabindex","-1"),e},ve.prototype.buildCalendarForYear=function(e){var t,n=e.getFullYear(),r=document.createDocumentFragment(),i=document.createElement("tr"),o=document.createElement("td");for(o.className="md-calendar-month-label",o.textContent=n,i.appendChild(o),t=0;t<6;t++)i.appendChild(this.buildMonthCell(n,t));r.appendChild(i);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),t=6;t<12;t++)a.appendChild(this.buildMonthCell(n,t));return r.appendChild(a),r},ue.module("material.components.datepicker").config(["$provide",function(e){function t(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.isDateComplete=null,this.msgCalendar="",this.msgOpenCalendar=""}(t.prototype.$get=function(e,i){for(var t=e.DATETIME_FORMATS.SHORTDAY.map(function(e){return e.substring(0,1)}),n=Array(32),r=1;r<=31;r++)n[r]=r;var o=new Date(1880,0,1),a=new Date(o.getFullYear()+250,0,1),s={months:this.months||e.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||e.DATETIME_FORMATS.SHORTMONTH,days:this.days||e.DATETIME_FORMATS.DAY,shortDays:this.shortDays||t,dates:this.dates||n,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||function(e,t){if(!e)return"";var n=e.toLocaleTimeString(),r=e;return 0!==e.getHours()||-1===n.indexOf("11:")&&-1===n.indexOf("23:")||(r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1,0,0)),i("date")(r,"M/d/yyyy",t)},parseDate:this.parseDate||function(e){return new Date(e)},isDateComplete:this.isDateComplete||function(e){return e=e.trim(),/^(([a-zA-Z]{3,}|[0-9]{1,4})([ .,]+|[/-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/.test(e)},monthHeaderFormatter:this.monthHeaderFormatter||function(e){return s.shortMonths[e.getMonth()]+" "+e.getFullYear()},monthFormatter:this.monthFormatter||function(e){return s.months[e.getMonth()]+" "+e.getFullYear()},weekNumberFormatter:this.weekNumberFormatter||function(e){return"Week "+e},longDateFormatter:this.longDateFormatter||function(e){return[s.days[e.getDay()],s.months[e.getMonth()],s.dates[e.getDate()],e.getFullYear()].join(" ")},msgCalendar:this.msgCalendar||"Calendar",msgOpenCalendar:this.msgOpenCalendar||"Open calendar",firstRenderableDate:this.firstRenderableDate||o,lastRenderableDate:this.lastRenderableDate||a};return s}).$inject=["$locale","$filter"],e.provider("$mdDateLocale",new t)}]),ue.module("material.components.datepicker").factory("$$mdDateUtil",function(){return{getFirstDateOfMonth:n,getNumberOfDaysInMonth:i,getDateInNextMonth:r,getDateInPreviousMonth:o,isInNextMonth:function(e,t){return a(r(e),t)},isInPreviousMonth:function(e,t){var n=o(e);return a(t,n)},getDateMidpoint:function(e,t){return u((e.getTime()+t.getTime())/2)},isSameMonthAndYear:a,getWeekOfMonth:function(e){var t=n(e);return Math.floor((t.getDay()+e.getDate()-1)/7)},incrementDays:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)},incrementMonths:s,getLastDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),i(e))},isSameDay:function(e,t){return e.getDate()==t.getDate()&&a(e,t)},getMonthDistance:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},isValidDate:l,setDateTimeToMidnight:c,createDateAtMidnight:u,isDateWithinRange:function(e,t,n){var r=u(e),i=l(t)?u(t):null,o=l(n)?u(n):null;return(!i||i<=r)&&(!o||r<=o)},incrementYears:function(e,t){return s(e,12*t)},getYearDistance:function(e,t){return t.getFullYear()-e.getFullYear()},clampDate:function(e,t,n){var r=e;t&&e<t&&(r=new Date(t.getTime()));n&&n<e&&(r=new Date(n.getTime()));return r},getTimestampFromNode:function(e){if(e&&e.hasAttribute("data-timestamp"))return Number(e.getAttribute("data-timestamp"))},isMonthWithinRange:function(e,t,n){var r=e.getMonth(),i=e.getFullYear();return(!t||t.getFullYear()<i||t.getMonth()<=r)&&(!n||n.getFullYear()>i||n.getMonth()>=r)}};function n(e){return new Date(e.getFullYear(),e.getMonth(),1)}function i(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function r(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function o(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function a(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function s(e,t){var n=new Date(e.getFullYear(),e.getMonth()+t,1),r=i(n);return r<e.getDate()?n.setDate(r):n.setDate(e.getDate()),n}function l(e){return e&&e.getTime&&!isNaN(e.getTime())}function c(e){l(e)&&e.setHours(0,0,0,0)}function u(e){var t;return c(t=ue.isUndefined(e)?new Date:new Date(e)),t}}),function(){function e(a,d,h,f){return{template:function(e,t){var n=t.mdHideIcons,r=t.ariaLabel||t.mdPlaceholder,i="all"===n||"calendar"===n?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+a.mdCalendar+'"></md-icon></md-button>',o="";return"all"!==n&&"triangle"!==n&&(o='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',e.addClass(s)),i+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(r?'aria-label="'+r+'" ':"")+'class="md-datepicker-input" aria-haspopup="true" aria-expanded="{{ctrl.isCalendarOpen}}" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+o+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}" md-mode="{{::ctrl.mode}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate" md-date-filter="ctrl.dateFilter" ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",mode:"@mdMode",dateFilter:"=mdDateFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:t,controllerAs:"ctrl",bindToController:!0,link:function(e,t,n,r){var i=r[0],o=r[1],a=r[2],s=r[3],l=d.parseAttributeBoolean(n.mdNoAsterisk);if(o.configureNgModel(i,a,f),a){var c=t[0].querySelector(".md-errors-spacer");c&&t.after(ue.element("<div>").append(c)),a.setHasPlaceholder(n.mdPlaceholder),a.input=t,a.element.addClass(p).toggleClass(m,"calendar"!==n.mdHideIcons&&"all"!==n.mdHideIcons),a.label?l||n.$observe("required",function(e){a.label.toggleClass("md-required",!!e)}):h.expect(t,"aria-label",n.mdPlaceholder),e.$watch(a.isErrorGetter||function(){return i.$invalid&&(i.$touched||s&&s.$submitted)},a.setInvalid)}else if(s)var u=e.$watch(function(){return s.$submitted},function(e){e&&(o.updateErrorState(),u())})}}}t.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter","$timeout"],e.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],ue.module("material.components.datepicker").directive("mdDatepicker",e);var a="md-datepicker-invalid",d="md-datepicker-open",p="_md-datepicker-floating-label",m="_md-datepicker-has-calendar-icon",s="_md-datepicker-has-triangle-icon",f=/ipad|iphone|ipod|android/i;function t(e,t,n,r,i,o,a,s,l,c,u,d){this.$window=r,this.dateUtil=l,this.$mdConstant=i,this.$mdUtil=a,this.$$rAF=c,this.$mdDateLocale=s,this.$timeout=d,this.documentElement=ue.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=t[0].querySelector("input"),this.ngInputElement=ue.element(this.inputElement),this.inputContainer=t[0].querySelector(".md-datepicker-input-container"),this.calendarPane=t[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=t[0].querySelector(".md-datepicker-button"),this.inputMask=ue.element(t[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=t,this.$attrs=n,this.$scope=e,this.date=null,this.isFocused=!1,this.isDisabled,this.setDisabled(t[0].disabled||ue.isString(n.disabled)),this.isCalendarOpen=!1,this.openOnFocus=n.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+a.nextUid(),this.bodyClickHandler=ue.bind(this,this.handleBodyClick),this.windowEventName=f.test(navigator.userAgent||navigator.vendor||j.opera)?"orientationchange":"resize",this.windowEventHandler=a.debounce(ue.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=ue.bind(this,this.handleWindowBlur),this.ngDateFilter=u("date"),this.leftMargin=20,this.topMargin=null,n.tabindex?(this.ngInputElement.attr("tabindex",n.tabindex),n.$set("tabindex",null)):n.$set("tabindex","-1"),n.$set("aria-owns",this.calendarPaneId),o(t),o(ue.element(this.calendarPane));var h=this;e.$on("$destroy",function(){h.detachCalendarPane()}),n.mdIsOpen&&e.$watch("ctrl.isOpen",function(e){e?h.openCalendarPane({target:h.inputElement}):h.closeCalendarPane()}),1===ue.version.major&&ue.version.minor<=4&&this.$onInit()}t.prototype.$onInit=function(){this.locale=this.dateLocale?ue.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},t.prototype.configureNgModel=function(e,t,n){this.ngModelCtrl=e,this.mdInputContainer=t,this.$attrs.$set("type","date"),n[0].link.pre(this.$scope,{on:ue.noop,val:ue.noop,0:{}},this.$attrs,[e]);var r=this;r.ngModelCtrl.$formatters.push(function(e){var t=ue.isDefined(e)?e:null;if(!(e instanceof Date)&&(t=Date.parse(e),!isNaN(t)&&ue.isNumber(t)&&(e=new Date(t)),e&&!(e instanceof Date)))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof e);return r.onExternalChange(e),e}),e.$viewChangeListeners.unshift(ue.bind(this,this.updateErrorState));var i=r.$mdUtil.getModelOption(e,"updateOn");i&&this.ngInputElement.on(i,ue.bind(this.$element,this.$element.triggerHandler,i))},t.prototype.attachChangeListeners=function(){var n=this;n.$scope.$on("md-calendar-change",function(e,t){n.setModelValue(t),n.onExternalChange(t),n.closeCalendarPane()}),n.ngInputElement.on("input",ue.bind(n,n.resizeInputElement));var e=ue.isDefined(this.debounceInterval)?this.debounceInterval:500;n.ngInputElement.on("input",n.$mdUtil.debounce(n.handleInputEvent,e,n))},t.prototype.attachInteractionListeners=function(){var t=this,n=this.$scope,r=this.$mdConstant.KEY_CODE;t.ngInputElement.on("keydown",function(e){e.altKey&&e.keyCode===r.DOWN_ARROW&&(t.openCalendarPane(e),n.$digest())}),t.openOnFocus&&(t.ngInputElement.on("focus",ue.bind(t,t.openCalendarPane)),t.ngInputElement.on("click",function(e){e.stopPropagation()}),t.ngInputElement.on("pointerdown",function(e){e.target&&e.target.setPointerCapture&&e.target.setPointerCapture(e.pointerId)}),ue.element(t.$window).on("blur",t.windowBlurHandler),n.$on("$destroy",function(){ue.element(t.$window).off("blur",t.windowBlurHandler)})),n.$on("md-calendar-close",function(){t.closeCalendarPane()})},t.prototype.installPropertyInterceptors=function(){var t=this;if(this.$attrs.ngDisabled){var e=this.$scope.$parent;e&&e.$watch(this.$attrs.ngDisabled,function(e){t.setDisabled(e)})}Object.defineProperty(this,"placeholder",{get:function(){return t.inputElement.placeholder},set:function(e){t.inputElement.placeholder=e||""}})},t.prototype.setDisabled=function(e){this.isDisabled=e,this.inputElement.disabled=e,this.calendarButton&&(this.calendarButton.disabled=e)},t.prototype.updateErrorState=function(e){var t=e||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(t)){if(t=this.dateUtil.createDateAtMidnight(t),this.dateUtil.isValidDate(this.minDate)){var n=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n<=t)}if(this.dateUtil.isValidDate(this.maxDate)){var r=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",t<=r)}ue.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(t))}else this.ngModelCtrl.$setValidity("valid",null==t);var i=this.inputElement.value,o=this.locale.parseDate(i);!this.isInputValid(i,o)&&this.ngModelCtrl.$valid&&this.ngModelCtrl.$setValidity("valid",null==t),ue.element(this.inputContainer).toggleClass(a,!this.ngModelCtrl.$valid)},t.prototype.isInputValid=function(e,t){return""===e||this.dateUtil.isValidDate(t)&&this.locale.isDateComplete(e)&&this.isDateEnabled(t)},t.prototype.clearErrorState=function(){this.inputContainer.classList.remove(a),["mindate","maxdate","filtered","valid"].forEach(function(e){this.ngModelCtrl.$setValidity(e,!0)},this)},t.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+3},t.prototype.handleInputEvent=function(){var e=this.inputElement.value,t=e?this.locale.parseDate(e):null;this.dateUtil.setDateTimeToMidnight(t),this.isInputValid(e,t)&&(this.setModelValue(t),this.date=t),this.updateErrorState(t)},t.prototype.isDateEnabled=function(e){return this.dateUtil.isDateWithinRange(e,this.minDate,this.maxDate)&&(!ue.isFunction(this.dateFilter)||this.dateFilter(e))},t.prototype.attachCalendarPane=function(){var e=this.calendarPane,t=document.body;e.style.transform="",this.$element.addClass(d),this.mdInputContainer&&this.mdInputContainer.element.addClass(d),ue.element(t).addClass("md-datepicker-is-showing");var n=this.inputContainer.getBoundingClientRect(),r=t.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var i=n.top-r.top-this.topMargin,o=n.left-r.left-this.leftMargin,a=r.top<0&&0==document.body.scrollTop?-r.top:document.body.scrollTop,s=r.left<0&&0==document.body.scrollLeft?-r.left:document.body.scrollLeft,l=a+this.$window.innerHeight,c=s+this.$window.innerWidth;if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:n.width-1+"px",height:n.height-2+"px"}),c<o+360){if(0<c-360)o=c-360;else{o=s;var u=this.$window.innerWidth/360;e.style.transform="scale("+u+")"}e.classList.add("md-datepicker-pos-adjusted")}l<i+368&&a<l-368&&(i=l-368,e.classList.add("md-datepicker-pos-adjusted")),e.style.left=o+"px",e.style.top=i+"px",document.body.appendChild(e),this.$$rAF(function(){e.classList.add("md-pane-open")})},t.prototype.detachCalendarPane=function(){this.$element.removeClass(d),this.mdInputContainer&&this.mdInputContainer.element.removeClass(d),ue.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},t.prototype.openCalendarPane=function(e){if(!this.isCalendarOpen&&!this.isDisabled&&!this.inputFocusedOnWindowBlur){this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=e.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var t=this;this.$mdUtil.nextTick(function(){t.documentElement.on("click touchstart",t.bodyClickHandler)},!1),j.addEventListener(this.windowEventName,this.windowEventHandler)}},t.prototype.closeCalendarPane=function(){if(this.isCalendarOpen){var e=this;e.detachCalendarPane(),e.ngModelCtrl.$setTouched(),e.evalAttr("ngBlur"),e.documentElement.off("click touchstart",e.bodyClickHandler),j.removeEventListener(e.windowEventName,e.windowEventHandler),e.calendarPaneOpenedFrom.focus(),e.calendarPaneOpenedFrom=null,e.openOnFocus?e.$timeout(t):t()}function t(){e.isCalendarOpen=e.isOpen=!1}},t.prototype.getCalendarCtrl=function(){return ue.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},t.prototype.focusCalendar=function(){var e=this;this.$mdUtil.nextTick(function(){e.getCalendarCtrl().focus()},!1)},t.prototype.setFocused=function(e){e||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(e?"ngFocus":"ngBlur"),this.isFocused=e},t.prototype.handleBodyClick=function(e){this.isCalendarOpen&&(this.$mdUtil.getClosest(e.target,"md-calendar")||this.closeCalendarPane(),this.$scope.$digest())},t.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},t.prototype.evalAttr=function(e){this.$attrs[e]&&this.$scope.$parent.$eval(this.$attrs[e])},t.prototype.setModelValue=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.ngModelCtrl.$setViewValue(this.ngDateFilter(e,"yyyy-MM-dd",t))},t.prototype.onExternalChange=function(e){var t=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.date=e,this.inputElement.value=this.locale.formatDate(e,t),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!e),this.resizeInputElement(),this.updateErrorState()}}(),ye.$inject=["$$rAF","$mdTheming","$mdDialog"],be.$inject=["$$interimElementProvider"],ue.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",ye).provider("$mdDialog",be),we.$inject=["$mdTheming"],ue.module("material.components.divider",["material.core"]).directive("mdDivider",we),Ce.$inject=["$mdUtil"],ue.module("material.components.fabActions",["material.core"]).directive("mdFabActions",Ce),xe.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],ue.module("material.components.fabShared",["material.core"]).controller("MdFabController",xe),function(){e.$inject=["$timeout"],t.$inject=["$timeout"];var n=300;function e(t){function r(e){t(e,n,!1)}function i(e){if(!e.hasClass("md-animations-waiting")||e.hasClass("_md-animations-ready")){var t=e[0],l=e.controller("mdFabSpeedDial"),r=t.querySelectorAll(".md-fab-action-item"),c=t.querySelector("md-fab-trigger"),n=t.querySelector("._md-css-variables"),i=parseInt(j.getComputedStyle(n).zIndex);ue.forEach(r,function(e,t){var n=e.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=r.length-t+i}),c.style.zIndex=i+r.length+1,l.isOpen||ue.forEach(r,function(e,t){var n,r,i=e.style,o=(c.clientHeight-e.clientHeight)/2,a=(c.clientWidth-e.clientWidth)/2;switch(l.direction){case"up":n=e.scrollHeight*(t+1)+o,r="Y";break;case"down":n=-(e.scrollHeight*(t+1)+o),r="Y";break;case"left":n=e.scrollWidth*(t+1)+a,r="X";break;case"right":n=-(e.scrollWidth*(t+1)+a),r="X"}var s="translate"+r+"("+n+"px)";i.transform=i.webkitTransform=s})}}return{addClass:function(e,t,n){e.hasClass("md-fling")?(i(e),r(n)):n()},removeClass:function(e,t,n){i(e),r(n)}}}function t(t){function r(e){t(e,n,!1)}function i(e){var t=e[0],i=e.controller("mdFabSpeedDial"),o=t.querySelectorAll(".md-fab-action-item"),n=t.querySelector("._md-css-variables"),a=parseInt(j.getComputedStyle(n).zIndex);ue.forEach(o,function(e,t){var n=e.style,r=65*t;n.opacity=i.isOpen?1:0,n.transform=n.webkitTransform=i.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(i.isOpen?r:o.length-r)+"ms",n.zIndex=o.length-t+a})}return{addClass:function(e,t,n){i(e),r(n)},removeClass:function(e,t,n){i(e),r(n)}}}ue.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",function(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(e,t){t.prepend('<div class="_md-css-variables"></div>')}}}).animation(".md-fling",e).animation(".md-scale",t).service("mdFabSpeedDialFlingAnimation",e).service("mdFabSpeedDialScaleAnimation",t)}(),ue.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",function(){return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(e,t,n){t.addClass("md-fab-toolbar"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}}}).animation(".md-fab-toolbar",Ee).service("mdFabToolbarAnimation",Ee),$e.$inject=["$mdUtil"],Se.$inject=["$mdUtil"],_e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],Ae.$inject=["$mdMedia"],ue.module("material.components.gridList",["material.core"]).directive("mdGridList",_e).directive("mdGridTile",Ae).directive("mdGridTileFooter",ke).directive("mdGridTileHeader",ke).factory("$mdGridLayout",Se),$e.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(ue.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},ue.module("material.components.icon",["material.core"]),ue.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",function(l,c,u,e){return{restrict:"E",link:function(e,t,n){c(t);var r=n.mdFontIcon,i=l.fontSet(n.mdFontSet);n.mdSvgIcon||n.mdSvgSrc||(n.mdFontIcon&&t.addClass("md-font "+n.mdFontIcon),t.addClass(i)),n.$observe("mdFontIcon",s),n.$observe("mdFontSet",s);t[0].getAttribute(n.$attr.mdSvgSrc);var o,a=n.$normalize(n.$attr.mdSvgIcon||n.$attr.mdSvgSrc||"");n.role||(u.expect(t,"role","img"),n.role="img");"img"!==n.role||n.ariaHidden||u.hasAriaLabel(t)||(n.alt?u.expect(t,"aria-label",n.alt):!u.parentHasAriaLabel(t,2)&&(o=n.mdFontIcon||n.mdSvgIcon||t.text())?u.expect(t,"aria-label",o):u.expect(t,"aria-hidden","true"));a&&n.$observe(a,function(e){t.empty(),e&&l(e).then(function(e){t.empty(),t.append(e)})});function s(){if(!n.mdSvgIcon&&!n.mdSvgSrc){n.mdFontIcon&&(t.removeClass(r),t.addClass(n.mdFontIcon),r=n.mdFontIcon);var e=l.fontSet(n.mdFontSet);i!==e&&(t.removeClass(i),t.addClass(e),i=e)}}}}}]),function(){a.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],ue.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",e);var o={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};function e(){}function r(e,t){this.url=e,this.viewBoxSize=t||o.defaultViewBoxSize}function a(a,o,s,l,u,t){var r={},c={},n=/[-\w@:%+.~#?&//=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%+.~#?&//=]*)?/i,d=/^data:image\/svg\+xml[\s*;\w\-=]*?(base64)?,(.*)$/i;return v.prototype={clone:function(){return this.element.cloneNode(!0)},prepare:function(){var e=this.config?this.config.viewBoxSize:a.defaultViewBoxSize;ue.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+e+" "+e,focusable:!1},function(e,t){this.element.setAttribute(t,e)},this)}},e.fontSet=function(t){if(ue.isUndefined(t)||!t||!t.length)return a.defaultFontSet;var n=t;return ue.forEach(a.fontSets,function(e){e.alias===t&&(n=e.fontSet||n)}),n},e;function e(e){return e=e||"",ue.isString(e)||(e=t.getTrustedUrl(e)),r[e]?s.when(i(r[e])):n.test(e)||d.test(e)?g(e).then(f(e)):(-1===e.indexOf(":")&&(e="$default:"+e),(a[e]?p:m)(e).then(f(e)))}function i(e){var n,r,i,o,a=e.clone(),s=u.nextUid(),l=["clip-path","color-profile","cursor","fill","filter","href","marker-start","marker-mid","marker-end","mask","stroke","style","vector-effect"],c=a.innerHTML===de;if(!isFinite(Number(s)))throw new Error("Unsafe and unexpected non-number result from $mdUtil.nextUid().");return n="_cache"+s,a.id&&(a.id+=n),ue.forEach(a.querySelectorAll("[id]"),function(t){for(r="",i=0;i<l.length;i++)r+="["+l[i]+'="url(#'+t.id+')"]',i+1<l.length&&(r+=", ");ue.forEach(a.querySelectorAll(r),function(e){h(t,e,c,s)}),ue.forEach(a.querySelectorAll("style"),function(e){h(t,e,c,s)}),ue.forEach(a.querySelectorAll("[*|href]:not([href])"),function(e){(o=e.getAttribute("xlink:href"))&&(o=o.replace("#"+t.id,"#"+t.id+n),e.setAttribute("xlink:href",o))}),t.id+=n}),a}function h(e,t,n,r){var i,o;if(!isFinite(Number(r)))throw new Error("Unsafe and unexpected non-number result for newUid.");o="_cache"+r,n?(i=(i=u.getOuterHTML(t)).replace("url(#"+e.id+")","url(#"+e.id+o+")"),t.textContent=ue.element(i)[0].innerHTML):t.outerHTML=t.outerHTML.replace("url(#"+e.id+")","url(#"+e.id+o+")")}function f(n){return function(e){var t;return r[n]=(t=e,ue.isDefined(t.element)&&ue.isDefined(t.config)?e:new v(e,a[n])),i(r[n])}}function p(e){var t=a[e];return g(t.url).then(function(e){return new v(e,t)})}function m(r){var e=r.substring(0,r.lastIndexOf(":"))||"$default",i=a[e];return i?g(i.url).then(function(e){var t=r.slice(r.lastIndexOf(":")+1),n=e.querySelector("#"+t);return n?new v(n,i):o(r)}):o(r);function o(e){var t="icon "+e+" not found";return l.warn(t),s.reject(t||e)}}function g(e){return d.test(e)?(t=e,n=d.exec(t),i=/base64/i.test(t)?j.atob(n[2]):n[2],s.when(ue.element(i)[0])):(r=e,s(function(t,n){o(r,!0).then(function(e){c[r]||(c[r]=ue.element("<div>").append(e)[0].querySelector("svg")),t(c[r])},function(e){var t=ue.isString(e)?e:e.message||e.data||e.statusText;l.warn(t),n(e)})}));var r,t,n,i}function v(e,t){if(e&&"symbol"===e.tagName.toLowerCase()){var n=e.getAttribute("viewBox");e=e.innerHTML?ue.element('<svg xmlns="http://www.w3.org/2000/svg">').html(e.innerHTML)[0]:ue.element('<svg xmlns="http://www.w3.org/2000/svg">').append(u.getInnerHTML(e))[0],n&&e.setAttribute("viewBox",n)}e&&"svg"!==e.tagName.toLowerCase()&&(e=ue.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e.cloneNode(!0))[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=t,this.prepare()}}e.prototype={icon:function(e,t,n){return-1==e.indexOf(":")&&(e="$default:"+e),o[e]=new r(t,n),this},iconSet:function(e,t,n){return o[e]=new r(t,n),this},defaultIconSet:function(e,t){var n="$default";return o[n]||(o[n]=new r(e,t)),o[n].viewBoxSize=t||o.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return o.defaultViewBoxSize=e,this},fontSet:function(e,t){return o.fontSets.push({alias:e,fontSet:t||e}),this},defaultFontSet:function(e){return o.defaultFontSet=e||"",this},defaultIconSize:function(e){return o.defaultIconSize=e,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(e,t,n,r,i){return a(o,e,t,n,r,i)}]}}(),function(){t.$inject=["$mdTheming","$parse","$$rAF"],n.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],r.$inject=["$animate","$mdUtil"],i.$inject=["$compile"],u.$inject=["$mdUtil"],o.$inject=["$document","$timeout"],d.$inject=["$$AnimateRunner","$animateCss","$mdUtil"],h.$inject=["$$AnimateRunner","$animateCss","$mdUtil"],f.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var e=ue.module("material.components.input",["material.core"]).directive("mdInputContainer",t).directive("label",function(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){!r||n.mdNoFloat||t.hasClass("md-container-ignore")||(r.label=t,e.$on("$destroy",function(){r.label=null}))}}}).directive("input",n).directive("textarea",n).directive("mdMaxlength",r).directive("placeholder",i).directive("ngMessages",function(){return{restrict:"EA",link:function(e,t,n,r){if(!r)return;t.toggleClass("md-input-messages-animation",!0),t.toggleClass("md-auto-hide",!0),"false"!=n.mdAutoHide&&!function(t){return c.some(function(e){return t[e]})}(n)||t.toggleClass("md-auto-hide",!1)},require:"^^?mdInputContainer"}}).directive("ngMessage",u).directive("ngMessageExp",u).directive("mdSelectOnFocus",o).animation(".md-input-invalid",d).animation(".md-input-messages-animation",h).animation(".md-input-message-animation",f);function t(i,o,a){n.$inject=["$scope","$element","$attrs","$animate"];var e=["INPUT","TEXTAREA","SELECT","MD-SELECT"],t=e.reduce(function(e,t){return e.concat(["md-icon ~ "+t,".md-icon ~ "+t])},[]).join(","),s=e.reduce(function(e,t){return e.concat([t+" ~ md-icon",t+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:function(e){var n=e[0].querySelector(t),r=e[0].querySelector(s);return function(e,t){i(t),(n||r)&&a(function(){var e=t[0].querySelector("md-icon")||t[0].querySelector(".md-icon");n&&e&&t.addClass("md-icon-left"),r&&e&&t.addClass("md-icon-right")})}},controller:n};function n(e,t,n,r){var i=this;i.isErrorGetter=n.mdIsError&&o(n.mdIsError),i.delegateClick=function(){i.input.focus()},i.element=t,i.setFocused=function(e){t.toggleClass("md-input-focused",!!e)},i.setHasValue=function(e){t.toggleClass("md-input-has-value",!!e)},i.setHasPlaceholder=function(e){t.toggleClass("md-input-has-placeholder",!!e)},i.setInvalid=function(e){e?r.addClass(t,"md-input-invalid"):r.removeClass(t,"md-input-invalid")},e.$watch(function(){return i.label&&i.input},function(e){e&&!i.label.attr("for")&&i.label.attr("for",i.input.attr("id"))})}}function n(g,v,y,b,w){return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:function(u,d,h,e){var f=e[0],p=!!e[1],m=e[1]||g.fakeNgModel(),t=e[2],n=ue.isDefined(h.readonly),r=g.parseAttributeBoolean(h.mdNoAsterisk),i=d[0].tagName.toLowerCase();if(!f)return;{if("hidden"===h.type)return void d.attr("aria-hidden","true");if(f.input){if(f.input[0].contains(d[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}}f.input=d,f.label&&h.$observe("required",function(e){f.label.toggleClass("md-required",e&&!r)});var o=ue.element('<div class="md-errors-spacer">');d.after(o);var a=ue.isString(h.placeholder)?h.placeholder.trim():"";f.label||a.length||y.expect(d,"aria-label");d.addClass("md-input"),d.attr("id")||d.attr("id","input_"+g.nextUid());"input"===i&&"number"===h.type&&h.min&&h.max&&!h.step?d.attr("step","any"):"textarea"===i&&function(){var t=!h.hasOwnProperty("mdNoAutogrow");if(function(){if(h.hasOwnProperty("mdNoResize"))return;var e=ue.element('<div class="md-resize-handle"></div>'),t=!1,n=0,r=f.element,i=w.register(e,"drag",{horizontal:!1});function o(e){e.preventDefault(),t=!0,e.clientY,n=parseFloat(d.css("height"))||d.prop("offsetHeight")}function a(e){t&&(e.preventDefault(),c(),r.addClass("md-input-resized"))}function s(e){t&&d.css("height",n+e.pointer.distanceY+"px")}function l(e){t&&(t=!1,r.removeClass("md-input-resized"))}d.wrap('<div class="md-resize-wrapper">').after(e),e.on("mousedown",o),r.on("$md.dragstart",a).on("$md.drag",s).on("$md.dragend",l),u.$on("$destroy",function(){e.off("mousedown",o).remove(),r.off("$md.dragstart",a).off("$md.drag",s).off("$md.dragend",l),i(),i=r=e=null})}(),!t)return;var o=h.hasOwnProperty("rows")?parseInt(h.rows):NaN,a=h.hasOwnProperty("maxRows")?parseInt(h.maxRows):NaN,n=u.$on("md-resize-textarea",r),s=null,l=d[0];b(function(){g.nextTick(r)},10,!1),d.on("input",r),p&&m.$formatters.push(i);o||d.attr("rows",1);function r(){d.attr("rows",1).css("height","auto").addClass("md-no-flex");var e,t,n=(e=l.offsetHeight,t=l.scrollHeight-e,e+Math.max(t,0));if(!s){var r=d[0].style.padding||"";s=d.css("padding",0).prop("offsetHeight"),d[0].style.padding=r}if(o&&s&&(n=Math.max(n,s*o)),a&&s){var i=s*a;i<n?(d.attr("md-no-autogrow",""),n=i):d.removeAttr("md-no-autogrow")}s&&d.attr("rows",Math.round(n/s)),d.css("height",n+"px").removeClass("md-no-flex")}function i(e){return g.nextTick(r),e}function c(){if(t&&(t=!1,ue.element(v).off("resize",r),n&&n(),d.attr("md-no-autogrow","").off("input",r),p)){var e=m.$formatters.indexOf(i);-1<e&&m.$formatters.splice(e,1)}}if(ue.element(v).on("resize",r),u.$on("$destroy",c),h.hasOwnProperty("mdDetectHidden")){var e=function(){var t=!1;return function(){var e=0===l.offsetHeight;!1==e&&!0===t&&r(),t=e}}();u.$watch(function(){return g.nextTick(e,!1),!0})}}();p||c();var s=f.isErrorGetter||function(){return m.$invalid&&(m.$touched||t&&t.$submitted)};u.$watch(s,f.setInvalid),h.ngValue&&h.$observe("value",c);m.$parsers.push(l),m.$formatters.push(l),d.on("input",c),n||d.on("focus",function(e){g.nextTick(function(){f.setFocused(!0)})}).on("blur",function(e){g.nextTick(function(){f.setFocused(!1),c()})});function l(e){return f.setHasValue(!m.$isEmpty(e)),e}function c(){f.setHasValue(0<d.val().length||(d[0].validity||{}).badInput)}u.$on("$destroy",function(){f.setFocused(!1),f.setHasValue(!1),f.input=null})}}}function r(f,p){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:function(e,r,t,n){var i=parseInt(t.mdMaxlength);isNaN(i)&&(i=-1);var o,a,s=n[0],l=n[1],c=!ue.isDefined(t.ngTrim)||p.parseAttributeBoolean(t.ngTrim),u="password"===t.type;function d(e){return(e=c&&!u&&ue.isString(e)?e.trim():e)!==de&&null!==e||(e=""),String(e).length}function h(){o&&o.parent()&&o.text(d(r.val())+" / "+i)}e.$watch(t.mdMaxlength,function(e){i=e}),s.$validators["md-maxlength"]=function(e,t){if(!ue.isNumber(i)||i<0)return!0;h();var n=r.val()||t;return n!==de&&null!==n||(n=""),n=c&&!u&&ue.isString(n)?n.trim():n,String(n).length<=i},s.$isEmpty=function(e){return 0===d(e)},p.nextTick(function(){a=ue.element(l.element[0].querySelector(".md-errors-spacer")),o=ue.element('<div class="md-char-counter">'),a.append(o),t.$observe("ngTrim",function(e){c=!ue.isDefined(e)||p.parseAttributeBoolean(e)}),e.$watch(t.mdMaxlength,function(e){ue.isNumber(e)&&0<e?(o.parent().length||f.enter(o,a),h()):f.leave(o)})})}}}function i(s){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:function(e,t,n,r){if(!r)return;var i=r.element.find("label"),o=r.element.attr("md-no-float");if(i&&i.length||""===o||e.$eval(o))return void r.setHasPlaceholder(!0);if("MD-SELECT"!==t[0].nodeName){var a=ue.element('<label ng-click="delegateClick()" tabindex="-1" aria-hidden="true">'+n.placeholder+"</label>");n.$set("placeholder",null),r.element.addClass("md-icon-float").prepend(a),s(a)(e)}}}}}function o(a,s){return{restrict:"A",link:function(e,t,n){if("INPUT"!==t[0].nodeName&&"TEXTAREA"!==t[0].nodeName)return;var r=!1;function i(){s(function(){a[0].activeElement===t[0]&&t[0].select(),r=!1},1,!(r=!0))}function o(e){r&&e.preventDefault()}t.on("focus",i).on("mouseup",o),e.$on("$destroy",function(){t.off("focus",i).off("mouseup",o)})}}}j._mdMocksIncluded&&e.service("$$mdInput",function(){return{messages:{getElement:y}}}).service("mdInputInvalidAnimation",d).service("mdInputMessagesAnimation",h).service("mdInputMessageAnimation",f);var a,s,l,c=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"];function u(t){return{restrict:"EA",compile:function(n){if(r(n))i(n);else if(function(){var e=n[0];for(;e=e.parentNode;)if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return 1;return}())return function(e,t){r(t)&&i(n)};function r(e){return t.getClosest(e,"md-input-container")}function i(e){e.toggleClass("md-input-message-animation",!0)}},priority:100}}function d(e,t,n){return b(e,t,n),{addClass:function(e,t,n){p(e,n)}}}function h(e,t,n){return b(e,t,n),{enter:function(e,t){p(e,t)},leave:function(e,t){m(e,t)},addClass:function(e,t,n){"ng-hide"==t?m(e,n):n()},removeClass:function(e,t,n){"ng-hide"==t?p(e,n):n()}}}function f(e,t,n,r){return b(e,t,n),{enter:function(e,t){g(e).start().done(t)},leave:function(e,t){v(e).start().done(t)}}}function p(e,t){var n,r=[],i=y(e),o=i.children();0!=i.length&&0!=o.length?(ue.forEach(o,function(e){n=g(ue.element(e)),r.push(n.start())}),a.all(r,t)):t()}function m(e,t){var n,r=[],i=y(e),o=i.children();0!=i.length&&0!=o.length?(ue.forEach(o,function(e){n=v(ue.element(e)),r.push(n.start())}),a.all(r,t)):t()}function g(e){var t=parseInt(j.getComputedStyle(e[0]).height),n=parseInt(j.getComputedStyle(e[0]).marginTop),r=y(e),i=e.controller("mdInputContainer").element;return-t<n||r.hasClass("md-auto-hide")&&!i.hasClass("md-input-invalid")?s(e,{}):s(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-t+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function v(e){var t=e[0].offsetHeight,n=j.getComputedStyle(e[0]);return 0===parseInt(n.opacity)?s(e,{}):s(e,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-t+"px"},duration:.3})}function y(e){return e.hasClass("md-input-messages-animation")?e:e.hasClass("md-input-message-animation")?ue.element(l.getClosest(e,function(e){return e.classList.contains("md-input-messages-animation")})):ue.element(e[0].querySelector(".md-input-messages-animation"))}function b(e,t,n){a=e,s=t,l=n}}(),Ne.$inject=["$scope","$element","$mdListInkRipple"],Te.$inject=["$mdTheming"],Me.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],ue.module("material.components.list",["material.core"]).controller("MdListController",Ne).directive("mdList",Te).directive("mdListItem",Me),ue.module("material.components.menu",["material.core","material.components.backdrop"]),Pe.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],ue.module("material.components.menu").controller("mdMenuCtrl",Pe),Re.$inject=["$mdUtil"],ue.module("material.components.menu").directive("mdMenu",Re),De.$inject=["$$interimElementProvider"],ue.module("material.components.menu").provider("$mdMenu",De),ue.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"]),function(){e.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],ue.module("material.components.menuBar").controller("MenuBarController",e);var c=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];function e(e,t,n,r,i,o,a,s){this.$element=n,this.$attrs=r,this.$mdConstant=i,this.$mdUtil=a,this.$document=o,this.$scope=e,this.$rootScope=t,this.$timeout=s;var l=this;ue.forEach(c,function(e){l[e]=ue.bind(l,l[e])})}e.prototype.init=function(){var o=this.$element,a=this.$mdUtil,e=this.$scope,s=this,t=[];o.on("keydown",this.handleKeyDown),this.parentToolbar=a.getClosest(o,"MD-TOOLBAR"),t.push(this.$rootScope.$on("$mdMenuOpen",function(e,t){-1!=s.getMenus().indexOf(t[0])&&(o[0].classList.add("md-open"),t[0].classList.add("md-open"),s.currentlyOpenMenu=t.controller("mdMenu"),s.currentlyOpenMenu.registerContainerProxy(s.handleKeyDown),s.enableOpenOnHover())})),t.push(this.$rootScope.$on("$mdMenuClose",function(e,t,n){var r=s.getMenus();if(-1!=r.indexOf(t[0])&&(o[0].classList.remove("md-open"),t[0].classList.remove("md-open")),o[0].contains(t[0])){for(var i=t[0];i&&-1==r.indexOf(i);)i=a.getClosest(i,"MD-MENU",!0);i&&(n.skipFocus||i.querySelector("button:not([disabled])").focus(),s.currentlyOpenMenu=de,s.disableOpenOnHover(),s.setKeyboardMode(!0))}})),e.$on("$destroy",function(){for(s.disableOpenOnHover();t.length;)t.shift()()}),this.setKeyboardMode(!0)},e.prototype.setKeyboardMode=function(e){e?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},e.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var e=this;e.openOnHoverEnabled=!0,e.parentToolbar&&(e.parentToolbar.classList.add("md-has-open-menu"),e.$mdUtil.nextTick(function(){ue.element(e.parentToolbar).on("click",e.handleParentClick)},!1)),ue.element(e.getMenus()).on("mouseenter",e.handleMenuHover)}},e.prototype.handleMenuHover=function(e){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(e)},e.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),ue.element(this.parentToolbar).off("click",this.handleParentClick)),ue.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},e.prototype.scheduleOpenHoveredMenu=function(e){var t=ue.element(e.currentTarget).controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(t)},e.prototype.scheduleOpenMenu=function(e){var t=this,n=this.$timeout;e!=t.currentlyOpenMenu&&(n.cancel(t.pendingMenuOpen),t.pendingMenuOpen=n(function(){t.pendingMenuOpen=de,t.currentlyOpenMenu&&t.currentlyOpenMenu.close(!0,{closeAll:!0}),e.open()},200,!1))},e.prototype.handleKeyDown=function(e){var t,n,r,i=this.$mdConstant.KEY_CODE,o=this.currentlyOpenMenu,a=o&&o.isOpen;switch(this.setKeyboardMode(!0),e.keyCode){case i.DOWN_ARROW:o?o.focusMenuContainer():this.openFocusedMenu(),t=!0;break;case i.UP_ARROW:o&&o.close(),t=!0;break;case i.LEFT_ARROW:n=this.focusMenu(-1),a&&(r=ue.element(n).controller("mdMenu"),this.scheduleOpenMenu(r)),t=!0;break;case i.RIGHT_ARROW:n=this.focusMenu(1),a&&(r=ue.element(n).controller("mdMenu"),this.scheduleOpenMenu(r)),t=!0}t&&(e&&e.preventDefault&&e.preventDefault(),e&&e.stopImmediatePropagation&&e.stopImmediatePropagation())},e.prototype.focusMenu=function(e){var t=this.getMenus(),n=this.getFocusedMenuIndex();-1==n&&(n=this.getOpenMenuIndex());var r=!1;if(-1==n?r=!(n=0):(e<0&&0<n||0<e&&n<t.length-e)&&(n+=e,r=!0),r)return t[n].querySelector("button").focus(),t[n]},e.prototype.openFocusedMenu=function(){var e=this.getFocusedMenu();e&&ue.element(e).controller("mdMenu").open()},e.prototype.getMenus=function(){var e=this.$element;return this.$mdUtil.nodesToArray(e[0].children).filter(function(e){return"MD-MENU"==e.nodeName})},e.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},e.prototype.getFocusedMenuIndex=function(){var e=this.$mdUtil.getClosest(this.$document[0].activeElement,"MD-MENU");return e?this.getMenus().indexOf(e):-1},e.prototype.getOpenMenuIndex=function(){for(var e=this.getMenus(),t=0;t<e.length;++t)if(e[t].classList.contains("md-open"))return t;return-1},e.prototype.handleParentClick=function(e){var t=this.querySelector("md-menu.md-open");t&&!t.contains(e.target)&&ue.element(t).controller("mdMenu").close(!0,{closeAll:!0})}}(),Oe.$inject=["$mdUtil","$mdTheming"],ue.module("material.components.menuBar").directive("mdMenuBar",Oe),ue.module("material.components.menuBar").directive("mdMenuDivider",function(){return{restrict:"E",compile:function(e,t){t.role||e[0].setAttribute("role","separator")}}}),Ie.$inject=["$scope","$element","$attrs"],ue.module("material.components.menuBar").controller("MenuItemController",Ie),Ie.prototype.init=function(e){var t=this.$element,n=this.$attrs;this.ngModel=e,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=t[0].children[0],this.buttonEl=t[0].children[1],e&&this.initClickListeners())},Ie.prototype.clearNgAria=function(){var t=this.$element[0];ue.forEach(["role","tabindex","aria-invalid","aria-checked"],function(e){t.removeAttribute(e)})},Ie.prototype.initClickListeners=function(){var e=this,t=this.ngModel,n=this.$scope,r=this.$attrs,i=(this.$element,this.mode);this.handleClick=ue.bind(this,this.handleClick);var o=this.iconEl,a=ue.element(this.buttonEl),s=this.handleClick;function l(e){e?a.off("click",s):a.on("click",s)}r.$observe("disabled",l),l(r.disabled),t.$render=function(){e.clearNgAria(),!function(){{if("radio"!=i)return t.$modelValue;var e=r.ngValue?n.$eval(r.ngValue):r.value;return t.$modelValue==e}}()?(o.style.display="none",a.attr("aria-checked","false")):(o.style.display="",a.attr("aria-checked","true"))},n.$$postDigest(t.$render)},Ie.prototype.handleClick=function(e){var t,n=this.mode,r=this.ngModel,i=this.$attrs;"checkbox"==n?t=!r.$modelValue:"radio"==n&&(t=i.ngValue?this.$scope.$eval(i.ngValue):i.value),r.$setViewValue(t),r.$render()},Le.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],ue.module("material.components.menuBar").directive("mdMenuItem",Le),Fe.$inject=["$mdAria","$mdTheming"],He.$inject=["$element","$scope","$timeout","$mdConstant"],je.$inject=["$mdAria","$$rAF","$mdUtil","$window"],Be.$inject=["$element"],ue.module("material.components.navBar",["material.core"]).controller("MdNavBarController",He).directive("mdNavBar",Fe).controller("MdNavItemController",Be).directive("mdNavItem",je),He.prototype._initTabs=function(){this._inkbar=ue.element(this._navBarEl.querySelector("md-nav-ink-bar"));var n=this;this._$timeout(function(){n._updateTabs(n.mdSelectedNavItem,de)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(e,t){n._$timeout(function(){n._updateTabs(e,t)})})},He.prototype._updateTabs=function(e,t){var n=this,r=this._getTabs(),i=e===t;if(r){var o=-1,a=-1,s=this._getTabByName(e),l=this._getTabByName(t);l&&(l.setSelected(!1),o=r.indexOf(l)),s&&(s.setSelected(!0),a=r.indexOf(s)),this._$timeout(function(){n._updateInkBarStyles(s,a,o),s&&l&&!i&&n._moveFocus(l,s)})}},He.prototype._updateInkBarStyles=function(e,t,n){if(this._inkbar.toggleClass("_md-left",t<n).toggleClass("_md-right",n<t),this._inkbar.css({display:t<0?"none":""}),e){var r=e.getButtonEl(),i=r.offsetLeft;this._inkbar.css({left:i+"px",width:r.offsetWidth+"px"})}},He.prototype._getTabs=function(){var e=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(e){return ue.element(e).controller("mdNavItem")});return e.indexOf(de)?e:null},He.prototype._getTabByName=function(t){return this._findTab(function(e){return e.getName()===t})},He.prototype._getSelectedTab=function(){return this._findTab(function(e){return e.isSelected()})},He.prototype.getFocusedTab=function(){return this._findTab(function(e){return e.hasFocus()})},He.prototype._findTab=function(e,t){var n=this._getTabs();t!==de&&null!==t||(t=0);for(var r=t;r<n.length;r++)if(e(n[r]))return n[r];return null},He.prototype._findTabReverse=function(e,t){var n=this._getTabs();t!==de&&null!==t||(t=n.length-1);for(var r=t;0<=r;r--)if(e(n[r]))return n[r];return null},He.prototype.onFocus=function(){var e=this._getSelectedTab();e&&e.setFocused(!0)},He.prototype._moveFocus=function(e,t){e.setFocused(!1),t.setFocused(!0)},He.prototype._focusFirstTab=function(){if(this._getTabs()){var e=this._findTab(function(e){return e._isEnabled()});e&&this._moveFocus(this.getFocusedTab(),e)}},He.prototype._focusLastTab=function(){if(this._getTabs()){var e=this._findTabReverse(function(e){return e._isEnabled()});e&&this._moveFocus(this.getFocusedTab(),e)}},He.prototype._focusNextTab=function(e){if(this._getTabs()){var t=this._findTab(function(e){return e._isEnabled()},e+1);t?this._moveFocus(this.getFocusedTab(),t):this._focusFirstTab()}},He.prototype._focusPreviousTab=function(e){if(this._getTabs()){var t=this._findTabReverse(function(e){return e._isEnabled()},e-1);t?this._moveFocus(this.getFocusedTab(),t):this._focusLastTab()}},He.prototype.onKeydown=function(e){var t=this._$mdConstant.KEY_CODE,n=this._getTabs(),r=this.getFocusedTab();if(r&&n){var i=n.indexOf(r);switch(e.keyCode){case t.UP_ARROW:case t.LEFT_ARROW:e.preventDefault(),this._focusPreviousTab(i);break;case t.DOWN_ARROW:case t.RIGHT_ARROW:e.preventDefault(),this._focusNextTab(i);break;case t.SPACE:case t.ENTER:this._$timeout(function(){r.getButtonEl().click()});break;case t.HOME:e.preventDefault(),this._focusFirstTab();break;case t.END:e.preventDefault(),this._focusLastTab()}}},Be.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},Be.prototype.getName=function(){return this.name},Be.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},Be.prototype.setSelected=function(e){(this._selected=e)?this.getButtonEl().setAttribute("tabindex","0"):this.getButtonEl().setAttribute("tabindex","-1")},Be.prototype.isSelected=function(){return this._selected},Be.prototype.setFocused=function(e){(this._focused=e)&&this.getButtonEl().focus()},Be.prototype.hasFocus=function(){return this._focused},Be.prototype._isEnabled=function(){return!this._$element.attr("disabled")},function(){s.$inject=["presets","$rootElement","$rootScope","$injector","$window"],ue.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",function(){return{definePreset:e,getAllPresets:t,clearPresets:r,$get:["$rootElement","$rootScope","$injector","$window",function(e,t,n,r){return new s(i,e,t,n,r)}]}});var o=80,a="_md-panel-hidden",n=ue.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),i={};function e(e,t){if(!e||!t)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(i.hasOwnProperty(e))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete t.id,delete t.position,delete t.animation,i[e]=t}function t(){return ue.copy(i)}function r(){i={}}function s(e,t,n,r,i){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:ue.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:o},this._config={},this._presets=e,this._$rootElement=t,this._$rootScope=n,this._$injector=r,this._$window=i,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=c.animation,this.xPosition=p.xPosition,this.yPosition=p.yPosition,this.interceptorTypes=l.interceptorTypes,this.closeReasons=l.closeReasons,this.absPosition=p.absPosition}function l(e,t){this._$q=t.get("$q"),this._$mdCompiler=t.get("$mdCompiler"),this._$mdConstant=t.get("$mdConstant"),this._$mdUtil=t.get("$mdUtil"),this._$mdTheming=t.get("$mdTheming"),this._$rootScope=t.get("$rootScope"),this._$animate=t.get("$animate"),this._$mdPanel=t.get("$mdPanel"),this._$log=t.get("$log"),this._$window=t.get("$window"),this._$$rAF=t.get("$$rAF"),this.id=e.id,this.config=e,this.panelContainer,this.panelEl,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap,this._bottomFocusTrap,this._backdropRef,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function p(e){this._$window=e.get("$window"),this._isRTL="rtl"===e.get("$mdUtil").bidi(),this._$mdConstant=e.get("$mdConstant"),this._absolute=!1,this._relativeToEl,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition}function c(e){this._$mdUtil=e.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function u(e){var t=ue.isString(e)?document.querySelector(e):e;return ue.element(t)}function d(e){return ue.isNumber(e)?e+"px":e}s.prototype.create=function(e,t){if("string"==typeof e?e=this._getPresetByName(e):"object"!=typeof e||!ue.isUndefined(t)&&t||(t=e,e={}),e=e||{},t=t||{},ue.isDefined(t.id)&&this._trackedPanels[t.id]){var n=this._trackedPanels[t.id];return ue.extend(n.config,t),n}this._config=ue.extend({id:t.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,t,e);var r=new l(this._config,this._$injector);return this._trackedPanels[this._config.id]=r,this._config.groupName&&(ue.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),ue.forEach(this._config.groupName,function(e){r.addToGroup(e)})),this._config.scope.$on("$destroy",ue.bind(r,r.detach)),r},s.prototype.open=function(e,t){var n=this.create(e,t);return n.open().then(function(){return n})},s.prototype._getPresetByName=function(e){if(!this._presets[e])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[e]},s.prototype.newPanelPosition=function(){return new p(this._$injector)},s.prototype.newPanelAnimation=function(){return new c(this._$injector)},s.prototype.newPanelGroup=function(e,t){if(!this._groups[e]){var n={panels:[],openPanels:[],maxOpen:0<(t=t||{}).maxOpen?t.maxOpen:1/0};this._groups[e]=n}return this._groups[e]},s.prototype.setGroupMaxOpen=function(e,t){if(!this._groups[e])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[e].maxOpen=t},s.prototype._openCountExceedsMaxOpen=function(e){if(this._groups[e]){var t=this._groups[e];return 0<t.maxOpen&&t.openPanels.length>t.maxOpen}return!1},s.prototype._closeFirstOpenedPanel=function(e){this._groups[e].openPanels[0].close()},s.prototype._wrapTemplate=function(e){return'<div class="md-panel-outer-wrapper">  <div class="md-panel _md-panel-offscreen">'+(e||"")+"</div></div>"},s.prototype._wrapContentElement=function(e){var t=ue.element('<div class="md-panel-outer-wrapper">');return e.addClass("md-panel _md-panel-offscreen"),t.append(e),t},l.interceptorTypes={CLOSE:"onClose"},l.prototype.open=function(){var i=this;return this._$q(function(e,t){var n=i._done(e,i),r=i._simpleBind(i.show,i);i.attach().then(r).then(function(){i.config.groupName&&ue.forEach(i.config.groupName,function(e){i._$mdPanel._openCountExceedsMaxOpen(e)&&i._$mdPanel._closeFirstOpenedPanel(e)})}).then(n).catch(t)})},l.prototype.close=function(o){var a=this;return this._$q(function(r,i){a._callInterceptors(l.interceptorTypes.CLOSE).then(function(){var e=a._done(r,a),t=a._simpleBind(a.detach,a),n=a.config.onCloseSuccess||ue.noop;n=ue.bind(a,n,a,o),a.hide().then(t).then(e).then(n).catch(i)},i)})},l.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var i=this;return this._$q(function(e,t){var n=i._done(e,i),r=i.config.onDomAdded||ue.noop;i._$q.all([i._createBackdrop(),i._createPanel().then(function(e){return i.isAttached=!0,i._addEventListeners(),e}).catch(t)]).then(r).then(n).catch(t)})},l.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var r=this,i=r.config.onDomRemoved||ue.noop;return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(e,t){var n=r._done(e,r);r._$q.all([(r._removeEventListeners(),r._topFocusTrap&&r._topFocusTrap.parentNode&&r._topFocusTrap.parentNode.removeChild(r._topFocusTrap),r._bottomFocusTrap&&r._bottomFocusTrap.parentNode&&r._bottomFocusTrap.parentNode.removeChild(r._bottomFocusTrap),r._restoreCache.classes&&(r.panelEl[0].className=r._restoreCache.classes),r.panelEl[0].style.cssText=r._restoreCache.styles||"",r._compilerCleanup(),r.panelContainer.remove(),r.isAttached=!1,r._$q.when(r)),!r._backdropRef||r._backdropRef.detach()]).then(i).then(n).catch(t)})},l.prototype.destroy=function(){var t=this;this.config.groupName&&ue.forEach(this.config.groupName,function(e){t.removeFromGroup(e)}),this.config.scope.$destroy(),this.config.locals=null,this.config.onDomAdded=null,this.config.onDomRemoved=null,this.config.onRemoving=null,this.config.onOpenComplete=null,this._interceptors=null},l.prototype.show=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass(a))return this._$q.when(this);var i=this;return this._$q(function(e,t){var n=i._done(e,i),r=i.config.onOpenComplete||ue.noop;i._$q.all([i._backdropRef?i._backdropRef.show():i,(i.panelContainer.removeClass(a),i._animateOpen().then(function(){i._focusOnOpen()},t))]).then(r).then(function(){i.config.groupName&&ue.forEach(i.config.groupName,function(e){i._$mdPanel._groups[e].openPanels.push(i)})}).then(n).catch(t)})},l.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(e,t){t("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass(a))return this._$q.when(this);var i=this;return this._$q(function(e,t){var n=i._done(e,i),r=i.config.onRemoving||ue.noop;i._$q.all([i._backdropRef?i._backdropRef.hide():i,i._animateClose().then(r).then(function(){i.panelContainer.addClass(a)}).then(function(){var t;i.config.groupName&&ue.forEach(i.config.groupName,function(e){e=i._$mdPanel._groups[e],-1<(t=e.openPanels.indexOf(i))&&e.openPanels.splice(t,1)})}).then(function(){var e=i.config.origin;e&&u(e).focus()}).catch(t)]).then(n,t)})},l.prototype.addClass=function(e,t){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t||this.panelContainer.hasClass(e)?t&&!this.panelEl.hasClass(e)&&this.panelEl.addClass(e):this.panelContainer.addClass(e)},l.prototype.removeClass=function(e,t){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!t&&this.panelContainer.hasClass(e)?this.panelContainer.removeClass(e):t&&this.panelEl.hasClass(e)&&this.panelEl.removeClass(e)},l.prototype.toggleClass=function(e,t){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");t?this.panelEl.toggleClass(e):this.panelContainer.toggleClass(e)},l.prototype._compile=function(){var r=this;return r._$mdCompiler.compile(r.config).then(function(e){var t=r.config;if(t.contentElement){var n=e.element;r._restoreCache.styles=n[0].style.cssText,r._restoreCache.classes=n[0].className,r.panelContainer=r._$mdPanel._wrapContentElement(n),r.panelEl=n}else r.panelContainer=e.link(t.scope),r.panelEl=ue.element(r.panelContainer[0].querySelector(".md-panel"));return r._compilerCleanup=e.cleanup,u(r.config.attachTo).append(r.panelContainer),r})},l.prototype._createPanel=function(){var n=this;return this._$q(function(e,t){n.config.locals||(n.config.locals={}),(n.config.locals.mdPanelRef=n)._compile().then(function(){n.config.disableParentScroll&&(n._restoreScroll=n._$mdUtil.disableScrollAround(null,n.panelContainer,{disableScrollMask:!0})),n.config.panelClass&&n.panelEl.addClass(n.config.panelClass),n.config.propagateContainerEvents&&(n.panelContainer.css("pointer-events","none"),n.panelEl.css("pointer-events","all")),n._$animate.pin&&n._$animate.pin(n.panelContainer,u(n.config.attachTo)),n._configureTrapFocus(),n._addStyles().then(function(){e(n)},t)},t)})},l.prototype._addStyles=function(){var n=this;return this._$q(function(e){n.panelContainer.css("z-index",n.config.zIndex),n.panelEl.css("z-index",n.config.zIndex+1);function t(){n._setTheming(),n.panelEl.removeClass("_md-panel-offscreen"),n.panelContainer.addClass(a),e(n)}if(n.config.fullscreen)return n.panelEl.addClass("_md-panel-fullscreen"),void t();n.config.position?n._$rootScope.$$postDigest(function(){n._updatePosition(!0),n._setTheming(),e(n)}):t()})},l.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},l.prototype.updatePosition=function(e){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=e,this._updatePosition()},l.prototype._updatePosition=function(e){var t=this.config.position;t&&(t._setPanelPosition(this.panelEl),e&&(this.panelEl.removeClass("_md-panel-offscreen"),this.panelContainer.addClass(a)),this.panelEl.css(p.absPosition.TOP,t.getTop()),this.panelEl.css(p.absPosition.BOTTOM,t.getBottom()),this.panelEl.css(p.absPosition.LEFT,t.getLeft()),this.panelEl.css(p.absPosition.RIGHT,t.getRight()))},l.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var e=this;this._$rootScope.$$postDigest(function(){(e._$mdUtil.findFocusTarget(e.panelEl)||e.panelEl).focus()})}},l.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var e=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&e.duration(this.config.animation._rawDuration);var t={animation:e,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(t)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},l.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},l.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(e){e()}),this._removeListeners=[]},l.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var e=u(this.config.attachTo),t=this,n=function(e){e.keyCode===t._$mdConstant.KEY_CODE.ESCAPE&&(e.stopPropagation(),e.preventDefault(),t.close(l.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),e.on("keydown",n),this._removeListeners.push(function(){t.panelContainer.off("keydown",n),e.off("keydown",n)})}},l.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var t,n=this.config.propagateContainerEvents?ue.element(document.body):this.panelContainer,e=function(e){t=e.target},r=this,i=function(e){r.config.propagateContainerEvents?t===r.panelEl[0]||r.panelEl[0].contains(t)||r.close():t===n[0]&&e.target===n[0]&&(e.stopPropagation(),e.preventDefault(),r.close(l.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",e),n.on("mouseup",i),this._removeListeners.push(function(){n.off("mousedown",e),n.off("mouseup",i)})}},l.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var e=ue.bind(this,this._updatePosition),t=this._$$rAF.throttle(e),n=this,r=function(){t()};this._$window.addEventListener("scroll",r,!0),this._removeListeners.push(function(){n._$window.removeEventListener("scroll",r,!0)})}},l.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var e=this.panelEl;this._topFocusTrap=n.clone()[0],this._bottomFocusTrap=n.clone()[0];var t=function(){e.focus()};this._topFocusTrap.addEventListener("focus",t),this._bottomFocusTrap.addEventListener("focus",t),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",t),this._bottomFocusTrap.removeEventListener("focus",t)},this)),e[0].parentNode.insertBefore(this._topFocusTrap,e[0]),e.after(this._bottomFocusTrap)}},l.prototype.updateAnimation=function(e){this.config.animation=e,this._backdropRef&&this._backdropRef.config.animation.duration(e._rawDuration)},l.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var n=this.config.animation;if(!n)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var r=this;return this._$q(function(e){var t=r._done(e,r);n.animateOpen(r.panelEl).then(t,function(){r._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),t()})})},l.prototype._animateClose=function(){var n=this.config.animation;if(!n)return this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this);var r=this;return this._$q(function(e){function t(){r.panelContainer.removeClass("md-panel-is-showing"),e(r)}n.animateClose(r.panelEl).then(t,function(){r._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),t()})})},l.prototype.registerInterceptor=function(e,t){var n=null;if(ue.isString(e)?ue.isFunction(t)||(n="Interceptor callback must be a function, instead got "+typeof t):n="Interceptor type must be a string, instead got "+typeof e,n)throw new Error("MdPanel: "+n);var r=this._interceptors[e]=this._interceptors[e]||[];return-1===r.indexOf(t)&&r.push(t),this},l.prototype.removeInterceptor=function(e,t){var n=this._interceptors[e]?this._interceptors[e].indexOf(t):-1;return-1<n&&this._interceptors[e].splice(n,1),this},l.prototype.removeAllInterceptors=function(e){return e?this._interceptors[e]=[]:this._interceptors=Object.create(null),this},l.prototype._callInterceptors=function(e){var r=this,i=r._$q;return(r._interceptors&&r._interceptors[e]||[]).reduceRight(function(e,t){var n=t&&ue.isFunction(t.then)?t:null;return e.then(function(){if(!n)try{n=t(r)}catch(e){n=i.reject(e)}return n})},i.resolve(r))},l.prototype._simpleBind=function(t,n){return function(e){return t.apply(n,e)}},l.prototype._done=function(e,t){return function(){e(t)}},l.prototype.addToGroup=function(e){this._$mdPanel._groups[e]||this._$mdPanel.newPanelGroup(e);var t=this._$mdPanel._groups[e];t.panels.indexOf(this)<0&&t.panels.push(this)},l.prototype.removeFromGroup=function(e){if(!this._$mdPanel._groups[e])throw new Error("mdPanel: The group "+e+" does not exist.");var t=this._$mdPanel._groups[e],n=t.panels.indexOf(this);-1<n&&t.panels.splice(n,1)},l.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},p.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},p.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},p.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},p.viewportMargin=8,p.prototype.absolute=function(){return this._absolute=!0,this},p.prototype._setPosition=function(e,t){if(e===p.absPosition.RIGHT||e===p.absPosition.LEFT)this._left=this._right="";else{if(e!==p.absPosition.BOTTOM&&e!==p.absPosition.TOP){var n=Object.keys(p.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+n+".")}this._top=this._bottom=""}return this["_"+e]=ue.isString(t)?t:"0",this},p.prototype.top=function(e){return this._setPosition(p.absPosition.TOP,e)},p.prototype.bottom=function(e){return this._setPosition(p.absPosition.BOTTOM,e)},p.prototype.start=function(e){var t=this._isRTL?p.absPosition.RIGHT:p.absPosition.LEFT;return this._setPosition(t,e)},p.prototype.end=function(e){var t=this._isRTL?p.absPosition.LEFT:p.absPosition.RIGHT;return this._setPosition(t,e)},p.prototype.left=function(e){return this._setPosition(p.absPosition.LEFT,e)},p.prototype.right=function(e){return this._setPosition(p.absPosition.RIGHT,e)},p.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},p.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},p.prototype.center=function(){return this.centerHorizontally().centerVertically()},p.prototype.relativeTo=function(e){return this._absolute=!1,this._relativeToEl=u(e),this},p.prototype.addPanelPosition=function(e,t){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return this._validateXPosition(e),this._validateYPosition(t),this._positions.push({x:e,y:t}),this},p.prototype._validateYPosition=function(e){if(null!=e){for(var t,n=Object.keys(p.yPosition),r=[],i=0;t=n[i];i++){var o=p.yPosition[t];if(r.push(o),o===e)return}throw new Error("mdPanel: Panel y position only accepts the following values:\n"+r.join(" | "))}},p.prototype._validateXPosition=function(e){if(null!=e){for(var t,n=Object.keys(p.xPosition),r=[],i=0;t=n[i];i++){var o=p.xPosition[t];if(r.push(o),o===e)return}throw new Error("mdPanel: Panel x Position only accepts the following values:\n"+r.join(" | "))}},p.prototype.withOffsetX=function(e){return this._translateX.push(d(e)),this},p.prototype.withOffsetY=function(e){return this._translateY.push(d(e)),this},p.prototype.getTop=function(){return this._top},p.prototype.getBottom=function(){return this._bottom},p.prototype.getLeft=function(){return this._left},p.prototype.getRight=function(){return this._right},p.prototype.getTransform=function(){return(this._reduceTranslateValues("translateX",this._translateX)+" "+this._reduceTranslateValues("translateY",this._translateY)).trim()},p.prototype._setTransform=function(e){return e.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},p.prototype._isOnscreen=function(e){var t=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var r=function(e,t){var n=getComputedStyle(e[0]||e)[t],r=n.indexOf("("),i=n.lastIndexOf(")"),o={x:0,y:0};if(-1<r&&-1<i){var a=n.substring(r+1,i).split(", ").slice(-2);o.x=parseInt(a[0]),o.y=parseInt(a[1])}return o}(e,this._$mdConstant.CSS.TRANSFORM);t+=r.x,n+=r.y}var i=t+e[0].offsetWidth,o=n+e[0].offsetHeight;return 0<=t&&0<=n&&o<=this._$window.innerHeight&&i<=this._$window.innerWidth},p.prototype.getActualPosition=function(){return this._actualPosition},p.prototype._reduceTranslateValues=function(n,e){return e.map(function(e){var t=ue.isFunction(e)?d(e(this)):e;return n+"("+t+")"},this).join(" ")},p.prototype._setPanelPosition=function(e){if(e.removeClass("_md-panel-position-adjusted"),this._absolute)this._setTransform(e);else{if(this._actualPosition)return this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),void this._constrainToViewport(e);for(var t=0;t<this._positions.length;t++)if(this._actualPosition=this._positions[t],this._calculatePanelPosition(e,this._actualPosition),this._setTransform(e),this._isOnscreen(e))return;this._constrainToViewport(e)}},p.prototype._constrainToViewport=function(e){var t=p.viewportMargin,n=this._top,r=this._left;if(this.getTop()){var i=parseInt(this.getTop()),o=e[0].offsetHeight+i,a=this._$window.innerHeight;i<t?this._top=t+"px":a<o&&(this._top=i-(o-a+t)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),l=e[0].offsetWidth+s,c=this._$window.innerWidth;s<t?this._left=t+"px":c<l&&(this._left=s-(l-c+t)+"px")}e.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==r)},p.prototype._reverseXPosition=function(e){if(e===p.xPosition.CENTER)return e;return-1<e.indexOf("start")?e.replace("start","end"):e.replace("end","start")},p.prototype._bidi=function(e){return this._isRTL?this._reverseXPosition(e):e},p.prototype._calculatePanelPosition=function(e,t){var n=e[0].getBoundingClientRect(),r=Math.max(n.width,e[0].clientWidth),i=Math.max(n.height,e[0].clientHeight),o=this._relativeToEl[0].getBoundingClientRect(),a=o.left,s=o.right,l=o.width;switch(this._bidi(t.x)){case p.xPosition.OFFSET_START:this._left=a-r+"px";break;case p.xPosition.ALIGN_END:this._left=s-r+"px";break;case p.xPosition.CENTER:var c=a+.5*l-.5*r;this._left=c+"px";break;case p.xPosition.ALIGN_START:this._left=a+"px";break;case p.xPosition.OFFSET_END:this._left=s+"px"}var u=o.top,d=o.bottom,h=o.height;switch(t.y){case p.yPosition.ABOVE:this._top=u-i+"px";break;case p.yPosition.ALIGN_BOTTOMS:this._top=d-i+"px";break;case p.yPosition.CENTER:var f=u+.5*h-.5*i;this._top=f+"px";break;case p.yPosition.ALIGN_TOPS:this._top=u+"px";break;case p.yPosition.BELOW:this._top=d+"px"}},c.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},c.prototype.openFrom=function(e){return e=e.target?e.target:e,this._openFrom=this._getPanelAnimationTarget(e),this._closeTo||(this._closeTo=this._openFrom),this},c.prototype.closeTo=function(e){return this._closeTo=this._getPanelAnimationTarget(e),this},c.prototype.duration=function(e){return e&&(ue.isNumber(e)?this._openDuration=this._closeDuration=t(e):ue.isObject(e)&&(this._openDuration=t(e.open),this._closeDuration=t(e.close))),this._rawDuration=e,this;function t(e){if(ue.isNumber(e))return e/1e3}},c.prototype._getPanelAnimationTarget=function(e){return ue.isDefined(e.top)||ue.isDefined(e.left)?{element:de,bounds:{top:e.top||0,left:e.left||0}}:this._getBoundingClientRect(u(e))},c.prototype.withAnimation=function(e){return this._animationClass=e,this},c.prototype.animateOpen=function(e){var t=this._$mdUtil.dom.animator;this._fixBounds(e);var n={},r=e[0].style.transform||"",i=t.toTransformCss(r),o=t.toTransformCss(r);switch(this._animationClass){case c.animation.SLIDE:e.css("opacity","1"),n={transitionInClass:"_md-panel-animate-enter"};var a=t.calculateSlideToOrigin(e,this._openFrom)||"";i=t.toTransformCss(a+" "+r);break;case c.animation.SCALE:n={transitionInClass:"_md-panel-animate-enter"};var s=t.calculateZoomToOrigin(e,this._openFrom)||"";i=t.toTransformCss(s+" "+r);break;case c.animation.FADE:n={transitionInClass:"_md-panel-animate-enter"};break;default:n=ue.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return n.duration=this._openDuration,t.translate3d(e,i,o,n)},c.prototype.animateClose=function(e){var t=this._$mdUtil.dom.animator,n={},r=e[0].style.transform||"",i=t.toTransformCss(r),o=t.toTransformCss(r);switch(this._animationClass){case c.animation.SLIDE:e.css("opacity","1"),n={transitionInClass:"_md-panel-animate-leave"};var a=t.calculateSlideToOrigin(e,this._closeTo)||"";o=t.toTransformCss(a+" "+r);break;case c.animation.SCALE:n={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave"};var s=t.calculateZoomToOrigin(e,this._closeTo)||"";o=t.toTransformCss(s+" "+r);break;case c.animation.FADE:n={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave"};break;default:n=ue.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return n.duration=this._closeDuration,t.translate3d(e,i,o,n)},c.prototype._fixBounds=function(e){var t=e[0].offsetWidth,n=e[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=t),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=t)},c.prototype._getBoundingClientRect=function(e){if(e instanceof ue.element)return{element:e,bounds:e[0].getBoundingClientRect()}}}(),ue.module("material.components.progressCircular",["material.core"]),Ue.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],ue.module("material.components.progressCircular").directive("mdProgressCircular",Ue),ue.module("material.components.progressCircular").provider("$mdProgressCircular",function(){var t={progressSize:50,strokeWidth:10,duration:100,easeFn:e,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:n,easingPresets:{linearEase:e,materialEase:n}};return{configure:function(e){return t=ue.extend(t,e||{})},$get:function(){return t}};function e(e,t,n,r){return n*e/r+t}function n(e,t,n,r){var i=(e/=r)*e,o=i*e;return t+n*(6*o*i+-15*i*i+10*o)}}),qe.$inject=["$mdTheming","$mdUtil","$log"],ue.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",qe),ze.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],Ve.$inject=["$mdAria","$mdUtil","$mdTheming"],ue.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",ze).directive("mdRadioButton",Ve),function(){e.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],t.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],n.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],r.$inject=["$$interimElementProvider"];var F=8,m=0,u=ue.element('<div class="md-container"><div class="md-icon"></div></div>');function e(k,T,M,N,P,R,D,e){var t=M.KEY_CODE;t.SPACE,t.ENTER,t.UP_ARROW,t.DOWN_ARROW;return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:function(e,t){var n=ue.element("<md-select-value><span></span></md-select-value>");n.append('<span class="md-select-icon" aria-hidden="true"></span>'),n.addClass("md-select-value"),n[0].hasAttribute("id")||n.attr("id","select_value_label_"+T.nextUid());var r=e.find("md-content");r.length||e.append(ue.element("<md-content>").append(e.contents()));r.attr("role","presentation"),t.mdOnOpen&&(e.find("md-content").prepend(ue.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),e.find("md-option").attr("ng-show","$$loadingAsyncDone"));if(t.name){var i=ue.element('<select class="md-visually-hidden"></select>');i.attr({name:t.name,"aria-hidden":"true",tabindex:"-1"});var o=e.find("md-option");ue.forEach(o,function(e){var t=ue.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?t.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&t.attr("value",e.getAttribute("value")),i.append(t)}),i.append('<option ng-value="'+t.ngModel+'" selected></option>'),e.parent().append(i)}var A=T.parseAttributeBoolean(t.multiple),a=A?"multiple":"",s='<div class="md-select-menu-container" aria-hidden="true" role="presentation"><md-select-menu role="presentation" {0}>{1}</md-select-menu></div>';s=T.supplant(s,[a,e.html()]),e.empty().append(n),e.append(s),t.tabindex||t.$set("tabindex",0);return function(r,n,i,e){var t,o,a,s,l,c=!0,u=e[0],d=e[1],h=e[2],f=e[3],p=n.find("md-select-value"),m=ue.isDefined(i.readonly),g=T.parseAttributeBoolean(i.mdNoAsterisk);if(g&&n.addClass("md-no-asterisk"),u){var v=u.isErrorGetter||function(){return h.$invalid&&(h.$touched||f&&f.$submitted)};if(u.input&&n.find("md-select-header").find("input")[0]!==u.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");u.input=n,u.label||P.expect(n,"aria-label",n.attr("placeholder")),r.$watch(v,u.setInvalid)}!function(){if(a=ue.element(n[0].querySelector(".md-select-menu-container")),s=r,i.mdContainerClass){var e=a[0].getAttribute("class")+" "+i.mdContainerClass;a[0].setAttribute("class",e)}(l=a.find("md-select-menu").controller("mdSelectMenu")).init(h,i.ngModel),n.on("$destroy",function(){a.remove()})}(),N(n);var y,b=h.$render;function w(){a&&(l=l||a.find("md-select-menu").controller("mdSelectMenu"),d.setLabelText(l.selectedLabels()))}function C(){if(o){var e=l.selectedLabels({mode:"aria"});n.attr("aria-label",e.length?o+": "+e:o)}}h.$render=function(){b(),w(),C(),_()},i.$observe("placeholder",h.$render),u&&u.label&&i.$observe("required",function(e){u.label.toggleClass("md-required",e&&!g)}),d.setLabelText=function(e){d.setIsPlaceholder(!e);var t=!1;if(i.mdSelectedText&&i.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(i.mdSelectedText||i.mdSelectedHtml)e=R(i.mdSelectedText||i.mdSelectedHtml)(r),t=!0;else if(!e){e=i.placeholder||(u&&u.label?u.label.text():"")||"",t=!0}var n=p.children().eq(0);i.mdSelectedHtml?n.html(D.getTrustedHtml(e)):t?n.text(e):n.html(e)},d.setIsPlaceholder=function(e){e?(p.addClass("md-select-placeholder"),u&&u.label&&u.label.addClass("md-placeholder")):(p.removeClass("md-select-placeholder"),u&&u.label&&u.label.removeClass("md-placeholder"))},m||(n.on("focus",function(e){u&&u.setFocused(!0)}),n.on("blur",function(e){c&&(c=!1,s._mdSelectIsOpen&&e.stopImmediatePropagation()),s._mdSelectIsOpen||(u&&u.setFocused(!1),_())})),d.triggerClose=function(){R(i.mdOnClose)(r)},r.$$postDigest(function(){!function(){var e=n.attr("aria-label")||n.attr("placeholder");!e&&u&&u.label&&(e=u.label.text());o=e,P.expect(n,"aria-label",e)}(),w(),C()}),r.$watch(function(){return l.selectedLabels()},w),i.$observe("ngMultiple",function(e){y&&y();var t=R(e);y=r.$watch(function(){return t(r)},function(e,t){e===de&&t===de||(e?n.attr("multiple","multiple"):n.removeAttr("multiple"),n.attr("aria-multiselectable",e?"true":"false"),a&&(l.setMultiple(e),b=h.$render,h.$render=function(){b(),w(),C(),_()},h.$render()))})}),i.$observe("disabled",function(e){ue.isString(e)&&(e=!0),t!==de&&t===e||((t=e)?n.attr({"aria-disabled":"true"}).removeAttr("tabindex").off("click",S).off("keydown",$):n.attr({tabindex:i.tabindex,"aria-disabled":"false"}).on("click",S).on("keydown",$))}),i.hasOwnProperty("disabled")||i.hasOwnProperty("ngDisabled")||(n.attr({"aria-disabled":"false"}),n.on("click",S),n.on("keydown",$));var x={role:"listbox","aria-expanded":"false","aria-multiselectable":A&&!i.ngMultiple?"true":"false"};n[0].hasAttribute("id")||(x.id="select_"+T.nextUid());var E="select_container_"+T.nextUid();function _(){T.nextTick(function(){u&&u.setHasValue(0<l.selectedLabels().length||(n[0].validity||{}).badInput)})}function $(e){if(M.isNavigationKey(e))e.preventDefault(),S();else if(H(e,M)){e.preventDefault();var t=l.optNodeForKeyboardSearch(e);if(!t||t.hasAttribute("disabled"))return;var n=ue.element(t).controller("mdOption");l.isMultiple||l.deselect(Object.keys(l.selected)[0]),l.select(n.hashKey,n.value),l.refreshViewValue()}}function S(){s._mdSelectIsOpen=!0,n.attr("aria-expanded","true"),k.show({scope:s,preserveScope:!0,skipCompile:!0,element:a,target:n[0],selectCtrl:d,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!i.mdOnOpen&&(r.$eval(i.mdOnOpen)||!0)}).finally(function(){s._mdSelectIsOpen=!1,n.focus(),n.attr("aria-expanded","false"),h.$setTouched()})}a.attr("id",E),n.find("md-select-menu").length||(x["aria-owns"]=E),n.attr(x),r.$on("$destroy",function(){k.destroy().finally(function(){u&&(u.setFocused(!1),u.setHasValue(!1),u.input=null),h.$setTouched()})})}},controller:function(){}}}function t(f,p,e,i){return{restrict:"E",require:["mdSelectMenu"],scope:!(t.$inject=["$scope","$attrs","$element"]),controller:t,link:{pre:function(o,e,t,n){var a=n[0];function r(e){var t=p.getClosest(e.target,"md-option"),n=t&&ue.element(t).data("$mdOptionController");if(t&&n){if(t.hasAttribute("disabled"))return e.stopImmediatePropagation(),!1;var r=a.hashGetter(n.value),i=ue.isDefined(a.selected[r]);o.$apply(function(){a.isMultiple?i?a.deselect(r):a.select(r,n.value):i||(a.deselect(Object.keys(a.selected)[0]),a.select(r,n.value)),a.refreshViewValue()})}}e.addClass("_md"),i(e),e.on("click",r),e.on("keypress",function(e){13!=e.keyCode&&32!=e.keyCode||r(e)})}}};function t(o,e,i){var a,s=this;s.isMultiple=ue.isDefined(e.multiple),s.selected={},s.options={},o.$watchCollection(function(){return s.options},function(){s.ngModel.$render()}),s.setMultiple=function(e){var t=s.ngModel;if(a=a||t.$isEmpty,s.isMultiple=e,s.isMultiple){var n=!1,r=function(e){n?d():p.nextTick(function(){d(),n=!0})};t.$validators["md-multiple"]=i,t.$render=r,o.$watchCollection(s.modelBinding,function(e){i(e)&&r()}),t.$isEmpty=function(e){return!e||0===e.length}}else delete t.$validators["md-multiple"],t.$render=h;function i(e,t){return ue.isArray(e||t||[])}};var r,l,c,u="";function d(){var n=s.ngModel.$modelValue||s.ngModel.$viewValue||[];if(ue.isArray(n)){var e=Object.keys(s.selected),t=n.map(s.hashGetter);e.filter(function(e){return-1===t.indexOf(e)}).forEach(s.deselect),t.forEach(function(e,t){s.select(e,n[t])})}}function h(){var e=s.ngModel.$viewValue||s.ngModel.$modelValue;Object.keys(s.selected).forEach(s.deselect),s.select(s.hashGetter(e),e)}s.optNodeForKeyboardSearch=function(e){r&&clearTimeout(r),r=setTimeout(function(){u="",l=c=r=de},300),u+=e.key;var t=new RegExp("^"+u,"i");l||(l=i.find("md-option"),c=new Array(l.length),ue.forEach(l,function(e,t){c[t]=e.textContent.trim()}));for(var n=0;n<c.length;++n)if(t.test(c[n]))return l[n]},s.init=function(e,t){s.ngModel=e,s.modelBinding=t,s.ngModel.$isEmpty=function(e){return!s.options[s.hashGetter(e)]};var n=p.getModelOption(e,"trackBy");if(n){var r={},i=f(n);s.hashGetter=function(e,t){return r.$value=e,i(t||o,r)}}else s.hashGetter=function(e){return ue.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++m)):e};s.setMultiple(s.isMultiple)},s.selectedLabels=function(e){var t,n=(e=e||{}).mode||"html",r=p.nodesToArray(i[0].querySelectorAll("md-option[selected]"));return r.length?("html"==n?t=function(e){if(e.hasAttribute("md-option-empty"))return"";var t=e.innerHTML,n=e.querySelector(".md-ripple-container");n&&(t=t.replace(n.outerHTML,""));var r=e.querySelector(".md-container");return r&&(t=t.replace(r.outerHTML,"")),t}:"aria"==n&&(t=function(e){return e.hasAttribute("aria-label")?e.getAttribute("aria-label"):e.textContent}),p.uniq(r.map(t)).join(", ")):""},s.select=function(e,t){var n=s.options[e];n&&n.setSelected(!0),s.selected[e]=t},s.deselect=function(e){var t=s.options[e];t&&t.setSelected(!1),delete s.selected[e]},s.addOption=function(e,t){if(ue.isDefined(s.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+t.value+'" found.');s.options[e]=t,ue.isDefined(s.selected[e])&&(s.select(e,t.value),ue.isDefined(s.ngModel.$$rawModelValue)&&s.hashGetter(s.ngModel.$$rawModelValue)===e&&s.ngModel.$validate(),s.refreshViewValue())},s.removeOption=function(e){delete s.options[e]},s.refreshViewValue=function(){var e,t=[];for(var n in s.selected)(e=s.options[n])?t.push(e.value):t.push(s.selected[n]);var r=p.getModelOption(s.ngModel,"trackBy"),i=s.isMultiple?t:t[0],o=s.ngModel.$modelValue;(r?ue.equals(o,i):o+""===i)||(s.ngModel.$setViewValue(i),s.ngModel.$render())}}}function n(r,i,c){return e.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:e,compile:function(e,t){e.append(ue.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",t.tabindex||"0"),function(e){var t=e.value,n=e.ngValue;return t||n}(t)||e.attr("md-option-empty","");return n}};function n(o,t,e,n){var a=n[0],s=n[1];function l(e,t,n){if(s.hashGetter){var r=s.hashGetter(t,o),i=s.hashGetter(e,o);a.hashKey=i,a.value=e,s.removeOption(r,a),s.addOption(i,a)}else n||o.$$postDigest(function(){l(e,t,!0)})}c(t),s.isMultiple&&(t.addClass("md-checkbox-enabled"),t.prepend(u.clone())),ue.isDefined(e.ngValue)?o.$watch(e.ngValue,l):ue.isDefined(e.value)?l(e.value):o.$watch(function(){return t.text().trim()},l),e.$observe("disabled",function(e){e?t.attr("tabindex","-1"):t.attr("tabindex","0")}),o.$$postDigest(function(){e.$observe("selected",function(e){ue.isDefined(e)&&("string"==typeof e&&(e=!0),e?(s.isMultiple||s.deselect(Object.keys(s.selected)[0]),s.select(a.hashKey,a.value)):s.deselect(a.hashKey),s.refreshViewValue())})}),r.attach(o,t),function(){var e={role:"option","aria-selected":"false"};t[0].hasAttribute("id")||(e.id="select_option_"+i.nextUid());t.attr(e)}(),o.$on("$destroy",function(){s.removeOption(a.hashKey,a)})}function e(t){this.selected=!1,this.setSelected=function(e){e&&!this.selected?t.attr({selected:"selected","aria-selected":"true"}):!e&&this.selected&&(t.removeAttr("selected"),t.attr("aria-selected","false")),this.selected=e}}}function r(e){return t.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],e("$mdSelect").setDefaults({methods:["target"],options:t});function t(l,c,D,O,u,n,d,h,I){var f=D.dom.animator,p=c.KEY_CODE;return{parent:"body",themable:!0,onShow:function(r,a,s){return function(){s.loadingAsync&&!s.isRemoved&&(r.$$loadingAsyncDone=!1,u.when(s.loadingAsync).then(function(){r.$$loadingAsyncDone=!0,delete s.loadingAsync}).then(function(){n(i)}))}(),function(e){var t=a.find("md-select-menu");if(!e.target)throw new Error(D.supplant("$mdSelect.show() expected a target element in options.target but got '{0}'!",[e.target]));ue.extend(e,{isRemoved:!1,target:ue.element(e.target),parent:ue.element(e.parent),selectEl:t,contentEl:a.find("md-content"),optionNodes:t[0].getElementsByTagName("md-option")})}(s),s.hideBackdrop=function(e,t){t.disableParentScroll&&!D.getClosest(t.target,"MD-DIALOG")?t.restoreScroll=D.disableScrollAround(t.element,t.parent):t.disableParentScroll=!1;t.hasBackdrop&&(t.backdrop=D.createBackdrop(e,"md-select-backdrop md-click-catcher"),h.enter(t.backdrop,I[0].body,null,{duration:0}));return function(){t.backdrop&&t.backdrop.remove(),t.disableParentScroll&&t.restoreScroll(),delete t.restoreScroll}}(r,s),function(n,e){e.parent!==n.parent()&&n.parent().attr("aria-owns",n.attr("id"));return n.parent().find("md-select-value").attr("aria-hidden","true"),e.parent.append(n),u(function(e,t){try{d(n,{removeClass:"md-leave",duration:0}).start().then(i).then(e)}catch(e){t(e)}})}(a,s).then(function(e){var t,n;return a.attr("aria-hidden","false"),s.alreadyOpen=!0,s.cleanupInteraction=function(){if(s.isRemoved)return;var r=s.selectEl,t=r.controller("mdSelectMenu")||{};return a.addClass("md-clickable"),s.backdrop&&s.backdrop.on("click",e),r.on("keydown",n),r.on("click",o),function(){s.backdrop&&s.backdrop.off("click",e),r.off("keydown",n),r.off("click",o),a.removeClass("md-clickable"),s.isRemoved=!0};function e(e){e.preventDefault(),e.stopPropagation(),s.restoreFocus=!1,D.nextTick(l.hide,!0)}function n(e){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case p.UP_ARROW:return void i("prev");case p.DOWN_ARROW:return void i("next");case p.SPACE:case p.ENTER:var t=D.getClosest(e.target,"md-option");t&&(r.triggerHandler({type:"click",target:t}),e.preventDefault()),o(e);break;case p.TAB:case p.ESCAPE:e.stopPropagation(),e.preventDefault(),s.restoreFocus=!0,D.nextTick(l.hide,!0);break;default:if(H(e,c)){var n=r.controller("mdSelectMenu").optNodeForKeyboardSearch(e);s.focusedNode=n||s.focusedNode,n&&n.focus()}}}function i(e){for(var t,n=D.nodesToArray(s.optionNodes),r=n.indexOf(s.focusedNode);-1===r?r=0:"next"===e&&r<n.length-1?r++:"prev"===e&&0<r&&r--,(t=n[r]).hasAttribute("disabled")&&(t=de),!t&&r<n.length-1&&0<r;);t&&t.focus(),s.focusedNode=t}function o(n){if(!(n&&"click"==n.type&&n.currentTarget!=r[0]||function(){var e=!1;if(n&&0<n.currentTarget.children.length){var t=n.currentTarget.children[0];if(t.scrollHeight>t.clientHeight&&0<t.children.length)n.pageX-n.currentTarget.getBoundingClientRect().left>t.querySelector("md-option").offsetWidth&&(e=!0)}return e}())){var e=D.getClosest(n.target,"md-option");e&&e.hasAttribute&&!e.hasAttribute("disabled")&&(n.preventDefault(),n.stopPropagation(),t.isMultiple||(s.restoreFocus=!0,D.nextTick(function(){l.hide(t.ngModel.$viewValue)},!0)))}}}(),s.cleanupResizing=(t=function(e,r,i){return function(){if(!i.isRemoved){var e=m(0,r,i),t=e.container,n=e.dropDown;t.element.css(f.toCss(t.styles)),n.element.css(f.toCss(n.styles))}}}(r,a,s),(n=ue.element(O)).on("resize",t),n.on("orientationchange",t),function(){n.off("resize",t),n.off("orientationchange",t)}),o(s.focusedNode),e},s.hideBackdrop);function i(){return u(function(e){if(s.isRemoved)return u.reject(!1);var t=m(0,a,s);t.container.element.css(f.toCss(t.container.styles)),t.dropDown.element.css(f.toCss(t.dropDown.styles)),n(function(){a.addClass("md-active"),t.dropDown.element.css(f.toCss({transform:""})),o(s.focusedNode),e()})})}function o(e){e&&!e.hasAttribute("disabled")&&e.focus()}},onRemove:function(e,t,n){var r=null,i=e.$on("$destroy",function(){r.end()});return(n=n||{}).cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),!0===n.$destroy?o():function(){return(r=d(t,{addClass:"md-leave"})).start()}().then(o);function o(){i(),t.removeClass("md-active").attr("aria-hidden","true").css({display:"none",top:"",right:"",bottom:"",left:"","font-size":"","min-width":""}),t.parent().find("md-select-value").removeAttr("aria-hidden"),function(e){var t=e.selectCtrl;if(t){var n=e.selectEl.controller("mdSelectMenu");t.setLabelText(n?n.selectedLabels():""),t.triggerClose()}}(n),!n.$destroy&&n.restoreFocus&&n.target.focus()}},hasBackdrop:!0,disableParentScroll:!0};function m(e,t,n){var r,i,o=t[0],a=n.target[0].children[0],s=I[0].body,l=n.selectEl[0],c=n.contentEl[0],u=s.getBoundingClientRect(),d=a.getBoundingClientRect(),h={left:u.left+F,top:F,bottom:u.height-F,right:u.width-F-(D.floatingScrollbars()?16:0)},f=d.top-h.top,p=(d.left,d.left,d.width,h.bottom-(d.top+d.height)),m=u.width-2*F,g=l.querySelector("md-option[selected]"),v=l.getElementsByTagName("md-option"),y=l.getElementsByTagName("md-optgroup"),b=function(e,t){var n=!1;try{var r=e[0].style.display;e[0].style.display="block",n=t.scrollHeight>t.offsetHeight,e[0].style.display=r}finally{}return n}(t,c);r=(i=n.loadingAsync)&&ue.isFunction(i.then)?c.firstElementChild||c:g||(y.length?y[0]:v.length?v[0]:c.firstElementChild||c),c.offsetWidth>m?c.style["max-width"]=m+"px":c.style.maxWidth=null,b&&l.classList.add("md-overflow");var w=r;"MD-OPTGROUP"===(w.tagName||"").toUpperCase()&&(r=w=v[0]||c.firstElementChild||c),n.focusedNode=w,o.style.display="block";var C,x,E,_,$,S,A=l.getBoundingClientRect(),k=(C=r)?{left:C.offsetLeft,top:C.offsetTop,width:C.offsetWidth,height:C.offsetHeight}:{left:0,top:0,width:0,height:0};if(r){var T=O.getComputedStyle(r);k.paddingLeft=parseInt(T.paddingLeft,10)||0,k.paddingRight=parseInt(T.paddingRight,10)||0}if(b){var M=c.offsetHeight/2;c.scrollTop=k.top+k.height/2-M,f<M?c.scrollTop=Math.min(k.top,c.scrollTop+M-f):p<M&&(c.scrollTop=Math.max(k.top+k.height-A.height,c.scrollTop-M+p))}x=d.left+k.left-k.paddingLeft+2,E=Math.floor(d.top+d.height/2-k.height/2-k.top+c.scrollTop)+2,_=k.left+d.width/2+"px "+(k.top+k.height/2-c.scrollTop)+"px 0px",$=Math.min(d.width+k.paddingLeft+k.paddingRight,m),S=j.getComputedStyle(a)["font-size"];var N=o.getBoundingClientRect(),P=Math.round(100*Math.min(d.width/A.width,1))/100,R=Math.round(100*Math.min(d.height/A.height,1))/100;return{container:{element:ue.element(o),styles:{left:Math.floor(L(h.left,x,h.right-N.width)),top:Math.floor(L(h.top,E,h.bottom-N.height)),"min-width":$,"font-size":S}},dropDown:{element:ue.element(l),styles:{transformOrigin:_,transform:n.alreadyOpen?"":D.supplant("scale({0},{1})",[P,R])}}}}}function L(e,t,n){return Math.max(e,Math.min(t,n))}}function H(e,t){var n=String.fromCharCode(e.keyCode),r=e.keyCode<=31;return n&&n.length&&!r&&!t.isMetaKey(e)&&!t.isFnLockKey(e)&&!t.hasModifierKey(e)}ue.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",t).directive("mdOption",n).directive("mdOptgroup",function(){return{restrict:"E",compile:function(t,n){t.parent().find("md-select-header").length||function(){var e=t.find("label");e.length||(e=ue.element("<label>"),t.prepend(e));e.addClass("md-container-ignore"),e.attr("aria-hidden","true"),n.label&&e.text(n.label)}()}}}).directive("mdSelectHeader",function(){return{restrict:"E"}}).provider("$mdSelect",r)}(),ue.module("material.components.showHide",["material.core"]).directive("ngShow",We("ngShow",!0)).directive("ngHide",We("ngHide",!1)),Ge.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],Ye.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],Ke.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],ue.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",Ge).directive("mdSidenav",Ye).directive("mdSidenavFocus",function(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,r){}}}).controller("$mdSidenavController",Ke),function(){e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],ue.module("material.components.slider",["material.core"]).directive("mdSlider",e).directive("mdSliderContainer",function(){return{controller:function(){},compile:function(e){var t=e.find("md-slider");if(t)return t.attr("md-vertical")!==de&&e.attr("md-vertical",""),t.attr("flex")||t.attr("flex",""),function(e,a,t,n){function r(e){a.children().attr("disabled",e),a.find("input").attr("disabled",e)}a.addClass("_md");var s,i=ue.noop;t.disabled?r(!0):t.ngDisabled&&(i=e.$watch(t.ngDisabled,function(e){r(e)})),e.$on("$destroy",function(){i()}),n.fitInputWidthToTextLength=function(e){var t=a[0].querySelector("md-input-container");if(t){var n=getComputedStyle(t),r=parseInt(n.minWidth),i=parseInt(n.paddingLeft)+parseInt(n.paddingRight);s=s||parseInt(n.maxWidth);var o=Math.max(s,r+i+r/2*e);t.style.maxWidth=o+"px"}}}}}});var J=10,ee=4;function e(z,V,i,W,G,Y,K,X,Q,Z){return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:function(e,t){var n=ue.element(e[0].getElementsByClassName("md-slider-wrapper")),r=t.tabindex||0;n.attr("tabindex",r),(t.disabled||t.ngDisabled)&&n.attr("tabindex",-1);return n.attr("role","slider"),i.expect(e,"aria-label"),o}};function o(i,o,e,t){Y(o);var r=t[0]||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},n=t[1],a=(ue.element(W.getClosest(o,"_md-slider-container",!0)),e.ngDisabled?ue.bind(null,X(e.ngDisabled),i.$parent):function(){return o[0].hasAttribute("disabled")}),s=ue.element(o[0].querySelector(".md-thumb")),l=ue.element(o[0].querySelector(".md-thumb-text")),c=s.parent(),u=ue.element(o[0].querySelector(".md-track-container")),d=ue.element(o[0].querySelector(".md-track-fill")),h=ue.element(o[0].querySelector(".md-track-ticks")),f=ue.element(o[0].getElementsByClassName("md-slider-wrapper")),p=(ue.element(o[0].getElementsByClassName("md-slider-content")),W.throttle(N,5e3)),m=ue.isDefined(e.mdVertical),g=ue.isDefined(e.mdDiscrete),v=ue.isDefined(e.mdInvert);ue.isDefined(e.min)?e.$observe("min",S):S(0),ue.isDefined(e.max)?e.$observe("max",A):A(100),ue.isDefined(e.step)?e.$observe("step",k):k(1),ue.isDefined(e.round)?e.$observe("round",T):T(3);ue.noop;function y(){N(),O()}e.ngDisabled&&i.$parent.$watch(e.ngDisabled,function(){o.attr("aria-disabled",!!a())}),K.register(f,"drag",{horizontal:!m}),i.mouseActive=!1,f.on("keydown",function(e){if(a())return;var t,n=G.KEY_CODE;switch(e.keyCode){case n.DOWN_ARROW:case n.LEFT_ARROW:e.preventDefault(),t=-C;break;case n.UP_ARROW:case n.RIGHT_ARROW:e.preventDefault(),t=C;break;case n.PAGE_DOWN:e.preventDefault(),t=-C*J;break;case n.PAGE_UP:e.preventDefault(),t=C*J;break;case n.HOME:e.preventDefault(),e.stopPropagation(),R(b);break;case n.END:e.preventDefault(),e.stopPropagation(),R(w)}t&&(t=v?-t:t,(e.metaKey||e.ctrlKey||e.altKey)&&(t*=ee),e.preventDefault(),e.stopPropagation(),R(r.$viewValue+t))}).on("mousedown",function(){(function(){if(!g||a())return;if(ue.isUndefined(C))return;if(C<=0){var e="Slider step value must be greater than zero when in discrete mode";throw Q.error(e),new Error(e)}var t=Math.floor((w-b)/C);E||(E=ue.element("<canvas>").css("position","absolute"),h.append(E),_=E[0].getContext("2d"));var n,r=P();!r||r.height||r.width||(N(),r=M);E[0].width=r.width,E[0].height=r.height;for(var i=0;i<=t;i++){var o=V.getComputedStyle(h[0]);_.fillStyle=o.color||"black",n=Math.floor((m?r.height:r.width)*(i/t)),_.fillRect(m?0:n-1,m?n-1:0,m?r.width:2,m?2:r.height)}})(),i.mouseActive=!0,f.removeClass("md-focused"),Z(function(){i.mouseActive=!1},100)}).on("focus",function(){!1===i.mouseActive&&f.addClass("md-focused")}).on("blur",function(){f.removeClass("md-focused"),o.removeClass("md-active"),function(){if(E&&_){var e=P();_.clearRect(0,0,e.width,e.height)}}()}).on("$md.pressdown",function(e){if(a())return;o.addClass("md-active"),o[0].focus(),N();var t=I(L(U(B(m?e.pointer.y:e.pointer.x))));i.$apply(function(){D(t),F(q(t))})}).on("$md.pressup",function(e){if(a())return;o.removeClass("md-dragging");var t=I(L(U(B(m?e.pointer.y:e.pointer.x))));i.$apply(function(){D(t),O()})}).on("$md.dragstart",function(e){if(a())return;H=!0,e.stopPropagation(),o.addClass("md-dragging"),j(e)}).on("$md.drag",function(e){if(!H)return;e.stopPropagation(),j(e)}).on("$md.dragend",function(e){if(!H)return;e.stopPropagation(),H=!1}),setTimeout(y,0);var b,w,C,x,E,_,$=z.throttle(y);function S(e){b=parseFloat(e),r.$viewValue=I(r.$modelValue,b,w),f.attr("aria-valuemin",e),y()}function A(e){w=parseFloat(e),r.$viewValue=I(r.$modelValue,b,w),f.attr("aria-valuemax",e),y()}function k(e){C=parseFloat(e)}function T(e){x=I(parseInt(e),0,6)}ue.element(V).on("resize",$),i.$on("$destroy",function(){ue.element(V).off("resize",$)}),r.$render=O,r.$viewChangeListeners.push(O),r.$formatters.push(I),r.$formatters.push(L);var M={};function N(){M=u[0].getBoundingClientRect()}function P(){return p(),M}function R(e){i.$evalAsync(function(){D(e)})}function D(e){r.$setViewValue(I(L(e)))}function O(){isNaN(r.$viewValue)&&(r.$viewValue=r.$modelValue),r.$viewValue=I(r.$viewValue);var e=q(r.$viewValue);i.modelValue=r.$viewValue,f.attr("aria-valuenow",r.$viewValue),F(e),l.text(r.$viewValue)}function I(e,t,n){if(ue.isNumber(e))return t=ue.isNumber(t)?t:b,n=ue.isNumber(n)?n:w,Math.max(t,Math.min(n,e))}function L(e){if(ue.isNumber(e)){var t=Math.round((e-b)/C)*C+b;return t=Math.round(t*Math.pow(10,x))/Math.pow(10,x),n&&n.fitInputWidthToTextLength&&W.debounce(function(){n.fitInputWidthToTextLength(t.toString().length)},100)(),t}}function F(e){var t;t=e;var n=100*(e=Math.max(0,Math.min(t||0,1)))+"%",r=v?100*(1-e)+"%":n;m?c.css("bottom",n):W.bidiProperty(c,"left","right",n),d.css(m?"height":"width",r),o.toggleClass(v?"md-max":"md-min",0===e),o.toggleClass(v?"md-min":"md-max",1===e)}N();var H=!1;function j(e){var t,n,r;g?(n=m?e.pointer.y:e.pointer.x,r=I(L(U(B(n)))),F(B(n)),l.text(r)):(t=m?e.pointer.y:e.pointer.x,i.$evalAsync(function(){D(U(B(t)))}))}function B(e){var t=(e-(m?M.top:M.left))/(m?M.height:M.width);return m||"rtl"!==W.bidi()||(t=1-t),Math.max(0,Math.min(1,m?1-t:t))}function U(e){return b+(v?1-e:e)*(w-b)}function q(e){var t=(e-b)/(w-b);return v?1-t:t}}}}(),Xe.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],ue.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",Xe),Qe.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],ue.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",Qe),ue.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",Ze("SwipeLeft")).directive("mdSwipeRight",Ze("SwipeRight")).directive("mdSwipeUp",Ze("SwipeUp")).directive("mdSwipeDown",Ze("SwipeDown")),Je.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],ue.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",Je),ue.module("material.components.tabs",["material.core","material.components.icon"]),ue.module("material.components.tabs").service("MdTabsPaginationService",function(){return{decreasePageOffset:function(e,t){var n,r,i=e.canvas,o=s(e);for(n=0;n<o.length;n++)if(o[n]>=t){r=o[n];break}return Math.max(0,r-i.clientWidth)},increasePageOffset:function(e,t){var n,r,i=e.canvas,o=l(e)-i.clientWidth,a=s(e);for(n=0;a.length,a[n]<=t+i.clientWidth;n++)r=a[n];return Math.min(o,r)},getTabOffsets:s,getTotalTabsWidth:l};function s(e){var t,n,r=0,i=[];for(t=0;t<e.tabs.length;t++)n=e.tabs[t],i.push(r),r+=n.offsetWidth;return i}function l(e){var t,n=0;for(t=0;t<e.tabs.length;t++)n+=e.tabs[t].offsetWidth;return n}}),ue.module("material.components.tabs").directive("mdTab",function(){return{require:"^?mdTabs",terminal:!0,compile:function(e,t){var n=l(e,"md-tab-label"),r=l(e,"md-tab-body");if(0===n.length&&(n=ue.element("<md-tab-label></md-tab-label>"),t.label?n.text(t.label):n.append(e.contents()),0===r.length)){var i=e.contents().detach();(r=ue.element("<md-tab-body></md-tab-body>")).append(i)}return e.append(n),r.html()&&e.append(r),o},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect",tabClass:"@mdTabClass"}};function o(e,t,n,r){if(r){var i=r.getTabElementIndex(t),o=l(t,"md-tab-body").remove(),a=l(t,"md-tab-label").remove(),s=r.insertTab({scope:e,parent:e.$parent,index:i,element:t,template:o.html(),label:a.html()},i);e.select=e.select||ue.noop,e.deselect=e.deselect||ue.noop,e.$watch("active",function(e){e&&r.select(s.getIndex(),!0)}),e.$watch("disabled",function(){r.refreshIndex()}),e.$watch(function(){return r.getTabElementIndex(t)},function(e){s.index=e,r.updateTabOrder()}),e.$on("$destroy",function(){r.removeTab(s)})}}function l(e,t){for(var n=e[0].children,r=0,i=n.length;r<i;r++){var o=n[r];if(o.tagName===t.toUpperCase())return ue.element(o)}return ue.element()}}),ue.module("material.components.tabs").directive("mdTabItem",function(){return{require:"^?mdTabs",link:function(e,t,n,r){r&&r.attachRipple(e,t)}}}),ue.module("material.components.tabs").directive("mdTabLabel",function(){return{terminal:!0}}),et.$inject=["$parse"],ue.module("material.components.tabs").directive("mdTabScroll",et),tt.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","$timeout","MdTabsPaginationService"],ue.module("material.components.tabs").controller("MdTabsController",tt),nt.$inject=["$$mdSvgRegistry"],ue.module("material.components.tabs").directive("mdTabs",nt),rt.$inject=["$mdUtil","$window"],ue.module("material.components.tabs").directive("mdTabsDummyWrapper",rt),it.$inject=["$compile","$mdUtil"],ue.module("material.components.tabs").directive("mdTabsTemplate",it),ot.$inject=["$mdToast"],at.$inject=["$$interimElementProvider"],ue.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",ot).provider("$mdToast",at),st.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"],ue.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",st),lt.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],ue.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",lt).service("$$mdTooltipRegistry",function(){var o={},a=ue.element(j);return{register:function(e,t,n){var r=o[e]=o[e]||[];r.length||(n?j.addEventListener(e,s,!0):a.on(e,s));-1===r.indexOf(t)&&r.push(t)},deregister:function(e,t,n){var r=o[e],i=r?r.indexOf(t):-1;-1<i&&(r.splice(i,1),0===r.length&&(n?j.removeEventListener(e,s,!0):a.off(e,s)))}};function s(t){o[t.type]&&o[t.type].forEach(function(e){e.call(this,t)},this)}}),ct.$inject=["$element"],ue.module("material.components.truncate",["material.core"]).directive("mdTruncate",function(){return{restrict:"AE",controller:ct}}),function(){function e(e){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+e[0].innerHTML+"</div></div>"}t.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],i.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],n.$inject=["$parse"],ue.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",function(){return{controller:t,template:e,compile:function(e,t){e.addClass("md-virtual-repeat-container").addClass(t.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}).directive("mdVirtualRepeat",n).directive("mdForceHeight",o);function t(e,n,t,r,i,o,a,s,l){this.$rootScope=i,this.$scope=a,this.$element=s,this.$attrs=l,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=t.ELEMENT_MAX_PIXELS,this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),ue.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,ue.bind(this,function(e){e!==this.topIndex&&this.scrollToIndex(e)}))):this.topIndex=0,this.scroller=s[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var c=ue.bind(this,this.updateSize);e(ue.bind(this,function(){c();var e=n.debounce(c,10,null,!1),t=ue.element(o);this.size||e(),t.on("resize",e),a.$on("$destroy",function(){t.off("resize",e)}),a.$emit("$md-resize-enable"),a.$on("$md-resize",c)}))}function n(r){return{controller:i,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(e,t){var n=t.mdVirtualRepeat.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),o=n[1],a=r(n[2]),s=t.mdExtraName&&r(t.mdExtraName);return function(e,t,n,r,i){r[0].link_(r[1],i,o,a,s)}}}}function i(e,t,n,r,i,o,a,s){this.$scope=e,this.$element=t,this.$attrs=n,this.$browser=r,this.$document=i,this.$mdUtil=s,this.$rootScope=o,this.$$rAF=a,this.onDemand=s.parseAttributeBoolean(n.mdOnDemand),this.browserCheckUrlChange=r.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=e.$eval(n.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=ue.noop,this.blocks={},this.pooledBlocks=[],e.$on("$destroy",ue.bind(this,this.cleanupBlocks_))}function r(e){if(!ue.isFunction(e.getItemAtIndex)||!ue.isFunction(e.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength().");this.model=e}function o(e){return{restrict:"A",link:function(e,t,n){var r=e.$eval(n.mdForceHeight)||null;r&&t&&(t[0].style.height=r)}}}t.prototype.register=function(e){this.repeater=e,ue.element(this.scroller).on("scroll wheel touchmove touchend",ue.bind(this,this.handleScroll_))},t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.getSize=function(){return this.size},t.prototype.setSize_=function(e){var t=this.getDimensionName_();this.size=e,this.$element[0].style[t]=e+"px"},t.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},t.prototype.updateSize=function(){if(!this.originalSize){var e=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight;e&&(this.size=e),this.handleScroll_(),this.repeater&&this.repeater.containerUpdated()}},t.prototype.getScrollSize=function(){return this.scrollSize},t.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},t.prototype.sizeScroller_=function(e){var t=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",e<this.maxElementPixels)this.sizer.style[t]=e+"px";else{this.sizer.style[t]="auto",this.sizer.style[n]="auto";var r=Math.floor(e/this.maxElementPixels),i=document.createElement("div");i.style[t]=this.maxElementPixels+"px",i.style[n]="1px";for(var o=0;o<r;o++)this.sizer.appendChild(i.cloneNode(!1));i.style[t]=e-r*this.maxElementPixels+"px",this.sizer.appendChild(i)}},t.prototype.autoShrink_=function(e){var t=Math.max(e,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&t!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||t<n)this.originalSize||(this.originalSize=this.size),this.setSize_(t);else if(null!==this.originalSize){this.unsetSize_();var r=this.originalSize;this.originalSize=null,r||this.updateSize(),this.setSize_(r||this.size)}this.repeater.containerUpdated()}},t.prototype.setScrollSize=function(e){var t=e+this.offsetSize;this.scrollSize!==t&&(this.sizeScroller_(t),this.autoShrink_(t),this.scrollSize=t)},t.prototype.getScrollOffset=function(){return this.scrollOffset},t.prototype.scrollTo=function(e){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=e,this.handleScroll_()},t.prototype.scrollToIndex=function(e){var t=this.repeater.getItemSize(),n=this.repeater.itemsLength;n<e&&(e=n-1),this.scrollTo(t*e)},t.prototype.resetScroll=function(){this.scrollTo(0)},t.prototype.handleScroll_=function(){var e="rtl"!==document.dir&&"rtl"!==document.body.dir;e||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var t=this.isHorizontal()?e?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(this.scrollSize<this.size)&&(t>this.scrollSize-this.size&&(t=this.scrollSize-this.size),t!==this.scrollOffset)){var n=this.repeater.getItemSize();if(n){var r=Math.max(0,Math.floor(t/n)-3),i=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||e?r*n:-r*n)+"px)";if(this.scrollOffset=t,this.offsetter.style.webkitTransform=i,this.offsetter.style.transform=i,this.bindTopIndex){var o=Math.floor(t/n);o!==this.topIndex&&o<this.repeater.getItemCount()&&(this.topIndex=o,this.bindTopIndex.assign(this.$scope,o),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},i.prototype.link_=function(e,t,n,r,i){this.container=e,this.transclude=t,this.repeatName=n,this.rawRepeatListExpression=r,this.extraName=i,this.sized=!1,this.repeatListExpression=ue.bind(this,this.repeatListExpression_),this.container.register(this)},i.prototype.cleanupBlocks_=function(){ue.forEach(this.pooledBlocks,function(e){e.element.remove()})},i.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var e=this.getBlock_(0);e.element[0].parentNode||this.parentNode.appendChild(e.element[0]),this.itemSize=e.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=e,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},i.prototype.repeatListExpression_=function(e){var t=this.rawRepeatListExpression(e);if(this.onDemand&&t){var n=new r(t);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return t},i.prototype.containerUpdated=function(){if(!this.itemSize)return this.unwatchItemSize_&&this.unwatchItemSize_!==ue.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,ue.bind(this,function(e){e&&e.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest());this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,ue.bind(this,function(e,t){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(e,t)}))),this.updateIndexes_(),(this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof r&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items))},i.prototype.getItemSize=function(){return this.itemSize},i.prototype.getItemCount=function(){return this.itemsLength},i.prototype.virtualRepeatUpdate_=function(e,t){this.isVirtualRepeatUpdating_=!0;var n=e&&e.length||0,r=!1;if(this.items&&n<this.items.length&&0!==this.container.getScrollOffset()){this.items=e;var i=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(i)}n!==this.itemsLength&&(r=!0,this.itemsLength=n),(this.items=e)===t&&!r||this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,r&&this.container.setScrollSize(n*this.itemSize),Object.keys(this.blocks).forEach(function(e){var t=parseInt(e,10);(t<this.newStartIndex||t>=this.newEndIndex)&&this.poolBlock_(t)},this),this.$browser.$$checkUrlChange=ue.noop;var o,a,s=[],l=[];for(o=this.newStartIndex;o<this.newEndIndex&&null==this.blocks[o];o++)a=this.getBlock_(o),this.updateBlock_(a,o),s.push(a);for(;null!=this.blocks[o];o++)this.updateBlock_(this.blocks[o],o);for(var c=o-1;o<this.newEndIndex;o++)a=this.getBlock_(o),this.updateBlock_(a,o),l.push(a);if(s.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(s),this.$element[0].nextSibling),l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.blocks[c]&&this.blocks[c].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var u=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(u)}.bind(this))}this.isVirtualRepeatUpdating_=!1},i.prototype.getBlock_=function(n){return this.pooledBlocks.length?this.pooledBlocks.pop():(this.transclude(ue.bind(this,function(e,t){r={element:e,new:!0,scope:t},this.updateScope_(t,n),this.parentNode.appendChild(e[0])})),r);var r},i.prototype.updateBlock_=function(e,t){!(this.blocks[t]=e).new&&e.scope.$index===t&&e.scope[this.repeatName]===this.items[t]||(e.new=!1,this.updateScope_(e.scope,t),this.$rootScope.$$phase||e.scope.$digest())},i.prototype.updateScope_=function(e,t){e.$index=t,e[this.repeatName]=this.items&&this.items[t],this.extraName&&(e[this.extraName(this.$scope)]=this.items[t])},i.prototype.poolBlock_=function(e){this.pooledBlocks.push(this.blocks[e]),this.parentNode.removeChild(this.blocks[e].element[0]),delete this.blocks[e]},i.prototype.domFragmentFromBlocks_=function(e){var t=this.$document[0].createDocumentFragment();return e.forEach(function(e){t.appendChild(e.element[0])}),t},i.prototype.updateIndexes_=function(){var e=this.items?this.items.length:0,t=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(e-t,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+t+3,this.newEndIndex=Math.min(e,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-3)},r.prototype.$$includeIndexes=function(e,t){for(var n=e;n<t;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},o.$inject=["$mdUtil"]}(),ut.$inject=["$log"],ue.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",ut),ue.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-hue-1}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-hue-2}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}md-autocomplete.md-THEME_NAME-theme input{color:"{{foreground-1}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused .md-input{border-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused md-icon{color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-container{background-color:"{{accent-100}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-bar{background-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused .md-input{border-color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused md-icon{color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-container{background-color:"{{warn-100}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-bar{background-color:"{{warn-color}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme,.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-hue-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme li,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li{color:"{{foreground-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme li#selected_option,.md-autocomplete-standard-list-container.md-THEME_NAME-theme li:hover,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li#selected_option,.md-autocomplete-suggestions-container.md-THEME_NAME-theme li:hover{background:"{{background-500-0.18}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-color}}";border-top-color:"{{background-hue-3}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-color}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-THEME_NAME-theme .md-calendar{background:"{{background-hue-1}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar tr:last-child td{border-bottom-color:"{{background-hue-2}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-500-0.32}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-500-0.32}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-calendar-month-label md-icon,.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-3}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-hue-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{foreground-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{foreground-3}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{foreground-4}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-1}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu>button{color:"{{foreground-1}}"}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.18}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button[disabled]{color:"{{foreground-3}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused.ng-empty>md-radio-button:first-child .md-container:before{background-color:"{{foreground-3-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value{border-color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value span{color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value{border-color:"{{warn-A700}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value span{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{foreground-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{foreground-3}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background-color:"{{background-500-0.18}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{foreground-1}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-focused:not(.md-checked) .md-thumb:before,md-switch.md-THEME_NAME-theme.md-focused[disabled] .md-thumb:before{background-color:"{{foreground-4}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}')}(window,window.angular),window.ngMaterial={version:{full:"1.1.19"}},function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",dropzoneClass:"angular-ui-tree-dropzone",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,t){(this.scope=e).$element=t,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(n,r){(this.scope=n).$element=r,n.$modelValue=null,n.$parentNodeScope=null,n.$childNodesScope=null,n.$parentNodesScope=null,n.$treeScope=null,n.$handleScope=null,n.$type="uiTreeNode",n.$$allowNodeDrop=!1,n.collapsed=!1,n.expandOnHover=!1,n.init=function(e){var t=e[0];n.$treeScope=e[1]?e[1].scope:null,n.$parentNodeScope=t.scope.$nodeScope,n.$modelValue=t.scope.$modelValue[n.$index],n.$parentNodesScope=t.scope,t.scope.initSubNode(n),r.on("$destroy",function(){t.scope.destroySubNode(n)})},n.index=function(){return n.$parentNodesScope.$modelValue.indexOf(n.$modelValue)},n.dragEnabled=function(){return!(n.$treeScope&&!n.$treeScope.dragEnabled)},n.isSibling=function(e){return n.$parentNodesScope==e.$parentNodesScope},n.isChild=function(e){var t=n.childNodes();return t&&-1<t.indexOf(e)},n.prev=function(){var e=n.index();return 0<e?n.siblings()[e-1]:null},n.siblings=function(){return n.$parentNodesScope.childNodes()},n.childNodesCount=function(){return n.childNodes()?n.childNodes().length:0},n.hasChild=function(){return 0<n.childNodesCount()},n.childNodes=function(){return n.$childNodesScope&&n.$childNodesScope.$modelValue?n.$childNodesScope.childNodes():null},n.accept=function(e,t){return n.$childNodesScope&&n.$childNodesScope.$modelValue&&n.$childNodesScope.accept(e,t)},n.remove=function(){return n.$parentNodesScope.removeNode(n)},n.toggle=function(){n.collapsed=!n.collapsed,n.$treeScope.$callbacks.toggle(n.collapsed,n)},n.collapse=function(){n.collapsed=!0},n.expand=function(){n.collapsed=!1},n.depth=function(){var e=n.$parentNodeScope;return e?e.depth()+1:1},n.maxSubDepth=function(){return n.$childNodesScope?function e(t){if(!t)return 0;var n,r,i=0,o=t.childNodes();if(!o||0===o.length)return 0;for(r=o.length-1;0<=r;r--)n=1+e(o[r]),i=Math.max(i,n);return i}(n.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element","$timeout",function(n,e,r){(this.scope=n).$element=e,n.$modelValue=null,n.$nodeScope=null,n.$treeScope=null,n.$type="uiTreeNodes",n.$nodesMap={},n.nodropEnabled=!1,n.maxDepth=0,n.cloneEnabled=!1,n.initSubNode=function(e){if(!e.$modelValue)return null;n.$nodesMap[e.$modelValue.$$hashKey]=e},n.destroySubNode=function(e){if(!e.$modelValue)return null;n.$nodesMap[e.$modelValue.$$hashKey]=null},n.accept=function(e,t){return n.$treeScope.$callbacks.accept(e,n,t)},n.beforeDrag=function(e){return n.$treeScope.$callbacks.beforeDrag(e)},n.isParent=function(e){return e.$parentNodesScope==n},n.hasChild=function(){return 0<n.$modelValue.length},n.removeNode=function(e){var t=n.$modelValue.indexOf(e.$modelValue);return-1<t?(r(function(){n.$modelValue.splice(t,1)[0]}),n.$treeScope.$callbacks.removed(e)):null},n.insertNode=function(e,t){r(function(){n.$modelValue.splice(e,0,t)})},n.childNodes=function(){var e,t=[];if(n.$modelValue)for(e=0;e<n.$modelValue.length;e++)t.push(n.$nodesMap[n.$modelValue[e].$$hashKey]);return t},n.depth=function(){return n.$nodeScope?n.$nodeScope.depth():0},n.outOfDepth=function(e){var t=n.maxDepth||n.$treeScope.maxDepth;return 0<t&&n.depth()+e.maxSubDepth()+1>t}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(t,e){(this.scope=t).$element=e,t.$nodesScope=null,t.$type="uiTree",t.$emptyElm=null,t.$dropzoneElm=null,t.$callbacks=null,t.dragEnabled=!0,t.emptyPlaceholderEnabled=!0,t.maxDepth=0,t.dragDelay=0,t.cloneEnabled=!1,t.nodropEnabled=!1,t.dropzoneEnabled=!1,t.isEmpty=function(){return t.$nodesScope&&t.$nodesScope.$modelValue&&0===t.$nodesScope.$modelValue.length},t.place=function(e){t.$nodesScope.$element.append(e),t.$emptyElm.remove()},this.resetEmptyElement=function(){t.$nodesScope.$modelValue&&0!==t.$nodesScope.$modelValue.length||!t.emptyPlaceholderEnabled?t.$emptyElm.remove():e.append(t.$emptyElm)},this.resetDropzoneElement=function(){t.$nodesScope.$modelValue&&0===t.$nodesScope.$modelValue.length||!t.dropzoneEnabled?t.$dropzoneElm.remove():e.append(t.$dropzoneElm)},t.resetEmptyElement=this.resetEmptyElement,t.resetDropzoneElement=this.resetDropzoneElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(c,u){return{restrict:"A",scope:!0,controller:"TreeController",link:function(n,e,t,r){var i,o,a,s={accept:null,beforeDrag:null},l={};angular.extend(l,c),l.treeClass&&e.addClass(l.treeClass),"table"===e.prop("tagName").toLowerCase()?(n.$emptyElm=angular.element(u.document.createElement("tr")),a=0<(o=e.find("tr")).length?angular.element(o).children().length:1e6,i=angular.element(u.document.createElement("td")).attr("colspan",a),n.$emptyElm.append(i)):(n.$emptyElm=angular.element(u.document.createElement("div")),n.$dropzoneElm=angular.element(u.document.createElement("div"))),l.emptyTreeClass&&n.$emptyElm.addClass(l.emptyTreeClass),l.dropzoneClass&&n.$dropzoneElm.addClass(l.dropzoneClass),n.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&(r.resetEmptyElement(),r.resetDropzoneElement())},!0),n.$watch(t.dragEnabled,function(e){"boolean"==typeof e&&(n.dragEnabled=e)}),n.$watch(t.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(n.emptyPlaceholderEnabled=e,r.resetEmptyElement())}),n.$watch(t.nodropEnabled,function(e){"boolean"==typeof e&&(n.nodropEnabled=e)}),n.$watch(t.dropzoneEnabled,function(e){"boolean"==typeof e&&(n.dropzoneEnabled=e,r.resetDropzoneElement())}),n.$watch(t.cloneEnabled,function(e){"boolean"==typeof e&&(n.cloneEnabled=e)}),n.$watch(t.maxDepth,function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(t.dragDelay,function(e){"number"==typeof e&&(n.dragDelay=e)}),s.accept=function(e,t,n){return!(t.nodropEnabled||t.$treeScope.nodropEnabled||t.outOfDepth(e))},s.beforeDrag=function(e){return!0},s.expandTimeoutStart=function(){},s.expandTimeoutCancel=function(){},s.expandTimeoutEnd=function(){},s.removed=function(e){},s.dropped=function(e){},s.dragStart=function(e){},s.dragMove=function(e){},s.dragStop=function(e){},s.beforeDrop=function(e){},s.toggle=function(e,t){},n.$watch(t.uiTree,function(e,t){angular.forEach(e,function(e,t){s[t]&&"function"==typeof e&&(s[t]=e)}),n.$callbacks=s},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(o){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(e,t,n,r){var i={};angular.extend(i,o),i.handleClass&&t.addClass(i.handleClass),e!=r.scope&&(e.$nodeScope=r.scope,r.scope.$handleScope=e)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(x,F,H,j,B,U){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(E,d,t,e){var _,$,S,A,h,k,T,M,N,P,R,n,r,i,o,a,s,l,c,u,f,p,m,D,g,v,O,y,I={},b="ontouchstart"in window,L=null,w=document.body,C=document.documentElement;angular.extend(I,x),I.nodeClass&&d.addClass(I.nodeClass),E.init(e),E.collapsed=!!F.getNodeAttribute(E,"collapsed")||x.defaultCollapsed,E.expandOnHover=!!F.getNodeAttribute(E,"expandOnHover"),E.scrollContainer=F.getNodeAttribute(E,"scrollContainer")||t.scrollContainer||null,E.sourceOnly=E.nodropEnabled||E.$treeScope.nodropEnabled,E.$watch(t.collapsed,function(e){"boolean"==typeof e&&(E.collapsed=e)}),E.$watch("collapsed",function(e){F.setNodeAttribute(E,"collapsed",e),t.$set("collapsed",e)}),E.$watch(t.expandOnHover,function(e){"boolean"!=typeof e&&"number"!=typeof e||(E.expandOnHover=e)}),E.$watch("expandOnHover",function(e){F.setNodeAttribute(E,"expandOnHover",e),t.$set("expandOnHover",e)}),t.$observe("scrollContainer",function(e){"string"==typeof e&&(E.scrollContainer=e)}),E.$watch("scrollContainer",function(e){F.setNodeAttribute(E,"scrollContainer",e),t.$set("scrollContainer",e),T=document.querySelector(e)}),E.$on("angular-ui-tree:collapse-all",function(){E.collapsed=!0}),E.$on("angular-ui-tree:expand-all",function(){E.collapsed=!1}),n=function(e){if((b||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var t,n,r,i,o,a,s,l,c,u=angular.element(e.target);if((t=F.treeNodeHandlerContainerOfElement(u))&&(u=angular.element(t)),n=d.clone(),l=F.elementIsTreeNode(u),c=F.elementIsTreeNodeHandle(u),(l||c)&&!(l&&F.elementContainsTreeNodeHandler(u)||"input"==(r=u.prop("tagName").toLowerCase())||"textarea"==r||"button"==r||"select"==r)){for(g=angular.element(e.target),v=g[0].attributes["ui-tree"];g&&g[0]&&g[0]!==d&&!v;){if(g[0].attributes&&(v=g[0].attributes["ui-tree"]),F.nodrag(g))return;g=g.parent()}E.beforeDrag(E)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),o=F.eventObj(e),_=!0,$=F.dragInfo(E),O=$.source.$treeScope.$id,"tr"===(i=d.prop("tagName")).toLowerCase()?(A=angular.element(H.document.createElement(i)),a=angular.element(H.document.createElement("td")).addClass(I.placeholderClass).attr("colspan",d[0].children.length),A.append(a)):A=angular.element(H.document.createElement(i)).addClass(I.placeholderClass),h=angular.element(H.document.createElement(i)),I.hiddenClass&&h.addClass(I.hiddenClass),S=F.positionStarted(o,d),A.css("height",d.prop("offsetHeight")+"px"),(k=angular.element(H.document.createElement(E.$parentNodesScope.$element.prop("tagName"))).addClass(E.$parentNodesScope.$element.attr("class")).addClass(I.dragClass)).css("width",F.width(d)+"px"),k.css("z-index",9999),(s=(d[0].querySelector(".angular-ui-tree-handle")||d[0]).currentStyle)&&(document.body.setAttribute("ui-tree-cursor",j.find("body").css("cursor")||""),j.find("body").css({cursor:s.cursor+"!important"})),E.sourceOnly&&A.css("display","none"),d.after(A),d.after(h),$.isClone()&&E.sourceOnly?k.append(n):k.append(d),j.find("body").append(k),k.css({left:o.pageX-S.offsetX+"px",top:o.pageY-S.offsetY+"px"}),N={placeholder:A,dragging:k},f(),E.$apply(function(){E.$treeScope.$callbacks.dragStart($.eventArgs(N,S))}),P=Math.max(w.scrollHeight,w.offsetHeight,C.clientHeight,C.scrollHeight,C.offsetHeight),R=Math.max(w.scrollWidth,w.offsetWidth,C.clientWidth,C.scrollWidth,C.offsetWidth))}}},r=function(e){var t,n,r,i,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x=F.eventObj(e);if(k){if(e.preventDefault(),H.getSelection?H.getSelection().removeAllRanges():H.document.selection&&H.document.selection.empty(),(n=x.pageX-S.offsetX)<0&&(n=0),(r=x.pageY-S.offsetY)<0&&(r=0),P<r+10&&(r=P-10),R<n+10&&(n=R-10),k.css({left:n+"px",top:r+"px"}),T?(a=T.getBoundingClientRect(),o=(i=T.scrollTop)+T.clientHeight,a.bottom<x.clientY&&o<T.scrollHeight&&(p=Math.min(T.scrollHeight-o,10),T.scrollTop+=p),a.top>x.clientY&&0<i&&(m=Math.min(i,10),T.scrollTop-=m)):((o=(i=window.pageYOffset||H.document.documentElement.scrollTop)+(window.innerHeight||H.document.clientHeight||H.document.clientHeight))<x.pageY&&o<P&&(p=Math.min(P-o,10),window.scrollBy(0,p)),i>x.pageY&&(m=Math.min(i,10),window.scrollBy(0,-m))),F.positionMoved(e,S,_),_)return void(_=!1);if(l=x.pageX-(H.pageXOffset||H.document.body.scrollLeft||H.document.documentElement.scrollLeft)-(H.document.documentElement.clientLeft||0),c=x.pageY-(H.pageYOffset||H.document.body.scrollTop||H.document.documentElement.scrollTop)-(H.document.documentElement.clientTop||0),angular.isFunction(k.hide)?k.hide():(u=k[0].style.display,k[0].style.display="none"),H.document.elementFromPoint(l,c),h=angular.element(H.document.elementFromPoint(l,c)),(D=F.treeNodeHandlerContainerOfElement(h))&&(h=angular.element(D)),angular.isFunction(k.show)?k.show():k[0].style.display=u,F.elementIsTree(h)?d=h.controller("uiTree").scope:F.elementIsTreeNodeHandle(h)?d=h.controller("uiTreeHandle").scope:F.elementIsTreeNode(h)?d=h.controller("uiTreeNode").scope:F.elementIsTreeNodes(h)||F.elementIsPlaceholder(h)?d=h.controller("uiTreeNodes").scope:F.elementIsDropzone(h)?(d=h.controller("uiTree").scope,C=!0):h.controller("uiTreeNode")&&(d=h.controller("uiTreeNode").scope),d&&d.$treeScope&&d.$treeScope.$id&&d.$treeScope.$id===O&&S.dirAx)0<S.distX&&(t=$.prev())&&!t.collapsed&&t.accept(E,t.childNodesCount())&&(t.$childNodesScope.$element.append(A),$.moveTo(t.$childNodesScope,t.childNodes(),t.childNodesCount())),S.distX<0&&($.next()||(s=$.parentNode())&&s.$parentNodesScope.accept(E,s.index()+1)&&(s.$element.after(A),$.moveTo(s.$parentNodesScope,s.siblings(),s.index()+1)));else{if(f=!1,!d)return;if(!d.$treeScope||d.$parent.nodropEnabled||d.$treeScope.nodropEnabled||A.css("display",""),"uiTree"===d.$type&&d.dragEnabled&&(f=d.isEmpty()),"uiTreeHandle"===d.$type&&(d=d.$nodeScope),"uiTreeNode"!==d.$type&&!f&&!C)return void(I.appendChildOnHover&&!$.next()&&M&&((s=$.parentNode()).$element.after(A),$.moveTo(s.$parentNodesScope,s.siblings(),s.index()+1),M=!1));L&&A.parent()[0]!=L.$element[0]&&(L.resetEmptyElement(),L.resetDropzoneElement(),L=null),f?(L=d).$nodesScope.accept(E,0)&&$.moveTo(d.$nodesScope,d.$nodesScope.childNodes(),0):C?(L=d).$nodesScope.accept(E,d.$nodesScope.childNodes().length)&&$.moveTo(d.$nodesScope,d.$nodesScope.childNodes(),d.$nodesScope.childNodes().length):d.dragEnabled()&&(angular.isDefined(E.expandTimeoutOn)&&E.expandTimeoutOn!==d.id&&(B.cancel(E.expandTimeout),delete E.expandTimeout,delete E.expandTimeoutOn,E.$callbacks.expandTimeoutCancel()),d.collapsed&&(!0===E.expandOnHover||angular.isNumber(E.expandOnHover)&&0===E.expandOnHover?(d.collapsed=!1,d.$treeScope.$callbacks.toggle(!1,d)):!1!==E.expandOnHover&&angular.isNumber(E.expandOnHover)&&0<E.expandOnHover&&angular.isUndefined(E.expandTimeoutOn)&&(E.expandTimeoutOn=d.$id,E.$callbacks.expandTimeoutStart(),E.expandTimeout=B(function(){E.$callbacks.expandTimeoutEnd(),d.collapsed=!1,d.$treeScope.$callbacks.toggle(!1,d)},E.expandOnHover))),h=d.$element,g=F.offset(h),b=F.height(h),b-=(w=d.$childNodesScope?d.$childNodesScope.$element:null)?F.height(w):0,y=I.appendChildOnHover?.25*b:F.height(h)/2,v=x.pageY<g.top+y,d.$parentNodesScope.accept(E,d.index())?v?(h[0].parentNode.insertBefore(A[0],h[0]),$.moveTo(d.$parentNodesScope,d.siblings(),d.index())):I.appendChildOnHover&&d.accept(E,d.childNodesCount())?(d.$childNodesScope.$element.prepend(A),$.moveTo(d.$childNodesScope,d.childNodes(),0),M=!0):(h.after(A),$.moveTo(d.$parentNodesScope,d.siblings(),d.index()+1)):!v&&d.accept(E,d.childNodesCount())&&(d.$childNodesScope.$element.append(A),$.moveTo(d.$childNodesScope,d.childNodes(),d.childNodesCount())))}E.$apply(function(){E.$treeScope.$callbacks.dragMove($.eventArgs(N,S))})}},i=function(e){var t=$.eventArgs(N,S);e.preventDefault(),p(),B.cancel(E.expandTimeout),E.$treeScope.$apply(function(){U.when(E.$treeScope.$callbacks.beforeDrop(t)).then(function(e){!1!==e&&E.$$allowNodeDrop?($.apply(),E.$treeScope.$callbacks.dropped(t)):u()}).catch(function(){u()}).finally(function(){h.replaceWith(E.$element),A.remove(),k&&(k.remove(),k=null),E.$treeScope.$callbacks.dragStop(t),E.$$allowNodeDrop=!1,$=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(j.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},o=function(e){E.dragEnabled()&&n(e)},a=function(e){r(e)},s=function(e){E.$$allowNodeDrop=!0,i(e)},l=function(e){i(e)},c={exec:function(e,t){t=t||0,this.cancel(),y=B(e,t)},cancel:function(){B.cancel(y)}},m=function(e){27===e.keyCode&&s(e)},(u=function(){d.bind("touchstart mousedown",function(e){0<E.dragDelay?c.exec(function(){o(e)},E.dragDelay):o(e)}),d.bind("touchend touchcancel mouseup",function(){0<E.dragDelay&&c.cancel()})})(),f=function(){angular.element(j).bind("touchend",s),angular.element(j).bind("touchcancel",s),angular.element(j).bind("touchmove",a),angular.element(j).bind("mouseup",s),angular.element(j).bind("mousemove",a),angular.element(j).bind("mouseleave",l),angular.element(j).bind("keydown",m)},p=function(){angular.element(j).unbind("touchend",s),angular.element(j).unbind("touchcancel",s),angular.element(j).unbind("touchmove",a),angular.element(j).unbind("mouseup",s),angular.element(j).unbind("mousemove",a),angular.element(j).unbind("mouseleave",l),angular.element(j).unbind("keydown",m)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(l){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(t,e,n,r){var i={},o=r[0],a=r[1],s=r[2];angular.extend(i,l),i.nodesClass&&e.addClass(i.nodesClass),a?(a.scope.$childNodesScope=t).$nodeScope=a.scope:s.scope.$nodesScope=t,t.$treeScope=s.scope,o&&(o.$render=function(){t.$modelValue=o.$modelValue}),t.$watch(function(){return n.maxDepth},function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(function(){return n.nodropEnabled},function(e){void 0!==e&&(t.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(n,r,t){return{nodesData:{},setNodeAttribute:function(e,t,n){if(!e.$modelValue)return null;var r=this.nodesData[e.$modelValue.$$hashKey];r||(r={},this.nodesData[e.$modelValue.$$hashKey]=r),r[t]=n},getNodeAttribute:function(e,t){if(!e.$modelValue)return null;var n=this.nodesData[e.$modelValue.$$hashKey];return n?n[t]:null},nodrag:function(e){return void 0!==e.attr("data-nodrag")&&"false"!==e.attr("data-nodrag")},eventObj:function(e){var t=e;return void 0!==e.targetTouches?t=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(t=e.originalEvent.targetTouches.item(0)),t},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:!0===e.$treeScope.cloneEnabled?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,resetParent:function(){this.parent=e.$parentNodesScope},moveTo:function(e,t,n){this.parent=e,this.siblings=t.slice(0);var r=this.siblings.indexOf(this.source);-1<r&&(this.siblings.splice(r,1),this.source.index()<n&&n--),this.siblings.splice(n,0,this.source),this.index=n},parentNode:function(){return this.parent.$nodeScope},prev:function(){return 0<this.index?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return!0===this.source.$treeScope.cloneEnabled},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,t){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:t}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(e){var t=e[0].getBoundingClientRect();return{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:t.top+(r.pageYOffset||n[0].body.scrollTop||n[0].documentElement.scrollTop),left:t.left+(r.pageXOffset||n[0].body.scrollLeft||n[0].documentElement.scrollLeft)}},positionStarted:function(e,t){var n={},r=e.pageX,i=e.pageY;return e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(r=e.originalEvent.touches[0].pageX,i=e.originalEvent.touches[0].pageY),n.offsetX=r-this.offset(t).left,n.offsetY=i-this.offset(t).top,n.startX=n.lastX=r,n.startY=n.lastY=i,n.nowX=n.nowY=n.distX=n.distY=n.dirAx=0,n.dirX=n.dirY=n.lastDirX=n.lastDirY=n.distAxX=n.distAxY=0,n},positionMoved:function(e,t,n){var r,i=e.pageX,o=e.pageY;if(e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(i=e.originalEvent.touches[0].pageX,o=e.originalEvent.touches[0].pageY),t.lastX=t.nowX,t.lastY=t.nowY,t.nowX=i,t.nowY=o,t.distX=t.nowX-t.lastX,t.distY=t.nowY-t.lastY,t.lastDirX=t.dirX,t.lastDirY=t.dirY,t.dirX=0===t.distX?0:0<t.distX?1:-1,t.dirY=0===t.distY?0:0<t.distY?1:-1,r=Math.abs(t.distX)>Math.abs(t.distY)?1:0,n)return t.dirAx=r,void(t.moving=!0);t.dirAx!==r?(t.distAxX=0,t.distAxY=0):(t.distAxX+=Math.abs(t.distX),0!==t.dirX&&t.dirX!==t.lastDirX&&(t.distAxX=0),t.distAxY+=Math.abs(t.distY),0!==t.dirY&&t.dirY!==t.lastDirY&&(t.distAxY=0)),t.dirAx=r},elementIsTreeNode:function(e){return void 0!==e.attr("ui-tree-node")},elementIsTreeNodeHandle:function(e){return void 0!==e.attr("ui-tree-handle")},elementIsTree:function(e){return void 0!==e.attr("ui-tree")},elementIsTreeNodes:function(e){return void 0!==e.attr("ui-tree-nodes")},elementIsPlaceholder:function(e){return e.hasClass(t.placeholderClass)},elementIsDropzone:function(e){return e.hasClass(t.dropzoneClass)},elementContainsTreeNodeHandler:function(e){return 1<=e[0].querySelectorAll("[ui-tree-handle]").length},treeNodeHandlerContainerOfElement:function(e){return function(e,t){if(void 0===t)return null;var n=t.parentNode,r="function"==typeof n.setAttribute&&n.hasAttribute(e)?n:null;for(;n&&"function"==typeof n.setAttribute&&!n.hasAttribute(e);){if(n=n.parentNode,(r=n)===document.documentElement){r=null;break}0}return r}("ui-tree-handle",e[0])}}}])}();var wysihtml5={version:"0.5.5",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,VOID_ELEMENTS:"area, base, br, col, embed, hr, img, input, keygen, link, meta, param, source, track, wbr",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46};wysihtml5.polyfills=function(h,r){var e,t,n,i,o;String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),n="removeEventListener",r[t="addEventListener"]||(h.Element.prototype[t]=h[t]=r[t]=function(e,t,n){return(n=this).attachEvent("on"+e,function(e){(e=e||h.event).target=e.target||e.srcElement,e.preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},e.which=e.button?2===e.button?3:4===e.button?2:e.button:e.keyCode,t.call(n,e)})},h.Element.prototype[n]=h[n]=r[n]=function(e,t){return this.detachEvent("on"+e,t)}),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(h.Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(h.Element.prototype,"textContent").get&&(i=Object.getOwnPropertyDescriptor(h.Element.prototype,"innerText"),Object.defineProperty(h.Element.prototype,"textContent",{get:function(){return i.get.call(this)},set:function(e){return i.set.call(this,e)}})),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=this.length,r=-1,i=t>>>0;~(n-i);r=this[--n]===e?n:r);return r}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function n(){return i.apply(this instanceof t&&e?this:e,r.concat(Array.prototype.slice.call(arguments)))}var r=Array.prototype.slice.call(arguments,1),i=this;return t.prototype=this.prototype,n.prototype=new t,n}),(o=Element.prototype).matches=o.matches||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return!!t[n]},o.closest=o.closest||function(e){for(var t=this;t&&!t.matches(e);)t=t.parentElement;return t},"document"in h&&("classList"in r.createElement("_")?"DOMTokenList"in h&&function(){"use strict";var e=r.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var r=h.DOMTokenList.prototype[e];h.DOMTokenList.prototype[e]=function(e){var t,n=arguments.length;for(t=0;t<n;t++)e=arguments[t],r.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=h.DOMTokenList.prototype.toggle;h.DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}():function(){"use strict";if("Element"in h){var t="classList",e="prototype",n=h.Element[e],r=Object,o=String[e].trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array[e].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(e,t)},l=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=l[e]=[],u=function(){return new l(this)};if(a[e]=Error[e],c.item=function(e){return this[e]||null},c.contains=function(e){return-1!==s(this,e+="")},c.add=function(){for(var e,t=arguments,n=0,r=t.length,i=!1;-1===s(this,e=t[n]+"")&&(this.push(e),i=!0),++n<r;);i&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(t=s(this,e=n[r]+"");-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++r<i);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},r.defineProperty){var d={get:u,enumerable:!0,configurable:!0};try{r.defineProperty(n,t,d)}catch(e){-2146823252===e.number&&(d.enumerable=!1,r.defineProperty(n,t,d))}}else r[e].__defineGetter__&&n.__defineGetter__(t,u)}}());var d=function(e){var t=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t.push(e):t=t.concat(d(e));return t},a=function(){window.removeEventListener("load",a),"Node"in window&&"normalize"in Node.prototype&&function(){if("createRange"in document&&"getSelection"in window){var e,t,n=document.createElement("div"),r=document.createTextNode("a"),i=document.createTextNode("a"),o=document.createTextNode("a"),a=document.createRange();return n.setAttribute("contenteditable","true"),n.appendChild(r),n.appendChild(i),n.appendChild(o),document.body.appendChild(n),a.setStart(i,1),a.setEnd(i,1),(e=window.getSelection()).removeAllRanges(),e.addRange(a),n.normalize(),e=window.getSelection(),t=1!==n.childNodes.length||e.anchorNode!==n.firstChild||2!==e.anchorOffset,n.parentNode.removeChild(n),e.removeAllRanges(),t}}()&&function(){Node.prototype.normalize;Node.prototype.normalize=function(){var e=d(this),t=this.ownerDocument.defaultView.getSelection(),n=t.anchorNode,r=t.anchorOffset,i=n&&1===n.nodeType&&0<n.childNodes.length?n.childNodes[r]:void 0,o=t.focusNode,a=t.focusOffset,s=o&&1===o.nodeType&&0<a?o.childNodes[a-1]:void 0,l=this.ownerDocument.createRange(),c=e.shift(),u=c?e.shift():null;for(s&&3===s.nodeType&&(a=(o=s).nodeValue.length,s=void 0),i&&3===i.nodeType&&(n=i,i=void(r=0)),(n===o&&a<r||n!==o&&n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_PRECEDING&&!(n.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINS))&&(o=[n,n=o][0],a=[r,r=a][0]);c&&u;)u=(u.previousSibling&&u.previousSibling===c?(n===u&&(r=(n=c).nodeValue.length+r),o===u&&(a=(o=c).nodeValue.length+a),c.nodeValue=c.nodeValue+u.nodeValue,u.parentNode.removeChild(u)):c=u,e.shift());s&&(a=Array.prototype.indexOf.call(s.parentNode.childNodes,s)+1),i&&(r=Array.prototype.indexOf.call(i.parentNode.childNodes,i)),function(e){var t=e.ownerDocument,n=e;do{if(n===t)return!0;n=n.parentNode}while(n);return!1}(this)&&n&&n.parentNode&&o&&o.parentNode&&(l.setStart(n,r),l.setEnd(o,a),t.removeAllRanges(),t.addRange(l))}}()};"complete"!==r.readyState?window.addEventListener("load",a):a();var s=function(){try{var e=new CustomEvent("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}();!function(){if(!s&&"CustomEvent"in window){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=r.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=h.Event.prototype,h.CustomEvent=e,s=!0}}()},wysihtml5.polyfills(window,document),function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){var r="object",i="function",n="undefined",l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],c=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],t=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],o=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function u(e,t){var n=typeof e[t];return n==i||!(n!=r||!e[t])||"unknown"==n}function a(e,t){return!(typeof e[t]!=r||!e[t])}function e(e,t){return typeof e[t]!=n}function s(r){return function(e,t){for(var n=t.length;n--;)if(!r(e,t[n]))return!1;return!0}}var d=s(u),h=s(a),f=s(e);function p(e){return e&&d(e,o)&&f(e,t)}function m(e){return a(e,"body")?e.body:e.getElementsByTagName("body")[0]}var g,v,y={},b=typeof window!=n&&typeof document!=n,w={isHostMethod:u,isHostObject:a,isHostProperty:e,areHostMethods:d,areHostObjects:h,areHostProperties:f,isTextRange:p,getBody:m,forEach:[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)}},C={version:"1.3.0",initialized:!1,isBrowser:b,supported:!0,util:w,features:{},modules:y,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function x(e){typeof console!=n&&u(console,"log")&&console.log(e)}function E(e,t){(b&&t?alert:x)(e)}function _(e){C.initialized=!0,C.supported=!1,E("Rangy is not supported in this environment. Reason: "+e,C.config.alertOnFail)}C.fail=_,C.warn=function(e){E("Rangy warning: "+e,C.config.alertOnWarn)},!{}.hasOwnProperty?_("hasOwnProperty not supported"):(w.extend=g=function(e,t,n){var r,i;for(var o in t)t.hasOwnProperty(o)&&(r=e[o],i=t[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&g(r,i,!0),e[o]=i);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},w.createOptions=function(e,t){var n={};return g(n,t),e&&g(n,e),n}),b||_("Rangy can only run in a browser"),function(){var e;if(b){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e=e||function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t},w.toArray=e}(),b&&(u(document,"addEventListener")?v=function(e,t,n){e.addEventListener(t,n,!1)}:u(document,"attachEvent")?v=function(e,t,n){e.attachEvent("on"+t,n)}:_("Document does not have required addEventListener or attachEvent method"),w.addListener=v);var $=[];function S(e){return e.message||e.description||String(e)}function A(){if(b&&!C.initialized){var e,t=!1,n=!1;u(document,"createRange")&&(e=document.createRange(),d(e,c)&&f(e,l)&&(t=!0));var r=m(document);if(r&&"body"==r.nodeName.toLowerCase())if(r&&u(r,"createTextRange")&&p(e=r.createTextRange())&&(n=!0),t||n){var i;for(var o in C.initialized=!0,C.features={implementsDomRange:t,implementsTextRange:n},y)(i=y[o])instanceof N&&i.init(i,C);for(var a=0,s=$.length;a<s;++a)try{$[a](C)}catch(e){x("Rangy init listener threw an exception. Continuing. Detail: "+S(e))}}else _("Neither Range nor TextRange are available");else _("No body element found")}}function k(e,t,n){n&&(e+=" in module "+n.name),C.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function T(e,t,n,r){e[t]=function(){return k(t,n,r),e[n].apply(e,w.toArray(arguments))}}w.deprecationNotice=k,w.createAliasForDeprecatedMethod=T,C.init=A,C.addInitListener=function(e){C.initialized?e(C):$.push(e)};var M=[];function N(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function P(t,e,n){var r=new N(t,e,function(e){if(!e.initialized){e.initialized=!0;try{n(C,e),e.supported=!0}catch(e){x("Module '"+t+"' failed to load: "+S(e)),e.stack&&x(e.stack)}}});return y[t]=r}function R(){}C.addShimListener=function(e){M.push(e)},b&&(C.shim=C.createMissingNativeApi=function(e){e=e||window,A();for(var t=0,n=M.length;t<n;++t)M[t](e)},T(C,"createMissingNativeApi","shim")),N.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(!((e=y[t=n[r]])&&e instanceof N))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){C.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){C.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},C.createModule=function(e){var t,n=P(e,2==arguments.length?(t=arguments[1],[]):(t=arguments[2],arguments[1]),t);C.initialized&&C.supported&&n.init()},C.createCoreModule=function(e,t,n){P(e,t,n)},C.RangePrototype=R,C.rangePrototype=new R,C.selectionPrototype=new function(){},C.createCoreModule("DomUtil",[],function(n,c){var r="undefined",i=n.util,a=i.getBody;i.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||c.fail("document missing a Node creation method"),i.isHostMethod(document,"getElementsByTagName")||c.fail("document missing getElementsByTagName method");var e=document.createElement("div");i.areHostMethods(e,["insertBefore","appendChild","cloneNode"])||c.fail("Incomplete Element implementation"),i.isHostProperty(e,"innerHTML")||c.fail("Element is missing innerHTML property");var t=document.createTextNode("test");i.areHostMethods(t,["splitText","deleteData","insertData","appendData","cloneNode"])||c.fail("Incomplete Text Node implementation");var o=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};function u(e){for(var t=0;e=e.previousSibling;)++t;return t}function d(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(o(r,n))return n;return null}function s(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function h(e,t,n){for(var r,i=n?e:e.parentNode;i;){if((r=i.parentNode)===t)return i;i=r}return null}function l(e){var t=e.nodeType;return 3==t||4==t||8==t}function f(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=r)return e.ownerDocument;if(typeof e.document!=r)return e.document;if(e.parentNode)return p(e.parentNode);throw c.createError("getDocument: no document found for node")}function m(e){var t=p(e);if(typeof t.defaultView!=r)return t.defaultView;if(typeof t.parentWindow!=r)return t.parentWindow;throw c.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=r)return e.contentDocument;if(typeof e.contentWindow!=r)return e.contentWindow.document;throw c.createError("getIframeDocument: No Document object found for iframe element")}function v(e){return e&&i.isHostMethod(e,"setTimeout")&&i.isHostObject(e,"document")}var y,b=!1;function w(e){try{return e.parentNode,!1}catch(e){return!0}}function C(e){if(!e)return"[No node]";if(b&&w(e))return"[Broken node]";if(l(e))return'"'+e.data+'"';if(1!=e.nodeType)return e.nodeName;var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+u(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}function x(e){this.root=e,this._next=e}function E(e,t){this.node=e,this.offset=t}function _(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var e=document.createElement("b");e.innerHTML="1";var t=e.firstChild;e.innerHTML="<br />",b=w(t),n.features.crashyTextNodes=b}(),typeof window.getComputedStyle!=r?y=function(e,t){return m(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=r?y=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:c.fail("No means of obtaining computed style properties found"),x.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},E.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(_.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},n.dom={arrayContains:o,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==r||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:u,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:d,isAncestorOf:s,isOrIsAncestorOf:function(e,t){return s(e,t,!0)},getClosestAncestorIn:h,isCharacterDataNode:l,isTextOrCommentNode:function(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:f,splitDataNode:function(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),f(r,e),n)for(var i,o=0;i=n[o++];)i.node==e&&i.offset>t?(i.node=r,i.offset-=t):i.node==e.parentNode&&i.offset>u(e)&&++i.offset;return r},getDocument:p,getWindow:m,getIframeWindow:function(e){if(typeof e.contentWindow!=r)return e.contentWindow;if(typeof e.contentDocument!=r)return e.contentDocument.defaultView;throw c.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:g,getBody:a,isWindow:v,getContentDocument:function(e,t,n){var r;if(e?i.isHostProperty(e,"nodeType")?r=(1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g:p)(e):v(e)&&(r=e.document):r=document,!r)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return r},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,t,n,r){var i,o,a,s,l;if(e==n)return t===r?0:t<r?-1:1;if(i=h(n,e,!0))return t<=u(i)?-1:1;if(i=h(e,n,!0))return u(i)<r?-1:1;if(!(o=d(e,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((a=e===o?o:h(e,o,!0))===(s=n===o?o:h(n,o,!0)))throw c.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=o.firstChild;l;){if(l===a)return-1;if(l===s)return 1;l=l.nextSibling}},isBrokenNode:w,inspectNode:C,getComputedStyleProperty:y,createTestElement:function(e,t,n){var r=a(e),i=e.createElement("div");i.contentEditable=""+!!n,t&&(i.innerHTML=t);var o=r.firstChild;return o?r.insertBefore(i,o):r.appendChild(i),i},removeNode:function(e){return e.parentNode.removeChild(e)},fragmentFromNodeChildren:function(e){for(var t,n=p(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new x(e)},DomPosition:E},n.DOMException=_}),C.createCoreModule("DomRange",["DomUtil"],function(a,e){var s=a.dom,r=a.util,t=s.DomPosition,l=a.DOMException,d=s.isCharacterDataNode,h=s.getNodeIndex,c=s.isOrIsAncestorOf,i=s.getDocument,f=s.comparePoints,u=s.splitDataNode,p=s.getClosestAncestorIn,m=s.getNodeLength,o=s.arrayContains,g=s.getRootContainer,n=a.features.crashyTextNodes,v=s.removeNode;function y(e,t){return 3!=e.nodeType&&(c(e,t.startContainer)||c(e,t.endContainer))}function b(e){return e.document||i(e.startContainer)}function w(e){return new t(e.parentNode,h(e))}function C(e){return new t(e.parentNode,h(e)+1)}function x(e,t,n){var r=11==e.nodeType?e.firstChild:e;return d(t)?n==t.length?s.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:u(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),r}function E(e,t,n){if(V(e),V(t),b(t)!=b(e))throw new l("WRONG_DOCUMENT_ERR");var r=f(e.startContainer,e.startOffset,t.endContainer,t.endOffset),i=f(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&0<=i:r<0&&0<i}function _(e,t,n){var r,i,o,a;for(n=n||{stop:!1};o=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(o))return void(n.stop=!0);if(_(a=e.getSubtreeIterator(),t,n),a.detach(),n.stop)return}else for(r=s.createIterator(o);i=r.next();)if(!1===t(i))return void(n.stop=!0)}function $(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?($(t=e.getSubtreeIterator()),t.detach()):e.remove()}function S(e){for(var t,n,r=b(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(S(n)),n.detach()):e.remove(),10==t.nodeType)throw new l("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function A(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+s.inspectNode(e.startContainer)+":"+e.startOffset+", "+s.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function k(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&d(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||d(this.sc)?p(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||d(this.ec)?p(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}k.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,d(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!d(n)||n!==this.sc&&n!==this.ec?n.parentNode&&v(n):(e=n===this.sc?this.so:0)!=(t=n===this.ec?this.eo:n.length)&&n.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return y(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new he(b(this.range));var t=this._current,n=t,r=0,i=t,o=m(t);c(t,this.sc)&&(n=this.sc,r=this.so),c(t,this.ec)&&(i=this.ec,o=this.eo),de(e,n,r,i,o)}return new k(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var T=[1,3,4,5,7,8,10],M=[2,9,11],N=[1,3,4,5,7,8,10,11],P=[1,3,4,5,7,8];function R(i){return function(e,t){for(var n,r=t?e:e.parentNode;r;){if(n=r.nodeType,o(i,n))return r;r=r.parentNode}return null}}var D=R([9,11]),O=R([5,6,10,12]),I=R([6,10,12]);function L(e,t){if(I(e,t))throw new l("INVALID_NODE_TYPE_ERR")}function F(e,t){if(!o(t,e.nodeType))throw new l("INVALID_NODE_TYPE_ERR")}function H(e,t){if(t<0||t>(d(e)?e.length:e.childNodes.length))throw new l("INDEX_SIZE_ERR")}function j(e,t){if(D(e,!0)!==D(t,!0))throw new l("WRONG_DOCUMENT_ERR")}function B(e){if(O(e,!0))throw new l("NO_MODIFICATION_ALLOWED_ERR")}function U(e,t){if(!e)throw new l(t)}function q(e,t){return t<=(d(e)?e.length:e.childNodes.length)}function z(e){return!!e.startContainer&&!!e.endContainer&&!(n&&(s.isBrokenNode(e.startContainer)||s.isBrokenNode(e.endContainer)))&&g(e.startContainer)==g(e.endContainer)&&q(e.startContainer,e.startOffset)&&q(e.endContainer,e.endOffset)}function V(e){if(!z(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}var W=document.createElement("style"),G=!1;try{W.innerHTML="<b>x</b>",G=3==W.firstChild.nodeType}catch(e){}var Y=(a.features.htmlParsingConforms=G)?function(e){var t=this.startContainer,n=i(t);if(!t)throw new l("INVALID_STATE_ERR");var r=null;return 1==t.nodeType?r=t:d(t)&&(r=s.parentElement(t)),(r=null===r||"HTML"==r.nodeName&&s.isHtmlNamespace(i(r).documentElement)&&s.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1)).innerHTML=e,s.fragmentFromNodeChildren(r)}:function(e){var t=b(this).createElement("body");return t.innerHTML=e,s.fragmentFromNodeChildren(t)};function K(e,t){V(e);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n===i;d(i)&&0<o&&o<i.length&&u(i,o,t),d(n)&&0<r&&r<n.length&&(n=u(n,r,t),a?(o-=r,i=n):i==n.parentNode&&o>=h(n)&&o++,r=0),e.setStartAndEnd(n,r,i,o)}function X(e){V(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var Q=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,J=1,ee=2,te=3,ne=0,re=1,ie=2,oe=3;function ae(e){e.START_TO_START=Z,e.START_TO_END=J,e.END_TO_END=ee,e.END_TO_START=te,e.NODE_BEFORE=ne,e.NODE_AFTER=re,e.NODE_BEFORE_AND_AFTER=ie,e.NODE_INSIDE=oe}function se(e){ae(e),ae(e.prototype)}function le(a,s){return function(){V(this);var e,t=this.startContainer,n=this.startOffset,r=this.commonAncestorContainer,i=new k(this,!0);t!==r&&(t=(e=C(p(t,r,!0))).node,n=e.offset),_(i,B),i.reset();var o=a(i);return i.detach(),s(this,t,n,t,n),o}}function ce(e,u){function t(n,r){return function(e){F(e,T),F(g(e),M);var t=(n?w:C)(e);(r?i:o)(this,t.node,t.offset)}}function i(e,t,n){var r=e.endContainer,i=e.endOffset;t===e.startContainer&&n===e.startOffset||(g(t)==g(r)&&1!=f(t,n,r,i)||(r=t,i=n),u(e,t,n,r,i))}function o(e,t,n){var r=e.startContainer,i=e.startOffset;t===e.endContainer&&n===e.endOffset||(g(t)==g(r)&&-1!=f(t,n,r,i)||(r=t,i=n),u(e,r,i,t,n))}function n(){}n.prototype=a.rangePrototype,e.prototype=new n,r.extend(e.prototype,{setStart:function(e,t){L(e,!0),H(e,t),i(this,e,t)},setEnd:function(e,t){L(e,!0),H(e,t),o(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],r=t,i=n;switch(e.length){case 3:i=e[2];break;case 4:r=e[2],i=e[3]}u(this,t,n,r,i)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:t(!0,!0),setStartAfter:t(!1,!0),setEndBefore:t(!0,!1),setEndAfter:t(!1,!1),collapse:function(e){V(this),e?u(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):u(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){L(e,!0),u(this,e,0,e,m(e))},selectNode:function(e){L(e,!1),F(e,T);var t=w(e),n=C(e);u(this,t.node,t.offset,n.node,n.offset)},extractContents:le(S,u),deleteContents:le($,u),canSurroundContents:function(){V(this),B(this.startContainer),B(this.endContainer);var e=new k(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},splitBoundaries:function(){K(this)},splitBoundariesPreservingPositions:function(e){K(this,e)},normalizeBoundaries:function(){V(this);function e(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(s=(a=e).length,e.appendData(t.data),v(t))}function t(e){var t=e.previousSibling;if(t&&t.nodeType==e.nodeType){var n=(i=e).length;if(o=t.length,e.insertData(0,t.data),v(t),i==a)s+=o,a=i;else if(a==e.parentNode){var r=h(e);s==r?(a=e,s=n):r<s&&s--}}}var n,i=this.startContainer,o=this.startOffset,a=this.endContainer,s=this.endOffset,r=!0;if(d(a))s==a.length?e(a):0==s&&(n=a.previousSibling)&&n.nodeType==a.nodeType&&(s=n.length,i==a&&(r=!1),n.appendData(a.data),v(a),a=n);else{if(0<s){var l=a.childNodes[s-1];l&&d(l)&&e(l)}r=!this.collapsed}if(r){if(d(i))0==o?t(i):o==i.length&&(n=i.nextSibling)&&n.nodeType==i.nodeType&&(a==n&&(s+=(a=i).length),i.appendData(n.data),v(n));else if(o<i.childNodes.length){var c=i.childNodes[o];c&&d(c)&&t(c)}}else i=a,o=s;u(this,i,o,a,s)},collapseToPoint:function(e,t){L(e,!0),H(e,t),this.setStartAndEnd(e,t)}}),se(e)}function ue(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:s.getCommonAncestor(e.startContainer,e.endContainer)}function de(e,t,n,r,i){e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=i,e.document=s.getDocument(t),ue(e)}function he(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,ue(this)}r.extend(a.rangePrototype,{compareBoundaryPoints:function(e,t){var n,r,i,o;V(this),j(this.startContainer,t.startContainer);var a=e==te||e==Z?"start":"end",s=e==J||e==Z?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],i=t[s+"Container"],o=t[s+"Offset"],f(n,r,i,o)},insertNode:function(e){if(V(this),F(e,N),B(this.startContainer),c(e,this.startContainer))throw new l("HIERARCHY_REQUEST_ERR");var t=x(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(V(this),this.collapsed)return b(this).createDocumentFragment();if(this.startContainer===this.endContainer&&d(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=b(this).createDocumentFragment()).appendChild(e),t;var n=new k(this,!0);return e=function e(t){for(var n,r,i,o=b(t.range).createDocumentFragment();r=t.next();){if(n=t.isPartiallySelectedSubtree(),r=r.cloneNode(!n),n&&(i=t.getSubtreeIterator(),r.appendChild(e(i)),i.detach()),10==r.nodeType)throw new l("HIERARCHY_REQUEST_ERR");o.appendChild(r)}return o}(n),n.detach(),e},canSurroundContents:function(){V(this),B(this.startContainer),B(this.endContainer);var e=new k(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},surroundContents:function(e){if(F(e,P),!this.canSurroundContents())throw new l("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);x(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){V(this);for(var e,t=new he(b(this)),n=Q.length;n--;)t[e=Q[n]]=this[e];return t},toString:function(){V(this);var e=this.startContainer;if(e===this.endContainer&&d(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new k(this,!0);return _(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){V(this);var t=e.parentNode,n=h(e);if(!t)throw new l("NOT_FOUND_ERR");var r=this.comparePoint(t,n),i=this.comparePoint(t,n+1);return r<0?0<i?ie:ne:0<i?re:oe},comparePoint:function(e,t){return V(this),U(e,"HIERARCHY_REQUEST_ERR"),j(e,this.startContainer),f(e,t,this.startContainer,this.startOffset)<0?-1:0<f(e,t,this.endContainer,this.endOffset)?1:0},createContextualFragment:Y,toHtml:function(){return X(this)},intersectsNode:function(e,t){if(V(this),g(e)!=g(this.startContainer))return!1;var n=e.parentNode,r=h(e);if(!n)return!0;var i=f(n,r,this.endContainer,this.endOffset),o=f(n,r+1,this.startContainer,this.startOffset);return t?i<=0&&0<=o:i<0&&0<o},isPointInRange:function(e,t){return V(this),U(e,"HIERARCHY_REQUEST_ERR"),j(e,this.startContainer),0<=f(e,t,this.startContainer,this.startOffset)&&f(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return E(this,e,!1)},intersectsOrTouchesRange:function(e){return E(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=f(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=f(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==f(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==f(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new l("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==oe},containsNodeContents:function(e){return 0<=this.comparePoint(e,0)&&this.comparePoint(e,m(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(0<n.length){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return V(this),function(r,e,i){var o,a=!(!e||!e.length),s=!!i;a&&(o=new RegExp("^("+e.join("|")+")$"));var l=[];return _(new k(r,!1),function(e){if((!a||o.test(e.nodeType))&&(!s||i(e))){var t=r.startContainer;if(e!=t||!d(t)||r.startOffset!=t.length){var n=r.endContainer;e==n&&d(n)&&0==r.endOffset||l.push(e)}}}),l}(this,e,t)},getDocument:function(){return b(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(e){var t=b(this),n=a.createRange(t);e=e||s.getBody(t),n.selectNodeContents(e);var r=this.intersection(n),i=0,o=0;return r&&(n.setEnd(r.startContainer,r.startOffset),o=(i=n.toString().length)+r.toString().length),{start:i,end:o,containerNode:e}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,i,o,a,s=[t],l=!1,c=!1;!c&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!l&&e.start>=n&&e.start<=i&&(this.setStart(r,e.start-n),l=!0),l&&e.end>=n&&e.end<=i&&(this.setEnd(r,e.end-n),c=!0),n=i;else for(o=(a=r.childNodes).length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return he.rangesEqual(this,e)},isValid:function(){return z(this)},inspect:function(){return A(this)},detach:function(){}}),ce(he,de),r.extend(he,{rangeProperties:Q,RangeIterator:k,copyComparisonConstants:se,createPrototypeRange:ce,inspect:A,toHtml:X,getRangeDocument:b,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),a.DomRange=he}),C.createCoreModule("WrappedRange",["DomRange"],function(u,d){var h,e,x=u.dom,f=u.util,E=x.DomPosition,p=u.DomRange,m=x.getBody,g=x.getContentDocument,_=x.isCharacterDataNode;if(u.features.implementsDomRange&&function(){var t,n,r=p.rangeProperties;function i(e){for(var t,n=r.length;n--;)e[t=r[n]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}h=function(e){if(!e)throw d.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},p.createPrototypeRange(h,function(e,t,n,r,i){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=i,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(r,i),e.setStart(t,n))}),(t=h.prototype).selectNode=function(e){this.nativeRange.selectNode(e),i(this)},t.cloneContents=function(){return this.nativeRange.cloneContents()},t.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},t.collapse=function(e){this.nativeRange.collapse(e),i(this)},t.cloneRange=function(){return new h(this.nativeRange.cloneRange())},t.refresh=function(){i(this)},t.toString=function(){return this.nativeRange.toString()};var e=document.createTextNode("test");m(document).appendChild(e);var o=document.createRange();o.setStart(e,0),o.setEnd(e,0);try{o.setStart(e,1),t.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},t.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},n=function(t){return function(e){this.nativeRange[t](e),i(this)}}}catch(e){t.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(e){this.nativeRange.setEnd(t,n),this.nativeRange.setStart(t,n)}i(this)},t.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(e){this.nativeRange.setStart(t,n),this.nativeRange.setEnd(t,n)}i(this)},n=function(n,r){return function(t){try{this.nativeRange[n](t)}catch(e){this.nativeRange[r](t),this.nativeRange[n](t)}i(this)}}}t.setStartBefore=n("setStartBefore","setEndBefore"),t.setStartAfter=n("setStartAfter","setEndAfter"),t.setEndBefore=n("setEndBefore","setStartBefore"),t.setEndAfter=n("setEndAfter","setStartAfter"),t.selectNodeContents=function(e){this.setStartAndEnd(e,0,x.getNodeLength(e))},o.selectNodeContents(e),o.setEnd(e,3);var a=document.createRange();a.selectNodeContents(e),a.setEnd(e,4),a.setStart(e,2),-1==o.compareBoundaryPoints(o.START_TO_END,a)&&1==o.compareBoundaryPoints(o.END_TO_START,a)?t.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:t.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var s=document.createElement("div");s.innerHTML="123";var l=s.firstChild,c=m(document);c.appendChild(s),o.setStart(l,1),o.setEnd(l,2),o.deleteContents(),"13"==l.data&&(t.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},t.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),c.removeChild(s),c=null,f.isHostMethod(o,"createContextualFragment")&&(t.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),m(document).removeChild(e),t.getName=function(){return"WrappedRange"},u.WrappedRange=h,u.createNativeRange=function(e){return(e=g(e,d,"createNativeRange")).createRange()}}(),u.features.implementsTextRange){function o(e,t,n,r,i){var o=e.duplicate();o.collapse(n);var a=o.parentElement();if(x.isOrIsAncestorOf(t,a)||(a=t),!a.canHaveHTML){var s=new E(a.parentNode,x.getNodeIndex(a));return{boundaryPosition:s,nodeInfo:{nodeIndex:s.offset,containerElement:s.node}}}var l=x.getDocument(a).createElement("span");l.parentNode&&x.removeNode(l);for(var c,u,d,h,f,p=n?"StartToStart":"StartToEnd",m=i&&i.containerElement==a?i.nodeIndex:0,g=a.childNodes.length,v=g,y=v;y==g?a.appendChild(l):a.insertBefore(l,a.childNodes[y]),o.moveToElementText(l),0!=(c=o.compareEndPoints(p,e))&&m!=v;){if(-1==c){if(v==m+1)break;m=y}else v=v==m+1?m:y;y=Math.floor((m+v)/2),a.removeChild(l)}if(f=l.nextSibling,-1==c&&f&&_(f)){var b;if(o.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(f.data)){var w=o.duplicate(),C=w.text.replace(/\r\n/g,"\r").length;for(b=w.moveStart("character",C);-1==(c=w.compareEndPoints("StartToEnd",w));)b++,w.moveStart("character",1)}else b=o.text.length;h=new E(f,b)}else u=(r||!n)&&l.previousSibling,h=(d=(r||n)&&l.nextSibling)&&_(d)?new E(d,0):u&&_(u)?new E(u,u.data.length):new E(a,x.getNodeIndex(l));return x.removeNode(l),{boundaryPosition:h,nodeInfo:{nodeIndex:y,containerElement:a}}}function i(e,t){var n,r,i,o,a=e.offset,s=x.getDocument(e.node),l=m(s).createTextRange(),c=_(e.node);return r=c?(n=e.node).parentNode:(n=a<(o=e.node.childNodes).length?o[a]:null,e.node),(i=s.createElement("span")).innerHTML="&#feff;",n?r.insertBefore(i,n):r.appendChild(i),l.moveToElementText(i),l.collapse(!t),r.removeChild(i),c&&l[t?"moveStart":"moveEnd"]("character",a),l}((e=function(e){this.textRange=e,this.refresh()}).prototype=new p(document)).refresh=function(){var e,t,n,r,i=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();(n=e.duplicate()).collapse(!1);var i=n.parentElement(),o=r==i?r:x.getCommonAncestor(r,i);return o==t?o:x.getCommonAncestor(t,o)}(this.textRange);t=0==(r=this.textRange).compareEndPoints("StartToEnd",r)?e=o(this.textRange,i,!0,!0).boundaryPosition:(e=(n=o(this.textRange,i,!0,!1)).boundaryPosition,o(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},e.prototype.getName=function(){return"WrappedTextRange"},p.copyComparisonConstants(e);function t(e){if(e.collapsed)return i(new E(e.startContainer,e.startOffset),!0);var t=i(new E(e.startContainer,e.startOffset),!0),n=i(new E(e.endContainer,e.endOffset),!1),r=m(p.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r}if(e.rangeToTextRange=t,e.prototype.toTextRange=function(){return t(this)},u.WrappedTextRange=e,!u.features.implementsDomRange||u.config.preferTextRange){var n=Function("return this;")();void 0===n.Range&&(n.Range=e),u.createNativeRange=function(e){return e=g(e,d,"createNativeRange"),m(e).createTextRange()},u.WrappedRange=e}}u.createRange=function(e){return e=g(e,d,"createRange"),new u.WrappedRange(u.createNativeRange(e))},u.createRangyRange=function(e){return e=g(e,d,"createRangyRange"),new p(e)},f.createAliasForDeprecatedMethod(u,"createIframeRange","createRange"),f.createAliasForDeprecatedMethod(u,"createIframeRangyRange","createRangyRange"),u.addShimListener(function(e){var t=e.document;void 0===t.createRange&&(t.createRange=function(){return u.createRange(t)}),t=e=null})}),C.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(d,l){d.config.checkSelectionRanges=!0;var i,o,e="number",h=d.dom,t=d.util,n=t.isHostMethod,s=d.DomRange,a=d.WrappedRange,r=d.DOMException,c=h.DomPosition,u=d.features,f="Control",p=h.getDocument,m=h.getBody,g=s.rangesEqual;function v(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function y(e,t){if(e){if(h.isWindow(e))return e;if(e instanceof z)return e.win;var n=h.getContentDocument(e,l,t);return h.getWindow(n)}return window}function b(e){return y(e,"getDocSelection").document.selection}function w(e){var t=!1;return e.anchorNode&&(t=1==h.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var C=n(window,"getSelection"),x=t.isHostObject(document,"selection");u.implementsWinGetSelection=C;var E=(u.implementsDocSelection=x)&&(!C||d.config.preferTextRange);if(E)i=b,d.isSelectionValid=function(e){var t=y(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||p(n.createRange().parentElement())==t};else{if(!C)return l.fail("Neither document.selection or window.getSelection() detected."),!1;i=function(e){return y(e,"getWinSelection").getSelection()},d.isSelectionValid=function(){return!0}}var _=(d.getNativeSelection=i)();if(!_)return l.fail("Native selection was null (possibly issue 138?)"),!1;var $=d.createNativeRange(document),S=m(document),A=t.areHostProperties(_,["anchorNode","focusNode","anchorOffset","focusOffset"]);u.selectionHasAnchorAndFocus=A;var k=n(_,"extend");u.selectionHasExtend=k;var T=typeof _.rangeCount==e;u.selectionHasRangeCount=T;var M=!1,N=!0,P=k?function(e,t){var n=s.getRangeDocument(t),r=d.createRange(n);r.collapseToPoint(t.endContainer,t.endOffset),e.addRange(F(r)),e.extend(t.startContainer,t.startOffset)}:null;t.areHostMethods(_,["addRange","getRangeAt","removeAllRanges"])&&typeof _.rangeCount==e&&u.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var t=e.rangeCount,n=1<t,r=[],i=w(e),o=0;o<t;++o)r[o]=e.getRangeAt(o);var a=h.createTestElement(document,"",!1),s=a.appendChild(document.createTextNode("   ")),l=document.createRange();if(l.setStart(s,1),l.collapse(!0),e.removeAllRanges(),e.addRange(l),N=1==e.rangeCount,e.removeAllRanges(),!n){var c=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(c&&36<=parseInt(c[1]))M=!1;else{var u=l.cloneRange();l.setStart(s,0),u.setEnd(s,3),u.setStart(s,2),e.addRange(l),e.addRange(u),M=2==e.rangeCount}}for(h.removeNode(a),e.removeAllRanges(),o=0;o<t;++o)0==o&&i?P?P(e,r[o]):(d.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(r[o])):e.addRange(r[o])}}(),u.selectionSupportsMultipleRanges=M,u.collapsedNonEditableSelectionsSupported=N;var R,D,O=!1;function I(e,t,n){var r=n?"end":"start",i=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[i+"Container"],e.focusOffset=t[i+"Offset"]}function L(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function F(e){var t;return e instanceof s?((t=d.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),t.setStart(e.startContainer,e.startOffset)):e instanceof a?t=e.nativeRange:u.implementsDomRange&&e instanceof h.getWindow(e.startContainer).Range&&(t=e),t}function H(e){var t=e.getNodes();if(!function(e){if(e.length&&1==e[0].nodeType){for(var t=1,n=e.length;t<n;++t)if(!h.isAncestorOf(e[0],e[t]))return;return 1}}(t))throw l.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function j(e){return e&&void 0!==e.text}function B(e,t){var n=new a(t);e._ranges=[n],I(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function U(e){if(e._ranges.length=0,"None"==e.docSelection.type)L(e);else{var t=e.docSelection.createRange();if(j(t))B(e,t);else{e.rangeCount=t.length;for(var n,r=p(t.item(0)),i=0;i<e.rangeCount;++i)(n=d.createRange(r)).selectNode(t.item(i)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,I(e,e._ranges[e.rangeCount-1],!1)}}}function q(e,t){for(var n=e.docSelection.createRange(),r=H(t),i=p(n.item(0)),o=m(i).createControlRange(),a=0,s=n.length;a<s;++a)o.add(n.item(a));try{o.add(r)}catch(e){throw l.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),U(e)}function z(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function V(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}S&&n(S,"createControlRange")&&(R=S.createControlRange(),t.areHostProperties(R,["item","add"])&&(O=!0)),u.implementsControlRange=O,o=A?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},n(_,"getRangeAt")?D=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:A&&(D=function(e){var t=p(e.anchorNode),n=d.createRange(t);return n.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),n}),z.prototype=d.selectionPrototype;var W=[];function G(e,t){for(var n,r,i=W.length;i--;)if(r=(n=W[i]).selection,"deleteAll"==t)V(r);else if(n.win==e)return"delete"==t?(W.splice(i,1),!0):r;return"deleteAll"==t&&(W.length=0),null}function Y(e){if(e&&e instanceof z)return e.refresh(),e;var t=G(e=y(e,"getNativeSelection")),n=i(e),r=x?b(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new z(n,r,e),W.push({win:e,selection:t})),t}d.getSelection=Y,t.createAliasForDeprecatedMethod(d,"getIframeSelection","getSelection");var K,X=z.prototype;function Q(e,t){for(var n,r=p(t[0].startContainer),i=m(r).createControlRange(),o=0,a=t.length;o<a;++o){n=H(t[o]);try{i.add(n)}catch(e){throw l.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),U(e)}if(!E&&A&&t.areHostMethods(_,["removeAllRanges","addRange"])){X.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),L(this)};function Z(e,t){P(e.nativeSelection,t),e.refresh()}X.addRange=T?function(e,t){if(O&&x&&this.docSelection.type==f)q(this,e);else if(v(t)&&k)Z(this,e);else{var n;n=M?this.rangeCount:(this.removeAllRanges(),0);var r=F(e).cloneRange();try{this.nativeSelection.addRange(r)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(d.config.checkSelectionRanges){var i=D(this.nativeSelection,this.rangeCount-1);i&&!g(i,e)&&(e=new a(i))}this._ranges[this.rangeCount-1]=e,I(this,e,ee(this.nativeSelection)),this.isCollapsed=o(this)}else this.refresh()}}:function(e,t){v(t)&&k?Z(this,e):(this.nativeSelection.addRange(F(e)),this.refresh())},X.setRanges=function(e){if(O&&x&&1<e.length)Q(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(n(_,"empty")&&n($,"select")&&O&&E))return l.fail("No means of selecting a Range or TextRange was found"),!1;X.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=p(this.anchorNode);else if(this.docSelection.type==f){var t=this.docSelection.createRange();t.length&&(e=p(t.item(0)))}if(e)m(e).createTextRange().select(),this.docSelection.empty()}}catch(e){}L(this)},X.addRange=function(e){this.docSelection.type==f?q(this,e):(d.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,I(this,e,!1))},X.setRanges=function(e){this.removeAllRanges();var t=e.length;1<t?Q(this,e):t&&this.addRange(e[0])}}if(X.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new r("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},E)K=function(e){var t;d.isSelectionValid(e.win)?t=e.docSelection.createRange():(t=m(e.win.document).createTextRange()).collapse(!0),e.docSelection.type==f?U(e):j(t)?B(e,t):L(e)};else if(n(_,"getRangeAt")&&typeof _.rangeCount==e)K=function(e){if(O&&x&&e.docSelection.type==f)U(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var t=0,n=e.rangeCount;t<n;++t)e._ranges[t]=new d.WrappedRange(e.nativeSelection.getRangeAt(t));I(e,e._ranges[e.rangeCount-1],ee(e.nativeSelection)),e.isCollapsed=o(e)}else L(e)};else{if(!A||"boolean"!=typeof _.isCollapsed||"boolean"!=typeof $.collapsed||!u.implementsDomRange)return l.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;K=function(e){var t,n,r,i=e.nativeSelection;i.anchorNode?(t=D(i,0),e._ranges=[t],e.rangeCount=1,r=(n=e).nativeSelection,n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset,e.isCollapsed=o(e)):L(e)}}X.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(K(this),e){var i=t.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!g(t[i],this._ranges[i]))return!0;return!1}};function J(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,i=n.length;r<i;++r)g(t,n[r])||e.addRange(n[r]);e.rangeCount||L(e)}var ee;function te(e,t){if(e.win.document!=p(t))throw new r("WRONG_DOCUMENT_ERR")}function ne(r){return function(e,t){var n;this.rangeCount?(n=this.getRangeAt(0))["set"+(r?"Start":"End")](e,t):(n=d.createRange(this.win.document)).setStartAndEnd(e,t),this.setSingleRange(n,this.isBackward())}}function re(e){var t=[],n=new c(e.anchorNode,e.anchorOffset),r=new c(e.focusNode,e.focusOffset),i="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var o=0,a=e.rangeCount;o<a;++o)t[o]=s.inspect(e.getRangeAt(o));return"["+i+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}X.removeRange=O&&x?function(e){if(this.docSelection.type==f){for(var t=this.docSelection.createRange(),n=H(e),r=p(t.item(0)),i=m(r).createControlRange(),o=!1,a=0,s=t.length;a<s;++a)t.item(a)!==n||o?i.add(t.item(a)):o=!0;i.select(),U(this)}else J(this,e)}:function(e){J(this,e)},!E&&A&&u.implementsDomRange?(ee=w,X.isBackward=function(){return ee(this)}):ee=X.isBackward=function(){return!1},X.isBackwards=X.isBackward,X.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},X.collapse=function(e,t){te(this,e);var n=d.createRange(e);n.collapseToPoint(e,t),this.setSingleRange(n),this.isCollapsed=!0},X.collapseToStart=function(){if(!this.rangeCount)throw new r("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},X.collapseToEnd=function(){if(!this.rangeCount)throw new r("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},X.selectAllChildren=function(e){te(this,e);var t=d.createRange(e);t.selectNodeContents(e),this.setSingleRange(t)},X.deleteFromDocument=function(){if(O&&x&&this.docSelection.type==f){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),h.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},X.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},X.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},X.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},X.callMethodOnEachRange=function(t,n){var r=[];return this.eachRange(function(e){r.push(e[t].apply(e,n||[]))}),r},X.setStart=ne(!0),X.setEnd=ne(!1),d.rangePrototype.select=function(e){Y(this.getDocument()).setSingleRange(this,e)},X.changeEachRange=function(t){var n=[],e=this.isBackward();this.eachRange(function(e){t(e),n.push(e)}),this.removeAllRanges(),e&&1==n.length?this.addRange(n[0],"backward"):this.setRanges(n)},X.containsNode=function(t,n){return this.eachRange(function(e){return e.containsNode(t,n)},!0)||!1},X.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},X.moveToBookmark=function(e){for(var t,n,r=[],i=0;t=e.rangeBookmarks[i++];)(n=d.createRange(this.win)).moveToBookmark(t),r.push(n);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},X.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},X.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},X.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(s.toHtml(e))}),t.join("")},u.implementsTextRange&&(X.getNativeTextRange=function(){var e;if(e=this.docSelection){var t=e.createRange();if(j(t))return t;throw l.createError("getNativeTextRange: selection is a control selection")}if(0<this.rangeCount)return d.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw l.createError("getNativeTextRange: selection contains no range")}),X.getName=function(){return"WrappedSelection"},X.inspect=function(){return re(this)},X.detach=function(){G(this.win,"delete"),V(this)},z.detachAll=function(){G(null,"deleteAll")},z.inspect=re,z.isDirectionBackward=v,d.Selection=z,d.selectionPrototype=X,d.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return Y(e)}),e=null})});function D(e){O||(O=!0,!C.initialized&&C.config.autoInitialize&&A())}var O=!1;return b&&("complete"==document.readyState?D():(u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",D,!1),v(window,"load",D))),C},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("TextRange",["WrappedSelection"],function(v,t){var e,n,r,m="character",g="word",l=v.dom,i=v.util,a=i.extend,s=i.createOptions,c=l.getBody,o=/^[ \t\f\r\n]+$/,u=/^[ \t\f\r]+$/,h=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,d=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,f="en",y=v.Selection.isDirectionBackward,p=!1,b=!1;function w(e,t){for(var n=e.slice(t.start,t.end),r={isWord:t.isWord,chars:n,toString:function(){return n.join("")}},i=0,o=n.length;i<o;++i)n[i].token=r;return r}function C(e,t,n){for(var r,i=n(e,t),o=[],a=0;r=i[a++];)o.push(w(e,r));return o}e=l.createTestElement(document,"<p>1 </p><p></p>",!0),n=e.firstChild,(r=v.getSelection()).collapse(n.lastChild,2),r.setStart(n.firstChild,0),e.innerHTML="1 <br />",r.collapse(e,2),r.setStart(e.firstChild,0),p=1==(""+r).length,e.innerHTML="1 <p>1</p>",r.collapse(e,2),r.setStart(e.firstChild,0),b=1==(""+r).length,l.removeNode(e),r.removeAllRanges();var x={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""};var E={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!p,includeSpaceBeforeBlock:!b,includePreLineTrailingSpace:!0},_={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(e,t){var n,r=e.join(""),i=[];function o(e,t,n){i.push({start:e,end:t,isWord:n})}for(var a,s,l=0;n=t.wordRegex.exec(r);){if(s=(a=n.index)+n[0].length,l<a&&o(l,a,!1),t.includeTrailingSpace)for(;d.test(e[s]);)++s;o(a,s,!0),l=s}return l<e.length&&o(l,e.length,!1),i}}},$={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},S={wordOptions:null,characterOptions:null},A={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},k={wordOptions:null,characterOptions:null,direction:"forward"};function T(e,t){var n,r,i,o=s(e,t);return t.hasOwnProperty("wordOptions")&&(o.wordOptions=(n=o.wordOptions)?(r=n.language||f,a(i={},_[r]||_[f]),a(i,n),i):_[f]),t.hasOwnProperty("characterOptions")&&(o.characterOptions=s(o.characterOptions,x)),o}var M,N,P,R=l.getComputedStyleProperty;N=document.createElement("table"),(P=c(document)).appendChild(N),M="block"==R(N,"display"),P.removeChild(N);var D={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};function O(e,t){var n=R(e,"display",t),r=e.tagName.toLowerCase();return"block"==n&&M&&D.hasOwnProperty(r)?D[r]:n}function I(e){for(var t,n=function(e){for(var t=[];e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}(t=e).concat([t]),r=0,i=n.length;r<i;++r)if(1==n[r].nodeType&&"none"==O(n[r]))return!0;return!1}function L(e,t){return!t&&e.hasChildNodes()?e.firstChild:function(e){for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}(e)}function F(e){var t=e.previousSibling;if(t){for(e=t;e.hasChildNodes();)e=e.lastChild;return e}var n=e.parentNode;return n&&1==n.nodeType?n:null}function H(e){if(!e||3!=e.nodeType)return!1;var t=e.data;if(""===t)return!0;var n=e.parentNode;if(!n||1!=n.nodeType)return!1;var r=R(e.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(t)&&/^(normal|nowrap)$/.test(r)||/^[\t\r ]+$/.test(t)&&"pre-line"==r}function j(e){return""===e.data||!!H(e)&&(!e.parentNode||!!I(e))}function B(e){var t,n,r=e.nodeType;return 7==r||8==r||I(e)||/^(script|style)$/i.test(e.nodeName)||3==(t=e).nodeType&&(n=t.parentNode)&&"hidden"==R(n,"visibility")||j(e)}function U(e,t){var n=e.nodeType;return 7==n||8==n||1==n&&"none"==O(e,t)}function q(){this.store={}}q.prototype={get:function(e){return this.store.hasOwnProperty(e)?this.store[e]:null},set:function(e,t){return this.store[e]=t}};function z(r,i,o){return function(e){var t=this.cache;if(t.hasOwnProperty(r))return t[r];0;var n=i.call(this,o?this[o]:this,e);return t[r]=n}}function V(e,t){this.node=e,this.session=t,this.cache=new q,this.positions=new q}var W={getPosition:function(e){var t=this.positions;return t.get(e)||t.set(e,new te(this,e))},toString:function(){return"[NodeWrapper("+l.inspectNode(this.node)+")]"}},G="NON_SPACE",Y="UNCOLLAPSIBLE_SPACE",K="COLLAPSIBLE_SPACE",X="TRAILING_SPACE_BEFORE_BLOCK",Q="TRAILING_SPACE_IN_BLOCK",Z="TRAILING_SPACE_BEFORE_BR",J="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK",ee="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR";function te(e,t){this.offset=t,this.nodeWrapper=e,this.node=e.node,this.session=e.session,this.cache=new q}a(V.prototype=W,{isCharacterDataNode:z("isCharacterDataNode",l.isCharacterDataNode,"node"),getNodeIndex:z("nodeIndex",l.getNodeIndex,"node"),getLength:z("nodeLength",l.getNodeLength,"node"),containsPositions:z("containsPositions",function(e){return l.isCharacterDataNode(e)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(e.nodeName)},"node"),isWhitespace:z("isWhitespace",H,"node"),isCollapsedWhitespace:z("isCollapsedWhitespace",j,"node"),getComputedDisplay:z("computedDisplay",O,"node"),isCollapsed:z("collapsed",B,"node"),isIgnored:z("ignored",U,"node"),next:z("nextPos",L,"node"),previous:z("previous",F,"node"),getTextNodeInfo:z("textNodeInfo",function(e){var t=null,n=!1,r=R(e.parentNode,"whiteSpace"),i="pre-line"==r;return i?(t=u,n=!0):"normal"!=r&&"nowrap"!=r||(t=o,n=!0),{node:e,text:e.data,spaceRegex:t,collapseSpaces:n,preLine:i}},"node"),hasInnerText:z("hasInnerText",function(e,t){for(var n=this.session,r=n.getPosition(e.parentNode,this.getNodeIndex()+1),i=n.getPosition(e,0),o=t?r:i,a=t?i:r;o!==a;){if(o.prepopulateChar(),o.isDefinitelyNonEmpty())return!0;o=t?o.previousVisible():o.nextVisible()}return!1},"node"),isRenderedBlock:z("isRenderedBlock",function(e){for(var t=e.getElementsByTagName("br"),n=0,r=t.length;n<r;++n)if(!B(t[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:z("trailingSpace",function(e){if("br"==e.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var t=e.lastChild;t;){if(!U(t))return 1==t.nodeType?this.session.getNodeWrapper(t).getTrailingSpace():"";t=t.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:z("leadingSpace",function(e){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var ne={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){var e=this;if(!e.prepopulatedChar){var t=e.node,n=e.offset,r="",i="EMPTY",o=!1;if(0<n)if(3==t.nodeType){var a=t.data,s=a.charAt(n-1),l=e.nodeWrapper.getTextNodeInfo(),c=l.spaceRegex;l.collapseSpaces?c.test(s)?1<n&&c.test(a.charAt(n-2))||(i=l.preLine&&"\n"===a.charAt(n)?(r=" ",J):(r=" ",K)):(r=s,i=G,o=!0):(r=s,i=Y,o=!0)}else{var u=t.childNodes[n-1];if(u&&1==u.nodeType&&!B(u)&&("br"==u.tagName.toLowerCase()?(r="\n",e.isBr=!0,o=!(i=K)):e.checkForTrailingSpace=!0),!r){var d=t.childNodes[n];d&&1==d.nodeType&&!B(d)&&(e.checkForLeadingSpace=!0)}}e.prepopulatedChar=!0,e.character=r,e.characterType=i,e.isCharInvariant=o}},isDefinitelyNonEmpty:function(){var e=this.characterType;return e==G||e==Y},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();e&&(this.isTrailingSpace=!0,this.character=e,this.characterType=K),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();t&&(this.isLeadingSpace=!0,this.character=t,this.characterType=K),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(e){for(var t=this;t=t.previousVisible();)if(""!==t.getCharacter(e))return t;return null},getCharacter:function(e){this.resolveLeadingAndTrailingSpaces();var t,n,r,i=this.character,o=(t=e.ignoreCharacters,(r="string"==typeof(n=t||"")?n.split(""):n).sort(function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}),r.join("").replace(/(.)\1+/g,"$1")),a=""!==i&&-1<o.indexOf(i);if(this.isCharInvariant)return a?"":i;var s=["character",e.includeSpaceBeforeBr,e.includeBlockContentTrailingSpace,e.includePreLineTrailingSpace,o].join("_"),l=this.cache.get(s);if(null!==l)return l;var c,u,d="",h=this.characterType==K,f=!1,p=this;function m(){return f||(u=p.getPrecedingUncollapsedPosition(e),f=!0),u}return h&&(this.type==ee?d="\n":" "==i&&(!m()||u.isTrailingSpace||"\n"==u.character||" "==u.character&&u.characterType==K)||("\n"==i&&this.isLeadingSpace?m()&&"\n"!=u.character&&(d="\n"):(c=this.nextUncollapsed())&&(c.isBr?this.type=Z:c.isTrailingSpace&&"\n"==c.character?this.type=Q:c.isLeadingSpace&&"\n"==c.character&&(this.type=X),"\n"==c.character?this.type==Z&&!e.includeSpaceBeforeBr||this.type==X&&!e.includeSpaceBeforeBlock||this.type==Q&&c.isTrailingSpace&&!e.includeBlockContentTrailingSpace||this.type==J&&c.type==G&&!e.includePreLineTrailingSpace||("\n"==i?c.isTrailingSpace?this.isTrailingSpace||this.isBr&&(c.type="TRAILING_LINE_BREAK_AFTER_BR",m()&&u.isLeadingSpace&&!u.isTrailingSpace&&"\n"==u.character?c.character="":c.type=ee):d="\n":" "==i&&(d=" ")):d=i))),-1<o.indexOf(d)&&(d=""),this.cache.set(s,d),d},equals:function(e){return!!e&&this.node===e.node&&this.offset===e.offset},inspect:function(){return"[Position("+l.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};a(te.prototype=ne,{next:z("nextPos",function(e){var t,n,r,i=e.nodeWrapper,o=e.node,a=e.offset,s=i.session;return o?(n=a==i.getLength()?(t=o.parentNode)?i.getNodeIndex()+1:0:i.isCharacterDataNode()?(t=o,a+1):(r=o.childNodes[a],s.getNodeWrapper(r).containsPositions()?(t=r,0):(t=o,a+1)),t?s.getPosition(t,n):null):null}),previous:z("previous",function(e){var t,n,r,i=e.nodeWrapper,o=e.node,a=e.offset,s=i.session;return n=0==a?(t=o.parentNode)?i.getNodeIndex():0:i.isCharacterDataNode()?(t=o,a-1):(r=o.childNodes[a-1],s.getNodeWrapper(r).containsPositions()?(t=r,l.getNodeLength(r)):(t=o,a-1)),t?s.getPosition(t,n):null}),nextVisible:z("nextVisible",function(e){var t=e.next();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex()+1)),i}),nextUncollapsed:z("nextUncollapsed",function(e){for(var t=e;t=t.nextVisible();)if(t.resolveLeadingAndTrailingSpaces(),""!==t.character)return t;return null}),previousVisible:z("previousVisible",function(e){var t=e.previous();if(!t)return null;var n=t.nodeWrapper,r=t.node,i=t;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex())),i})});var re,ie=null,oe=(re=i.isHostProperty(document.documentElement,"uniqueID"),se.prototype={initCaches:function(){var t;this.elementCache=re?(t=new q,{get:function(e){return t.get(e.uniqueID)},set:function(e){t.set(e.node.uniqueID,e)}}):ae("tagName"),this.textNodeCache=ae("data"),this.otherNodeCache=ae("nodeName")},getNodeWrapper:function(e){var t;switch(e.nodeType){case 1:t=this.elementCache;break;case 3:t=this.textNodeCache;break;default:t=this.otherNodeCache}var n=t.get(e);return n||(n=new V(e,this),t.set(n)),n},getPosition:function(e,t){return this.getNodeWrapper(e).getPosition(t)},getRangeBoundaryPosition:function(e,t){var n=t?"start":"end";return this.getPosition(e[n+"Container"],e[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},se);function ae(i){var o=new q;return{get:function(e){var t=o.get(e[i]);if(t)for(var n,r=0;n=t[r++];)if(n.node===e)return n;return null},set:function(e){var t=e.node[i];(o.get(t)||o.set(t,[])).push(e)}}}function se(){this.initCaches()}function le(){return ie||(ce(),ie=new oe)}function ce(){ie&&ie.detach(),ie=null}function ue(e,n,r,i){r&&(n?B(r.node)&&(r=e.previousVisible()):B(r.node)&&(r=r.nextVisible()));var o=e,a=!1;var s,l=!1;return{next:function(){if(l)return l=!1,s;for(var e;t=void 0,t=null,n?(t=o,a||(o=o.previousVisible(),a=!o||r&&o.equals(r))):a||(t=o=o.nextVisible(),a=!o||r&&o.equals(r)),a&&(o=null),e=t;)if(e.getCharacter(i))return s=e;return null;var t},rewind:function(){if(!s)throw t.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");l=!0},dispose:function(){e=r=null}}}a(l,{nextNode:L,previousNode:F});var de=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1};function he(e,t,n){var s=ue(e,!1,null,t),l=ue(e,!0,null,t),r=n.tokenizer;function i(e){for(var t,n,r=[],i=e?s:l,o=!1,a=!1;t=i.next();){if(n=t.character,h.test(n))a&&(o=!(a=!1));else{if(o){i.rewind();break}a=!0}r.push(t)}return r}var o=i(!0),a=i(!1).reverse(),c=C(a.concat(o),n,r),u=o.length?c.slice(de(c,o[0].token)):[],d=a.length?c.slice(0,de(c,a.pop().token)+1):[];return{nextEndToken:function(){for(var e,t;1==u.length&&!(e=u[0]).isWord&&0<(t=i(!0)).length;)u=C(e.chars.concat(t),n,r);return u.shift()},previousStartToken:function(){for(var e,t;1==d.length&&!(e=d[0]).isWord&&0<(t=i(!1)).length;)d=C(t.reverse().concat(e.chars),n,r);return d.pop()},dispose:function(){s.dispose(),l.dispose(),u=d=null}}}function fe(e,t,n,r){var i=e.getRangeBoundaryPosition(t,!0),o=e.getRangeBoundaryPosition(t,!1);return ue(r?o:i,!!r,r?i:o,n)}function pe(e,t,n,r,l){var i,o,a,s,c,u,d=y(l.direction),h=ue(e,d,e.session.getRangeBoundaryPosition(r,d),l.characterOptions),f="",p=[],m=null;function g(e,t){var n,r,i,o,a=p[e].previousVisible(),s=p[t-1];return{startPos:a,endPos:s,valid:!l.wholeWordsOnly||(n=a,r=s,i=l.wordOptions,(o=v.createRange(n.node)).setStartAndEnd(n.node,n.offset,r.node,r.offset),!o.expand("word",{wordOptions:i}))}}for(;i=h.next();)if(o=i.character,n||l.caseSensitive||(o=o.toLowerCase()),d?(p.unshift(i),f=o+f):(p.push(i),f+=o),n){if(c=t.exec(f))if(s=(a=c.index)+c[0].length,u){if(!d&&s<f.length||d&&0<a){m=g(a,s);break}}else u=!0}else if(-1!=(a=f.indexOf(t))){m=g(a,a+t.length);break}return u&&(m=g(a,s)),h.dispose(),m}function me(r){return function(){var e=!!ie,t=[le()].concat(i.toArray(arguments)),n=r.apply(this,t);return e||ce(),n}}function ge(s,l){return me(function(e,t,n,r){void 0===n&&(n=t,t=m),r=T(r,S);var i=s;l&&(i=0<=n,this.collapse(!i));var o=function(e,t,n,r,i){var o,a,s,l,c=0,u=e,d=Math.abs(n);if(0!==n){var h=n<0;switch(t){case m:for(a=ue(e,h,null,r);(o=a.next())&&c<d;)++c,u=o;s=o,a.dispose();break;case g:for(var f=he(e,r,i),p=h?f.previousStartToken:f.nextEndToken;(l=p())&&c<d;)l.isWord&&(++c,u=h?l.chars[0]:l.chars[l.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+t+"' not implemented")}h?(u=u.previousVisible(),c=-c):u&&u.isLeadingSpace&&!u.isTrailingSpace&&(t==g&&(s=(a=ue(e,!1,null,r)).next(),a.dispose()),s&&(u=s.previousVisible()))}return{position:u,unitsMoved:c}}(e.getRangeBoundaryPosition(this,i),t,n,r.characterOptions,r.wordOptions),a=o.position;return this[i?"setStart":"setEnd"](a.node,a.offset),o.unitsMoved})}function ve(a){return me(function(e,t){for(var n,r=fe(e,this,t=s(t,x),!a),i=0;(n=r.next())&&h.test(n.character);)++i;r.dispose();var o=0<i;return o&&this[a?"moveStart":"moveEnd"]("character",a?i:-i,{characterOptions:t}),o})}function ye(r){return me(function(e,t){var n=!1;return this.changeEachRange(function(e){n=e[r](t)||n}),n})}a(v.rangePrototype,{moveStart:ge(!0,!1),moveEnd:ge(!1,!1),move:ge(!0,!0),trimStart:ve(!0),trimEnd:ve(!1),trim:me(function(e,t){var n=this.trimStart(t),r=this.trimEnd(t);return n||r}),expand:me(function(e,t,n){var r=!1,i=(n=T(n,A)).characterOptions;if((t=t||m)!=g)return this.moveEnd(m,1,n);var o,a,s=n.wordOptions,l=e.getRangeBoundaryPosition(this,!0),c=e.getRangeBoundaryPosition(this,!1),u=he(l,i,s).nextEndToken(),d=u.chars[0].previousVisible();return a=(o=this.collapsed?u:he(c,i,s).previousStartToken()).chars[o.chars.length-1],d.equals(l)||(this.setStart(d.node,d.offset),r=!0),a&&!a.equals(c)&&(this.setEnd(a.node,a.offset),r=!0),n.trim&&(n.trimStart&&(r=this.trimStart(i)||r),n.trimEnd&&(r=this.trimEnd(i)||r)),r}),text:me(function(e,t){return this.collapsed?"":function(e,t,n){for(var r,i=[],o=fe(e,t,n);r=o.next();)i.push(r);return o.dispose(),i}(e,this,s(t,x)).join("")}),selectCharacters:me(function(e,t,n,r,i){var o={characterOptions:i};t=t||c(this.getDocument()),this.selectNodeContents(t),this.collapse(!0),this.moveStart("character",n,o),this.collapse(!0),this.moveEnd("character",r-n,o)}),toCharacterRange:me(function(e,t,n){var r,i=(t=t||c(this.getDocument())).parentNode,o=l.getNodeIndex(t),a=-1==l.comparePoints(this.startContainer,this.endContainer,i,o),s=this.cloneRange();return{start:r=a?(s.setStartAndEnd(this.startContainer,this.startOffset,i,o),-s.text(n).length):(s.setStartAndEnd(i,o,this.startContainer,this.startOffset),s.text(n).length),end:r+this.text(n).length}}),findText:me(function(e,t,n){(n=T(n,$)).wholeWordsOnly&&(n.wordOptions.includeTrailingSpace=!1);var r=y(n.direction),i=n.withinRange;i||(i=v.createRange()).selectNodeContents(this.getDocument());var o=t,a=!1;"string"==typeof o?n.caseSensitive||(o=o.toLowerCase()):a=!0;var s=e.getRangeBoundaryPosition(this,!r),l=i.comparePoint(s.node,s.offset);-1===l?s=e.getRangeBoundaryPosition(i,!0):1===l&&(s=e.getRangeBoundaryPosition(i,!1));for(var c,u=s,d=!1;;)if(c=pe(u,o,a,i,n)){if(c.valid)return this.setStartAndEnd(c.startPos.node,c.startPos.offset,c.endPos.node,c.endPos.offset),!0;u=r?c.startPos:c.endPos}else{if(!n.wrap||d)return!1;i=i.cloneRange(),u=e.getRangeBoundaryPosition(i,!r),i.setBoundary(s.node,s.offset,r),d=!0}}),pasteHtml:function(e){if(this.deleteContents(),e){var t=this.createContextualFragment(e),n=t.lastChild;this.insertNode(t),this.collapseAfter(n)}}}),a(v.selectionPrototype,{expand:me(function(e,t,n){this.changeEachRange(function(e){e.expand(t,n)})}),move:me(function(e,t,n,r){var i=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var o=this.getRangeAt(0);(r=r||{}).characterOptions=s(r.characterOptions,E),i=o.move(t,n,r),this.setSingleRange(o)}return i}),trimStart:ye("trimStart"),trimEnd:ye("trimEnd"),trim:ye("trim"),selectCharacters:me(function(e,t,n,r,i,o){var a=v.createRange(t);a.selectCharacters(t,n,r,o),this.setSingleRange(a,i)}),saveCharacterRanges:me(function(e,t,n){for(var r=this.getAllRanges(),i=[],o=1==r.length&&this.isBackward(),a=0,s=r.length;a<s;++a)i[a]={characterRange:r[a].toCharacterRange(t,n),backward:o,characterOptions:n};return i}),restoreCharacterRanges:me(function(e,t,n){this.removeAllRanges();for(var r,i,o,a=0,s=n.length;a<s;++a)o=(i=n[a]).characterRange,(r=v.createRange(t)).selectCharacters(t,o.start,o.end,i.characterOptions),this.addRange(r,i.backward)}),text:me(function(e,t){for(var n=[],r=0,i=this.rangeCount;r<i;++r)n[r]=this.getRangeAt(r).text(t);return n.join("")})}),v.innerText=function(e,t){var n=v.createRange(e);return n.selectNodeContents(e),n.text(t)},v.createWordIterator=function(e,t,n){var r=le();n=T(n,k);var i=he(r.getPosition(e,t),n.characterOptions,n.wordOptions),o=y(n.direction);return{next:function(){return o?i.previousStartToken():i.nextEndToken()},dispose:function(){i.dispose(),this.next=function(){}}}},v.noMutation=function(e){e(le()),ce()},v.noMutation.createEntryPointFunction=me,v.textRange={isBlockNode:function(e){return e&&(1==e.nodeType&&!/^(inline(-block|-table)?|none)$/.test(O(e))||9==e.nodeType||11==e.nodeType)},isCollapsedWhitespaceNode:j,createPosition:me(function(e,t,n){return e.getPosition(t,n)})}}),e},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(l,a){var s=l.dom,c=s.removeNode,u=l.Selection.isDirectionBackward,d="\ufeff";function h(e,t){return(t||document).getElementById(e)}function f(e,t){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=s.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),(n=i.createElement("span")).id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(d)),o.insertNode(n),n}function p(e,t,n,r){var i=h(n,e);i?(t[r?"setStartBefore":"setEndBefore"](i),c(i)):a.warn("Marker element has been removed. Cannot restore selection.")}function m(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function g(e,t){var n,r=l.DomRange.getRangeDocument(e),i=e.toString(),o=u(t);return e.collapsed?{document:r,markerId:(n=f(e,!1)).id,collapsed:!0}:(n=f(e,!1),{document:r,startMarkerId:f(e,!0).id,endMarkerId:n.id,collapsed:!1,backward:o,toString:function(){return"original text: '"+i+"', new text: '"+e.toString()+"'"}})}function r(e,t){var n=e.document;void 0===t&&(t=!0);var r=l.createRange(n);if(e.collapsed){var i=h(e.markerId,n);if(i){i.style.display="inline";var o=i.previousSibling;o&&3==o.nodeType?(c(i),r.collapseToPoint(o,o.length)):(r.collapseBefore(i),c(i))}else a.warn("Marker element has been removed. Cannot restore selection.")}else p(n,r,e.startMarkerId,!0),p(n,r,e.endMarkerId,!1);return t&&r.normalizeBoundaries(),r}function o(e,t){var n,r,i=[],o=u(t);(e=e.slice(0)).sort(m);for(var a=0,s=e.length;a<s;++a)i[a]=g(e[a],o);for(a=s-1;0<=a;--a)n=e[a],r=l.DomRange.getRangeDocument(n),n.collapsed?n.collapseAfter(h(i[a].markerId,r)):(n.setEndBefore(h(i[a].endMarkerId,r)),n.setStartAfter(h(i[a].startMarkerId,r)));return i}function v(e){for(var t=[],n=e.length-1;0<=n;n--)t[n]=r(e[n],!0);return t}function y(e,t){var n=h(t,e);n&&c(n)}l.util.extend(l,{saveRange:g,restoreRange:r,saveRanges:o,restoreRanges:v,saveSelection:function(e){if(!l.isSelectionValid(e))return a.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var t=l.getSelection(e),n=t.getAllRanges(),r=1==n.length&&t.isBackward(),i=o(n,r);return r?t.setSingleRange(n[0],r):t.setRanges(n),{win:e,rangeInfos:i,restored:!1}},restoreSelection:function(e,t){if(!e.restored){var n=e.rangeInfos,r=l.getSelection(e.win),i=v(n);1==n.length&&t&&l.features.selectionHasExtend&&n[0].backward?(r.removeAllRanges(),r.addRange(i[0],!0)):r.setRanges(i),e.restored=!0}},removeMarkerElement:y,removeMarkers:function(e){for(var t,n=e.rangeInfos,r=0,i=n.length;r<i;++r)(t=n[r]).collapsed?y(e.doc,t.markerId):(y(e.doc,t.startMarkerId),y(e.doc,t.endMarkerId))}})}),e},this);var Base=function(){};Base.extend=function(e,t){var n=Base.prototype.extend;Base._prototyping=!0;var r=new this;n.call(r,e),r.base=function(){},delete Base._prototyping;var i=r.constructor,o=r.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],r)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=r,o.toString=this.toString,o.valueOf=function(e){return"object"==e?o:i.valueOf()},n.call(o,t),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(e,t){if(1<arguments.length){var n=this[e];if(n&&"function"==typeof t&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var r=t.valueOf();(t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=r.apply(this,arguments);return this.base=e,t}).valueOf=function(e){return"object"==e?t:r},t.toString=Base.toString}this[e]=t}else if(e){var i=Base.prototype.extend;Base._prototyping||"function"==typeof this||(i=this.extend||i);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)e[l]!=o[l]&&i.call(this,l,e[l]);for(var l in e)o[l]||i.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var r in e)void 0===this.prototype[r]&&t.call(n,e[r],r,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){var n,r,t=navigator.userAgent,a=document.createElement("div"),e=-1!==t.indexOf("Gecko")&&-1===t.indexOf("KHTML")&&!l(),i=-1!==t.indexOf("AppleWebKit/")&&!l(),o=-1!==t.indexOf("Chrome/")&&!l(),s=-1!==t.indexOf("Opera/")&&!l();function l(e,t){var n,r=-1;return"Microsoft Internet Explorer"==navigator.appName?n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(-1<navigator.userAgent.indexOf("Trident")?n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"):/Edge\/(\d+)./i.test(navigator.userAgent)&&(n=/Edge\/(\d+)./i)),n&&null!=n.exec(navigator.userAgent)&&(r=parseFloat(RegExp.$1)),-1!==r&&(!e||(t?"<"===t?e<r:">"===t?r<e:"<="===t?e<=r:">="===t?r<=e:void 0:e===r))}return{USER_AGENT:t,supported:function(){var e,t=this.USER_AGENT.toLowerCase(),n="contentEditable"in a,r=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,i=document.querySelector&&document.querySelectorAll,o=this.isIos()&&+(/ipad|iphone|ipod/.test(e=t)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]<5||this.isAndroid()&&+(t.match(/android (\d+)/)||[void 0,0])[1]<4||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return n&&r&&i&&!o},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return l()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return l(12,">")},hasCurrentStyleProperty:function(){return"currentStyle"in a},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in a||(a.setAttribute("on"+e,"return;"),"function"==typeof a["on"+e])},supportsEventsInIframeCorrectly:function(){return!s},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:(n={formatBlock:l(10,"<="),insertUnorderedList:l(),insertOrderedList:l()},r={insertHTML:e},function(e,t){if(!n[t]){try{return e.queryCommandSupported(t)}catch(e){}try{return e.queryCommandEnabled(t)}catch(e){return!!r[t]}}return!1}),doesAutoLinkingInContentEditable:function(){return l()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return e||s||i},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||l()||s},autoScrollsToCaret:function(){return!i},autoClosesUnclosedTags:function(){var e,t,n=a.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return s},supportsSpeechApiOn:function(e){return 11<=(t.match(/Chrome\/(\d+)/)||[void 0,0])[1]&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return l(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return l(12,">")},hasProblemsSettingCaretAfterImg:function(){return l()},hasLiDeletingProblem:function(){return l()},hasUndoInContextMenu:function(){return e||o||s},hasInsertNodeIssue:function(){return s},hasIframeFocusIssue:function(){return l()},createsNestedInvalidMarkupAfterPaste:function(){return i},hasCaretBlockElementIssue:function(){return i},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModernPaste:function(){return!l()},fixStyleKey:function(e){return"cssFloat"===e?"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat":e},usesControlRanges:function(){return document.body&&"createControlRange"in document.body}}}(),wysihtml5.lang.array=function(o){return{contains:function(e){if(Array.isArray(e)){for(var t=e.length;t--;)if(-1!==wysihtml5.lang.array(o).indexOf(e[t]))return!0;return!1}return-1!==wysihtml5.lang.array(o).indexOf(e)},indexOf:function(e){if(o.indexOf)return o.indexOf(e);for(var t=0,n=o.length;t<n;t++)if(o[t]===e)return t;return-1},without:function(e){e=wysihtml5.lang.array(e);for(var t=[],n=0,r=o.length;n<r;n++)e.contains(o[n])||t.push(o[n]);return t},get:function(){for(var e=0,t=o.length,n=[];e<t;e++)n.push(o[e]);return n},map:function(e,t){if(Array.prototype.map)return o.map(e,t);for(var n=o.length>>>0,r=new Array(n),i=0;i<n;i++)r[i]=e.call(t,o[i],i,o);return r},unique:function(){for(var e=[],t=o.length,n=0;n<t;)wysihtml5.lang.array(e).contains(o[n])||e.push(o[n]),n++;return e}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var n,r,i=0;if(e){for(n=this.events[e]||[],r=[];i<n.length;i++)n[i]!==t&&t&&r.push(n[i]);this.events[e]=r}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],r=0;r<n.length;r++)n[r].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(i){return{merge:function(e,t){for(var n in e)t&&wysihtml5.lang.object(e[n]).isPlainObject()&&(void 0===i[n]||wysihtml5.lang.object(i[n]).isPlainObject())?void 0===i[n]?i[n]=wysihtml5.lang.object(e[n]).clone(!0):wysihtml5.lang.object(i[n]).merge(wysihtml5.lang.object(e[n]).clone(!0)):i[n]=wysihtml5.lang.object(e[n]).isPlainObject()?wysihtml5.lang.object(e[n]).clone(!0):e[n];return this},difference:function(e){var t={};for(var n in i)i.hasOwnProperty(n)&&(e.hasOwnProperty(n)||(t[n]=i[n]));for(var r in e)e.hasOwnProperty(r)&&(i.hasOwnProperty(r)&&i[r]===e[r]||(t[0]=i[0]));return t},get:function(){return i},clone:function(e){var t,n={};if(null===i||!wysihtml5.lang.object(i).isPlainObject())return i;for(t in i)i.hasOwnProperty(t)&&(n[t]=e?wysihtml5.lang.object(i[t]).clone(e):i[t]);return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(i)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(i)},isPlainObject:function(){return i&&"[object Object]"===Object.prototype.toString.call(i)&&!("Node"in window?i instanceof Node:i instanceof Element||i instanceof Text)},isEmpty:function(){for(var e in i)if(i.hasOwnProperty(e))return!1;return!0}}},function(){var e=/^\s+/,t=/\s+$/,i=/[&<>\t"]/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(r){return r=String(r),{trim:function(){return r.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)r=this.replace("#{"+t+"}").by(e[t]);return r},replace:function(t){return{by:function(e){return r.split(t).join(e)}}},escapeHTML:function(e,t){var n=r.replace(i,function(e){return o[e]});return e&&(n=n.replace(/(?:\r\n|\r|\n)/g,"<br />")),t&&(n=n.replace(/  /gi,"&nbsp; ")),n}}}}(),function(a){var s=a.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,u=100,d={")":"(","]":"[","}":"{"};function h(e){var t,n=e.parentNode,r=a.lang.string(e.data).escapeHTML(),i=(t=n.ownerDocument,t._wysihtml5_tempElement||(t._wysihtml5_tempElement=t.createElement("div")));for(i.innerHTML="<span></span>"+r.replace(l,function(e,t){var n=(t.match(c)||[])[1]||"",r=d[n];(t=t.replace(c,"")).split(r).length>t.split(n).length&&(t+=n,n="");var i=t,o=t;return t.length>u&&(o=o.substr(0,u)+"..."),"www."===i.substr(0,4)&&(i="http://"+i),'<a href="'+i+'">'+o+"</a>"+n}),i.removeChild(i.firstChild);i.firstChild;)n.insertBefore(i.firstChild,e);n.removeChild(e)}a.dom.autoLink=function(e,t){return function(e,t){var n;for(;e.parentNode;){if(e=e.parentNode,n=e.nodeName,e.className&&a.lang.array(e.className.split(" ")).contains(t))return 1;if(s.contains(n))return 1;if("body"===n)return}return}(e,t)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),function e(t,n){if(s.contains(t.nodeName))return;if(t.className&&a.lang.array(t.className.split(" ")).contains(n))return;if(t.nodeType===a.TEXT_NODE&&t.data.match(l))return void h(t);var r=a.lang.array(t.childNodes).get(),i=r.length,o=0;for(;o<i;o++)e(r[o],n);return t}(e,t))},a.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(){var r=wysihtml5.dom;r.addClass=function(e,t){var n=e.classList;if(n)return n.add(t);r.hasClass(e,t)||(e.className+=" "+t)},r.removeClass=function(e,t){var n=e.classList;if(n)return n.remove(t);e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")},r.hasClass=function(e,t){var n=e.classList;if(n)return n.contains(t);var r=e.className;return 0<r.length&&(r==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(r))}}(),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){if(t.nodeType!==wysihtml5.ELEMENT_NODE){if(t.parentNode===e)return!0;t=t.parentNode}return e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function v(e,t){var n=e.createElement("li");return t.appendChild(n),n}return function(e,t,n){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var r,i,o,a,s,l,c,u,d,h,f=e.ownerDocument,p=(h=t,f.createElement(h)),m=e.querySelectorAll("br"),g=m.length;for(d=0;d<g;d++)for(a=m[d];(s=a.parentNode)&&s!==e&&s.lastChild===a;){if("block"===wysihtml5.dom.getStyle("display").from(s)){s.removeChild(a);break}wysihtml5.dom.insert(a).after(a.parentNode)}for(i=(r=wysihtml5.lang.array(e.childNodes).get()).length,d=0;d<i;d++)u=u||v(f,p),o=r[d],l="block"===wysihtml5.dom.getStyle("display").from(o),c="BR"===o.nodeName,!l||n&&wysihtml5.dom.hasClass(o,n)?c?u=u.firstChild?null:u:u.appendChild(o):((u=u.firstChild?v(f,p):u).appendChild(o),u=null);return 0===r.length&&v(f,p),e.parentNode.replaceChild(p,e),p}}(),wysihtml5.dom.copyAttributes=function(o){return{from:function(i){return{to:function(e){for(var t,n=0,r=o.length;n<r;n++)t=o[n],void 0!==i[t]&&""!==i[t]&&(e[t]=i[t]);return{andTo:arguments.callee}}}}}},function(s){var l=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],c=function(e){for(var t=0,n=l.length;t<n;t++)if("border-box"===s.getStyle(l[t]).from(e))return l[t]};s.copyStyles=function(a){return{from:function(e){var t;c(t=e)&&parseInt(s.getStyle("width").from(t),10)<t.offsetWidth&&(a=wysihtml5.lang.array(a).without(l));for(var n,r="",i=a.length,o=0;o<i;o++)n=a[o],r+=n+":"+s.getStyle(n).from(e)+";";return{to:function(e){return s.setStyles(r).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),wysihtml5.dom.delegate=function(a,s,e,l){function t(e){for(var t=e.target,n=3===t.nodeType?t.parentNode:t,r=a.querySelectorAll(s),i=0,o=r.length;i<o;i++)r[i].contains(n)&&l.call(r[i],e)}return a.addEventListener(e,t,!1),{stop:function(){a.removeEventListener(e,t,!1)}}},function(d){function o(e,t){for(var n=[e],r=e;t&&r&&r!==t||!t&&r;)n.unshift(r),r=r.parentNode;return n}d.dom.domNode=function(u){var r=[d.ELEMENT_NODE,d.TEXT_NODE];return{is:{emptyTextNode:function(e){var t=e?/^\s*$/g:/^[\r\n]*$/g;return u&&u.nodeType===d.TEXT_NODE&&t.test(u.data)},rangyBookmark:function(){return u&&1===u.nodeType&&u.classList.contains("rangySelectionBoundary")},visible:function(){var e=!/^\s*$/g.test(d.dom.getTextContent(u));return e||1===u.nodeType&&u.querySelector("img, br, hr, object, embed, canvas, input, textarea")&&(e=!0),e},lineBreak:function(){return u&&1===u.nodeType&&"BR"===u.nodeName},block:function(){return u&&1===u.nodeType&&"block"===u.ownerDocument.defaultView.getComputedStyle(u).display},voidElement:function(){return d.dom.domNode(u).test({query:d.VOID_ELEMENTS})}},prev:function(e){var t=u.previousSibling,n=e&&e.nodeTypes?e.nodeTypes:r;return t?d.dom.domNode(t).is.rangyBookmark()||!d.lang.array(n).contains(t.nodeType)||e&&e.ignoreBlankTexts&&d.dom.domNode(t).is.emptyTextNode(!0)?d.dom.domNode(t).prev(e):t:null},next:function(e){var t=u.nextSibling,n=e&&e.nodeTypes?e.nodeTypes:r;return t?d.dom.domNode(t).is.rangyBookmark()||!d.lang.array(n).contains(t.nodeType)||e&&e.ignoreBlankTexts&&d.dom.domNode(t).is.emptyTextNode(!0)?d.dom.domNode(t).next(e):t:null},commonAncestor:function(e,t){var n=o(u,t),r=o(e,t);if(n[0]!=r[0])return null;for(var i=0;i<n.length;i++)if(n[i]!=r[i])return n[i-1];return null},lastLeafNode:function(e){var t;if(1!==u.nodeType)return u;if(!(t=u.lastChild))return u;if(e&&e.leafClasses)for(var n=e.leafClasses.length;n--;)if(d.dom.hasClass(u,e.leafClasses[n]))return u;return d.dom.domNode(t).lastLeafNode(e)},escapeParent:function(e,t){var n,r,i,o=u;if(!d.dom.contains(e,u))throw new Error("Child is not a descendant of node.");do{for(r=(n=o.parentNode).cloneNode(!1);n.lastChild&&n.lastChild!==o;)r.insertBefore(n.lastChild,r.firstChild);if(n!==e&&((i=n.cloneNode(!1)).appendChild(o),o=i),n.parentNode.insertBefore(o,n.nextSibling),""!==r.innerHTML)if(/^\s+$/.test(r.innerHTML))for(;r.lastChild;)n.parentNode.insertBefore(r.lastChild,o.nextSibling);else n.parentNode.insertBefore(r,o.nextSibling);if(""===n.innerHTML)n.parentNode.removeChild(n);else if(/^\s+$/.test(n.innerHTML)){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}while(n&&n!==e);t&&o&&(o.parentNode.insertBefore(t,o),t.appendChild(o))},transferContentTo:function(e,t){if(1===u.nodeType){if(d.dom.domNode(e).is.voidElement()||3===e.nodeType)for(;u.lastChild;)e.parentNode.insertBefore(u.lastChild,e.nextSibling);else for(;u.firstChild;)e.appendChild(u.firstChild);t&&u.parentNode.removeChild(u)}else 3!==u.nodeType&&8!==u.nodeType||(d.dom.domNode(e).is.voidElement()?e.parentNode.insertBefore(u,e.nextSibling):e.appendChild(u))},test:function(e){var t;if(!e)return!1;if(1!==u.nodeType)return!1;if(e.query&&!u.matches(e.query))return!1;if(e.nodeName&&u.nodeName.toLowerCase()!==e.nodeName.toLowerCase())return!1;if(e.className&&!u.classList.contains(e.className))return!1;if(e.classRegExp&&0===((u.className||"").match(e.classRegExp)||[]).length)return!1;if(e.styleProperty&&0<e.styleProperty.length)for(var n=!1,r=Array.isArray(e.styleProperty)?e.styleProperty:[e.styleProperty],i=0,o=r.length;i<o;i++){if(t=d.browser.fixStyleKey(r[i]),u.style[t]){if(!e.styleValue){n=!0;break}if(e.styleValue instanceof RegExp){if(0<u.style[t].trim().match(e.styleValue).length){n=!0;break}}else if(Array.isArray(e.styleValue)){if(e.styleValue.indexOf(u.style[t].trim())){n=!0;break}}else if(e.styleValue===u.style[t].trim().replace(/, /g,",")){n=!0;break}}if(!n)return!1}if(e.attribute){var a=d.dom.getAttributes(u),s=[],l=!1;for(var c in Array.isArray(e.attribute)?s=e.attribute:s[e.attribute]=e.attributeValue,s)if(s.hasOwnProperty(c))if(void 0===s[c]){if(void 0!==a[c]){l=!0;break}}else if(a[c]===s[c]){l=!0;break}if(!l)return!1}return!0}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var r=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(e,t){var n;return t=t||document,"object"==typeof e&&e.nodeType?(n=t.createElement("div")).appendChild(e):wysihtml5.browser.supportsHTML5Tags(t)?(n=t.createElement("div")).innerHTML=e:(function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,n=r.length;t<n;t++)e.createElement(r[t]);e._wysihtml5_supportsHTML5Tags=!0}}(t),n=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(e){}return t.body.removeChild(n),n}(e,t)),n}}(),wysihtml5.dom.getParentElement=function(e,t,n,r){for(n=n||50;n--&&e&&"BODY"!==e.nodeName&&(!r||e!==r);){if(wysihtml5.dom.domNode(e).test(t))return e;e=e.parentNode}return null},wysihtml5.dom.getStyle=function(){var d={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},h=/\-[a-z]/g;return function(u){return{from:function(e){if(e.nodeType===wysihtml5.ELEMENT_NODE){var t=e.ownerDocument,n=d[u]||u.replace(h,function(e){return e.charAt(1).toUpperCase()}),r=e.style,i=e.currentStyle,o=r[n];if(o)return o;if(i)try{return i[n]}catch(e){}var a,s,l=t.defaultView||t.parentWindow,c=("height"===u||"width"===u)&&"TEXTAREA"===e.nodeName;return l.getComputedStyle?(c&&(a=r.overflow,r.overflow="hidden"),s=l.getComputedStyle(e,null).getPropertyValue(u),c&&(r.overflow=a||""),s):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var n=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||n.push(e):n=n.concat(wysihtml5.dom.getTextNodes(e,t));return n},wysihtml5.dom.hasElementWithTagName=function(){var o={},a=1;return function(e,t){var n,r=((n=e)._wysihtml5_identifier||(n._wysihtml5_identifier=a++))+":"+t,i=o[r];return 0<(i=i||(o[r]=e.getElementsByTagName(t))).length}}(),function(o){var a={},s=1;o.dom.hasElementWithClassName=function(e,t){if(!o.browser.supportsNativeGetElementsByClassName())return!!e.querySelector("."+t);var n,r=((n=e)._wysihtml5_identifier||(n._wysihtml5_identifier=s++))+":"+t,i=a[r];return 0<(i=i||(a[r]=e.getElementsByClassName(t))).length}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(i){return i=i.join("\n"),{into:function(e){var t=e.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=i:t.appendChild(e.createTextNode(i));var n=e.querySelector("head link");if(n)n.parentNode.insertBefore(t,n);else{var r=e.querySelector("head");r&&r.appendChild(t)}}}},function(a){a.dom.lineBreaks=function(i){function r(e){return"BR"===e.nodeName}function o(e){return r(e)||"block"===a.dom.getStyle("display").from(e)}return{add:function(e){var t=i.ownerDocument,n=a.dom.domNode(i).next({ignoreBlankTexts:!0}),r=a.dom.domNode(i).prev({ignoreBlankTexts:!0});n&&!o(n)&&a.dom.insert(t.createElement("br")).after(i),r&&!o(r)&&a.dom.insert(t.createElement("br")).before(i)},remove:function(e){var t=a.dom.domNode(i).next({ignoreBlankTexts:!0}),n=a.dom.domNode(i).prev({ignoreBlankTexts:!0});t&&r(t)&&t.parentNode.removeChild(t),n&&r(n)&&n.parentNode.removeChild(n)}}}}(wysihtml5),wysihtml5.dom.observe=function(r,i,o){for(var a,e,t=0,n=(i="string"==typeof i?[i]:i).length;t<n;t++)e=i[t],r.addEventListener?r.addEventListener(e,o,!1):(a=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},o.call(r,e)},r.attachEvent("on"+e,a));return{stop:function(){for(var e,t=0,n=i.length;t<n;t++)e=i[t],r.removeEventListener?r.removeEventListener(e,o,!1):r.detachEvent("on"+e,a)}}},wysihtml5.dom.parse=function(e,t){var f={1:function(e,t){var n,r,i,o=C.tags,a=e.nodeName.toLowerCase(),s=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;s&&"HTML"!=s&&(a=s+":"+a);"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(a="div"));if(a in o){if(!(n=o[a])||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!e.firstChild)return null;n={rename_tag:p}}if(n.one_of_type&&!function(e,t,n,r){var i,o;if("SPAN"===e.nodeName&&!r&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return 1;for(o in n)if(n.hasOwnProperty(o)&&t.type_definitions&&t.type_definitions[o]&&(i=t.type_definitions[o],l(e,i)))return 1;return}(e,C,n.one_of_type,t)){if(!n.remove_action)return null;if("unwrap"===n.remove_action)return!1;if("rename"!==n.remove_action)return null;i=n.remove_action_rename_to||p}r=e.ownerDocument.createElement(i||n.rename_tag||a),function(e,t,n,r){var i,o,a,s,l,c={},u=n.set_class,d=n.add_class,h=n.add_style,f=n.set_attributes,p=C.classes,m=0,g=[],v=[],y=[],b=[];f&&(c=wysihtml5.lang.object(f).clone());c=wysihtml5.lang.object(c).merge(function(e,t){var n,r,i,o=wysihtml5.lang.object(C.attributes||{}).clone(),a=wysihtml5.lang.object(o).merge(wysihtml5.lang.object(t||{}).clone()).get(),s={},l=wysihtml5.dom.getAttributes(e);for(n in a)if(/\*$/.test(n)){i=x(n.slice(0,-1),l);for(var c=0,u=i.length;c<u;c++)!1!==(r=E(i[c],l[i[c]],a[n],e.nodeName))&&(s[i[c]]=r)}else!1!==(r=E(0,l[n],a[n],e.nodeName))&&(s[n]=r);return s}(e,n.check_attributes)).get(),u&&g.push(u);if(d)for(s in d)(l=A[d[s]])&&"string"==typeof(a=l(wysihtml5.dom.getAttribute(e,s)))&&g.push(a);if(h)for(s in h)(l=S[h[s]])&&(newStyle=l(wysihtml5.dom.getAttribute(e,s)),"string"==typeof newStyle&&v.push(newStyle));if("string"==typeof p&&"any"===p)if(e.getAttribute("class"))if(C.classes_blacklist){for((b=e.getAttribute("class"))&&(g=g.concat(b.split(w))),i=g.length;m<i;m++)o=g[m],C.classes_blacklist[o]||y.push(o);y.length&&(c.class=wysihtml5.lang.array(y).unique().join(" "))}else c.class=e.getAttribute("class");else g&&0<g.length&&(c.class=wysihtml5.lang.array(g).unique().join(" "));else{for(r||(p["_wysihtml5-temp-placeholder"]=1,p._rangySelectionBoundary=1,p["wysiwyg-tmp-selected-cell"]=1),(b=e.getAttribute("class"))&&(g=g.concat(b.split(w))),i=g.length;m<i;m++)o=g[m],p[o]&&y.push(o);y.length&&(c.class=wysihtml5.lang.array(y).unique().join(" "))}c.class&&r&&(c.class=c.class.replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(c.class)&&delete c.class);v.length&&(c.style=wysihtml5.lang.array(v).unique().join(" "));for(s in c)try{t.setAttribute(s,c[s])}catch(e){}c.src&&(void 0!==c.width&&t.setAttribute("width",c.width),void 0!==c.height&&t.setAttribute("height",c.height))}(e,r,n,t),function(e,t,n){var r,i;if(n&&n.keep_styles)for(r in n.keep_styles)if(n.keep_styles.hasOwnProperty(r)){if(i="float"===r?e.style.styleFloat||e.style.cssFloat:e.style[r],n.keep_styles[r]instanceof RegExp&&!n.keep_styles[r].test(i))continue;"float"===r?t.style[e.style.styleFloat?"styleFloat":"cssFloat"]=i:e.style[r]&&(t.style[r]=i)}}(e,r,n),e=null,r.normalize&&r.normalize();return r},3:function(e){var t=e.nextSibling;{if(!t||t.nodeType!==wysihtml5.TEXT_NODE){var n=e.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");return e.ownerDocument.createTextNode(n)}t.data=e.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+t.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")}},8:function(e){if(C.comments)return e.ownerDocument.createComment(e.nodeValue)}},p="span",w=/\s+/,d={tags:{},classes:{}},C={},m=["ADDRESS","BLOCKQUOTE","CENTER","DIR","DIV","DL","FIELDSET","FORM","H1","H2","H3","H4","H5","H6","ISINDEX","MENU","NOFRAMES","NOSCRIPT","OL","P","PRE","TABLE","UL"];function g(e,t,n,r){var i,o,a,s,l=e.nodeType,c=e.childNodes,u=c.length,d=f[l],h=0;if(r&&1===l&&wysihtml5.dom.hasClass(e,r))return e;if(!(o=d&&d(e,n))){if(!1!==o)return null;for(i=e.ownerDocument.createDocumentFragment(),h=u;h--;)c[h]&&(a=g(c[h],t,n,r))&&(c[h]===a&&h--,i.insertBefore(a,i.firstChild));return""===(s=wysihtml5.dom.getStyle("display").from(e))&&(s=wysihtml5.lang.array(m).contains(e.tagName)?"block":""),wysihtml5.lang.array(["block","flex","table"]).contains(s)&&i.appendChild(e.ownerDocument.createElement("br")),wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(e.nodeName.toLowerCase())&&e.parentNode.lastChild!==e&&(e.nextSibling&&3===e.nextSibling.nodeType&&/^\s/.test(e.nextSibling.nodeValue)||i.appendChild(e.ownerDocument.createTextNode(" "))),i.normalize&&i.normalize(),i}for(h=0;h<u;h++)c[h]&&(a=g(c[h],t,n,r))&&(c[h]===a&&h--,o.appendChild(a));if(t&&o.nodeName.toLowerCase()===p&&(!o.childNodes.length||/^\s*$/gi.test(o.innerHTML)&&(n||"_wysihtml5-temp-placeholder"!==e.className&&"rangySelectionBoundary"!==e.className)||!o.attributes.length)){for(i=o.ownerDocument.createDocumentFragment();o.firstChild;)i.appendChild(o.firstChild);return i.normalize&&i.normalize(),i}return o.normalize&&o.normalize(),o}function l(e,t){var n,r,i,o,a,s=e.getAttribute("class"),l=e.getAttribute("style");if(t.methods)for(var c in t.methods)if(t.methods.hasOwnProperty(c)&&k[c]&&k[c](e))return 1;if(s&&t.classes){n=(s=s.replace(/^\s+/g,"").replace(/\s+$/g,"").split(w)).length;for(var u=0;u<n;u++)if(t.classes[s[u]])return 1}if(l&&t.styles)for(r in l=l.split(";"),t.styles)if(t.styles.hasOwnProperty(r))for(var d=l.length;d--;)if((a=l[d].split(":"))[0].replace(/\s/g,"").toLowerCase()===r&&(!0===t.styles[r]||1===t.styles[r]||wysihtml5.lang.array(t.styles[r]).contains(a[1].replace(/\s/g,"").toLowerCase())))return 1;if(t.attrs)for(i in t.attrs)if(t.attrs.hasOwnProperty(i)&&"string"==typeof(o=wysihtml5.dom.getAttribute(e,i))&&-1<o.search(t.attrs[i]))return 1}function x(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&0===r.indexOf(e)&&n.push(r);return n}function E(e,t,n,r){var i,o=wysihtml5.lang.object(n).isFunction()?n:$[n];return!(!o||"string"!=typeof(i=o(t,r)))&&i}var n,r,i,o,a,s,c,u,h,v,y,b,_,$={url:(s=/^https?:\/\//i,function(e){return e&&e.match(s)?e.replace(s,function(e){return e.toLowerCase()}):null}),src:(a=/^(\/|https?:\/\/)/i,function(e){return e&&e.match(a)?e.replace(a,function(e){return e.toLowerCase()}):null}),href:(o=/^(#|\/|https?:\/\/|mailto:|tel:)/i,function(e){return e&&e.match(o)?e.replace(o,function(e){return e.toLowerCase()}):null}),alt:(i=/[^ a-z0-9_\-]/gi,function(e,t){return e?e.replace(i,""):"IMG"===t?"":null}),numbers:(r=/\D/g,function(e){return(e=(e||"").replace(r,""))||null}),dimension:(n=/\D*(\d+)(\.\d+)?\s?(%)?\D*/,function(e){return(e=(e||"").replace(n,"$1$2$3"))||null}),any:function(e){return e||null}},S={align_text:(c={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"},function(e){return c[String(e).toLowerCase()]})},A={align_img:(y={left:"wysiwyg-float-left",right:"wysiwyg-float-right"},function(e){return y[String(e).toLowerCase()]}),align_text:(v={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"},function(e){return v[String(e).toLowerCase()]}),clear_br:(h={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"},function(e){return h[String(e).toLowerCase()]}),size_font:(u={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"},function(e){return u[String(e).charAt(0)]})},k={has_visible_contet:(_=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"],function(e){if((b=(e.innerText||e.textContent).replace(/\s/g,""))&&0<b.length)return!0;for(var t=_.length;t--;)if(e.querySelector(_[t]))return!0;return!!(e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight)})},T={unwrap:function(e){wysihtml5.dom.unwrap(e)},remove:function(e){e.parentNode.removeChild(e)}};return function(e,t){wysihtml5.lang.object(C).merge(d).merge(t.rules).get();var n,r,i,o=t.context||e.ownerDocument||document,a=o.createDocumentFragment(),s="string"==typeof e,l=!1;for(!0===t.clearInternals&&(l=!0),n=s?wysihtml5.dom.getAsDom(e,o):e,C.selectors&&function(e,t){var n,r,i;for(n in t)if(t.hasOwnProperty(n)){wysihtml5.lang.object(t[n]).isFunction()?r=t[n]:"string"==typeof t[n]&&T[t[n]]&&(r=T[t[n]]);for(var o=(i=e.querySelectorAll(n)).length;o--;)r(i[o])}}(n,C.selectors);n.firstChild;)(r=g(i=n.firstChild,t.cleanUp,l,t.uneditableClass))&&a.appendChild(r),i!==r&&n.removeChild(i);if(t.unjoinNbsps)for(var c=wysihtml5.dom.getTextNodes(a),u=c.length;u--;)c[u].nodeValue=c[u].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return n.innerHTML="",n.appendChild(a),s?wysihtml5.quirks.getCorrectInnerHTML(n):n}(e,t)},wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),r=n.length,i=0;i<r;i++)(t=n[i]).nodeType===wysihtml5.TEXT_NODE&&/^[\n\r]*$/.test(t.data)&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,r=e.ownerDocument.createElement(t);n=e.firstChild;)r.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(r),e.parentNode&&e.parentNode.replaceChild(r,e),r},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}},function(t){function p(e){return"block"===t.getStyle("display").from(e)}function m(e){return"BR"===e.nodeName}function g(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}t.resolveList=function(e,t){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var n,r,i,o,a,s,l,c=e.ownerDocument,u=c.createDocumentFragment(),d=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0}),h=wysihtml5.dom.domNode(e).next({ignoreBlankTexts:!0}),f=e.lastElementChild||e.lastChild;if(t)for(!d||p(d)||m(d)||g(u);s=e.firstElementChild||e.firstChild;){for(r=s.lastChild,l=s===f;n=s.firstChild;)i=n===r,o=(!l||h&&!p(h))&&i&&!p(n)&&!m(n),u.appendChild(n),o&&g(u);s.parentNode.removeChild(s)}else for(;s=e.firstElementChild||e.firstChild;){if(s.querySelector&&s.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;n=s.firstChild;)u.appendChild(n);else{for(a=c.createElement("p");n=s.firstChild;)a.appendChild(n);u.appendChild(a)}s.parentNode.removeChild(s)}e.parentNode.replaceChild(u,e)}}}(wysihtml5.dom),function(l){var c=document,u=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],d=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],h=["referrer","write","open","close"];l.dom.Sandbox=Base.extend({constructor:function(e,t){this.callback=e||l.EMPTY_FUNCTION,this.config=l.lang.object({}).merge(t).get(),this.config.className||(this.config.className="wysihtml5-sandbox"),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=c.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var e=this,t=c.createElement("iframe");return t.className=this.config.className,l.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(t),l.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(t.src="javascript:'<html></html>'"),t.onload=function(){t.onreadystatechange=t.onload=null,e._onLoadIframe(t)},t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&(t.onreadystatechange=t.onload=null,e._onLoadIframe(t))},t},_onLoadIframe:function(e){if(l.dom.contains(c.documentElement,e)){var t=this,n=e.contentWindow,r=e.contentWindow.document,i=c.characterSet||c.charset||"utf-8",o=this._getHtml({charset:i,stylesheets:this.config.stylesheets});if(r.open("text/html","replace"),r.write(o),r.close(),this.getWindow=function(){return e.contentWindow},this.getDocument=function(){return e.contentWindow.document},n.onerror=function(e,t,n){throw new Error("wysihtml5.Sandbox: "+e,t,n)},!l.browser.supportsSandboxedIframes()){var a,s;for(a=0,s=u.length;a<s;a++)this._unset(n,u[a]);for(a=0,s=d.length;a<s;a++)this._unset(n,d[a],l.EMPTY_FUNCTION);for(a=0,s=h.length;a<s;a++)this._unset(r,h[a]);this._unset(r,"cookie","",!0)}l.polyfills&&l.polyfills(n,r),this.loaded=!0,setTimeout(function(){t.callback(t)},0)}},_getHtml:function(e){var t,n=e.stylesheets,r="",i=0;if(n="string"==typeof n?[n]:n)for(t=n.length;i<t;i++)r+='<link rel="stylesheet" href="'+n[i]+'">';return e.stylesheets=r,l.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,t,n,r){try{e[t]=n}catch(e){}try{e.__defineGetter__(t,function(){return n})}catch(e){}if(r)try{e.__defineSetter__(t,function(){})}catch(e){}if(!l.browser.crashesWhenDefineProperty(t))try{var i={get:function(){return n}};r&&(i.set=function(){}),Object.defineProperty(e,t,i)}catch(e){}}})}(wysihtml5),function(r){var t=document;r.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView||this.element.ownerDocument.parentWindow},getDocument:function(){return this.element.ownerDocument},constructor:function(e,t,n){this.callback=e||r.EMPTY_FUNCTION,this.config=r.lang.object({}).merge(t).get(),this.config.className||(this.config.className="wysihtml5-sandbox"),this.element=n?this._bindElement(n):this._createElement()},destroy:function(){},_createElement:function(){var e=t.createElement("div");return e.className=this.config.className,this._loadElement(e),e},_bindElement:function(e){return e.className=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var n=this;if(!t){var r=this._getHtml();e.innerHTML=r}this.loaded=!0,setTimeout(function(){n.callback(n)},0)},_getHtml:function(e){return""}})}(wysihtml5),function(){var r={className:"class"};wysihtml5.dom.setAttributes=function(n){return{on:function(e){for(var t in n)e.setAttribute(r[t]||t,n[t])}}}}(),wysihtml5.dom.setStyles=function(r){return{on:function(e){var t=e.style;if("string"!=typeof r)for(var n in r)"float"===n?(t.cssFloat=r[n],t.styleFloat=r[n]):t[n]=r[n];else t.cssText+=";"+r}}},function(s){s.simulatePlaceholder=function(e,t,n,r){function i(){var e=0<t.element.offsetWidth&&0<t.element.offsetHeight;t.hasPlaceholderSet()&&(t.clear(),t.element.focus(),e&&setTimeout(function(){var e=t.selection.getSelection();e.focusNode&&e.anchorNode||t.selection.selectNode(t.element.firstChild||t.element)},0)),t.placeholderSet=!1,s.removeClass(t.element,a)}function o(){t.isEmpty()&&!t.placeholderSet&&(t.placeholderSet=!0,t.setValue(n,!1),s.addClass(t.element,a))}var a=r||"wysihtml5-placeholder";e.on("set_placeholder",o).on("unset_placeholder",i).on("focus:composer",i).on("paste:composer",i).on("blur:composer",o),o()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();return t=t.toLowerCase(),"IMG"==e.nodeName&&"src"==t&&!0===wysihtml5.dom.isLoadedImage(e)?e.src:!(n&&"outerHTML"in e)||-1!=e.outerHTML.toLowerCase().indexOf(" "+t+"=")?e.getAttribute(t):null},wysihtml5.dom.getAttributes=function(e){var t,n=!wysihtml5.browser.supportsGetAttributeCorrectly(),r=e.nodeName,i=[];for(t in e.attributes)(e.attributes.hasOwnProperty&&e.attributes.hasOwnProperty(t)||!e.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e.attributes,t))&&e.attributes[t].specified&&("IMG"==r&&"src"==e.attributes[t].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(e)?i.src=e.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(e.attributes[t].name.toLowerCase())&&n&&1===e.attributes[t].value||(i[e.attributes[t].name]=e.attributes[t].value));return i},wysihtml5.dom.isLoadedImage=function(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}},function(i){function d(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1}function n(e,t){e?(this.cell=e,this.table=h.getParentElement(e,{query:"table"})):t&&(this.table=t,this.cell=this.table.querySelectorAll("th, td")[0])}var h=i.dom;function o(e,t){for(var n,r=[],i=0,o=e.length;i<o;i++)if(n=e[i].querySelectorAll(t))for(var a=n.length;a--;r.unshift(n[a]));return r}function l(e){e.parentNode.removeChild(e)}function f(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function p(e,t){for(var n=e.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!t||t==n.tagName.toLowerCase())return n;return null}n.prototype={addSpannedCellToMap:function(e,t,n,r,i,o){for(var a=[],s=n+(o?parseInt(o,10)-1:0),l=r+(i?parseInt(i,10)-1:0),c=n;c<=s;c++){void 0===t[c]&&(t[c]=[]);for(var u=r;u<=l;u++)t[c][u]=new d(e),t[c][u].isColspan=i&&1<parseInt(i,10),t[c][u].isRowspan=o&&1<parseInt(o,10),t[c][u].firstCol=u==r,t[c][u].lastCol=u==l,t[c][u].firstRow=c==n,t[c][u].lastRow=c==s,t[c][u].isReal=u==r&&c==n,(t[c][u].spanCollection=a).push(t[c][u])}},setCellAsModified:function(e){if(e.modified=!0,0<e.spanCollection.length)for(var t=0,n=e.spanCollection.length;t<n;t++)e.spanCollection[t].modified=!0},setTableMap:function(){var e,t,n,r,i,o,a,s,l=[],c=this.getTableRows();for(e=0;e<c.length;e++)for(t=c[e],n=this.getRowCells(t),void(o=0)===l[e]&&(l[e]=[]),r=0;r<n.length;r++){for(i=n[r];void 0!==l[e][o];)o++;a=h.getAttribute(i,"colspan"),s=h.getAttribute(i,"rowspan"),a||s?(this.addSpannedCellToMap(i,l,e,o,a,s),o+=a?parseInt(a,10):1):(l[e][o]=new d(i),o++)}return this.map=l},getRowCells:function(e){var t=this.table.querySelectorAll("table"),n=t?o(t,"th, td"):[],r=e.querySelectorAll("th, td");return 0<n.length?i.lang.array(r).without(n):r},getTableRows:function(){var e=this.table.querySelectorAll("table"),t=e?o(e,"tr"):[],n=this.table.querySelectorAll("tr");return 0<t.length?i.lang.array(n).without(t):n},getMapIndex:function(e){for(var t=this.map.length,n=this.map&&this.map[0]?this.map[0].length:0,r=0;r<t;r++)for(var i=0;i<n;i++)if(this.map[r][i].el===e)return{row:r,col:i};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var n=this.idx_start;this.idx_start=this.idx_end,this.idx_end=n}if(this.idx_start.col>this.idx_end.col){var r=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=r}if(null!=this.idx_start&&null!=this.idx_end)for(var i=this.idx_start.row,o=this.idx_end.row;i<=o;i++)for(var a=this.idx_start.col,s=this.idx_end.col;a<=s;a++)t.push(this.map[i][a].el);return t},orderSelectionEnds:function(e){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,n){for(var r,i=this.table.ownerDocument,o=i.createDocumentFragment(),a=0;a<t;a++){if(r=i.createElement(e),n)for(var s in n)n.hasOwnProperty(s)&&r.setAttribute(s,n[s]);r.appendChild(document.createTextNode(" ")),o.appendChild(r)}return o},correctColIndexForUnreals:function(e,t){for(var n=this.map[t],r=-1,i=0;i<e;i++)n[i].isReal&&r++;return r},getLastNewCellOnRow:function(e,t){for(var n,r,i=this.getRowCells(e),o=0,a=i.length;o<a;o++)if(n=i[o],!1===(r=this.getMapIndex(n))||void 0!==t&&r.row!=t)return n;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return(!e||0==e.length)&&(l(this.table),!0)},splitRowToCells:function(e){if(e.isColspan){var t=parseInt(h.getAttribute(e.el,"colspan")||1,10),n=e.el.tagName.toLowerCase();if(1<t){var r=this.createCells(n,t-1);f(e.el,r)}e.el.removeAttribute("colspan")}},getRealRowEl:function(e,t){var n=null,r=null;t=t||this.idx;for(var i=0,o=this.map[t.row].length;i<o;i++)if((r=this.map[t.row][i]).isReal&&(n=h.getParentElement(r.el,{query:"tr"})))return n;return null===n&&e&&(n=h.getParentElement(this.map[t.row][t.col].el,{query:"tr"})||null),n},injectRowAt:function(e,t,n,r,i){var o=this.getRealRowEl(!1,{row:e,col:t}),a=this.createCells(r,n);if(o){var s=this.correctColIndexForUnreals(t,e);0<=s?f(this.getRowCells(o)[s],a):o.insertBefore(a,o.firstChild)}else{var l=this.table.ownerDocument.createElement("tr");l.appendChild(a),f(h.getParentElement(i.el,{query:"tr"}),l)}},canMerge:function(e){if(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}for(var r=this.idx_start.row,i=this.idx_end.row;r<=i;r++)for(var o=this.idx_start.col,a=this.idx_end.col;o<=a;o++)if(this.map[r][o].isColspan||this.map[r][o].isRowspan)return!1;return!0},decreaseCellSpan:function(e,t){var n=parseInt(h.getAttribute(e.el,t),10)-1;1<=n?e.el.setAttribute(t,n):(e.el.removeAttribute(t),"colspan"==t&&(e.isColspan=!1),"rowspan"==t&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,t,n,r,i,o,a;if(this.setTableMap(),this.map){for(n=0,r=this.map.length;n<r;n++){for(a=!0,i=0,o=(e=this.map[n]).length;i<o;i++)if(t=e[i],!(h.getAttribute(t.el,"rowspan")&&1<parseInt(h.getAttribute(t.el,"rowspan"),10)&&!0!==t.firstRow)){a=!1;break}if(a)for(i=0;i<o;i++)this.decreaseCellSpan(e[i],"rowspan")}var s=this.getTableRows();for(n=0,r=s.length;n<r;n++)0==(e=s[n]).childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&l(e)}},fillMissingCells:function(){var e=0,t=0,n=null;if(this.setTableMap(),this.map){e=this.map.length;for(var r=0;r<e;r++)this.map[r].length>t&&(t=this.map[r].length);for(var i=0;i<e;i++)for(var o=0;o<t;o++)this.map[i]&&!this.map[i][o]&&0<o&&(this.map[i][o]=new d(this.createCells("td",1)),(n=this.map[i][o-1])&&n.el&&n.el.parent&&f(this.map[i][o-1].el,this.map[i][o].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var e=this.map[this.idx.row][this.idx.col],t=h.getAttribute(e.el,"colspan")?parseInt(h.getAttribute(e.el,"colspan"),10):1,n=e.el.tagName.toLowerCase();if(e.isRowspan){var r=parseInt(h.getAttribute(e.el,"rowspan"),10);if(1<r)for(var i=1,o=r-1;i<=o;i++)this.injectRowAt(this.idx.row+i,this.idx.col,t,n,e);e.el.removeAttribute("rowspan")}this.splitRowToCells(e)}},merge:function(e){if(this.rectify())if(this.canMerge(e)){for(var t=this.idx_end.row-this.idx_start.row+1,n=this.idx_end.col-this.idx_start.col+1,r=this.idx_start.row,i=this.idx_end.row;r<=i;r++)for(var o=this.idx_start.col,a=this.idx_end.col;o<=a;o++)r==this.idx_start.row&&o==this.idx_start.col?(1<t&&this.map[r][o].el.setAttribute("rowspan",t),1<n&&this.map[r][o].el.setAttribute("colspan",n)):(/^\s*<br\/?>\s*$/.test(this.map[r][o].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[r][o].el.innerHTML),l(this.map[r][o].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(e){var t=this.getMapIndex(e.el),n=t.row+1,r={row:n,col:t.col};if(n<this.map.length){var i=this.getRealRowEl(!1,r);if(null!==i){var o=this.correctColIndexForUnreals(r.col,r.row);if(0<=o)f(this.getRowCells(i)[o],e.el);else{var a=this.getLastNewCellOnRow(i,n);null!==a?f(a,e.el):i.insertBefore(e.el,i.firstChild)}2<parseInt(h.getAttribute(e.el,"rowspan"),10)?e.el.setAttribute("rowspan",parseInt(h.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")}}},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):l(e.el):2<parseInt(h.getAttribute(e.el,"rowspan"),10)?e.el.setAttribute("rowspan",parseInt(h.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],n=0,r=t.length;n<r;n++)t[n].isReal&&e.push(t[n].el);return e},getColumnElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,n=this.map.length;t<n;t++)this.map[t][this.idx.col]&&this.map[t][this.idx.col].isReal&&e.push(this.map[t][this.idx.col].el);return e},removeRow:function(){var e=h.getParentElement(this.cell,{query:"tr"});if(e){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],n=0,r=t.length;n<r;n++)t[n].modified||(this.setCellAsModified(t[n]),this.removeRowCell(t[n]));l(e)}},removeColCell:function(e){e.isColspan?2<parseInt(h.getAttribute(e.el,"colspan"),10)?e.el.setAttribute("colspan",parseInt(h.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&l(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,t=this.map.length;e<t;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var t=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&h.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(h.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(var n=this.map[this.idx.row],r=t.createElement("tr"),i=0,o=n.length;i<o;i++)n[i].modified||(this.setCellAsModified(n[i]),this.addRowCell(n[i],r,e));switch(e){case"below":f(this.getRealRowEl(!0),r);break;case"above":var a=h.getParentElement(this.map[this.idx.row][this.idx.col].el,{query:"tr"});a&&a.parentNode.insertBefore(r,a)}}},addRowCell:function(e,t,n){var r=e.isColspan?{colspan:h.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=n&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(h.getAttribute(e.el,"rowspan"),10)+1):t.appendChild(this.createCells("td",1,r)):"above"!=n&&e.isRowspan&&e.lastRow?t.appendChild(this.createCells("td",1,r)):c.isRowspan&&e.el.attr("rowspan",parseInt(h.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&("below"!=e&&"above"!=e||this.addRow(e),"before"!=e&&"after"!=e||this.addColumn(e))},addColCell:function(e,t,n){var r,i=e.el.tagName.toLowerCase();switch(n){case"before":r=!e.isColspan||e.firstCol;break;case"after":r=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(r){switch(n){case"before":e.el.parentNode.insertBefore(this.createCells(i,1),e.el);break;case"after":f(e.el,this.createCells(i,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,t+1,n)}else e.el.setAttribute("colspan",parseInt(h.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var t,n;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&h.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(h.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(var r=0,i=this.map.length;r<i;r++)(t=this.map[r])[this.idx.col]&&((n=t[this.idx.col]).modified||(this.setCellAsModified(n),this.addColCell(n,r,e)))},handleCellAddWithRowspan:function(e,t,n){for(var r,i,o,a=parseInt(h.getAttribute(this.cell,"rowspan"),10)-1,s=h.getParentElement(e.el,{query:"tr"}),l=e.el.tagName.toLowerCase(),c=this.table.ownerDocument,u=0;u<a;u++)if(r=this.correctColIndexForUnreals(this.idx.col,t+u),s=p(s,"tr"))if(0<r)switch(n){case"before":i=this.getRowCells(s),0<r&&this.map[t+u][this.idx.col].el!=i[r]&&r==i.length-1?f(i[r],this.createCells(l,1)):i[r].parentNode.insertBefore(this.createCells(l,1),i[r]);break;case"after":f(this.getRowCells(s)[r],this.createCells(l,1))}else s.insertBefore(this.createCells(l,1),s.firstChild);else(o=c.createElement("tr")).appendChild(this.createCells(l,1)),this.table.appendChild(o)}},h.table={getCellsBetween:function(e,t){return new n(e).getMapElsTo(t)},addCells:function(e,t){new n(e).add(t)},removeCells:function(e,t){new n(e).remove(t)},mergeCellsBetween:function(e,t){new n(e).merge(t)},unmergeCell:function(e){new n(e).unmerge()},orderSelectionEnds:function(e,t){return new n(e).orderSelectionEnds(t)},indexOf:function(e){var t=new n(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){return new n(null,e).getElementAtIndex(t)},findRowByCell:function(e){return new n(e).getRowElementsByCell()},findColumnByCell:function(e){return new n(e).getColumnElementsByCell()},canMerge:function(e,t){return new n(e).canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var n,r=[];e.nodeType&&(e=[e]);for(var i=0,o=e.length;i<o;i++)if(n=e[i].querySelectorAll(t))for(var a=n.length;a--;r.unshift(n[a]));return r},wysihtml5.dom.compareDocumentPosition=document.documentElement.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var n,r;if(n=9===e.nodeType?e:e.ownerDocument,r=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(n!==r)return 1;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 20;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 10;for(var i=e,o=[],a=null;i;){if(i==t)return 10;o.push(i),i=i.parentNode}for(i=t,a=null;i;){if(i==e)return 20;var s=wysihtml5.lang.array(o).indexOf(i);if(-1!==s){var l=o[s],c=wysihtml5.lang.array(l.childNodes).indexOf(o[s-1]);return wysihtml5.lang.array(l.childNodes).indexOf(a)<c?2:4}i=(a=i).parentNode}return 1},wysihtml5.dom.unwrap=function(e){var t=[];if(e.parentNode){for(;e.lastChild;)t.unshift(e.lastChild),wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}return t},wysihtml5.dom.getPastedHtml=function(e){var t;return wysihtml5.browser.supportsModernPaste()&&e.clipboardData&&(wysihtml5.lang.array(e.clipboardData.types).contains("text/html")?t=e.clipboardData.getData("text/html"):wysihtml5.lang.array(e.clipboardData.types).contains("text/plain")&&(t=wysihtml5.lang.string(e.clipboardData.getData("text/plain")).escapeHTML(!0,!0))),t},wysihtml5.dom.getPastedHtmlWithDiv=function(t,n){var r=t.selection.getBookmark(),e=t.element.ownerDocument,i=e.createElement("DIV"),o=t.getScrollPos();e.body.appendChild(i),i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.position="absolute",i.style.top=o.y+"px",i.style.left=o.x+"px",i.setAttribute("contenteditable","true"),i.focus(),setTimeout(function(){var e;t.selection.setBookmark(r),(e=i.innerHTML)&&/^<br\/?>$/i.test(e.trim())&&(e=!1),n(e),i.parentNode.removeChild(i)},0)},wysihtml5.dom.removeInvisibleSpaces=function(e){for(var t=wysihtml5.dom.getTextNodes(e),n=t.length;n--;)t[n].nodeValue=t[n].nodeValue.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")},wysihtml5.quirks.cleanPastedHTML=function(e,t){var n={color:wysihtml5.dom.getStyle("color").from(t.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(t.referenceNode)},r=function(e,t){var n,r,i,o,a=wysihtml5.lang.object(e).clone(!0);for(n in a.tags)if(a.tags.hasOwnProperty(n)&&a.tags[n].keep_styles)for(r in a.tags[n].keep_styles)a.tags[n].keep_styles.hasOwnProperty(r)&&t[r]&&(a.tags[n].keep_styles[r]=(i=t[r],o=wysihtml5.lang.string(i).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),new RegExp("^((?!^"+o+"$).)*$","i")));return a}(function(e,t){var n;if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].condition||(n=e[r].set),e[r].condition&&e[r].condition.test(t))return e[r].set;return n}(t.rules,e)||{},n);return wysihtml5.dom.parse(e,{rules:r,cleanUp:!0,context:t.referenceNode.ownerDocument,uneditableClass:t.uneditableClass,clearInternals:!0,unjoinNbsps:!0})},wysihtml5.quirks.ensureProperClearing=function(){function t(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)}return function(e){wysihtml5.dom.observe(e.element,["cut","keydown"],t)}}(),function(s){s.quirks.getCorrectInnerHTML=function(e){var t=e.innerHTML;if(-1===t.indexOf("%7E"))return t;var n,r,i,o,a=e.querySelectorAll("[href*='~'], [src*='~']");for(o=0,i=a.length;o<i;o++)n=a[o].href||a[o].src,r=s.lang.string(n).replace("~").by("%7E"),t=s.lang.string(t).replace(r).by(n);return t}}(wysihtml5),function(n){var r="wysihtml5-quirks-redraw";n.quirks.redraw=function(e){n.dom.addClass(e,r),n.dom.removeClass(e,r);try{var t=e.ownerDocument;t.execCommand("italic",!1,null),t.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(i,o){var a=wysihtml5.dom,s={table:null,start:null,end:null,cells:null,select:function(e,t){s.start=e,s.end=t,s.table=a.getParentElement(s.start,{query:"table"},!1,i),selectedCells=a.table.getCellsBetween(s.start,s.end),c(selectedCells),n(),o.fire("tableselect").fire("tableselect:composer")}},r="wysiwyg-tmp-selected-cell";function e(e){var t,n=wysihtml5.dom.getParentElement(e.target,{query:"td, th"},!1,i);n&&(t=n,s.start=t,s.end=t,s.cells=[t],s.table=a.getParentElement(s.start,{query:"table"},!1,i),s.table&&(l(),a.addClass(t,r),i.addEventListener("mousemove",u),i.addEventListener("mouseup",d),o.fire("tableselectstart").fire("tableselectstart:composer")))}function l(){if(i){var e=i.querySelectorAll("."+r);if(0<e.length)for(var t=0;t<e.length;t++)a.removeClass(e[t],r)}}function c(e){for(var t=0;t<e.length;t++)a.addClass(e[t],r)}function u(e){var t,n=null,r=a.getParentElement(e.target,{query:"td, th"},!1,i);r&&s.table&&s.start&&(n=a.getParentElement(r,{query:"table"},!1,i))&&n===s.table&&(l(),t=s.end,s.end=r,s.cells=a.table.getCellsBetween(s.start,r),1<s.cells.length&&o.composer.selection.deselect(),c(s.cells),s.end!==t&&o.fire("tableselectchange").fire("tableselectchange:composer"))}function d(e){i.removeEventListener("mousemove",u),i.removeEventListener("mouseup",d),o.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){n()},0)}var t=function(e){i.ownerDocument.removeEventListener("click",t),a.getParentElement(e.target,{query:"table"},!1,i)!=s.table&&(l(),s.table=null,s.start=null,s.end=null,o.fire("tableunselect").fire("tableunselect:composer"))};function n(){i.ownerDocument.addEventListener("click",t)}return i.addEventListener("mousedown",e),s},function(l){function c(e){return new RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")}var u={rgba:{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,name:"rgba"},rgb:{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,name:"rgb"},hex6:{regex:/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,name:"hex",radix:16},hex3:{regex:/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,name:"hex",radix:16}};function d(e){var t,n;for(t in u)if(u.hasOwnProperty(t)&&(n=u[t]).regex.test(e))return n}l.quirks.styleParser={getColorParseMethod:d,getColorFormat:function(e){var t=d(e);return t?t.name:void 0},parseColor:function(e,t){var n,r,i,o,a,s=e;if(t){if(n=c(t),!(r=e.match(n)))return!1;r=r.pop().split(":")[1],s=l.lang.string(r).trim()}return!!(i=d(s))&&(!!(o=s.match(i.regex))&&(a=i.radix||10,i===u.hex3?(o.shift(),o.push(1),l.lang.array(o).map(function(e,t){return t<3?parseInt(e,a)*a+parseInt(e,a):parseFloat(e)})):(o.shift(),o[3]||o.push(1),l.lang.array(o).map(function(e,t){return t<3?parseInt(e,a):parseFloat(e)}))))},unparseColor:function(e,t){return"hex"===t?(e[0].toString(16)+e[1].toString(16)+e[2].toString(16)).toUpperCase():"hash"===t?"#"+(e[0].toString(16)+e[1].toString(16)+e[2].toString(16)).toUpperCase():"rgb"===t?"rgb("+e[0]+","+e[1]+","+e[2]+")":"rgba"===t?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"csv"===t?e[0]+","+e[1]+","+e[2]+","+e[3]:e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(e){var t=e.match(c("font-size"));return!!t&&l.lang.string(t[t.length-1].split(":")[1]).trim()}}}(wysihtml5),function(v){var y=v.dom;function i(e,t){for(var n=0;t!==e;)if(n++,!(t=t.parentNode))throw new Error("not a descendant of ancestor!");return n}function a(e,t){return 3!==e.nodeType&&e.childNodes[t]||e}function l(t){var n=document.createElement("span"),r=function(e){t.removeEventListener("mouseup",r),t.removeEventListener("keydown",r),t.removeEventListener("touchstart",r),t.removeEventListener("focus",r),t.removeEventListener("blur",r),t.removeEventListener("paste",i),t.removeEventListener("drop",i),t.removeEventListener("beforepaste",i),n&&n.parentNode&&n.parentNode.removeChild(n)},i=function(e){n&&n.parentNode&&setTimeout(r,0)};return n.appendChild(t.ownerDocument.createTextNode(v.INVISIBLE_SPACE)),n.className="_wysihtml5-temp-caret-fix",n.style.display="block",n.style.minWidth="1px",n.style.height="0px",t.addEventListener("mouseup",r),t.addEventListener("keydown",r),t.addEventListener("touchstart",r),t.addEventListener("focus",r),t.addEventListener("blur",r),t.addEventListener("paste",i),t.addEventListener("drop",i),t.addEventListener("beforepaste",i),n}v.Selection=Base.extend({constructor:function(e,t,n){rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.win=this.composer.win,this.contain=t,this.unselectableClass=n||!1},getBookmark:function(){var e=this.getRange();return e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},createTemporaryCaretSpaceAfter:function(e){var n=this.doc.createElement("span"),t=this.doc.createTextNode(v.INVISIBLE_SPACE),r=function(e){var t;this.contain.removeEventListener("mouseup",r),this.contain.removeEventListener("keydown",o),this.contain.removeEventListener("touchstart",r),this.contain.removeEventListener("focus",r),this.contain.removeEventListener("blur",r),this.contain.removeEventListener("paste",i),this.contain.removeEventListener("drop",i),this.contain.removeEventListener("beforepaste",i),n&&n.parentNode&&(n.innerHTML=n.innerHTML.replace(v.INVISIBLE_SPACE_REG_EXP,""),/[^\s]+/.test(n.innerHTML)?(t=n.lastChild,v.dom.unwrap(n),this.setAfter(t)):n.parentNode.removeChild(n))}.bind(this),i=function(e){n&&n.parentNode&&setTimeout(r,0)},o=function(e){8===e.which||91===e.which||17===e.which||86===e.which&&(e.ctrlKey||e.metaKey)||r()};return n.className="_wysihtml5-temp-caret-fix",n.style.position="absolute",n.style.display="block",n.style.minWidth="1px",n.style.zIndex="99999",n.appendChild(t),e.parentNode.insertBefore(n,e.nextSibling),this.setBefore(t),this.contain.addEventListener("mouseup",r),this.contain.addEventListener("keydown",o),this.contain.addEventListener("touchstart",r),this.contain.addEventListener("focus",r),this.contain.addEventListener("blur",r),this.contain.addEventListener("paste",i),this.contain.addEventListener("drop",i),this.contain.addEventListener("beforepaste",i),n},setAfter:function(r,i,e){var o,a=this.win,t=rangy.createRange(this.doc),n=function(){var e=r.parentNode,t=e?e.childNodes[e.childNodes.length-1]:null;if(!o||t===r&&1===r.nodeType&&"block"===a.getComputedStyle(r).display)if(i){var n=this.doc.createTextNode(v.INVISIBLE_SPACE);r.parentNode.insertBefore(n,r.nextSibling),this.selectNode(n),setTimeout(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},0)}else this.createTemporaryCaretSpaceAfter(r)}.bind(this);if(t.setStartAfter(r),t.setEndAfter(r),document.activeElement&&document.activeElement===this.composer.element)o=this.setSelection(t),n(),e&&e(o);else{var s=this.composer.getScrollPos();this.composer.element.focus(),this.composer.setScrollPos(s),setTimeout(function(){o=this.setSelection(t),n(),e&&e(o)}.bind(this),0)}},selectNode:function(e,t){var n=rangy.createRange(this.doc),r=e.nodeType===v.ELEMENT_NODE,i="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,o=r?e.innerHTML:e.data,a=""===o||o===v.INVISIBLE_SPACE,s=y.getStyle("display").from(e),l="block"===s||"list-item"===s;if(a&&r&&i&&!t)try{e.innerHTML=v.INVISIBLE_SPACE}catch(e){}i?n.selectNodeContents(e):n.selectNode(e),i&&a&&r?n.collapse(l):i&&a&&(n.setStartAfter(e),n.setEndAfter(e)),this.setSelection(n)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange())&&n.length?n.item(0):(t=this.getSelection(this.doc)).focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc))?n.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var e=this.getRange();!function(e){if(!e.canSurroundContents())for(var t=e.commonAncestorContainer,n=i(t,e.startContainer),r=i(t,e.endContainer);!e.canSurroundContents();)r<n?(e.setStartBefore(e.startContainer),n=i(t,e.startContainer)):(e.setEndAfter(e.endContainer),r=i(t,e.endContainer))}(e),this.setSelection(e)},getSelectedOwnNodes:function(e){for(var t=this.getOwnRanges(),n=[],r=0,i=t.length;r<i;r++)n.push(t[r].commonAncestorContainer||this.doc.body);return n},findNodesInSelection:function(t){for(var e,n=this.getOwnRanges(),r=[],i=0,o=n.length;i<o;i++)e=n[i].getNodes([1],function(e){return v.lang.array(t).contains(e.nodeName)}),r=r.concat(e);return r},filterElements:function(t){for(var e,n=this.getOwnRanges(),r=[],i=0,o=n.length;i<o;i++)e=n[i].getNodes([1],function(e){return t(e,n[i])}),r=r.concat(e);return r},containsUneditable:function(){for(var e=this.getOwnUneditables(),t=this.getSelection(),n=0,r=e.length;n<r;n++)if(t.containsNode(e[n]))return!0;return!1},deleteContents:function(){var e=this.getRange();this.deleteRangeContents(e),this.setSelection(e)},deleteRangeContents:function(e){var t,n,r,i;if(this.unselectableClass){(t=v.dom.getParentElement(e.startContainer,{query:"."+this.unselectableClass},!1,this.contain))&&e.setStartBefore(t),(n=v.dom.getParentElement(e.endContainer,{query:"."+this.unselectableClass},!1,this.contain))&&e.setEndAfter(n);for(var o=(r=e.getNodes([1],function(e){return v.dom.hasClass(e,this.unselectableClass)}.bind(this))).length;o--;)try{i=new CustomEvent("wysihtml5:uneditable:delete"),r[o].dispatchEvent(i)}catch(e){}}e.deleteContents()},getCaretNode:function(){var e=this.getSelection();return e&&e.anchorNode?a(e.anchorNode,e.anchorOffset):null},getPreviousNode:function(e,t){var n;if(!e){var r=this.getSelection();e=r&&r.anchorNode?a(r.anchorNode,r.anchorOffset):null}if(e===this.contain)return!1;var i,o=e.previousSibling;return o!==this.contain&&(o&&3!==o.nodeType&&1!==o.nodeType||o&&3===o.nodeType&&/^\s*$/.test(o.textContent)?o=this.getPreviousNode(o,t):t&&o&&1===o.nodeType?(n=v.dom.getStyle("display").from(o),v.lang.array(["BR","HR","IMG"]).contains(o.nodeName)||v.lang.array(["block","inline-block","flex","list-item","table"]).contains(n)||!/^[\s]*$/.test(o.innerHTML)||(o=this.getPreviousNode(o,t))):o||e===this.contain||(i=e.parentNode)!==this.contain&&(o=this.getPreviousNode(i,t)),o!==this.contain&&o)},getNodesNearCaret:function(){if(!this.isCollapsed())throw"Selection must be caret when using selection.getNodesNearCaret()";var e,t,n,r,i=this.getOwnRanges();return i&&0<i.length?(1===i[0].startContainer.nodeType?(e=i[0].startContainer.childNodes[i[0].startOffset-1])||0!==i[0].startOffset?e&&(t=e.previousSibling,n=e.nextSibling):n=i[0].startContainer.childNodes[0]:(0===i[0].startOffset&&i[0].startContainer.previousSibling?3===(e=i[0].startContainer.previousSibling).nodeType&&(r=e.data.length):(e=i[0].startContainer,r=i[0].startOffset),t=e.previousSibling,n=e.nextSibling),{caretNode:e,prevNode:t,nextNode:n,textOffset:r}):null},getSelectionParentsByTag:function(e){for(var t,n=this.getSelectedOwnNodes(),r=[],i=0,o=n.length;i<o;i++)(t=n[i].nodeName&&"LI"===n[i].nodeName?n[i]:v.dom.getParentElement(n[i],{query:"li"},!1,this.contain))&&r.push(t);return r.length?r:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,n=e.startOffset,r=rangy.createRange(this.doc);return r.selectNodeContents(t),r.setStart(t,n),r}},caretIsLastInSelection:function(){rangy.createRange(this.doc),this.getSelection();var e=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(e)},caretIsFirstInSelection:function(e){var t=rangy.createRange(this.doc),n=this.getSelection(),r=this.getRange(),i=a(r.startContainer,r.startOffset);if(i){if(i.nodeType!==v.TEXT_NODE)return!(!e||!v.dom.domNode(i).is.lineBreak())||(t.selectNodeContents(this.getRange().commonAncestorContainer),t.collapse(!0),this.isCollapsed()&&(t.startContainer===n.anchorNode||t.endContainer===n.anchorNode)&&t.startOffset===n.anchorOffset);if(!i.parentNode)return!1;if(!this.isCollapsed()||i.parentNode.firstChild!==i&&!v.dom.domNode(i.previousSibling).is.block())return!1;var o=this.win.getComputedStyle(i.parentNode).whiteSpace;return"pre"===o||"pre-wrap"===o?0===r.startOffset:/^\s*$/.test(i.data.substr(0,r.startOffset))}},caretIsInTheBeginnig:function(e){var t=this.getSelection(),n=t.anchorNode,r=t.anchorOffset;return e&&n?0===r&&(n.nodeName&&n.nodeName===e.toUpperCase()||v.dom.getParentElement(n.parentNode,{query:e},1)):n?0===r&&!this.getPreviousNode(n,!0):void 0},getBeforeSelection:function(e){var t,n,r=this.getSelection(),i=r.isBackwards()?r.focusNode:r.anchorNode,o=r.isBackwards()?r.focusOffset:r.anchorOffset,a=this.createRange();if(i&&3===i.nodeType&&/^\s*$/.test(i.data.slice(0,o))&&(o=0),(n=v.dom.getParentElement(i,{query:"._wysihtml5-temp-caret-fix"},1))&&(i=n.parentNode,o=Array.prototype.indexOf.call(i.childNodes,n)),i){if(0<o)return 3===i.nodeType?(a.setStart(i,0),a.setEnd(i,o),{type:"text",range:a,offset:o,node:i}):(a.setStartBefore(i.childNodes[0]),t=i.childNodes[o-1],a.setEndAfter(t),{type:"element",range:a,offset:o,node:t});if(a.setStartAndEnd(i,0),e){var s=this.getPreviousNode(i,!0),l=null;if(s&&(l=1===s.nodeType&&v.dom.hasClass(s,this.unselectableClass)?s:v.dom.domNode(s).lastLeafNode()),l)return{type:"leafnode",range:a,offset:o,node:l}}return{type:"none",range:a,offset:o,node:i}}return null},executeAndRestoreRangy:function(e,t){var n=rangy.saveSelection(this.win);if(n)try{e()}catch(e){setTimeout(function(){throw e},0)}else e();rangy.restoreSelection(n)},executeAndRestore:function(e,t){var n,r,i,o,a,s,l,c,u=this.doc.body,d=t&&u.scrollTop,h=t&&u.scrollLeft,f="_wysihtml5-temp-placeholder",p='<span class="'+f+'">'+v.INVISIBLE_SPACE+"</span>",m=this.getRange(!0);if(m){m.collapsed||(s=(l=m.cloneRange()).createContextualFragment(p),l.collapse(!1),l.insertNode(s),l.detach()),a=m.createContextualFragment(p),m.insertNode(a),s&&(n=this.contain.querySelectorAll("."+f),m.setStartBefore(n[0]),m.setEndAfter(n[n.length-1])),this.setSelection(m);try{e(m.startContainer,m.endContainer)}catch(e){setTimeout(function(){throw e},0)}if((n=this.contain.querySelectorAll("."+f))&&n.length){c=rangy.createRange(this.doc),i=n[0].nextSibling,1<n.length&&(o=n[n.length-1].previousSibling),o&&i?(c.setStartBefore(i),c.setEndAfter(o)):(r=this.doc.createTextNode(v.INVISIBLE_SPACE),y.insert(r).after(n[0]),c.setStartBefore(r),c.setEndAfter(r)),this.setSelection(c);for(var g=n.length;g--;)n[g].parentNode.removeChild(n[g])}else this.contain.focus();t&&(u.scrollTop=d,u.scrollLeft=h);try{n.parentNode.removeChild(n)}catch(e){}}else e(u,u)},set:function(e,t){var n=rangy.createRange(this.doc);n.setStart(e,t||0),this.setSelection(n)},insertHTML:function(e){var t,n,r=this.getRange(),i=this.doc.createElement("DIV"),o=this.doc.createDocumentFragment();if(r){for(r.deleteContents(),i.innerHTML=e,t=i.lastChild;i.firstChild;)o.appendChild(i.firstChild);for(r.insertNode(o),n=this.contain.lastChild;n&&3===n.nodeType&&n.previousSibling&&/^\s*$/.test(n.data);)n=n.previousSibling;t&&(n&&t===n&&1===t.nodeType&&this.contain.appendChild(this.doc.createElement("br")),this.setAfter(t))}},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},canAppendChild:function(e){var t,n,r=this.getRange();return(t=e||r.startContainer)&&(n=(t.tagName||t.nodeName).toLowerCase()),-1===["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(n)},splitElementAtCaret:function(e,t){var n,r,i,o,a,s=this.getSelection();if(0<s.rangeCount){(n=s.getRangeAt(0).cloneRange()).setEndAfter(e);for(var l=(a=(r=n.extractContents()).childNodes).length;l--;)v.dom.domNode(a[l]).is.visible()||r.removeChild(a[l]);e.parentNode.insertBefore(r,e.nextSibling),t?(i=t.firstChild||t,o=t.lastChild||t,e.parentNode.insertBefore(t,e.nextSibling),i&&o&&(n.setStartBefore(i),n.setEndAfter(o),this.setSelection(n))):(n.setStartAfter(e),n.setEndAfter(e)),v.dom.domNode(e).is.visible()||(""===v.dom.getTextContent(e)?e.parentNode.removeChild(e):e.parentNode.replaceChild(this.doc.createTextNode(" "),e))}},surround:function(e){var t,n=this.getOwnRanges(),r=[];if(0==n.length)return r;for(var i=n.length;i--;){t=this.doc.createElement(e.nodeName),r.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{n[i].surroundContents(t),this.selectNode(t)}catch(e){t.appendChild(n[i].extractContents()),n[i].insertNode(t)}}return r},scrollIntoView:function(){var e,t,n=this.doc,r=n.documentElement.scrollHeight>n.documentElement.offsetHeight,i=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||((t=n.createElement("span")).innerHTML=v.INVISIBLE_SPACE,t);r&&(this.insertNode(i),e=function(e){var t=0;if(e.parentNode)for(;t+=e.offsetTop||0,e=e.offsetParent;);return t}(i),i.parentNode.removeChild(i),e>=n.body.scrollTop+n.documentElement.offsetHeight-5&&(n.body.scrollTop=e))},selectLine:function(){var e=rangy.createRange();v.browser.supportsSelectionModify()?this._selectLine_W3C():e.nativeRange&&e.nativeRange.getBoundingClientRect&&this._selectLineUniversal()},includeRangyRangeHelpers:function(){function e(e){return e&&1===e.nodeType&&e.classList.contains("rangySelectionBoundary")}var t,n=this.getSelection(),r=n.getRangeAt(0),i=1===n.anchorNode.nodeType?n.anchorNode.childNodes[n.anchorOffset]:n.anchorNode,o=1===n.focusNode.nodeType?n.focusNode.childNodes[n.focusOffset]:n.focusNode;o&&n.focusOffset===(1===(t=o).nodeType?t.childNodes&&t.childNodes.length||0:t.data&&t.data.length||0)&&o.nextSibling&&e(o.nextSibling)&&r.setEndAfter(o.nextSibling),i&&0===n.anchorOffset&&i.previousSibling&&e(i.previousSibling)&&r.setStartBefore(i.previousSibling),r.select()},_selectLine_W3C:function(){var e=this.win.getSelection(),t=[e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset];e.modify("move","left","lineboundary"),e.modify("extend","right","lineboundary"),e.anchorNode===t[0]&&e.anchorOffset===t[1]&&e.focusNode===t[2]&&e.focusOffset===t[3]?this._selectLineUniversal():this.includeRangyRangeHelpers()},toLineBoundary:function(e,t){if(t=void 0!==t&&t,v.browser.supportsSelectionModify()){var n=this.win.getSelection();n.modify("extend",e,"lineboundary"),t&&("left"===e?n.collapseToStart():"right"===e&&n.collapseToEnd())}},getRangeRect:function(e){this.doc.createTextNode("i");var t,n=this.doc.createTextNode("i");return e.collapsed?(e.insertNode(n),e.selectNode(n),t=e.nativeRange.getBoundingClientRect(),e.deleteContents()):t=e.nativeRange.getBoundingClientRect(),t},_selectLineUniversal:function(){var e,t,n,r,i,o=this.getSelection().getRangeAt(0),a=0,s=this;for(o.cloneRange(),o.cloneRange(),o.collapsed&&(3===o.startContainer.nodeType&&o.startOffset<o.startContainer.data.length||1===o.startContainer.nodeType&&o.startContainer.childNodes[o.startOffset]&&3===o.startContainer.childNodes[o.startOffset].nodeType&&0<o.startContainer.childNodes[o.startOffset].data.length?o.moveEnd("character",1):0<o.startOffset&&(3===o.startContainer.nodeType||1===o.startContainer.nodeType&&(!(i=function(e){var t=e;if(t)for(;t&&(1===t.nodeType&&t.classList.contains("rangySelectionBoundary")||3===t.nodeType&&/^\s*$/.test(t.data));)t=t.previousSibling;return t}(o.startContainer.childNodes[o.startOffset-1]))||1!==i.nodeType||"block"!==s.win.getComputedStyle(i).display&&!v.lang.array(["BR","HR"]).contains(i.nodeName)))&&o.moveStart("character",-1)),o.collapsed||o.insertNode(this.doc.createTextNode(v.INVISIBLE_SPACE)),e=o.nativeRange.getBoundingClientRect();t=o.moveStart("character",-1),(n=o.nativeRange.getBoundingClientRect())&&Math.floor(n.top)===Math.floor(e.top)||(o.moveStart("character",1),r=!0),a++,0!==t&&!r&&a<2e3;);if(a=0,r=!1,e=o.nativeRange.getBoundingClientRect(),o.endContainer!==this.contain||this.contain.lastChild&&this.contain.childNodes[o.endOffset]!==this.contain.lastChild)for(;t=o.moveEnd("character",1),(n=o.nativeRange.getBoundingClientRect())&&Math.floor(n.bottom)===Math.floor(e.bottom)||(o.moveEnd("character",-1),o.endContainer&&1===o.endContainer.nodeType&&o.endContainer.childNodes[o.endOffset]&&1===o.endContainer.childNodes[o.endOffset].nodeType&&"BR"===o.endContainer.childNodes[o.endOffset].nodeName&&o.endContainer.childNodes[o.endOffset].previousSibling&&(1===o.endContainer.childNodes[o.endOffset].previousSibling.nodeType?o.setEnd(o.endContainer.childNodes[o.endOffset].previousSibling,o.endContainer.childNodes[o.endOffset].previousSibling.childNodes.length):3===o.endContainer.childNodes[o.endOffset].previousSibling.nodeType&&o.setEnd(o.endContainer.childNodes[o.endOffset].previousSibling,o.endContainer.childNodes[o.endOffset].previousSibling.data.length)),r=!0),a++,0!==t&&!r&&a<2e3;);o.select(),this.includeRangyRangeHelpers()},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes(Array.isArray(e)?e:[e],t):[]},getOwnNodes:function(e,t,n){for(var r=this.getOwnRanges(),i=[],o=0,a=r.length;o<a;o++)r[o]&&(n&&r[o].splitBoundaries(),i=i.concat(r[o].getNodes(Array.isArray(e)?e:[e],t)));return i},fixRangeOverflow:function(e){if(this.contain&&this.contain.firstChild&&e){var t=e.compareNode(this.contain);if(2!==t)1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(e)){var n=e.endContainer.previousElementSibling;n&&e.setEnd(n,this._endOffsetForNode(n))}}},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var t=y.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&t},getRange:function(e){var t=this.getSelection(),n=t&&t.rangeCount&&t.getRangeAt(0);return!0!==e&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var e=y.query(this.contain,"."+this.unselectableClass),t=y.query(e,"."+this.unselectableClass);return v.lang.array(e).without(t)},getOwnRanges:function(){var e,t=[],n=this.getRange();if(n&&t.push(n),this.unselectableClass&&this.contain&&n){var r,i=this.getOwnUneditables();if(0<i.length)for(var o=0,a=i.length;o<a;o++){e=[];for(var s=0,l=t.length;s<l;s++){if(t[s])switch(t[s].compareNode(i[o])){case 2:break;case 3:(r=t[s].cloneRange()).setEndBefore(i[o]),e.push(r),(r=t[s].cloneRange()).setStartAfter(i[o]),e.push(r);break;default:e.push(t[s])}t=e}}}return t},getSelection:function(){return rangy.getSelection(this.win)},setSelection:function(e){var t=rangy.getSelection(this.win);return t.setSingleRange(e),t&&t.anchorNode&&t.focusNode?t:null},selectAll:function(){function e(){r.setStart(i.element,0),r.setEnd(i.element,i.element.childNodes.length),n=o.setSelection(r)}function t(){return!n||n.nativeSelection&&n.nativeSelection.type&&("Caret"===n.nativeSelection.type||"None"===n.nativeSelection.type)}var n,r=this.createRange(),i=this.composer,o=this,a=l(this.composer.element),s=l(this.composer.element);v.dom.removeInvisibleSpaces(this.composer.element),e(),this.composer.element.firstChild&&t()&&(this.composer.element.appendChild(a),e(),t()&&(a.parentNode.removeChild(a),this.composer.element.insertBefore(s,this.composer.element.firstChild),e(),t()&&(this.composer.element.appendChild(a),e())))},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(e){var t=this.getRange(),n=t.commonAncestorContainer,r=t.startContainer,i=t.endContainer;if(n.nodeType===v.TEXT_NODE&&(n=n.parentNode),r.nodeType===v.TEXT_NODE&&!/^\s*$/.test(r.data.substr(t.startOffset)))return!1;if(i.nodeType===v.TEXT_NODE&&!/^\s*$/.test(i.data.substr(t.endOffset)))return!1;for(;r&&r!==n;){if(r.nodeType!==v.TEXT_NODE&&!v.dom.contains(n,r))return!1;if(v.dom.domNode(r).prev({ignoreBlankTexts:!0}))return!1;r=r.parentNode}for(;i&&i!==n;){if(i.nodeType!==v.TEXT_NODE&&!v.dom.contains(n,i))return!1;if(v.dom.domNode(i).next({ignoreBlankTexts:!0}))return!1;i=i.parentNode}return!!v.lang.array(e).contains(n.nodeName)&&n},isInThisEditable:function(){var e=this.getSelection(),t=e.focusNode,n=e.anchorNode;return t&&1!==t.nodeType&&(t=t.parentNode),n&&1!==n.nodeType&&(n=n.parentNode),n&&t&&(v.dom.contains(this.composer.element,t)||this.composer.element===t)&&(v.dom.contains(this.composer.element,n)||this.composer.element===n)},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(c,u){var r=/\s+/g;function n(e,t,n){if(!e.className)return!1;var r=e.className.match(n)||[];return r[r.length-1]===t}function i(e,t){if(!e.getAttribute||!e.getAttribute("style"))return!1;e.getAttribute("style").match(t);return!!e.getAttribute("style").match(t)}function h(e,t,n){e.getAttribute("style")?(p(e,n),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function f(e,t){e.className&&(e.className=e.className.replace(t,""))}function p(e,t){var n,r=[];if(e.getAttribute("style")){for(var i=(n=e.getAttribute("style").split(";")).length;i--;)n[i].match(t)||/^\s*$/.test(n[i])||r.push(n[i]);r.length?e.setAttribute("style",r.join(";")):e.removeAttribute("style")}}function m(e,t){var n=[],r=t.split(";"),i=e.getAttribute("style");if(i){i=i.replace(/\s/gi,"").toLowerCase(),n.push(new RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var o=r.length;0<o--;)/^\s*$/.test(r[o])||n.push(new RegExp("(^|\\s|;)"+r[o].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var a=0,s=n.length;a<s;a++)if(i.match(n[a]))return n[a]}return!1}function o(e,t,n,r){for(var i=e.length;i--;)if(o=e[i],a=t,l=r,!((s=n)?m(o,s):l?c.dom.hasClass(o,l):u.dom.arrayContains(a,o.tagName.toLowerCase())))return!1;var o,a,s,l;return!!e.length}function g(e,t){return u.dom.isCharacterDataNode(e)?0==t?e.previousSibling:t!=e.length||e.nextSibling:0<t&&t<e.childNodes.length}function v(e,t,n,r){var i;if(u.dom.isCharacterDataNode(t)&&(0==n?(n=u.dom.getNodeIndex(t),t=t.parentNode):n==t.length?(n=u.dom.getNodeIndex(t)+1,t=t.parentNode):i=u.dom.splitDataNode(t,n)),!(i||r&&t===r)){var o;for((i=t.cloneNode(!1)).id&&i.removeAttribute("id");o=t.childNodes[n];)i.appendChild(o);u.dom.insertAfter(i,t)}return t==e?i:v(e,i.parentNode,u.dom.getNodeIndex(i),r)}function y(e){this.isElementMerge=e.nodeType==c.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function e(e,t,n,r,i,o,a){this.tagNames=e||["span"],this.cssClass=t||!1!==t&&"",this.similarClassRegExp=n,this.cssStyle=i||"",this.similarStyleRegExp=o,this.normalize=r,this.applyToAnyTagName=!1,this.container=a}y.prototype={doMerge:function(){for(var e,t,n,r=[],i=0,o=this.textNodes.length;i<o;++i)t=(e=this.textNodes[i]).parentNode,r[i]=e.data,i&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=r.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,n=this.textNodes.length;t<n;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},e.prototype={getAncestorWithClass:function(e){for(var t;e;){if(t=this.cssClass?n(e,this.cssClass,this.similarClassRegExp):""===this.cssStyle,e.nodeType==c.ELEMENT_NODE&&"false"!=e.getAttribute("contenteditable")&&u.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&t)return e;e=e.parentNode}return!1},getAncestorWithStyle:function(e){for(var t;e;){if(t=!!this.cssStyle&&i(e,this.similarStyleRegExp),e.nodeType==c.ELEMENT_NODE&&"false"!=e.getAttribute("contenteditable")&&u.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&t)return e;e=e.parentNode}return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),n=!1;return t?this.cssStyle&&(n="class"):(t=this.getAncestorWithStyle(e))&&(n="style"),{element:t,type:n}},postApply:function(e,t){for(var n,r,i,o=e[0],a=e[e.length-1],s=[],l=o,c=a,u=0,d=a.length,h=0,f=e.length;h<f;++h)i=null,(r=e[h])&&r.parentNode&&(i=this.getAdjacentMergeableTextNode(r.parentNode,!1)),i?(n||(n=new y(i),s.push(n)),n.textNodes.push(r),r===o&&(u=(l=n.firstTextNode).length),r===a&&(c=n.firstTextNode,d=n.getLength())):n=null;if(a&&a.parentNode){var p=this.getAdjacentMergeableTextNode(a.parentNode,!0);p&&(n||(n=new y(a),s.push(n)),n.textNodes.push(p))}if(s.length){for(h=0,f=s.length;h<f;++h)s[h].doMerge();t.setStart(l,u),t.setEnd(c,d)}},getAdjacentMergeableTextNode:function(e,t){var n,r=e.nodeType==c.TEXT_NODE,i=r?e.parentNode:e,o=t?"nextSibling":"previousSibling";if(r){if((n=e[o])&&n.nodeType==c.TEXT_NODE)return n}else if((n=i[o])&&this.areElementsMergeable(e,n))return n[t?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,t){return u.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&u.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&(n=t,e.className.replace(r," ")==n.className.replace(r," "))&&function(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,r,i,o=0,a=e.attributes.length;o<a;++o)if("class"!=(i=(n=e.attributes[o]).name)){if(r=t.attributes.getNamedItem(i),n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}(e,t);var n},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var t,n,r,i=e.parentNode;if(1==i.childNodes.length&&u.dom.arrayContains(this.tagNames,i.tagName.toLowerCase()))this.cssClass&&(t=i,n=this.cssClass,r=this.similarClassRegExp,t.className?(f(t,r),t.className+=" "+n):t.className=n),this.cssStyle&&h(i,this.cssStyle,this.similarStyleRegExp);else{var o=this.createContainer(u.dom.getDocument(e));e.parentNode.insertBefore(o,e),o.appendChild(e)}},isRemovable:function(e){return u.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&""===c.lang.string(e.className).trim()&&(!e.getAttribute("style")||""===c.lang.string(e.getAttribute("style")).trim())},undoToTextNode:function(e,t,n,r){var i,o,a,s,l=!n,c=n||r,u=!1;if(!t.containsNode(c)){var d=t.cloneRange();d.selectNode(c),d.isPointInRange(t.endContainer,t.endOffset)&&g(t.endContainer,t.endOffset)&&(v(c,t.endContainer,t.endOffset,this.container),t.setEndAfter(c)),d.isPointInRange(t.startContainer,t.startOffset)&&g(t.startContainer,t.startOffset)&&(c=v(c,t.startContainer,t.startOffset,this.container))}!l&&this.similarClassRegExp&&f(c,this.similarClassRegExp),l&&this.similarStyleRegExp&&(u="change"==(i=c,o=this.cssStyle,a=this.similarStyleRegExp,(s=m(i,o))?(p(i,s),"remove"):(h(i,o,a),"change"))),this.isRemovable(c)&&!u&&function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(c)},applyToRange:function(e){for(var t,n=e.length;n--;){if(!(t=e[n].getNodes([c.TEXT_NODE])).length)try{var r=this.createContainer(e[n].endContainer.ownerDocument);return e[n].surroundContents(r),void this.selectNode(e[n],r)}catch(e){}if(e[n].splitBoundaries(),(t=e[n].getNodes([c.TEXT_NODE])).length){for(var i,o=0,a=t.length;o<a;++o)i=t[o],this.getMatchingAncestor(i).element||this.applyToTextNode(i);e[n].setStart(t[0],0),i=t[t.length-1],e[n].setEnd(i,i.length),this.normalize&&this.postApply(t,e[n])}}},undoToRange:function(e){for(var t,n,r,i=e.length;i--;){if((t=e[i].getNodes([c.TEXT_NODE])).length)e[i].splitBoundaries(),t=e[i].getNodes([c.TEXT_NODE]);else{var o=e[i].endContainer.ownerDocument.createTextNode(c.INVISIBLE_SPACE);e[i].insertNode(o),e[i].selectNode(o),t=[o]}for(var a=0,s=t.length;a<s;++a)e[i].isValid()&&(n=t[a],"style"===(r=this.getMatchingAncestor(n)).type?this.undoToTextNode(n,e[i],!1,r.element):r.element&&this.undoToTextNode(n,e[i],r.element));1==s?this.selectNode(e[i],t[0]):(e[i].setStart(t[0],0),n=t[t.length-1],e[i].setEnd(n,n.length),this.normalize&&this.postApply(t,e[i]))}},selectNode:function(e,t){var n=t.nodeType===c.ELEMENT_NODE,r=!("canHaveHTML"in t)||t.canHaveHTML,i=n?t.innerHTML:t.data,o=""===i||i===c.INVISIBLE_SPACE;if(o&&n&&r)try{t.innerHTML=c.INVISIBLE_SPACE}catch(e){}e.selectNodeContents(t),o&&n?e.collapse(!1):o&&(e.setStartAfter(t),e.setEndAfter(t))},getTextSelectedByRange:function(e,t){var n=t.cloneRange();n.selectNodeContents(e);var r=n.intersection(t),i=r?r.toString():"";return n.detach(),i},isAppliedToRange:function(e){for(var t,n,r=[],i="full",o=e.length;o--;){if(!(n=e[o].getNodes([c.TEXT_NODE])).length)return!!(t=this.getMatchingAncestor(e[o].startContainer).element)&&{elements:[t],coverage:i};for(var a,s=0,l=n.length;s<l;++s)a=this.getTextSelectedByRange(n[s],e[o]),(t=this.getMatchingAncestor(n[s]).element)&&""!=a?(r.push(t),1===c.dom.getTextNodes(t,!0).length?i="full":"full"===i&&(i="inline")):t||(i="partial")}return!!r.length&&{elements:r,coverage:i}},toggleRange:function(e){var t,n=this.isAppliedToRange(e);n?"full"===n.coverage?this.undoToRange(e):"inline"===n.coverage?(t=o(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(o(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},c.selection.HTMLApplier=e}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],r=wysihtml5.lang.array(arguments).get(),i=n&&n.exec,o=null;if(this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(e)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element)),this.editor.fire("beforecommand:composer"),i)r.unshift(this.composer),o=i.apply(n,r);else try{o=this.doc.execCommand(e,!1,t)}catch(e){}return this.editor.fire("aftercommand:composer"),o},remove:function(e,t){var n=wysihtml5.commands[e],r=wysihtml5.lang.array(arguments).get(),i=n&&n.remove;if(i)return r.unshift(this.composer),i.apply(n,r)},state:function(e,t){var n=wysihtml5.commands[e],r=wysihtml5.lang.array(arguments).get(),i=n&&n.state;if(i)return r.unshift(this.composer),i.apply(n,r);try{return this.doc.queryCommandState(e)}catch(e){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),r=t&&t.stateValue;return!!r&&(n.unshift(this.composer),r.apply(t,n))}}),function(n){var r={nodeName:"B",toggle:!0};n.commands.bold={exec:function(e,t){n.commands.formatInline.exec(e,t,r)},state:function(e,t){return n.commands.formatInline.state(e,t,r)}}}(wysihtml5),function(a){var s={nodeName:"A",toggle:!1};a.commands.createLink={exec:function(e,t,n){var r,i=(r=n,a.lang.object({}).merge(s).merge({attribute:r}).get());if(e.selection.isCollapsed()&&!this.state(e,t)){var o=e.doc.createTextNode(i.attribute.href);e.selection.insertNode(o),e.selection.selectNode(o)}a.commands.formatInline.exec(e,t,i)},state:function(e,t){return a.commands.formatInline.state(e,t,s)}}}(wysihtml5),function(n){var r={nodeName:"A"};n.commands.removeLink={exec:function(e,t){n.commands.formatInline.remove(e,t,r)},state:function(e,t){return n.commands.formatInline.state(e,t,r)}}}(wysihtml5),function(r){var i=/wysiwyg-font-size-[0-9a-z\-]+/g;r.commands.fontSize={exec:function(e,t,n){r.commands.formatInline.exec(e,t,{className:"wysiwyg-font-size-"+n,classRegExp:i,toggle:!0})},state:function(e,t,n){return r.commands.formatInline.state(e,t,{className:"wysiwyg-font-size-"+n})}}}(wysihtml5),function(i){i.commands.fontSizeStyle={exec:function(e,t,n){n=n.size||n,/^\s*$/.test(n)||i.commands.formatInline.exec(e,t,{styleProperty:"fontSize",styleValue:n,toggle:!1})},state:function(e,t,n){return i.commands.formatInline.state(e,t,{styleProperty:"fontSize",styleValue:n||void 0})},remove:function(e,t){return i.commands.formatInline.remove(e,t,{styleProperty:"fontSize"})},stateValue:function(e,t){var n,r=this.state(e,t);return r&&i.lang.object(r).isArray()&&(r=r[0]),!(!r||!(n=r.getAttribute("style")))&&i.quirks.styleParser.parseFontSize(n)}}}(wysihtml5),function(r){var i=/wysiwyg-color-[0-9a-z]+/g;r.commands.foreColor={exec:function(e,t,n){r.commands.formatInline.exec(e,t,{className:"wysiwyg-color-"+n,classRegExp:i,toggle:!0})},state:function(e,t,n){return r.commands.formatInline.state(e,t,{className:"wysiwyg-color-"+n})}}}(wysihtml5),function(a){a.commands.foreColorStyle={exec:function(e,t,n){var r,i;n&&(r=a.quirks.styleParser.parseColor("color:"+(n.color||n),"color"))&&(i=(1===r[3]?"rgb("+[r[0],r[1],r[2]].join(", "):"rgba("+r.join(", "))+")",a.commands.formatInline.exec(e,t,{styleProperty:"color",styleValue:i}))},state:function(e,t,n){var r,i=n?a.quirks.styleParser.parseColor("color:"+(n.color||n),"color"):null;return i&&(r=(1===i[3]?"rgb("+[i[0],i[1],i[2]].join(", "):"rgba("+i.join(", "))+")"),a.commands.formatInline.state(e,t,{styleProperty:"color",styleValue:r})},remove:function(e,t){return a.commands.formatInline.remove(e,t,{styleProperty:"color"})},stateValue:function(e,t,n){var r,i=this.state(e,t),o=!1;return i&&a.lang.object(i).isArray()&&(i=i[0]),!(!i||!(r=i.getAttribute("style")))&&(o=a.quirks.styleParser.parseColor(r,"color"),a.quirks.styleParser.unparseColor(o,n))}}}(wysihtml5),function(a){a.commands.bgColorStyle={exec:function(e,t,n){var r,i=a.quirks.styleParser.parseColor("background-color:"+(n.color||n),"background-color");i&&(r=(1===i[3]?"rgb("+[i[0],i[1],i[2]].join(", "):"rgba("+i.join(", "))+")",a.commands.formatInline.exec(e,t,{styleProperty:"backgroundColor",styleValue:r}))},state:function(e,t,n){var r,i=n?a.quirks.styleParser.parseColor("background-color:"+(n.color||n),"background-color"):null;return i&&(r=(1===i[3]?"rgb("+[i[0],i[1],i[2]].join(", "):"rgba("+i.join(", "))+")"),a.commands.formatInline.state(e,t,{styleProperty:"backgroundColor",styleValue:r})},remove:function(e,t){return a.commands.formatInline.remove(e,t,{styleProperty:"backgroundColor"})},stateValue:function(e,t,n){var r,i=this.state(e,t),o=!1;return i&&a.lang.object(i).isArray()&&(i=i[0]),!(!i||!(r=i.getAttribute("style")))&&(o=a.quirks.styleParser.parseColor(r,"background-color"),a.quirks.styleParser.unparseColor(o,n))}}}(wysihtml5),function(k){var l=k.dom,T="h1, h2, h3, h4, h5, h6, p, pre",M="h1, h2, h3, h4, h5, h6, p, pre, div, blockquote",h="b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u";function N(e,t){return 3!==e.nodeType&&e.childNodes[t]||e}function P(e){return e&&1===e.nodeType&&"BR"===e.nodeName}function s(e){return e&&1===e.nodeType&&e.classList.contains("rangySelectionBoundary")}function f(e,t){return P(e)||(r=t,(n=e)&&1===n.nodeType&&"block"===r.win.getComputedStyle(n).display);var n,r}function u(e,t){k.dom.removeInvisibleSpaces(e.element);for(var n,r=e.element,i=r.querySelectorAll(M),o=e.config.classNames.uneditableContainer+[""].concat(M.split(",")).join(", "+e.config.classNames.uneditableContainer+" "),a=r.querySelectorAll(o),s=k.lang.array(i).without(a),l=s.length;l--;)""!==s[l].innerHTML.replace(/[\uFEFF]/g,"")||0!==t.length&&s[l]===t[t.length-1]||(-1<(n=k.lang.array(t).indexOf(s[l]))&&t.splice(n,1),s[l].parentNode.removeChild(s[l]));return t}function R(e){return e.config.useLineBreaks?"DIV":"P"}function D(e,t,n){for(var r=e,i=null;r&&t&&r!==t;)1===r.nodeType&&r.matches(n?M:T)&&(i=r),r=r.parentNode;return i}function O(e,t,n){return e||(e=n.doc.createElement(t.nodeName||R(n))).appendChild(n.doc.createTextNode(k.INVISIBLE_SPACE)),t.nodeName&&e.nodeName!==t.nodeName&&(e=l.renameElement(e,t.nodeName)),t.classRegExp&&(e.className=e.className.replace(t.classRegExp,"")),t.className&&e.classList.add(t.className),t.styleProperty&&void 0!==t.styleValue&&(e.style[k.browser.fixStyleKey(t.styleProperty)]=t.styleValue),e}function d(e,t,n){var r,i=e.previousSibling,o=e.nextSibling,a=!1;t.styleProperty&&(e.style[k.browser.fixStyleKey(t.styleProperty)]=""),t.className&&e.classList.remove(t.className),t.classRegExp&&(e.className=e.className.replace(t.classRegExp,"")),null!==e.getAttribute("class")&&""===e.getAttribute("class").trim()&&e.removeAttribute("class"),t.nodeName&&e.nodeName.toLowerCase()===t.nodeName.toLowerCase()&&((r=e.getAttribute("style"))&&""!==r.trim()?e=l.renameElement(e,R(n)):(l.unwrap(e),a=!0)),null!==e.getAttribute("style")&&""===e.getAttribute("style").trim()&&e.removeAttribute("style"),a&&function(e,t,n){e&&s(e)&&(e=e.previousSibling);t&&s(t)&&(t=t.nextSibling);e&&e.previousSibling,e&&(1!==e.nodeType||"block"!==n.win.getComputedStyle(e).display&&!P(e))&&e.parentNode&&e.parentNode.insertBefore(n.doc.createElement("br"),e.nextSibling);t&&(1!==t.nodeType||"block"!==n.win.getComputedStyle(t).display)&&t.parentNode&&t.parentNode.insertBefore(n.doc.createElement("br"),t)}(i,o,n)}function I(e){for(var t,n=e.querySelectorAll(M)||[],r=n.length;r--;)t=k.dom.domNode(n[r]).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),k.dom.domNode(n[r]).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),t&&1!==t.nodeType&&"BR"!==t.nodeName&&""!==(n[r].innerHTML||n[r].nodeValue||"").trim()&&n[r].parentNode.insertBefore(n[r].ownerDocument.createElement("BR"),t),t&&1!==t.nodeType&&"BR"!==t.nodeName&&""!==(n[r].innerHTML||n[r].nodeValue||"").trim()&&n[r].parentNode.insertBefore(n[r].ownerDocument.createElement("BR"),t),k.dom.unwrap(n[r])}function L(e,t,n,r){var i,o,a,s,l,c=t.startContainer;if(r=r||D(c,n.element,!0))o=e.firstChild,a=e.lastChild,n.selection.splitElementAtCaret(r,e),l=k.dom.domNode(a).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),s=k.dom.domNode(o).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),o&&!f(o,n)&&s&&!f(s,n)&&o.parentNode.insertBefore(n.doc.createElement("br"),o),a&&!f(a,n)&&l&&!f(l,n)&&l.parentNode.insertBefore(n.doc.createElement("br"),l);else if((i=function(e,t){for(var n,r,i,o=e,a=null;o&&t&&o!==t;)1===o.nodeType&&o.matches(h)&&(r=o,null===a?n=a=o.cloneNode(!1):((i=o.cloneNode(!1)).appendChild(a),a=i)),o=o.parentNode;return{parent:r,outerNode:a,innerNode:n}}(c,n.element)).outerNode&&i.innerNode&&i.parent){if(1===e.childNodes.length){for(;e.firstChild.firstChild;)i.innerNode.appendChild(e.firstChild.firstChild);e.firstChild.appendChild(i.outerNode)}n.selection.splitElementAtCaret(i.parent,e)}else{var u=e.firstChild,d=e.lastChild;t.insertNode(e),t.setStartBefore(u),t.setEndAfter(d)}}function m(e,t,n){for(var r,i,o=e.cloneRange(),a=N(o.startContainer,o.startOffset).previousSibling,s=N(o.endContainer,o.endOffset).nextSibling,l=o.extractContents(),c=n.doc.createDocumentFragment();l.firstChild;){if(1===l.firstChild.nodeType&&l.firstChild.matches(M)){I(l.firstChild),0<(r=k.dom.unwrap(l.firstChild)).length&&((!c.lastChild||1===c.lastChild.nodeType&&f(c.lastChild,n))&&(c.lastChild||!a||1===a.nodeType&&!f(a,n))||c.appendChild(n.doc.createElement("BR")));for(var u=0,d=r.length;u<d;u++)c.appendChild(r[u]);0<r.length&&(1===c.lastChild.nodeType&&f(c.lastChild,n)||!s&&c.lastChild===l.lastChild||c.appendChild(n.doc.createElement("BR")))}else c.appendChild(l.firstChild);0}return i=k.lang.array(c.childNodes).get(),L(c,o,n),i}var F=function(e,t){var n=e.data?e.data.slice(0,t):"";return/^\s*$/.test(n)},H=function(e,t){var n=e.data?e.data.slice(t):"";return/^\s*$/.test(n)},j=function(e){if(e){for(;e.firstChild&&3===e.firstChild.nodeType&&/^\s*$/.test(e.firstChild.data)&&e.lastChild!==e.firstChild;)e.removeChild(e.firstChild);for(;e.lastChild&&3===e.lastChild.nodeType&&/^\s*$/.test(e.lastChild.data)&&e.lastChild!==e.firstChild;)e.removeChild(e.lastChild);e.firstChild&&1===e.firstChild.nodeType&&"BR"===e.firstChild.nodeName&&e.lastChild!==e.firstChild&&e.removeChild(e.firstChild),e.lastChild&&1===e.lastChild.nodeType&&"BR"===e.lastChild.nodeName&&e.lastChild!==e.firstChild&&e.removeChild(e.lastChild)}};function g(e,t,n,r){var i,o,a,s,l,c,u,d,h,f,p,m=t?{nodeName:(a=t).nodeName||null,className:!a.classRegExp&&a.className||null,classRegExp:a.classRegExp||null,styleProperty:a.styleProperty||null}:null,g=e.cloneRange(),v=g.startContainer,y=N(g.startContainer,g.startOffset),b=N(g.endContainer,g.endOffset),w=g.startContainer!==y||3!==y.nodeType||F(y,g.startOffset)?k.dom.domNode(y).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}):y,C=1===g.endContainer.nodeType&&g.endContainer.childNodes[g.endOffset]===b&&(1===b.nodeType||!H(b,g.endOffset)&&!k.dom.domNode(b).is.rangyBookmark())||g.endContainer===b&&3===b.nodeType&&!H(b,g.endOffset)?b:k.dom.domNode(b).next({nodeTypes:[1,3],ignoreBlankTexts:!0}),x=g.extractContents(),E=r.doc.createDocumentFragment(),_=m?k.dom.getParentElement(v,m,null,r.element):null,$=!n||!t||"BLOCKQUOTE"===t.nodeName&&"BLOCKQUOTE"===n,S=_||D(v,r.element,$);if(k.dom.domNode(C).is.rangyBookmark()&&(C=(b=C).nextSibling),j(x),t&&"BLOCKQUOTE"===t.nodeName){var A=O(null,t,r);A.appendChild(x),E.appendChild(A),o=[A]}else{if(x.firstChild)for(;x.firstChild;)if(1==x.firstChild.nodeType&&x.firstChild.matches(M))O(x.firstChild,t,r),x.firstChild.matches(T)&&I(x.firstChild),E.appendChild(x.firstChild);else{for(i=O(null,(l=n,c=r,u=void 0,(u=(s=t)?k.lang.object(s).clone(!0):null)&&(u.nodeName=u.nodeName||l||R(c)),u),r);x.firstChild&&(1!==x.firstChild.nodeType||!x.firstChild.matches(M));)1==x.firstChild.nodeType&&i.matches(T)&&I(x.firstChild),i.appendChild(x.firstChild);E.appendChild(i)}else E.appendChild(O(null,t,r));o=k.lang.array(E.childNodes).get()}return L(E,g,r,S),h=C,f=r,p=(d=w)&&k.dom.domNode(d).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}),P(h)&&h.parentNode.removeChild(h),!P(d)||p&&1===p.nodeType&&"block"===f.win.getComputedStyle(p).display||d.parentNode.removeChild(d),0<o.length&&(void 0===o[o.length-1].lastChild||k.dom.domNode(o[o.length-1].lastChild).is.rangyBookmark())&&o[o.length-1].appendChild(r.doc.createElement("br")),o}function p(e,t){var n,r=k.dom.getParentElement(e.selection.getOwnRanges()[0].startContainer,{query:T+", "+(t?t.toLowerCase():"div")},null,e.element);r?((n=e.selection.createRange()).selectNode(r),e.selection.setSelection(n)):e.isEmpty()||e.selection.selectLine()}function v(e,t){var n=t.selection.createRange(),r=e[e.length-1],i=1===r.nodeType&&r.childNodes?0|r.childNodes.length:r.length||0;n.setStart(e[0],0),n.setEnd(r,i),n.select()}function y(e,t,n){for(var r,i,o,a,s,l,c,u,d,h=t.selection.getOwnRanges(),f=[],p=(h=function(e){for(var t,n,r,i,o,a,s=[],l=0,c=e.length;l<c;l++)if(1===e[l].startContainer.nodeType&&e[l].startContainer.matches("ul, ol")&&e[l].setStart(e[l].startContainer.childNodes[e[l].startOffset],0),1===e[l].endContainer.nodeType&&e[l].endContainer.matches("ul, ol")&&(a=e[l].endContainer.childNodes[Math.max(e[l].endOffset-1,0)]).childNodes&&e[l].setEnd(a,a.childNodes.length),0<(t=e[l].getNodes([1],function(e){return"LI"===e.nodeName})).length){for(n=0,r=t.length;n<r;n++)(o=e[l].compareNode(t[n]))!==e[l].NODE_AFTER&&o!==e[l].NODE_INSIDE||(i=e[l].cloneRange(),(a=k.dom.domNode(t[n]).prev({nodeTypes:[1]}))?i.setEnd(a,a.childNodes.length):t[n].closest("ul, ol")?i.setEndBefore(t[n].closest("ul, ol")):i.setEndBefore(t[n]),s.push(i),e[l].setStart(t[n],0)),o!==e[l].NODE_BEFORE&&o!==e[l].NODE_INSIDE||((i=e[l].cloneRange()).setEnd(t[n],t[n].childNodes.length),s.push(i),(a=k.dom.domNode(t[n]).next({nodeTypes:[1]}))?e[l].setStart(a,0):t[n].closest("ul, ol")?e[l].setStartAfter(t[n].closest("ul, ol")):e[l].setStartAfter(t[n]));s.push(e[l])}else s.push(e[l]);return s}(h)).length;p--;)s=h[p],l=t,0,u=s.startContainer,d=s.endContainer,u&&1===u.nodeType&&u===d?u.firstChild===u.lastChild&&1===s.endOffset&&u!==l.element&&"LI"!==u.nodeName&&"TD"!==u.nodeName&&(s.setStartBefore(u),s.setEndAfter(d)):u&&1===u.nodeType&&3===d.nodeType?u.firstChild===d&&s.endOffset===d.data.length&&u!==l.element&&"LI"!==u.nodeName&&"TD"!==u.nodeName&&s.setEndAfter(u):d&&1===d.nodeType&&3===u.nodeType?d.firstChild===u&&0===s.startOffset&&d!==l.element&&"LI"!==d.nodeName&&"TD"!==d.nodeName&&s.setStartBefore(d):u&&3===u.nodeType&&u===d&&1===u.parentNode.childNodes.length&&s.endOffset==d.data.length&&0===s.startOffset&&(c=u.parentNode)!==l.element&&"LI"!==c.nodeName&&"TD"!==c.nodeName&&(s.setStartBefore(c),s.setEndAfter(c)),i=h[p].startContainer,o=t,r=(a=k.dom.getParentElement(i,{query:M},null,o.element))?a.nodeName:null,f="remove"===e?f.concat(m(h[p],0,t)):f.concat(g(h[p],n,r,t));return f}function b(e){return"string"==typeof e&&(e={nodeName:e.toUpperCase()}),e}k.commands.formatBlock={exec:function(e,t,n){var r,i,o,a,s=[];if((n=b(n))&&n.toggle&&(i=this.state(e,t,n)),i){r=rangy.saveSelection(e.win);for(var l=0,c=i.length;l<c;l++)d(i[l],n,e)}else e.selection.isCollapsed()&&(r=rangy.saveSelection(e.win),(o=e).selection.isCollapsed()&&(a=o.selection.getNodesNearCaret())&&a.caretNode&&(k.dom.domNode(a.caretNode).is.lineBreak()||3===a.caretNode.nodeType&&0===a.textOffset&&(!a.prevNode||k.dom.domNode(a.prevNode).is.lineBreak())||1===a.caretNode.nodeType&&a.caretNode.classList.contains("rangySelectionBoundary")&&(!a.prevNode||k.dom.domNode(a.prevNode).is.lineBreak()||k.dom.domNode(a.prevNode).is.block())&&(!a.nextNode||k.dom.domNode(a.nextNode).is.lineBreak()||k.dom.domNode(a.nextNode).is.block()))?e.selection.selectLine():p(e,n&&n.nodeName?n.nodeName.toUpperCase():void 0)),s=n?y("apply",e,n):y("remove",e);s=u(e,s),r?rangy.restoreSelection(r):v(s,e)},remove:function(e,t,n){var r,i;n=b(n),e.selection.isCollapsed()&&(i=rangy.saveSelection(e.win),p(e,n&&n.nodeName?n.nodeName.toUpperCase():void 0)),r=u(e,r=y("remove",e)),i?rangy.restoreSelection(i):v(r,e)},state:function(e,t,n){n=b(n);for(var r,i=e.selection.filterElements(function(e){return k.dom.domNode(e).test(n||{query:M})}.bind(this)),o=e.selection.getSelectedOwnNodes(),a=0,s=o.length;a<s;a++)(r=l.getParentElement(o[a],n||{query:M},null,e.element))&&-1===i.indexOf(r)&&i.push(r);return 0!==i.length&&i}}}(wysihtml5),function(s){s.commands.formatCode={exec:function(e,t,n){var r,i,o,a=this.state(e)[0];a?e.selection.executeAndRestore(function(){r=a.querySelector("code"),s.dom.replaceWithChildNodes(a),r&&s.dom.replaceWithChildNodes(r)}):(o=(i=e.selection.getRange()).extractContents(),a=e.doc.createElement("pre"),r=e.doc.createElement("code"),n&&(r.className=n),a.appendChild(r),r.appendChild(o),i.insertNode(a),e.selection.selectNode(a))},state:function(e){var t,n=e.selection.getSelectedNode();return n&&n.nodeName&&"PRE"==n.nodeName&&n.firstChild&&n.firstChild.nodeName&&"CODE"==n.firstChild.nodeName?[n]:!!(t=s.dom.getParentElement(n,{query:"pre code"}))&&[t.parentNode]}}}(wysihtml5),function(d){var s="SPAN",i="b, big, i, small, tt, abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var, a, bdo, br, q, span, sub, sup, button, label, textarea, input, select, u",l={b:"b, strong",strong:"b, strong",em:"em, i",i:"em, i"};function c(e){return/^\s*$/.test(e.className)}function u(e){return!e.getAttribute("style")||/^\s*$/.test(e.getAttribute("style"))}function n(e,t){var n,r,i,o;return!(1!==e.nodeType||1!==t.nodeType||e.nodeName!==t.nodeName||(n=e.className.trim().replace(/\s+/g," ").split(" "),r=t.className.trim().replace(/\s+/g," ").split(" "),0<d.lang.array(n).without(r).length||(i=d.dom.getAttributes(e),o=d.dom.getAttributes(t),i.length!==o.length||!d.lang.object(d.lang.object(i).difference(o)).isEmpty())))}function h(e,t){var n=t&&t.nodeName||s,r=e.ownerDocument.createElement(n);if(t.classRegExp&&(r.className=r.className.replace(t.classRegExp,"")),t.className&&r.classList.add(t.className),t.styleProperty&&void 0!==t.styleValue&&(r.style[d.browser.fixStyleKey(t.styleProperty)]=t.styleValue),t.attribute)if("object"==typeof t.attribute)for(var i in t.attribute)t.attribute.hasOwnProperty(i)&&r.setAttribute(i,t.attribute[i]);else void 0!==t.attributeValue&&r.setAttribute(t.attribute,t.attributeValue);return r}function f(e,t,n){var r,i=d.dom.getAttributes(e),o=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&(t[n],t[n]!==e[n]))return!1;return!0}(t,i);d.lang.object(i).difference(t);if(o&&!1!==n)for(r in t)t.hasOwnProperty(r)&&e.removeAttribute(r);else for(r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])}function p(e,t){var n,r,i,o,a;t.className&&(!1!==t.toggle&&e.classList.contains(t.className)?e.classList.remove(t.className):(t.classRegExp&&(e.className=e.className.replace(t.classRegExp,"")),e.classList.add(t.className)),c(e)&&e.removeAttribute("class")),t.styleProperty&&(!1!==t.toggle&&e.style[d.browser.fixStyleKey(t.styleProperty)].trim().replace(/, /g,",")===t.styleValue?e.style[d.browser.fixStyleKey(t.styleProperty)]="":e.style[d.browser.fixStyleKey(t.styleProperty)]=t.styleValue),u(e)&&e.removeAttribute("style"),t.attribute&&("object"==typeof t.attribute?n=t.attribute:(n={})[t.attribute]=t.attributeValue||"",f(e,n,t.toggle)),i=!!(r=t.nodeName?l[t.nodeName.toLowerCase()]||t.nodeName.toLowerCase():null)&&d.dom.domNode(e).test({query:r}),t.nodeName&&t.nodeName!==s&&!i||(!1!==t.toggle&&i||!t.nodeName&&e.nodeName===s)&&c(e)&&u(e)&&(o=e,a=d.dom.getAttributes(o),d.lang.object(a).isEmpty())&&d.dom.unwrap(e)}function m(e,t){var n=[];return e.isCollapsed()||(n=n.concat(e.getOwnNodes([3],function(e){return!d.dom.domNode(e).is.emptyTextNode()},t))),n}function g(e,t,n,r){var i,o=e,a=r?t:{nodeName:(i=t).nodeName||null,className:!i.classRegExp&&i.className||null,classRegExp:i.classRegExp||null,styleProperty:i.styleProperty||null};do{if(1===o.nodeType&&v(o,a))return o;o=o.parentNode}while(o&&o!==n);return null}function v(e,t){var n;if(t.nodeName){var r=l[t.nodeName.toLowerCase()]||t.nodeName.toLowerCase();return d.dom.domNode(e).test({query:r})}return(n=d.lang.object(t).clone()).query=i,d.dom.domNode(e).test(n)}function o(e,t){var n=document.documentElement||document.body,r=n.scrollTop,i=n.scrollLeft;rangy.getSelection(e.win);rangy.getSelection(e.win).removeAllRanges();try{rangy.getSelection(e.win).addRange(t)}catch(e){}e.doc.activeElement&&d.dom.contains(e.element,e.doc.activeElement)||(e.element.focus(),n.scrollTop=r,n.scrollLeft=i,rangy.getSelection(e.win).addRange(t))}function r(e,t){var n=rangy.createRange(t.doc),r=e[e.length-1];e[0]&&r&&(n.setStart(e[0],0),n.setEnd(r,r.length),o(t,n))}function a(e,t,n,r){var i=rangy.createRange(e.doc);t&&(i.setStart(t,n),i.setEnd(t,void 0!==r?r:n),o(e,i))}function y(e,t,n){var r,i,o,a=m(e.selection),s=[],l=!1;if(e.selection.isInThisEditable()){if(0===a.length&&e.selection.isCollapsed()){if(!(o=e.selection.getSelection().anchorNode))return{nodes:[],partial:!1};3===o.nodeType&&(a=[o])}a.length||(i=e.selection.getOwnRanges()[0])&&(a=[i.endContainer]);for(var c=0,u=a.length;c<u;c++)(r=g(a[c],t,e.element,n))?s.push(r):l=!0}return{nodes:s,partial:l}}function b(e){var t,n,r,i;return e&&(t=e.anchorNode,n=e.anchorOffset,t&&3===t.nodeType&&0<n&&n<t.data.length)&&(r=t.data[n-1],i=t.data[n],/\w/.test(r)&&/\w/.test(i))}function w(e){var t,n,r,i,o,a,s=[];if(e&&(t=e.anchorNode,n=o=a=e.anchorOffset,r=t.ownerDocument,i=rangy.createRange(r),t&&3===t.nodeType)){for(;0<o&&/\w/.test(t.data[o-1]);)o--;for(;a<t.data.length&&/\w/.test(t.data[a]);)a++;return i.setStartAndEnd(t,o,a),i.splitBoundaries(),s=i.getNodes([3],function(e){return!d.dom.domNode(e).is.emptyTextNode()}),{wordOffset:n-o,range:i,textNode:s[0]}}return!1}function C(e,t){for(;t.firstChild;)e.appendChild(t.firstChild);t.parentNode.removeChild(t)}function x(e){for(var t=e.length;t--;)e[t]&&e[t].parentNode&&(e[t].nextSibling&&n(e[t],e[t].nextSibling)&&C(e[t],e[t].nextSibling),e[t].previousSibling&&n(e[t],e[t].previousSibling)&&C(e[t].previousSibling,e[t]))}function E(e,t,n){0<t.length&&r(t,e),x(y(e,n).nodes),0<t.length&&r(t,e)}function _(e,t,n,r){a(e,t,n),x(y(e,r).nodes),a(e,t,n)}function $(e,t){var n=h(e,t);e.parentNode.insertBefore(n,e),n.appendChild(e)}function S(e,t,n){var r,i=g(e,n,t.element);i&&(r=i.cloneNode(!1),d.dom.domNode(e).escapeParent(i,r),p(r,n))}function A(e,t,n){var r,i,o,a,s,l,c=e.selection.getSelection();if(t.length){for(i=t.length;i--;)$(t[i],n);E(e,t,n)}else if(b(c))$((r=w(c)).textNode,n),_(e,r.textNode,r.wordOffset,n);else{var u=e.selection.getOwnRanges()[0];u&&(a=e,s=n,l=h((o=u).endContainer,s),o.surroundContents(l),a.selection.selectNode(l))}}function k(e){return(e="string"==typeof e?{nodeName:e}:e).nodeName&&(e.nodeName=e.nodeName.toUpperCase()),e}d.commands.formatInline={exec:function(e,t,n){n=k(n),e.element.normalize();var r=m(e.selection,!0),i=y(e,n);0<i.nodes.length?function(e,t,n,r){var i,o,a,s,l=y(e,r,!0),c=e.selection.getSelection();if(t.length){if(l.partial||!1===r.toggle)for(s=t.length;s--;)g(t[s],r,e.element)&&S(t[s],e,r),g(t[s],r,e.element)||$(t[s],r);else for(s=t.length;s--;)S(t[s],e,r);E(e,t,r)}else if(!1!==r.toggle)if(b(c))o=(i=w(c)).textNode,S(i.textNode,e,r),_(e,i.textNode,i.wordOffset,r);else{o=e.doc.createTextNode(d.INVISIBLE_SPACE),(a=n.nodes[0].cloneNode(!1)).appendChild(o),e.selection.splitElementAtCaret(n.nodes[0],a),p(a,r),E(e,[o],r);var u=e.selection.getSelection();if(u.anchorNode&&u.focusNode)try{u.collapseToEnd()}catch(e){}}else for(s=n.nodes.length;s--;)p(n.nodes[s],r)}(e,r,i,n):A(e,r,n),e.element.normalize()},remove:function(e,t,n){n=k(n),e.element.normalize();var r=m(e.selection,!0),i=y(e,n);0<i.nodes.length&&function(e,t,n,r){var i,o,a,s,l,c=e.selection.getSelection();if(t.length){for(a=t.length;a--;)s=t[a],(l=g(s,r,e.element))&&d.dom.domNode(s).escapeParent(l);E(e,t,r)}else{for(i=c.anchorNode,o=c.anchorOffset,a=n.nodes.length;a--;)d.dom.unwrap(n.nodes[a]);_(e,i,o,r)}}(e,r,i,n),e.element.normalize()},state:function(e,t,n){var r=y(e,n=k(n),!0).nodes;return 0!==r.length&&r}}}(wysihtml5),function(n){var r={nodeName:"BLOCKQUOTE",toggle:!0};n.commands.insertBlockQuote={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,n){e.selection.insertHTML(n)},state:function(){return!1}},function(c){c.commands.insertImage={exec:function(e,t,n){n="object"==typeof n?n:{src:n};var r,i,o=e.doc,a=this.state(e);if(a&&!n.src)return e.selection.setBefore(a),(i=a.parentNode).removeChild(a),c.dom.removeEmptyTextNodes(i),"A"!==i.nodeName||i.firstChild||(e.selection.setAfter(i),i.parentNode.removeChild(i)),void c.quirks.redraw(e.element);if(a)for(var s in n)n.hasOwnProperty(s)&&a.setAttribute("className"===s?"class":s,n[s]);else{for(var l in a=o.createElement("IMG"),n)a.setAttribute("className"===l?"class":l,n[l]);e.selection.insertNode(a),c.browser.hasProblemsSettingCaretAfterImg()?(r=o.createTextNode(c.INVISIBLE_SPACE),e.selection.insertNode(r),e.selection.setAfter(r)):e.selection.setAfter(a)}},state:function(e){var t,n,r,i=e.doc;return!!c.dom.hasElementWithTagName(i,"IMG")&&(!!(t=e.selection.getSelectedNode())&&("IMG"===t.nodeName?t:t.nodeType===c.ELEMENT_NODE&&(n=e.selection.getText(),!(n=c.lang.string(n).trim())&&(1===(r=e.selection.getNodes(c.ELEMENT_NODE,function(e){return"IMG"===e.nodeName})).length&&r[0]))))}}}(wysihtml5),function(e){var n="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(e,t){e.selection.insertHTML(n)},state:function(){return!1}}}(wysihtml5),function(n){n.commands.insertOrderedList={exec:function(e,t){n.commands.insertList.exec(e,t,"OL")},state:function(e,t){return n.commands.insertList.state(e,t,"OL")}}}(wysihtml5),function(n){n.commands.insertUnorderedList={exec:function(e,t){n.commands.insertList.exec(e,t,"UL")},state:function(e,t){return n.commands.insertList.state(e,t,"UL")}}}(wysihtml5),wysihtml5.commands.insertList=function(w){function a(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var n=t.length;n--;)if(e.nodeName===t[n])return!0}return!1}function C(e,t,n){var r={el:null,other:!1};if(e){var i=w.dom.getParentElement(e,{query:"li"},!1,n.element),o="UL"===t?"OL":"UL";a(e,t)?r.el=e:a(e,o)?r={el:e,other:!0}:i&&(a(i.parentNode,t)?r.el=i.parentNode:a(i.parentNode,o)&&(r={el:i.parentNode,other:!0}))}return r.el&&!n.element.contains(r.el)&&(r.el=null),r}var x=function(t,e){for(var n=e.selection.getOwnRanges(),r=[],i=n.length;i--;)r=r.concat(n[i].getNodes([1],function(e){return a(e,t)}));return r};return{exec:function(e,t,n){var r,i,o,a,s,l,c,u,d,h,f,p,m=e.doc,g="OL"===n?"insertOrderedList":"insertUnorderedList",v=e.selection.getSelection(),y=1===v.anchorNode.nodeType&&v.anchorNode.firstChild?v.anchorNode.childNodes[v.anchorOffset]:v.anchorNode,b=1===v.focusNode.nodeType&&v.focusNode.firstChild?v.focusNode.childNodes[v.focusOffset]||v.focusNode.lastChild:v.focusNode;v.isBackwards()&&(y=[b,b=y][0]),w.dom.domNode(b).is.emptyTextNode(!0)&&b&&(b=w.dom.domNode(b).prev({nodeTypes:[1,3],ignoreBlankTexts:!0})),w.dom.domNode(y).is.emptyTextNode(!0)&&y&&(y=w.dom.domNode(y).next({nodeTypes:[1,3],ignoreBlankTexts:!0})),r=y&&b?y===b?y:w.dom.domNode(y).commonAncestor(b,e.element):e.selection.getSelectedNode(),(i=C(r,n,e)).el?i.other?(d=i.el,p="UL"===(h=n)?"OL":"UL",(f=e).selection.executeAndRestoreRangy(function(){for(var e=[d].concat(x(p,f)),t=e.length;t--;)w.dom.renameElement(e[t],h.toLowerCase())})):(o=i.el,u="UL"===(a=n)?"OL":"UL",(s=e).selection.executeAndRestoreRangy(function(){if((l=x(u,s)).length)for(var e=l.length;e--;)w.dom.renameElement(l[e],a.toLowerCase());else{for(var t=(c=x(["OL","UL"],s)).length;t--;)w.dom.resolveList(c[t],s.config.useLineBreaks);0===c.length&&w.dom.resolveList(o,s.config.useLineBreaks)}})):e.commands.support(g)?m.execCommand(g,!1,null):function(e,t){var n,r,i=rangy.saveSelection(t.win),o="_wysihtml5-temp-"+(new Date).getTime();t.commands.exec("formatBlock",{nodeName:"div",className:o});var a=t.element.querySelector("."+o);a.innerHTML=a.innerHTML.replace(w.INVISIBLE_SPACE_REG_EXP,""),a&&(n=/^(\s|(<br>))+$/i.test(a.innerHTML),r=w.dom.convertToList(a,e.toLowerCase(),t.parent.config.classNames.uneditableContainer),i&&rangy.restoreSelection(i),n&&t.selection.selectNode(r.querySelector("li"),!0))}(n,e)},state:function(e,t,n){var r=e.selection.getSelectedNode(),i=C(r,n,e);return!(!i.el||i.other)&&i.el}}}(wysihtml5),function(n){var r={nodeName:"I",toggle:!0};n.commands.italic={exec:function(e,t){n.commands.formatInline.exec(e,t,r)},state:function(e,t){return n.commands.formatInline.state(e,t,r)}}}(wysihtml5),function(n){var r={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};n.commands.justifyCenter={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),function(n){var r={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};n.commands.justifyLeft={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),function(n){var r={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};n.commands.justifyRight={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),function(n){var r={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};n.commands.justifyFull={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),function(n){var r={styleProperty:"textAlign",styleValue:"right",toggle:!0};n.commands.alignRightStyle={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),function(n){var r={styleProperty:"textAlign",styleValue:"left",toggle:!0};n.commands.alignLeftStyle={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),function(n){var r={styleProperty:"textAlign",styleValue:"center",toggle:!0};n.commands.alignCenterStyle={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),function(n){var r={styleProperty:"textAlign",styleValue:"justify",toggle:!0};n.commands.alignJustifyStyle={exec:function(e,t){return n.commands.formatBlock.exec(e,"formatBlock",r)},state:function(e,t){return n.commands.formatBlock.state(e,"formatBlock",r)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(e){return!1}},function(n){var r={nodeName:"U",toggle:!0};n.commands.underline={exec:function(e,t){n.commands.formatInline.exec(e,t,r)},state:function(e,t){return n.commands.formatInline.state(e,t,r)}}}(wysihtml5),wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(e){return!1}},wysihtml5.commands.createTable={exec:function(e,t,n){var r,i,o;if(n&&n.cols&&n.rows&&0<parseInt(n.cols,10)&&0<parseInt(n.rows,10)){for(o=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",o+="<tbody>",i=0;i<n.rows;i++){for(o+="<tr>",r=0;r<n.cols;r++)o+="<td><br></td>";o+="</tr>"}o+="</tbody></table>",e.commands.exec("insertHTML",o)}},state:function(e,t){return!1}},function(i){i.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?i.dom.table.unmergeCell(e.tableSelection.start):i.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e,t){if(e.tableSelection){var n=e.tableSelection.start,r=e.tableSelection.end;if(n&&r&&n==r&&(i.dom.getAttribute(n,"colspan")&&1<parseInt(i.dom.getAttribute(n,"colspan"),10)||i.dom.getAttribute(n,"rowspan")&&1<parseInt(i.dom.getAttribute(n,"rowspan"),10)))return[n]}return!1}}}(wysihtml5),function(i){i.commands.addTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var r=i.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==n||"above"==n?i.dom.table.addCells(r.start,n):"after"!=n&&"below"!=n||i.dom.table.addCells(r.end,n),setTimeout(function(){e.tableSelection.select(r.start,r.end)},0)}},state:function(e,t){return!1}}}(wysihtml5),function(s){s.commands.deleteTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var r,i=s.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),o=s.dom.table.indexOf(i.start),a=e.tableSelection.table;s.dom.table.removeCells(i.start,n),setTimeout(function(){(r=s.dom.table.findCell(a,o))||("row"==n&&(r=s.dom.table.findCell(a,{row:o.row-1,col:o.col})),"column"==n&&(r=s.dom.table.findCell(a,{row:o.row,col:o.col-1}))),r&&e.tableSelection.select(r,r)},0)}},state:function(e,t){return!1}}}(wysihtml5),function(l){l.commands.indentList={exec:function(e,t,n){var r=e.selection.getSelectionParentsByTag("LI");return!!r&&this.tryToPushLiLevel(r,e.selection)},state:function(e,t){return!1},tryToPushLiLevel:function(t,e){var n,r,i,o,a,s=!1;return e.executeAndRestoreRangy(function(){for(var e=t.length;e--;)o=t[e],n="OL"===o.parentNode.nodeName?"OL":"UL",r=o.ownerDocument.createElement(n),i=l.dom.domNode(o).prev({nodeTypes:[l.ELEMENT_NODE]}),a=i?i.querySelector("ul, ol"):null,i&&(a?a.appendChild(o):(r.appendChild(o),i.appendChild(r)),s=!0)}),s}}}(wysihtml5),function(d){d.commands.outdentList={exec:function(e,t,n){var r=e.selection.getSelectionParentsByTag("LI");return!!r&&this.tryToPullLiLevel(r,e)},state:function(e,t){return!1},tryToPullLiLevel:function(n,r){var i,o,a,s,l,c=!1,u=this;return r.selection.executeAndRestoreRangy(function(){for(var e=n.length;e--;)if((s=n[e]).parentNode&&("OL"===(i=s.parentNode).tagName||"UL"===i.tagName)){if(c=!0,o=d.dom.getParentElement(i.parentNode,{query:"ol, ul"},!1,r.element),a=d.dom.getParentElement(i.parentNode,{query:"li"},!1,r.element),o&&a)s.nextSibling&&(l=u.getAfterList(i,s),s.appendChild(l)),o.insertBefore(s,a.nextSibling);else{s.nextSibling&&(l=u.getAfterList(i,s),s.appendChild(l));for(var t=s.childNodes.length;t--;)i.parentNode.insertBefore(s.childNodes[t],i.nextSibling);i.parentNode.insertBefore(document.createElement("br"),i.nextSibling),s.parentNode.removeChild(s)}0===i.childNodes.length&&i.parentNode.removeChild(i)}}),c},getAfterList:function(e,t){for(var n=e.nodeName,r=document.createElement(n);t.nextSibling;)r.appendChild(t.nextSibling);return r}}}(wysihtml5),function(n){var r={nodeName:"SUB",toggle:!0};n.commands.subscript={exec:function(e,t){n.commands.formatInline.exec(e,t,r)},state:function(e,t){return n.commands.formatInline.state(e,t,r)}}}(wysihtml5),function(n){var r={nodeName:"SUP",toggle:!0};n.commands.superscript={exec:function(e,t){n.commands.formatInline.exec(e,t,r)},state:function(e,t){return n.commands.formatInline.state(e,t,r)}}}(wysihtml5),function(c){var u="data-wysihtml5-selection-node",d="data-wysihtml5-selection-offset",e=(c.INVISIBLE_SPACE,c.INVISIBLE_SPACE,c.dom);c.UndoManager=c.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var n,i=this;this.composer.sandbox.getDocument();e.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,n=90===t&&!e.shiftKey,r=90===t&&e.shiftKey||89===t;n?(i.undo(),e.preventDefault()):r&&(i.redo(),e.preventDefault())}}),e.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==n&&(8!==(n=t)&&46!==t||i.transact())}),this.editor.on("newword:composer",function(){i.transact()}).on("beforecommand:composer",function(){i.transact()})},transact:function(){var e,t,n,r,i,o=this.historyStr[this.position-1],a=this.composer.getValue(!1,!1),s=0<this.element.offsetWidth&&0<this.element.offsetHeight;if(a!==o){25<(this.historyStr.length=this.historyDom.length=this.position)&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,s&&(t=(e=this.composer.selection.getRange())&&e.startContainer?e.startContainer:this.element,n=e&&e.startOffset?e.startOffset:0,t.nodeType===c.ELEMENT_NODE?r=t:(r=t.parentNode,i=this.getChildNodeIndex(r,t)),r.setAttribute(d,n),void 0!==i&&r.setAttribute(u,i));var l=this.element.cloneNode(!!a);this.historyDom.push(l),this.historyStr.push(a),r&&(r.removeAttribute(d),r.removeAttribute(u))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){this.element.innerHTML="";for(var t,n,r,i=0,o=e.childNodes,a=e.childNodes.length;i<a;i++)this.element.appendChild(o[i].cloneNode(!0));e.hasAttribute(d)?(t=e.getAttribute(d),r=e.getAttribute(u),n=this.element):(t=(n=this.element.querySelector("["+d+"]")||this.element).getAttribute(d),r=n.getAttribute(u),n.removeAttribute(d),n.removeAttribute(u)),null!==r&&(n=this.getChildNodeByIndex(n,+r)),this.composer.selection.set(n,t)},getChildNodeIndex:function(e,t){for(var n=0,r=e.childNodes,i=r.length;n<i;n++)if(r[n]===t)return n},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,this.element=t,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.on("beforeload",function(){t.parent.on("change_view",function(e){e===t.name?((t.parent.currentView=t).show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(l){var c=l.dom,u=l.browser;l.views.Composer=l.views.View.extend({name:"composer",constructor:function(e,t,n){this.base(e,t,n),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=u.displaysCaretInEmptyContentEditableCorrectly()?"":"<br>"},getValue:function(e,t){var n=this.isEmpty()?"":l.quirks.getCorrectInnerHTML(this.element);return!1!==e&&(n=this.parent.parse(n,!1!==t)),n},setValue:function(t,e){!1!==e&&(t=this.parent.parse(t));try{this.element.innerHTML=t}catch(e){this.element.innerText=t}},cleanUp:function(e){var t;this.selection&&this.selection.isInThisEditable()&&(t=rangy.saveSelection(this.win)),this.parent.parse(this.element,void 0,e),t&&rangy.restoreSelection(t)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=c.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(e){l.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var t=this.element.lastChild;e&&t&&this.selection&&("BR"===t.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getScrollPos:function(){if(this.doc&&this.win){var e={};return void 0!==this.win.pageYOffset?e.y=this.win.pageYOffset:e.y=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollTop,void 0!==this.win.pageXOffset?e.x=this.win.pageXOffset:e.x=(this.doc.documentElement||this.doc.body.parentNode||this.doc.body).scrollLeft,e}},setScrollPos:function(e){e&&void 0!==e.x&&void 0!==e.y&&this.win.scrollTo(e.x,e.y)},getTextContent:function(){return c.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new c.ContentEditableArea(function(){e._create()},{className:this.config.classNames.sandbox},this.editableArea):(this.sandbox=new c.ContentEditableArea(function(){e._create()},{className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getContentEditable(),c.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e=this;this.sandbox=new c.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets,className:this.config.classNames.sandbox}),this.editableArea=this.sandbox.getIframe();var t=this.textarea.element;c.insert(this.editableArea).after(t),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,c.insert(e).after(this.textarea.element)}},_create:function(){var e=this;this.doc=this.sandbox.getDocument(),this.win=this.sandbox.getWindow(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new l.Selection(this.parent,this.element,this.config.classNames.uneditableContainer),this.commands=new l.Commands(this.parent),this.config.noTextarea||c.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),this._initAutoLinking(),c.addClass(this.element,this.config.classNames.composer),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var t=this.config.name;t&&(c.addClass(this.element,t),this.config.contentEditableMode||c.addClass(this.editableArea,t)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var n="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");n&&c.simulatePlaceholder(this.parent,this,n,this.config.classNames.placeholder),this.commands.exec("styleWithCSS",!1),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||u.isIos()||setTimeout(function(){e.focus(!0)},100),u.clearsContentEditableCorrectly()||l.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,e=u.canDisableAutoLinking(),t=u.doesAutoLinkingInContentEditable();if(e&&this.commands.exec("AutoUrlDetect",!1,!1),this.config.autoLink){(!t||t&&e)&&(this.parent.on("newword:composer",function(){if(c.getTextContent(i.element).match(c.autoLink.URL_REG_EXP)){for(var e=i.selection.getSelectedNode(),t=i.element.querySelectorAll("."+i.config.classNames.uneditableContainer),n=!1,r=t.length;r--;)l.dom.contains(t[r],e)&&(n=!0);n||c.autoLink(e,[i.config.classNames.uneditableContainer])}}),c.observe(this.element,"blur",function(){c.autoLink(i.element,[i.config.classNames.uneditableContainer])}));function o(e){var t=l.lang.string(c.getTextContent(e)).trim();return"www."===t.substr(0,4)&&(t="http://"+t),t}var a=this.sandbox.getDocument().getElementsByTagName("a"),s=c.autoLink.URL_REG_EXP;c.observe(this.element,"keydown",function(e){if(a.length){var t,n=i.selection.getSelectedNode(e.target.ownerDocument),r=c.getParentElement(n,{query:"a"},4);r&&(t=o(r),setTimeout(function(){var e=o(r);e!==t&&e.match(s)&&r.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),u.supportsEvent("resizeend")){var o=["width","height"],a=o.length,s=this.element;c.observe(s,"resizeend",function(e){var t,n=e.target||e.srcElement,r=n.style,i=0;if("IMG"===n.nodeName){for(;i<a;i++)r[t=o[i]]&&(n.setAttribute(t,parseInt(r[t],10)),r[t]="");l.quirks.redraw(s)}})}},_initUndoManager:function(){this.undoManager=new l.UndoManager(this.parent)},_initLineBreaking:function(){var r=this;function i(e){var t=c.getParentElement(e,{query:"p, div"},2);t&&c.contains(r.element,t)&&r.selection.executeAndRestoreRangy(function(){r.config.useLineBreaks?((!t.firstChild||t.firstChild===t.lastChild&&1===t.firstChild.nodeType&&t.firstChild.classList.contains("rangySelectionBoundary"))&&t.appendChild(r.doc.createElement("br")),c.replaceWithChildNodes(t)):"P"!==t.nodeName&&c.renameElement(t,"p")})}this.config.useLineBreaks||c.observe(this.element,["focus"],function(){r.isEmpty()&&setTimeout(function(){var e=r.doc.createElement("P");r.element.innerHTML="",r.element.appendChild(e),u.displaysCaretInEmptyContentEditableCorrectly()?r.selection.selectNode(e,!0):(e.innerHTML="<br>",r.selection.setBefore(e.firstChild))},0)}),c.observe(this.element,"keydown",function(e){var t=e.keyCode;if(!(e.shiftKey||e.ctrlKey||e.defaultPrevented||t!==l.ENTER_KEY&&t!==l.BACKSPACE_KEY)){var n=c.getParentElement(r.selection.getSelectedNode(),{query:"li, p, h1, h2, h3, h4, h5, h6"},4);n?setTimeout(function(){var e=r.selection.getSelectedNode();if("LI"===n.nodeName){if(!e)return;c.getParentElement(e,{query:"ul, ol, menu"},2)||i(e)}t===l.ENTER_KEY&&n.nodeName.match(/^H[1-6]$/)&&i(e)},0):r.config.useLineBreaks&&t===l.ENTER_KEY&&!l.browser.insertsLineBreaksOnReturn()&&(e.preventDefault(),r.commands.exec("insertLineBreak"))}})}})}(wysihtml5),function(c){var u=c.dom,d=document,h=window,f=d.createElement("div"),p=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],m=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],g=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",c.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"];c.views.Composer.prototype.style=function(){var e,t=this,n=d.querySelector(":focus"),r=this.textarea.element,i=r.hasAttribute("placeholder"),o=i&&r.getAttribute("placeholder"),a=r.style.display,s=r.disabled;this.focusStylesHost=f.cloneNode(!1),this.blurStylesHost=f.cloneNode(!1),this.disabledStylesHost=f.cloneNode(!1),i&&r.removeAttribute("placeholder"),r===n&&r.blur(),r.disabled=!1,r.style.display=e="none",(r.getAttribute("rows")&&"auto"===u.getStyle("height").from(r)||r.getAttribute("cols")&&"auto"===u.getStyle("width").from(r))&&(r.style.display=e=a),u.copyStyles(m).from(r).to(this.editableArea).andTo(this.blurStylesHost),u.copyStyles(p).from(r).to(this.element).andTo(this.blurStylesHost),u.insertCSS(g).into(this.element.ownerDocument),r.disabled=!0,u.copyStyles(m).from(r).to(this.disabledStylesHost),u.copyStyles(p).from(r).to(this.disabledStylesHost),r.disabled=s,r.style.display=a,function(e){if(e.setActive)try{e.setActive()}catch(e){}else{var t=e.style,n=d.documentElement.scrollTop||d.body.scrollTop,r=d.documentElement.scrollLeft||d.body.scrollLeft,i={position:t.position,top:t.top,left:t.left,WebkitUserSelect:t.WebkitUserSelect};u.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),u.setStyles(i).on(e),h.scrollTo&&h.scrollTo(r,n)}}(r),r.style.display=e,u.copyStyles(m).from(r).to(this.focusStylesHost),u.copyStyles(p).from(r).to(this.focusStylesHost),r.style.display=a,u.copyStyles(["display"]).from(r).to(this.editableArea);var l=c.lang.array(m).without(["display"]);return n?n.focus():r.blur(),i&&r.setAttribute("placeholder",o),this.parent.on("focus:composer",function(){u.copyStyles(l).from(t.focusStylesHost).to(t.editableArea),u.copyStyles(p).from(t.focusStylesHost).to(t.element)}),this.parent.on("blur:composer",function(){u.copyStyles(l).from(t.blurStylesHost).to(t.editableArea),u.copyStyles(p).from(t.blurStylesHost).to(t.element)}),this.parent.observe("disable:composer",function(){u.copyStyles(l).from(t.disabledStylesHost).to(t.editableArea),u.copyStyles(p).from(t.disabledStylesHost).to(t.element)}),this.parent.observe("enable:composer",function(){u.copyStyles(l).from(t.blurStylesHost).to(t.editableArea),u.copyStyles(p).from(t.blurStylesHost).to(t.element)}),this}}(wysihtml5),function(l){function n(e){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval),this.parent.fire("destroy:composer")}function r(e){var t,n,r=e.keyCode,i=a[r];if((e.ctrlKey||e.metaKey)&&!e.altKey&&65===r)return this.selection.selectAll(),void e.preventDefault();(e.ctrlKey||e.metaKey)&&!e.altKey&&i&&(this.commands.exec(i),e.preventDefault()),r===l.BACKSPACE_KEY&&function(e,t){var n=t.selection;t.element;if(n.isCollapsed()){if(s.handleUneditableDeletion(t))return e.preventDefault();if(s.fixDeleteInTheBeginningOfLi(t))return e.preventDefault();if(s.fixDeleteInTheBeginningOfBlock(t))return e.preventDefault();if(s.fixLastBrDeletionInTable(t))return e.preventDefault();if(l.browser.usesControlRanges()&&s.fixDeleteInTheBeginningOfControlSelection(t))e.preventDefault()}else n.containsUneditable()&&(e.preventDefault(),n.deleteContents())}(e,this),r!==l.BACKSPACE_KEY&&r!==l.DELETE_KEY||(t=this.selection.getSelectedNode(!0))&&"IMG"===t.nodeName&&(e.preventDefault(),(n=t.parentNode).removeChild(t),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){l.quirks.redraw(this.element)}.bind(this),0)),this.config.handleTabKey&&r===l.TAB_KEY&&(e.preventDefault(),function(e,t){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("li"))if(t){if(e.commands.exec("outdentList"))return}else if(e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")}(this,(this.element,e.shiftKey))),r===l.ENTER_KEY&&function(e,t){if(t.config.useLineBreaks&&!e.shiftKey&&!e.ctrlKey){t.selection.isCollapsed()&&s.doLineBreaksModeEnterWithCaret(t)&&e.preventDefault()}}(e,this)}var c=l.dom,u=c.domNode,o=l.browser,a={66:"bold",73:"italic",85:"underline"},s={addListeners:function(e,t,n){for(var r=0,i=t.length;r<i;r++)e.addEventListener(t[r],n,!1)},removeListeners:function(e,t,n){for(var r=0,i=t.length;r<i;r++)e.removeEventListener(t[r],n,!1)},fixLastBrDeletionInTable:function(e,t){if(e.selection.caretIsLastInSelection()){var n=e.selection.getSelection(),r=n.anchorNode;if(r&&1===r.nodeType&&(l.dom.getParentElement(r,{query:"td, th"},!1,e.element)||t)){var i=r.childNodes[n.anchorOffset];if(i&&1===i.nodeType&"BR"===i.nodeName)return i.parentNode.removeChild(i),!0}}return!1},handleUneditableDeletion:function(e){var t=e.selection.getBeforeSelection(!0);if(!t||"element"!==t.type&&"leafnode"!==t.type||1!==t.node.nodeType||!t.node.classList.contains(e.config.classNames.uneditableContainer))return!1;if(s.fixLastBrDeletionInTable(e,!0))return!0;try{var n=new CustomEvent("wysihtml5:uneditable:delete",{bubbles:!0,cancelable:!1});t.node.dispatchEvent(n)}catch(e){}return t.node.parentNode.removeChild(t.node),!0},fixDeleteInTheBeginningOfBlock:function(e){var t=e.selection,n=t.getPreviousNode();if(t.caretIsFirstInSelection(l.browser.usesControlRanges())&&n&&1===n.nodeType&&l.dom.domNode(n).is.block()&&!u(n).test({query:"ol, ul, table, tr, dl"})){if(/^\s*$/.test(n.textContent||n.innerText))return n.parentNode.removeChild(n),!0;if(n.lastChild){var r=n.lastChild,i=t.getSelectedNode(),o=u(n).commonAncestor(i,e.element),a=l.dom.getParentElement(i,{query:"h1, h2, h3, h4, h5, h6, p, pre, div, blockquote"},!1,o||e.element);if(a)return u(a).transferContentTo(n,!0),t.setAfter(r),!0;if(l.browser.usesControlRanges())return i=t.getCaretNode(),u(i).transferContentTo(n,!0),t.setAfter(r),!0}}return!1},fixDeleteInTheBeginningOfLi:function(e){if(l.browser.hasLiDeletingProblem()){var t,n,r=e.selection.getSelection(),i=r.anchorNode,o=e.selection.caretIsFirstInSelection();if(3===i.nodeType&&0===r.anchorOffset&&i===i.parentNode.firstChild&&(i=i.parentNode,o=!0),o&&i&&1===i.nodeType&&"LI"===i.nodeName&&((t=u(i).prev({nodeTypes:[1,3],ignoreBlankTexts:!0}))||!i.parentNode||"UL"!==i.parentNode.nodeName&&"OL"!==i.parentNode.nodeName||(t=u(i.parentNode).prev({nodeTypes:[1,3],ignoreBlankTexts:!0})),t))return n=i.firstChild,u(i).transferContentTo(t,!0),n?e.selection.setBefore(n):t&&(1===t.nodeType?t.lastChild?e.selection.setAfter(t.lastChild):e.selection.selectNode(t):e.selection.setAfter(t)),!0}return!1},fixDeleteInTheBeginningOfControlSelection:function(e){var t,n=e.selection,r=n.getPreviousNode(),i=n.getSelectedNode();return!!n.caretIsFirstInSelection()&&(3===i.nodeType&&(i=i.parentNode),t=i.firstChild,u(i).transferContentTo(r,!0),t&&e.selection.setBefore(t),!0)},initTableHandling:function(){var e=function(){window.removeEventListener("load",e),this.doc.execCommand("enableObjectResizing",!1,"false"),this.doc.execCommand("enableInlineTableEditing",!1,"false")}.bind(this),t=function(){e.call(this),s.removeListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],t)}.bind(this);this.doc.execCommand&&l.browser.supportsCommand(this.doc,"enableObjectResizing")&&l.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?s.addListeners(this.sandbox.getIframe(),["focus","mouseup","mouseover"],t):window.addEventListener("load",e)),this.tableSelection=l.quirks.tableCellsSelection(this.element,this.parent)},doLineBreaksModeEnterWithCaret:function(e){var t,n,r=!1;if((t=e.selection.getNodesNearCaret())&&((t.caretNode||t.nextNode)&&(n=c.getParentElement(t.caretNode||t.nextNode,{query:"p, pre, div, blockquote"},2))===e.element&&(n=void 0),n&&t.caretNode))if(u(t.caretNode).is.lineBreak()){if(e.config.doubleLineBreakEscapesBlock){r=!0,t.caretNode.parentNode.removeChild(t.caretNode),u(t.nextNode).is.lineBreak()&&t.nextNode.parentNode.removeChild(t.nextNode);var i=e.doc.createElement("br");u(t.nextNode).is.lineBreak()&&t.nextNode===n.lastChild?n.parentNode.insertBefore(i,n.nextSibling):e.selection.splitElementAtCaret(n,i),t.nextNode&&3===t.nextNode.nodeType&&(t.nextNode.data=t.nextNode.data.replace(/^ *[\r\n]+/,"")),e.selection.setBefore(i)}}else if(3===t.caretNode.nodeType&&l.browser.hasCaretBlockElementIssue()&&t.textOffset===t.caretNode.data.length&&!t.nextNode){r=!0;var o=e.doc.createElement("br"),a=e.doc.createElement("br"),s=e.doc.createDocumentFragment();s.appendChild(o),s.appendChild(a),e.selection.insertNode(s),e.selection.setBefore(a)}return r}};l.views.Composer.prototype.observeActions=s,l.views.Composer.prototype.observe=function(){var e=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),t=(this.element,o.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow());this.focusState=this.getValue(!1,!1),e.addEventListener(["DOMNodeRemoved"],n.bind(this),!1),o.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){c.contains(document.documentElement,e)||n.call(this)},250)),this.config.handleTables&&s.initTableHandling.call(this),s.addListeners(t,["drop","paste","mouseup","focus","keyup"],function(e){this.parent.fire("beforeinteraction",e).fire("beforeinteraction:composer",e),setTimeout(function(){this.parent.fire("interaction",e).fire("interaction:composer",e)}.bind(this),0)}.bind(this)),t.addEventListener("focus",function(e){this.parent.fire("focus",e).fire("focus:composer",e),setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)}.bind(this),!1),t.addEventListener("blur",function(e){if(this.focusState!==this.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),this.parent.fire("change",t).fire("change:composer",t)}this.parent.fire("blur",e).fire("blur:composer",e)}.bind(this),!1),s.addListeners(this.element,["drop","paste","beforepaste"],function(e){this.parent.fire(e.type,e).fire(e.type+":composer",e),"paste"===e.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)}.bind(this),!1),this.element.addEventListener("copy",function(e){this.config.copyedFromMarking&&(l.browser.supportsModernPaste()&&(e.clipboardData.setData("text/html",this.config.copyedFromMarking+this.selection.getHtml()),e.clipboardData.setData("text/plain",this.selection.getPlainText()),e.preventDefault()),this.parent.fire(e.type,e).fire(e.type+":composer",e))}.bind(this),!1),this.element.addEventListener("mousedown",function(e){if(!o.canSelectImagesInContentEditable()){var t=e.target,n=this.element.querySelectorAll("img"),r=this.element.querySelectorAll("."+this.config.classNames.uneditableContainer+" img"),i=l.lang.array(n).without(r);"IMG"===t.nodeName&&l.lang.array(i).contains(t)&&this.selection.selectNode(t)}l.browser.usesControlRanges()&&(this.selection.lastMouseDownPos={x:e.clientX,y:e.clientY},setTimeout(function(){delete this.selection.lastMouseDownPos}.bind(this),0))}.bind(this),!1),this.element.addEventListener("click",function(e){if(this.config.classNames.uneditableContainer){var t=l.dom.getParentElement(e.target,{query:"."+this.config.classNames.uneditableContainer},!1,this.element);t&&this.selection.setAfter(t)}}.bind(this),!1),this.element.addEventListener("drop",function(e){o.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)}.bind(this),!1),this.element.addEventListener("keyup",function(e){var t=e.keyCode;t!==l.SPACE_KEY&&t!==l.ENTER_KEY||this.parent.fire("newword:composer")}.bind(this),!1),this.element.addEventListener("keydown",r.bind(this),!1),l.browser.usesControlRanges()&&this.element.addEventListener("mscontrolselect",function(e){e.target;var t=this.selection.lastMouseDownPos;if(t){var n=document.body.createTextRange();setTimeout(function(){try{n.moveToPoint(t.x,t.y),n.select()}catch(e){}}.bind(this),0)}}.bind(this),!1),this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1)}}(wysihtml5),function(o){o.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(o.lang.string(this.composer.getValue(!1,!1)).trim(),e)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){function t(){r=setInterval(function(){i.fromComposerToTextarea()},400)}function n(){clearInterval(r),r=null}var r,i=this,e=this.textarea.element.form;t(),e&&(o.dom.observe(e,"submit",function(){i.sync(!0)}),o.dom.observe(e,"reset",function(){setTimeout(function(){i.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"!==e||r?"textarea"===e&&(i.fromComposerToTextarea(!0),n()):(i.fromTextareaToComposer(!0),t())}),this.editor.on("destroy:composer",n)}})}(wysihtml5),wysihtml5.views.SourceView=Base.extend({constructor:function(e,t){this.editor=e,this.composer=t,this._observe()},switchToTextarea:function(e){var t=this.composer.win.getComputedStyle(this.composer.element),n=parseFloat(t.width),r=Math.max(parseFloat(t.height),100);this.textarea||(this.textarea=this.composer.doc.createElement("textarea"),this.textarea.className="wysihtml5-source-view"),this.textarea.style.width=n+"px",this.textarea.style.height=r+"px",this.textarea.value=this.editor.getValue(e,!0),this.composer.element.parentNode.insertBefore(this.textarea,this.composer.element),this.editor.currentView="source",this.composer.element.style.display="none"},switchToComposer:function(e){var t=this.textarea.value;t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder")),this.textarea.parentNode.removeChild(this.textarea),this.editor.currentView=this.composer,this.composer.element.style.display=""},_observe:function(){this.editor.on("change_view",function(e){"composer"===e?this.switchToComposer(!0):"textarea"===e&&this.switchToTextarea(!0)}.bind(this))}}),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return!1!==e&&(t=this.parent.parse(t)),t},setValue:function(e,t){!1!==t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(e){var t=this.parent.parse(this.element.value,void 0,e);this.element.value=t},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value;return e&&!n||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,n=this.parent,r={focusin:"focus",focusout:"blur"},t=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];n.on("beforeload",function(){wysihtml5.dom.observe(e,t,function(e){var t=r[e.type]||e.type;n.fire(t).fire(t+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){n.fire("paste").fire("paste:textarea")},0)})})}}),function(o){var r={name:void 0,style:!0,toolbar:void 0,showToolbarAfterInit:!0,showToolbarDialogsOnSelection:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{},b:{},i:{},u:{}},classes:{}},pasteParserRulesets:null,parser:o.dom.parse,useLineBreaks:!0,doubleLineBreakEscapesBlock:!0,stylesheets:[],placeholderText:void 0,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,classNames:{composer:"wysihtml5-editor",body:"wysihtml5-supported",sandbox:"wysihtml5-sandbox",placeholder:"wysihtml5-placeholder",uneditableContainer:"wysihtml5-uneditable-container"},copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};o.Editor=o.lang.Dispatcher.extend({constructor:function(e,t){if(this.editableElement="string"==typeof e?document.getElementById(e):e,this.config=o.lang.object({}).merge(r).merge(t).get(),this._isCompatible=o.browser.supported(),t&&t.classNames&&o.lang.object(this.config.classNames).merge(t.classNames),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new o.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&o.browser.isTouchDevice()){var n=this;setTimeout(function(){n.fire("beforeload").fire("load")},0)}else o.dom.addClass(document.body,this.config.classNames.body),this.composer=new o.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea?this.sourceView=new o.views.SourceView(this,this.composer):this.synchronizer=new o.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new o.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(e){this.currentView.cleanUp(e)},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},destroy:function(){this.composer&&this.composer.sandbox&&this.composer.sandbox.destroy(),this.toolbar&&this.toolbar.destroy(),this.off()},parse:function(e,t,n){var r=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,i=this.config.parser(e,{rules:n||this.config.parserRules,cleanUp:this.config.cleanUp,context:r,uneditableClass:this.config.classNames.uneditableContainer,clearInternals:t});return"object"==typeof e&&o.quirks.redraw(e),i},_initParser:function(){var t;o.browser.supportsModernPaste()?this.on("paste:composer",function(e){e.preventDefault(),(t=o.dom.getPastedHtml(e))&&this._cleanAndPaste(t)}.bind(this)):this.on("beforepaste:composer",function(e){e.preventDefault();var t=this.composer.getScrollPos();o.dom.getPastedHtmlWithDiv(this.composer,function(e){e&&this._cleanAndPaste(e),this.composer.setScrollPos(t)}.bind(this))}.bind(this))},_cleanAndPaste:function(e){var t=o.quirks.cleanPastedHTML(e,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.classNames.uneditableContainer});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(t)}})}(wysihtml5),function(i){var o=i.dom,a="wysihtml5-command-dialog-opened",l="[data-wysihtml5-dialog-field]",c="data-wysihtml5-dialog-field";i.toolbar.Dialog=i.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){function n(e){var t=r._serialize();r.fire("save",t),r.hide(),e.preventDefault(),e.stopPropagation()}var r=this;o.observe(r.link,"click",function(){o.hasClass(r.link,a)&&setTimeout(function(){r.hide()},0)}),o.observe(this.container,"keydown",function(e){var t=e.keyCode;t===i.ENTER_KEY&&n(e),t===i.ESCAPE_KEY&&r.cancel()}),o.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",n),o.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){r.cancel(),e.preventDefault(),e.stopPropagation()}),this._observed=!0}},_serialize:function(){for(var e={},t=this.container.querySelectorAll(l),n=t.length,r=0;r<n;r++)e[t[r].getAttribute(c)]=t[r].value;return e},_interpolate:function(e){for(var t,n,r,i=document.querySelector(":focus"),o=this.container.querySelectorAll(l),a=o.length,s=0;s<a;s++)(t=o[s])!==i&&(e&&"hidden"===t.type||(n=t.getAttribute(c),r=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":t.defaultValue,t.value=r))},update:function(e){this.elementToChange=e||this.elementToChange,this._interpolate()},show:function(e){var t=this.container.querySelector("input, select, textarea");if(this._observe(),this.update(e),o.addClass(this.link,a),this.container.style.display="",this.isOpen=!0,this.fire("show"),t&&!e)try{t.focus()}catch(e){}},_hide:function(e){this.elementToChange=null,o.removeClass(this.link,a),this.container.style.display="none",this.isOpen=!1},hide:function(){this._hide(),this.fire("hide")},cancel:function(){this._hide(),this.fire("cancel")}})}(wysihtml5),function(a){var s=a.dom,l={position:"relative"},c={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},u={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},d={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(e,t){var n=document.createElement("input");if(a.browser.supportsSpeechApiOn(n)){var r=e.editor.textarea.element.getAttribute("lang");r&&(d.lang=r);var i=document.createElement("div");a.lang.object(c).merge({width:t.offsetWidth+"px",height:t.offsetHeight+"px"}),s.insert(n).into(i),s.insert(i).into(t),s.setStyles(u).on(n),s.setAttributes(d).on(n),s.setStyles(c).on(i),s.setStyles(l).on(t);var o="onwebkitspeechchange"in n?"webkitspeechchange":"speechchange";s.observe(n,o,function(){e.execCommand("insertText",n.value),n.value=""}),s.observe(n,"click",function(e){s.hasClass(t,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}else t.style.display="none"}}(wysihtml5),function(d){var l="wysihtml5-command-disabled",a="wysihtml5-commands-disabled",c="wysihtml5-command-active",u="wysihtml5-action-active",h=d.dom;function f(e,t){var n=e.commands.state(t.name,t.value);return!t.dialog.multiselect&&d.lang.object(n).isArray()&&(n=1!==n.length||n[0]),n}d.toolbar.Toolbar=Base.extend({constructor:function(e,t,n){this.editor=e,this.container="string"==typeof t?document.getElementById(t):t,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),n&&this.show(),null!=e.config.classNameCommandDisabled&&(l=e.config.classNameCommandDisabled),null!=e.config.classNameCommandsDisabled&&(a=e.config.classNameCommandsDisabled),null!=e.config.classNameCommandActive&&(c=e.config.classNameCommandActive),null!=e.config.classNameActionActive&&(u=e.config.classNameActionActive);for(var r=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),i=r.length,o=0;o<i;o++)new d.toolbar.Speech(this,r[o])},_getLinks:function(e){for(var t,n,r,i,o,a,s=this[e+"Links"]=d.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=s.length,c=0,u=this[e+"Mapping"]={};c<l;c++)r=(t=s[c]).getAttribute("data-wysihtml5-"+e),i=t.getAttribute("data-wysihtml5-"+e+"-value"),a=t.getAttribute("data-wysihtml5-"+e+"-blank-value"),n=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+r+"']"),o=this._getDialog(t,r),u[r+":"+i]={link:t,group:n,name:r,value:i,tracksBlankValue:a,dialog:o,state:!1}},_getDialog:function(t,n){var e,r,i=this,o=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return o&&((e=d.toolbar["Dialog_"+n]?new d.toolbar["Dialog_"+n](t,o):new d.toolbar.Dialog(t,o)).on("show",function(){r=i.composer.selection.getBookmark(),i.editor.fire("show:dialog",{command:n,dialogContainer:o,commandLink:t})}),e.on("save",function(e){r&&i.composer.selection.setBookmark(r),i._execCommand(n,e),i.editor.fire("save:dialog",{command:n,dialogContainer:o,commandLink:t}),i._hideAllDialogs(),i._preventInstantFocus(),r=void 0}),e.on("cancel",function(){r&&i.composer.selection.setBookmark(r),i.editor.fire("cancel:dialog",{command:n,dialogContainer:o,commandLink:t}),r=void 0,i._preventInstantFocus()}),e.on("hide",function(){i.editor.fire("hide:dialog",{command:n,dialogContainer:o,commandLink:t}),r=void 0})),e},execCommand:function(e,t){this.commandsDisabled||this._execCommand(e,t)},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&(t.currentView===t.textarea||"source"===t.currentView?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var o=this,e=this.editor,t=this.container,n=this.commandLinks.concat(this.actionLinks),r=n.length,i=0;i<r;i++)"A"===n[i].nodeName?h.setAttributes({href:"javascript:;",unselectable:"on"}).on(n[i]):h.setAttributes({unselectable:"on"}).on(n[i]);h.delegate(t,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),h.delegate(t,"[data-wysihtml5-command]","click",function(e){var t,n=this.getAttribute("data-wysihtml5-command"),r=this.getAttribute("data-wysihtml5-command-value"),i=o.commandMapping[n+":"+r];r||!i.dialog?o.execCommand(n,r):(t=f(o.composer,i),i.dialog.show(t)),e.preventDefault()}),h.delegate(t,"[data-wysihtml5-action]","click",function(e){var t=this.getAttribute("data-wysihtml5-action");o.execAction(t),e.preventDefault()}),e.on("interaction:composer",function(e){o.preventFocus||o._updateLinkStates()}),this._ownerDocumentClick=function(e){d.dom.contains(o.container,e.target)||d.dom.contains(o.composer.element,e.target)||(o._updateLinkStates(),o._preventInstantFocus())},this.container.ownerDocument.addEventListener("click",this._ownerDocumentClick,!1),this.editor.on("destroy:composer",this.destroy.bind(this)),this.editor.config.handleTables&&(e.on("tableselect:composer",function(){o.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),e.on("tableunselect:composer",function(){o.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),e.on("change_view",function(e){setTimeout(function(){o.commandsDisabled="composer"!==e,o._updateLinkStates(),o.commandsDisabled?h.addClass(t,a):h.removeClass(t,a)},0)})},destroy:function(){this.container.ownerDocument.removeEventListener("click",this._ownerDocumentClick,!1)},_hideAllDialogs:function(){var e=this.commandMapping;for(var t in e)e[t].dialog&&e[t].dialog.hide()},_preventInstantFocus:function(){this.preventFocus=!0,setTimeout(function(){this.preventFocus=!1}.bind(this),0)},_updateLinkStates:function(){var e,t,n,r,i,o=this.commandMapping,a=this.composer,s=this.actionMapping;for(e in o)r=o[e],this.commandsDisabled?(t=!1,h.removeClass(r.link,c),r.group&&h.removeClass(r.group,c),r.dialog&&r.dialog.hide()):(t=this.composer.commands.state(r.name,r.value),h.removeClass(r.link,l),r.group&&h.removeClass(r.group,l)),r.state===t&&!r.tracksBlankValue||((r.state=t)?r.tracksBlankValue?h.removeClass(r.link,c):(h.addClass(r.link,c),r.group&&h.addClass(r.group,c),!r.dialog||void 0!==r.value&&null!==r.value||(t&&"object"==typeof t?(t=f(a,r),r.state=t,i=!!r.dialog.container.dataset&&r.dialog.container.dataset.showdialogonselection,a.config.showToolbarDialogsOnSelection||i?r.dialog.show(t):r.dialog.update(t)):r.dialog.hide())):r.tracksBlankValue?h.addClass(r.link,c):(h.removeClass(r.link,c),r.group&&h.removeClass(r.group,c),r.dialog&&!r.value&&r.dialog.hide()));for(e in s)"change_view"===(n=s[e]).name&&(n.state=this.editor.currentView===this.editor.textarea||"source"===this.editor.currentView,n.state?h.addClass(n.link,u):h.removeClass(n.link,u))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),wysihtml5.toolbar.Dialog_createTable=wysihtml5.toolbar.Dialog.extend({show:function(e){this.base(e)}}),function(d){var h="[data-wysihtml5-dialog-field]",f="data-wysihtml5-dialog-field";d.toolbar.Dialog_foreColorStyle=d.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},t=this.container.querySelectorAll(h),n=t.length,r=0;r<n;r++)e[t[r].getAttribute(f)]=t[r].value;return e},_interpolate:function(e){for(var t,n,r=d.quirks.styleParser,i=document.querySelector(":focus"),o=this.container.querySelectorAll(h),a=o.length,s=0,l=this.elementToChange?d.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,c=l?l.getAttribute("style"):null,u=c?r.parseColor(c,"color"):null;s<a;s++)(t=o[s])!==i&&(e&&"hidden"===t.type||"color"===t.getAttribute(f)&&(n="hex"===(n=(t.dataset.colormode||"rgb").toLowerCase())?"hash":n,t.value=u?r.unparseColor(u,n):r.unparseColor([0,0,0],n)))}})}(wysihtml5),function(a){a.dom;a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(e){var t=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),r=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,i=r?r.getAttribute("style"):null,o=i?a.quirks.styleParser.parseFontSize(i):null;n&&n!==t&&o&&!/^\s*$/.test(o)&&(n.value=o)}})}(wysihtml5),function o(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};a[n][0].call(i.exports,function(e){var t=a[n][1][e];return c(t||e)},i,i.exports,o,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){var r,i=e("./svg-pan-zoom.js");r=window,document,"function"==typeof define&&define.amd?define("svg-pan-zoom",function(){return i}):void 0!==t&&t.exports&&(t.exports=i,r.svgPanZoom=i)},{"./svg-pan-zoom.js":4}],2:[function(e,t,n){var o=e("./svg-utilities");t.exports={enable:function(e){var t=e.svg.querySelector("defs");if(t||(t=document.createElementNS(o.svgNS,"defs"),e.svg.appendChild(t)),!t.querySelector("style#svg-pan-zoom-controls-styles")){var n=document.createElementNS(o.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(n)}var r=document.createElementNS(o.svgNS,"g");r.setAttribute("id","svg-pan-zoom-controls"),r.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),r.setAttribute("class","svg-pan-zoom-control"),r.appendChild(this._createZoomIn(e)),r.appendChild(this._createZoomReset(e)),r.appendChild(this._createZoomOut(e)),e.svg.appendChild(r),e.controlIcons=r},_createZoomIn:function(e){var t=document.createElementNS(o.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomIn()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(o.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},_createZoomReset:function(e){var t=document.createElementNS(o.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().reset()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().reset()},!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(o.svgNS,"path");r.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r);var i=document.createElementNS(o.svgNS,"path");return i.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),i.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(i),t},_createZoomOut:function(e){var t=document.createElementNS(o.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomOut()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(o.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(o.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}}},{"./svg-utilities":5}],3:[function(e,t,n){function r(e,t){this.init(e,t)}var i=e("./svg-utilities"),a=e("./utilities");r.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=a.proxy(this.updateCTM,this),this.requestAnimationFrame=a.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},r.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter(function(e){return e}).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},r.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height},r.prototype.getViewBox=function(){return a.extend({},this.viewBox)},r.prototype.processCTM=function(){var e,t=this.getCTM();(this.options.fit||this.options.contain)&&(e=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),t.a=e,t.d=e,t.e=-this.viewBox.x*e,t.f=-this.viewBox.y*e);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*t.a),r=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*t.a);t.e=n,t.f=r}return this.originalState.zoom=t.a,this.originalState.x=t.e,this.originalState.y=t.f,t},r.prototype.getOriginalState=function(){return a.extend({},this.originalState)},r.prototype.getState=function(){return a.extend({},this.activeState)},r.prototype.getZoom=function(){return this.activeState.zoom},r.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},r.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom},r.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},r.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e},r.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))?(e.a=e.d=this.activeState.zoom,t=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),n){var r=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),i=!1,o=!1;!1===r?(e.e=this.getPan().x,e.f=this.getPan().y,i=o=!0):a.isObject(r)&&(!1===r.x?(e.e=this.getPan().x,i=!0):a.isNumber(r.x)&&(e.e=r.x),!1===r.y?(e.f=this.getPan().y,o=!0):a.isNumber(r.y)&&(e.f=r.y)),i&&o||!this.isPanDifferent(e)?n=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(t||n)&&this.updateCTMOnNextFrame()}},r.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a},r.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f},r.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f},r.prototype.pendingUpdate=!1,r.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},r.prototype.updateCTM=function(){var e=this.getCTM();i.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)},t.exports=function(e,t){return new r(e,t)}},{"./svg-utilities":5,"./utilities":7}],4:[function(e,t,n){function i(e,t){this.init(e,t)}var r=e("./uniwheel"),o=e("./control-icons"),a=e("./utilities"),s=e("./svg-utilities"),l=e("./shadow-viewport"),c={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null};i.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),s.setupSvgAttributes(this.svg),this.options=a.extend(a.extend({},c),t),this.state="none";var r=s.getBoundingClientRectNormalized(e);this.width=r.width,this.height=r.height,this.viewport=l(s.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(e,t){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(e,t)},onZoom:function(e){if(n.viewport&&n.options.onZoom)return n.options.onZoom(e)},beforePan:function(e,t){if(n.viewport&&n.options.beforePan)return n.options.beforePan(e,t)},onPan:function(e){if(n.viewport&&n.options.onPan)return n.options.onPan(e)},onUpdatedCTM:function(e){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(e)}});var i=this.getPublicInstance();i.setBeforeZoom(this.options.beforeZoom),i.setOnZoom(this.options.onZoom),i.setBeforePan(this.options.beforePan),i.setOnPan(this.options.onPan),i.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&o.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},i.prototype.setupHandlers=function(){var n=this,r=null;if(this.eventListeners={mousedown:function(e){var t=n.handleMouseDown(e,r);return r=e,t},touchstart:function(e){var t=n.handleMouseDown(e,r);return r=e,t},mouseup:function(e){return n.handleMouseUp(e)},touchend:function(e){return n.handleMouseUp(e)},mousemove:function(e){return n.handleMouseMove(e)},touchmove:function(e){return n.handleMouseMove(e)},mouseleave:function(e){return n.handleMouseUp(e)},touchleave:function(e){return n.handleMouseUp(e)},touchcancel:function(e){return n.handleMouseUp(e)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var e=this.options.customEventsHandler.haltEventListeners;if(e&&e.length)for(var t=e.length-1;0<=t;t--)this.eventListeners.hasOwnProperty(e[t])&&delete this.eventListeners[e[t]]}for(var i in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(i,this.eventListeners[i],!1);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},i.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var t=this;this.wheelListener=function(e){return t.handleMouseWheel(e)},r.on(this.options.eventsListenerElement||this.svg,this.wheelListener,!1),this.options.mouseWheelZoomEnabled=!0}},i.prototype.disableMouseWheelZoom=function(){this.options.mouseWheelZoomEnabled&&(r.off(this.options.eventsListenerElement||this.svg,this.wheelListener,!1),this.options.mouseWheelZoomEnabled=!1)},i.prototype.handleMouseWheel=function(e){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,r=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&0===e.deltaMode&&e.wheelDelta&&(t=0===e.deltaY?0:Math.abs(e.wheelDelta)/e.deltaY),t=-.3<t&&t<.3?t:(0<t?1:-1)*Math.log(Math.abs(t)+10)/r;var i=this.svg.getScreenCTM().inverse(),o=s.getEventPoint(e,this.svg).matrixTransform(i),a=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(a,o)}},i.prototype.zoomAtPoint=function(e,t,n){var r=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*r.zoom,Math.min(this.options.maxZoom*r.zoom,e)),e/=this.getZoom()):this.getZoom()*e<this.options.minZoom*r.zoom?e=this.options.minZoom*r.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*r.zoom&&(e=this.options.maxZoom*r.zoom/this.getZoom());var i=this.viewport.getCTM(),o=t.matrixTransform(i.inverse()),a=this.svg.createSVGMatrix().translate(o.x,o.y).scale(e).translate(-o.x,-o.y),s=i.multiply(a);s.a!==i.a&&this.viewport.setCTM(s)},i.prototype.zoom=function(e,t){this.zoomAtPoint(e,s.getSvgCenterPoint(this.svg,this.width,this.height),t)},i.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)},i.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),"SVGPoint"!==a.getType(t)){if(!("x"in t&&"y"in t))throw new Error("Given point is invalid");t=s.createSVGPoint(this.svg,t.x,t.y)}this.zoomAtPoint(e,t,n)},i.prototype.getZoom=function(){return this.viewport.getZoom()},i.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},i.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom},i.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)},i.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},i.prototype.reset=function(){this.resetZoom(),this.resetPan()},i.prototype.handleDblClick=function(e){var t;if((this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled)&&-1<(e.target.getAttribute("class")||"").indexOf("svg-pan-zoom-control"))return!1;t=e.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var n=s.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(t,n)},i.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),a.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&a.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=s.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))},i.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var t=s.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}},i.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&(this.state="none")},i.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)},i.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)},i.prototype.center=function(){var e=this.viewport.getViewBox(),t=.5*(this.width-(e.width+2*e.x)*this.getZoom()),n=.5*(this.height-(e.height+2*e.y)*this.getZoom());this.getPublicInstance().pan({x:t,y:n})},i.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},i.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)},i.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)},i.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}},i.prototype.resize=function(){var e=s.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var t=this.viewport;t.options.width=this.width,t.options.height=this.height,t.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},i.prototype.destroy=function(){var t=this;for(var e in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,(this.onUpdatedCTM=null)!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(e,this.eventListeners[e],!1);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),u=u.filter(function(e){return e.svg!==t.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},i.prototype.getPublicInstance=function(){var n=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return n.options.panEnabled=!0,n.pi},disablePan:function(){return n.options.panEnabled=!1,n.pi},isPanEnabled:function(){return!!n.options.panEnabled},pan:function(e){return n.pan(e),n.pi},panBy:function(e){return n.panBy(e),n.pi},getPan:function(){return n.getPan()},setBeforePan:function(e){return n.options.beforePan=null===e?null:a.proxy(e,n.publicInstance),n.pi},setOnPan:function(e){return n.options.onPan=null===e?null:a.proxy(e,n.publicInstance),n.pi},enableZoom:function(){return n.options.zoomEnabled=!0,n.pi},disableZoom:function(){return n.options.zoomEnabled=!1,n.pi},isZoomEnabled:function(){return!!n.options.zoomEnabled},enableControlIcons:function(){return n.options.controlIconsEnabled||(n.options.controlIconsEnabled=!0,o.enable(n)),n.pi},disableControlIcons:function(){return n.options.controlIconsEnabled&&(n.options.controlIconsEnabled=!1,o.disable(n)),n.pi},isControlIconsEnabled:function(){return!!n.options.controlIconsEnabled},enableDblClickZoom:function(){return n.options.dblClickZoomEnabled=!0,n.pi},disableDblClickZoom:function(){return n.options.dblClickZoomEnabled=!1,n.pi},isDblClickZoomEnabled:function(){return!!n.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return n.enableMouseWheelZoom(),n.pi},disableMouseWheelZoom:function(){return n.disableMouseWheelZoom(),n.pi},isMouseWheelZoomEnabled:function(){return!!n.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){return n.options.zoomScaleSensitivity=e,n.pi},setMinZoom:function(e){return n.options.minZoom=e,n.pi},setMaxZoom:function(e){return n.options.maxZoom=e,n.pi},setBeforeZoom:function(e){return n.options.beforeZoom=null===e?null:a.proxy(e,n.publicInstance),n.pi},setOnZoom:function(e){return n.options.onZoom=null===e?null:a.proxy(e,n.publicInstance),n.pi},zoom:function(e){return n.publicZoom(e,!0),n.pi},zoomBy:function(e){return n.publicZoom(e,!1),n.pi},zoomAtPoint:function(e,t){return n.publicZoomAtPoint(e,t,!0),n.pi},zoomAtPointBy:function(e,t){return n.publicZoomAtPoint(e,t,!1),n.pi},zoomIn:function(){return this.zoomBy(1+n.options.zoomScaleSensitivity),n.pi},zoomOut:function(){return this.zoomBy(1/(1+n.options.zoomScaleSensitivity)),n.pi},getZoom:function(){return n.getRelativeZoom()},setOnUpdatedCTM:function(e){return n.options.onUpdatedCTM=null===e?null:a.proxy(e,n.publicInstance),n.pi},resetZoom:function(){return n.resetZoom(),n.pi},resetPan:function(){return n.resetPan(),n.pi},reset:function(){return n.reset(),n.pi},fit:function(){return n.fit(),n.pi},contain:function(){return n.contain(),n.pi},center:function(){return n.center(),n.pi},updateBBox:function(){return n.updateBBox(),n.pi},resize:function(){return n.resize(),n.pi},getSizes:function(){return{width:n.width,height:n.height,realZoom:n.getZoom(),viewBox:n.viewport.getViewBox()}},destroy:function(){return n.destroy(),n.pi}}),this.publicInstance};var u=[];t.exports=function(e,t){var n=a.getSvg(e);if(null===n)return null;for(var r=u.length-1;0<=r;r--)if(u[r].svg===n)return u[r].instance.getPublicInstance();return u.push({svg:n,instance:new i(n,t)}),u[u.length-1].instance.getPublicInstance()}},{"./control-icons":2,"./shadow-viewport":3,"./svg-utilities":5,"./uniwheel":6,"./utilities":7}],5:[function(e,t,n){var l=e("./utilities"),o="unknown";document.documentMode&&(o="ie"),t.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(!(n=l.isElement(t)?t:e.querySelector(t))){var r=Array.prototype.slice.call(e.childNodes||e.children).filter(function(e){return"defs"!==e.nodeName&&"#text"!==e.nodeName});1===r.length&&"g"===r[0].nodeName&&null===r[0].getAttribute("transform")&&(n=r[0])}if(!n){var i="viewport-"+(new Date).toISOString().replace(/\D/g,"");(n=document.createElementNS(this.svgNS,"g")).setAttribute("id",i);var o=e.childNodes||e.children;if(o&&0<o.length)for(var a=o.length;0<a;a--)"defs"!==o[o.length-a].nodeName&&n.appendChild(o[o.length-a]);e.appendChild(n)}var s=[];return n.getAttribute("class")&&(s=n.getAttribute("class").split(" ")),~s.indexOf("svg-pan-zoom_viewport")||(s.push("svg-pan-zoom_viewport"),n.setAttribute("class",s.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==e.parentNode){var t=e.getAttribute("style")||"";-1===t.toLowerCase().indexOf("overflow")&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:l.throttle(function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;n<t;n++){var r=e[n];r.parentNode.insertBefore(r,r)}},this.internetExplorerRedisplayInterval),setCTM:function(e,t,n){var r=this,i="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",i),"transform"in e.style?e.style.transform=i:"-ms-transform"in e.style?e.style["-ms-transform"]=i:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=i),"ie"===o&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout(function(){r.refreshDefsGlobal()},r.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return l.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var r=e.createSVGPoint();return r.x=t,r.y=n,r}}},{"./utilities":7}],6:[function(e,t,n){function o(e,n,t){function r(e){var t={originalEvent:e=e||window.event,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==l?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail,n(t)}return u.push({element:e,fn:r,capture:t}),r}function r(e,t,n,r){var i;i="wheel"===l?n:o(e,n,r),e[a](c+t,i,r||!1)}function i(e,t,n,r){var i;i="wheel"===l?n:function(e,t){for(var n=0;n<u.length;n++)if(u[n].element===e&&u[n].capture===t)return u[n].fn;return function(){}}(e,r),e[s](c+t,i,r||!1),function(e,t){for(var n=0;n<u.length;n++)if(u[n].element===e&&u[n].capture===t)return u.splice(n,1)}(e,r)}var a,s,l,c,u;t.exports=(c="",u=[],window.addEventListener?(a="addEventListener",s="removeEventListener"):(a="attachEvent",s="detachEvent",c="on"),l="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:function(e,t,n){r(e,l,t,n),"DOMMouseScroll"==l&&r(e,"MozMousePixelScroll",t,n)},off:function(e,t,n){i(e,l,t,n),"DOMMouseScroll"==l&&i(e,"MozMousePixelScroll",t,n)}})},{}],7:[function(e,t,n){function r(t){return function(e){window.setTimeout(e,t)}}t.exports={extend:function(e,t){for(var n in e=e||{},t)this.isObject(t[n])?e[n]=this.extend(e[n],t[n]):e[n]=t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else{if(!("string"==typeof e||e instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(!(t=document.querySelector(e)))throw new Error("Provided selector did not find any elements. Selector: "+e)}if("svg"===t.tagName.toLowerCase())n=t;else if("object"===t.tagName.toLowerCase())n=t.contentDocument.documentElement;else{if("embed"!==t.tagName.toLowerCase())throw"img"===t.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=t.getSVGDocument().documentElement}return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(void 0===e.clientX||null===e.clientX)if(e.clientX=0,void(e.clientY=0)!==e.touches&&e.touches.length){if(void 0!==e.touches[0].clientX)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(void 0!==e.touches[0].pageX){var n=t.getBoundingClientRect();e.clientX=e.touches[0].pageX-n.left,e.clientY=e.touches[0].pageY-n.top}}else void 0!==e.originalEvent&&void 0!==e.originalEvent.clientX&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},isDblClick:function(e,t){if(2===e.detail)return!0;if(null==t)return!1;var n=e.timeStamp-t.timeStamp,r=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return n<250&&r<10},now:Date.now||function(){return(new Date).getTime()},throttle:function(n,r,i){var o,a,s,l=this,c=null,u=0;i=i||{};function d(){u=!1===i.leading?0:l.now(),c=null,s=n.apply(o,a),c||(o=a=null)}return function(){var e=l.now();u||!1!==i.leading||(u=e);var t=r-(e-u);return o=this,a=arguments,t<=0||r<t?(clearTimeout(c),c=null,u=e,s=n.apply(o,a),c||(o=a=null)):c||!1===i.trailing||(c=setTimeout(d,t)),s}},createRequestAnimationFrame:function(e){var t=null;return"auto"!==e&&e<60&&1<e&&(t=Math.floor(1e3/e)),null===t?window.requestAnimationFrame||r(33):r(t)}}},{}]},{},[1]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],t):t((e=e||self)["@uirouter/angularjs"]={},e.angular)}(this,function(m,e){"use strict";ci.$inject=["state"];var t=angular,E=e&&e.module?e:t;function l(n){var e=[].slice.apply(arguments,[1]),r=n.length;return function e(t){return t.length>=r?n.apply(null,t):function(){return e(t.concat([].slice.apply(arguments)))}}(e)}function n(){var n=arguments,r=n.length-1;return function(){for(var e=r,t=n[r].apply(this,arguments);e--;)t=n[e].call(this,t);return t}}function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,[].slice.call(arguments).reverse())}var b=function(t){return function(e){return e&&e[t]}},g=l(function(e,t,n){return n&&n[e]===t}),_=function(e){return c.apply(null,e.split(".").map(b))},d=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!n.apply(null,e)}};function r(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)&&r.apply(null,e)}}function i(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(null,e)||r.apply(null,e)}}function o(t){return function(e){return t===e}}var u=function(n){return function(e){return e.reduce(function(e,t){return e&&!!n(t)},!0)}},h=function(n){return function(e){return e.reduce(function(e,t){return e||!!n(t)},!1)}},f=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},p=function(e){return function(){return e}};function a(t,n){return function(e){return e[t].apply(e,n)}}function v(n){return function(e){for(var t=0;t<n.length;t++)if(n[t][0](e))return n[t][1](e)}}function s(t){return function(e){return typeof e===t}}function y(e){return null===e}var w=Object.prototype.toString,C=s("undefined"),$=d(C),x=i(y,C),S=s("function"),A=s("number"),k=s("string"),T=function(e){return null!==e&&"object"==typeof e},M=Array.isArray,N=function(e){return"[object Date]"===w.call(e)},P=function(e){return"[object RegExp]"===w.call(e)};function R(e){if(M(e)&&e.length){var t=e.slice(0,-1),n=e.slice(-1);return!(t.filter(d(k)).length||n.filter(d(S)).length)}return S(e)}function D(r,e){return e.reduce(function(e,t){return e[t]=(n=r+"."+t+"()",function(){throw new Error("No implementation for "+n+". The framework specific code did not implement this method.")}),e;var n},{})}var O=r(T,c(b("then"),S)),I={$q:void 0,$injector:void 0},L="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,F=L.angular||{},H=F.fromJson||JSON.parse.bind(JSON),j=F.toJson||JSON.stringify.bind(JSON),B=F.forEach||function(t,n,e){if(M(t))return t.forEach(n,e);Object.keys(t).forEach(function(e){return n(t[e],e)})},U=Object.assign||ke,q=F.equals||Te;function z(e){return e}function V(){}function W(t,r,n,e,i){void 0===i&&(i=!1);function o(e){return t()[e].bind(n())}return(e=e||Object.keys(t())).reduce(function(e,t){var n;return e[t]=i?(n=t,function(){return r[n]=o(n),r[n].apply(null,arguments)}):o(t),e},r)}var G=function(e,t){return U(Object.create(e),t)},Y=l(K);function K(e,t){return-1!==e.indexOf(t)}var X=l(Q);function Q(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),e}var Z=l(J);function J(e,t){return e.push(t),t}function ee(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),X(t,e)})}function te(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=U.apply(void 0,[{}].concat(t.reverse()));return U(r,ie(e||{},Object.keys(r)))}function ne(e,t){return U(e,t)}function re(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function ie(e,t){var n={};for(var r in e)-1!==t.indexOf(r)&&(n[r]=e[r]);return n}function oe(n,e){return Object.keys(n).filter(d(Y(e))).reduce(function(e,t){return e[t]=n[t],e},{})}function ae(e,t){return ue(e,b(t))}function se(e,n){var t=M(e),r=t?[]:{},i=t?function(e){return r.push(e)}:function(e,t){return r[t]=e};return B(e,function(e,t){n(e,t)&&i(e,t)}),r}function le(e,n){var r;return B(e,function(e,t){r||n(e,t)&&(r=e)}),r}var ce=ue;function ue(e,n,r){return r=r||(M(e)?[]:{}),B(e,function(e,t){return r[t]=n(e,t)}),r}function de(t){return Object.keys(t).map(function(e){return t[e]})}function he(e,t){return e&&t}function fe(e,t){return e||t}var pe=function(e,t){return e.concat(t)},me=function(e,t){return M(t)?e.concat(t.reduce(me,[])):ge(e,t)};function ge(e,t){return e.push(t),e}function ve(e,t){return Y(e,t)?e:ge(e,t)}function ye(e){return e.reduce(pe,[])}function be(e){return e.reduce(me,[])}var we=xe,Ce=xe;function xe(n,r){return void 0===r&&(r="assert failure"),function(e){var t=n(e);if(!t)throw new Error(S(r)?r(e):r);return t}}function Ee(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function _e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return[];for(var n=e.reduce(function(e,t){return Math.min(t.length,e)},9007199254740991),r=[],i=function(t){switch(e.length){case 1:r.push([e[0][t]]);break;case 2:r.push([e[0][t],e[1][t]]);break;case 3:r.push([e[0][t],e[1][t],e[2][t]]);break;case 4:r.push([e[0][t],e[1][t],e[2][t],e[3][t]]);break;default:r.push(e.map(function(e){return e[t]}))}},o=0;o<n;o++)i(o);return r}function $e(e,t){var n,r;if(M(t)&&(n=t[0],r=t[1]),!k(n))throw new Error("invalid parameters to applyPairs");return e[n]=r,e}function Se(e){return e.length&&e[e.length-1]||void 0}function Ae(e,t){return t&&Object.keys(t).forEach(function(e){return delete t[e]}),U(t=t||{},e)}function ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r=Object.keys(n),i=0;i<r.length;i++)e[r[i]]=n[r[i]]}return e}function Te(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n=typeof e;if(n!=typeof t||"object"!=n)return!1;var r,i,o=[e,t];if(u(M)(o))return i=t,(r=e).length===i.length&&_e(r,i).reduce(function(e,t){return e&&Te(t[0],t[1])},!0);if(u(N)(o))return e.getTime()===t.getTime();if(u(P)(o))return e.toString()===t.toString();if(u(S)(o))return!0;if([S,M,N,P].map(h).reduce(function(e,t){return e||!!t(o)},!1))return!1;var a={};for(var s in e){if(!Te(e[s],t[s]))return!1;a[s]=!0}for(var s in t)if(!a[s])return!1;return!0}function Me(e){return e.catch(function(e){return 0})&&e}function Ne(e){return Me(I.$q.reject(e))}var Pe=(Re.is=function(e){return!!/[!,*]+/.exec(e)},Re.fromString=function(e){return Re.is(e)?new Re(e):null},Re.prototype.matches=function(e){return this.regexp.test("."+e)},Re);function Re(e){this.text=e,this.glob=e.split(".");var t=this.text.split(".").map(function(e){return"**"===e?"(?:|(?:\\.[^.]*)*)":"*"===e?"\\.[^.]*":"\\."+e}).join("");this.regexp=new RegExp("^"+t+"$")}var De,Oe=(Ie.prototype.enqueue=function(e){var t=this._items;return t.push(e),this._limit&&t.length>this._limit&&this.evict(),e},Ie.prototype.evict=function(){var t=this._items.shift();return this._evictListeners.forEach(function(e){return e(t)}),t},Ie.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},Ie.prototype.clear=function(){var e=this._items;return this._items=[],e},Ie.prototype.size=function(){return this._items.length},Ie.prototype.remove=function(e){var t=this._items.indexOf(e);return-1<t&&this._items.splice(t,1)[0]},Ie.prototype.peekTail=function(){return this._items[this._items.length-1]},Ie.prototype.peekHead=function(){if(this.size())return this._items[0]},Ie);function Ie(e,t){void 0===e&&(e=[]),void 0===t&&(t=null),this._items=e,this._limit=t,this._evictListeners=[],this.onEvict=Z(this._evictListeners)}(De=m.RejectType||(m.RejectType={}))[De.SUPERSEDED=2]="SUPERSEDED",De[De.ABORTED=3]="ABORTED",De[De.INVALID=4]="INVALID",De[De.IGNORED=5]="IGNORED",De[De.ERROR=6]="ERROR";var Le=0,Fe=(He.isRejectionPromise=function(e){return e&&"function"==typeof e.then&&f(He)(e._transitionRejection)},He.superseded=function(e,t){var n=new He(m.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",e);return t&&t.redirected&&(n.redirected=!0),n},He.redirected=function(e){return He.superseded(e,{redirected:!0})},He.invalid=function(e){return new He(m.RejectType.INVALID,"This transition is invalid",e)},He.ignored=function(e){return new He(m.RejectType.IGNORED,"The transition was ignored",e)},He.aborted=function(e){return new He(m.RejectType.ABORTED,"The transition has been aborted",e)},He.errored=function(e){return new He(m.RejectType.ERROR,"The transition errored",e)},He.normalize=function(e){return f(He)(e)?e:He.errored(e)},He.prototype.toString=function(){var e,t=(e=this.detail)&&e.toString!==Object.prototype.toString?e.toString():Ge(e);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+t+")"},He.prototype.toPromise=function(){return U(Ne(this),{_transitionRejection:this})},He);function He(e,t,n){this.$id=Le++,this.type=e,this.message=t,this.detail=n}function je(e,t){return t.length<=e?t:t.substr(0,e-3)+"..."}function Be(e,t){for(;t.length<e;)t+=" ";return t}function Ue(e){return e.replace(/^([A-Z])/,function(e){return e.toLowerCase()}).replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function qe(e){var t=ze(e),n=t.match(/^(function [^ ]+\([^)]*\))/),r=n?n[1]:t,i=e.name||"";return i&&r.match(/function \(/)?"function "+i+r.substr(9):r}function ze(e){var t=M(e)?e.slice(-1)[0]:e;return t&&t.toString()||"undefined"}var Ve=Fe.isRejectionPromise,We=v([[C,p("undefined")],[y,p("null")],[O,p("[Promise]")],[Ve,function(e){return e._transitionRejection.toString()}],[function(e){return T(e)&&!M(e)&&e.constructor!==Object&&S(e.toString)},function(e){return e.toString()}],[R,qe],[p(!0),z]]);function Ge(e){var t=[];function n(e){if(T(e)){if(-1!==t.indexOf(e))return"[circular ref]";t.push(e)}return We(e)}return C(e)?n(e):JSON.stringify(e,function(e,t){return n(t)}).replace(/\\"/g,'"')}function Ye(n){return function(e){if(!e)return["",""];var t=e.indexOf(n);return-1===t?[e,""]:[e.substr(0,t),e.substr(t+1)]}}function Ke(e){return e.replace(/\/[^/]*$/,"")}function Xe(e){return e?e.replace(/^#/,""):""}var Qe=new RegExp("^(?:[a-z]+:)?//[^/]+/"),Ze=Ye("#"),Je=Ye("?"),et=Ye("=");function tt(e){var t=new RegExp("("+e+")","g");return function(e){return e.split(t).filter(z)}}function nt(e,t){return k(Se(e))&&k(t)?e.slice(0,-1).concat(Se(e)+t):ge(e,t)}function rt(e){if(!e)return"ui-view (defunct)";var t=e.creationContext?e.creationContext.name||"(root)":"(none)";return"[ui-view#"+e.id+" "+e.$type+":"+e.fqn+" ("+e.name+"@"+t+")]"}function it(e){return A(e)?m.Category[e]:m.Category[m.Category[e]]}var ot,at=Function.prototype.bind.call(console.log,console),st=S(console.table)?console.table.bind(console):at.bind(console);(ot=m.Category||(m.Category={}))[ot.RESOLVE=0]="RESOLVE",ot[ot.TRANSITION=1]="TRANSITION",ot[ot.HOOK=2]="HOOK",ot[ot.UIVIEW=3]="UIVIEW",ot[ot.VIEWCONFIG=4]="VIEWCONFIG";function lt(e){return"Transition #"+ct(e)+"-"+ut(e)}var ct=_("$id"),ut=_("router.$id"),dt=(ht.prototype._set=function(t,e){var n=this;e.length||(e=Object.keys(m.Category).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}).map(function(e){return m.Category[e]})),e.map(it).forEach(function(e){return n._enabled[e]=t})},ht.prototype.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!0,e)},ht.prototype.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._set(!1,e)},ht.prototype.enabled=function(e){return!!this._enabled[it(e)]},ht.prototype.traceTransitionStart=function(e){this.enabled(m.Category.TRANSITION)&&console.log(lt(e)+": Started  -> "+Ge(e))},ht.prototype.traceTransitionIgnored=function(e){this.enabled(m.Category.TRANSITION)&&console.log(lt(e)+": Ignored  <> "+Ge(e))},ht.prototype.traceHookInvocation=function(e,t,n){if(this.enabled(m.Category.HOOK)){var r=_("traceData.hookType")(n)||"internal",i=_("traceData.context.state.name")(n)||_("traceData.context")(n)||"unknown",o=qe(e.registeredHook.callback);console.log(lt(t)+":   Hook -> "+r+" context: "+i+", "+je(200,o))}},ht.prototype.traceHookResult=function(e,t,n){this.enabled(m.Category.HOOK)&&console.log(lt(t)+":   <- Hook returned: "+je(200,Ge(e)))},ht.prototype.traceResolvePath=function(e,t,n){this.enabled(m.Category.RESOLVE)&&console.log(lt(n)+":         Resolving "+e+" ("+t+")")},ht.prototype.traceResolvableResolved=function(e,t){this.enabled(m.Category.RESOLVE)&&console.log(lt(t)+":               <- Resolved  "+e+" to: "+je(200,Ge(e.data)))},ht.prototype.traceError=function(e,t){this.enabled(m.Category.TRANSITION)&&console.log(lt(t)+": <- Rejected "+Ge(t)+", reason: "+e)},ht.prototype.traceSuccess=function(e,t){this.enabled(m.Category.TRANSITION)&&console.log(lt(t)+": <- Success  "+Ge(t)+", final state: "+e.name)},ht.prototype.traceUIViewEvent=function(e,t,n){void 0===n&&(n=""),this.enabled(m.Category.UIVIEW)&&console.log("ui-view: "+Be(30,e)+" "+rt(t)+n)},ht.prototype.traceUIViewConfigUpdated=function(e,t){this.enabled(m.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+t+"'")},ht.prototype.traceUIViewFill=function(e,t){this.enabled(m.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+je(200,t))},ht.prototype.traceViewSync=function(e){if(this.enabled(m.Category.VIEWCONFIG)){var a="uiview component fqn",t=e.map(function(e){var t,n=e.uiView,r=e.viewConfig,i=n&&n.fqn,o=r&&r.viewDecl.$context.name+": ("+r.viewDecl.$name+")";return(t={})[a]=i,t["view config state (view name)"]=o,t}).sort(function(e,t){return(e[a]||"").localeCompare(t[a]||"")});st(t)}},ht.prototype.traceViewServiceEvent=function(e,t){var n,r,i;this.enabled(m.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+(r=(n=t).viewDecl,i=r.$context.name||"(root)","[View#"+n.$id+" from '"+i+"' state]: target ui-view: '"+r.$uiViewName+"@"+r.$uiViewContextAnchor+"'"))},ht.prototype.traceViewServiceUIViewEvent=function(e,t){this.enabled(m.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+rt(t))},ht);function ht(){this._enabled={},this.approximateDigests=0}var ft=new dt,pt=(mt.prototype.is=function(e,t){return!0},mt.prototype.encode=function(e,t){return e},mt.prototype.decode=function(e,t){return e},mt.prototype.equals=function(e,t){return e==t},mt.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},mt.prototype.toString=function(){return"{ParamType:"+this.name+"}"},mt.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},mt.prototype.$asArray=function(e,t){if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new gt(this,e)},mt);function mt(e){this.pattern=/.*/,this.inherit=!0,U(this,e)}function gt(r,i){var o=this;function a(e){return M(e)?e:$(e)?[e]:[]}function s(n,r){return function(e){if(M(e)&&0===e.length)return e;var t=ue(a(e),n);return!0===r?0===se(t,function(e){return!e}).length:function(e){switch(e.length){case 0:return;case 1:return"auto"===i?e[0]:e;default:return e}}(t)}}function l(o){return function(e,t){var n=a(e),r=a(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!o(n[i],r[i]))return!1;return!0}}["encode","decode","equals","$normalize"].forEach(function(e){var t=r[e].bind(r),n="equals"===e?l:s;o[e]=n(t)}),U(this,{dynamic:r.dynamic,name:r.name,pattern:r.pattern,inherit:r.inherit,raw:r.raw,is:s(r.is.bind(r),!0),$arrayMode:i})}var vt,yt=Object.prototype.hasOwnProperty,bt=function(e){return 0===["value","type","squash","array","dynamic"].filter(yt.bind(e||{})).length};function wt(e,t,n){var r=!1===n.reloadOnSearch&&t===m.DefType.SEARCH||void 0,i=le([n.dynamic,r],$),o=$(i)?{dynamic:i}:{},a=function(e){function t(){return e.value}e=bt(e)?{value:e}:e,t.__cacheable=!0;var n=R(e.value)?e.value:t;return U(e,{$$fn:n})}(n&&n.params&&n.params[e]);return U(o,a)}(vt=m.DefType||(m.DefType={}))[vt.PATH=0]="PATH",vt[vt.SEARCH=1]="SEARCH",vt[vt.CONFIG=2]="CONFIG";var Ct=(xt.values=function(e,t){void 0===t&&(t={});for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];n[o.id]=o.value(t[o.id])}return n},xt.changed=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),e.filter(function(e){return!e.type.equals(t[e.id],n[e.id])})},xt.equals=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),0===xt.changed(e,t,n).length},xt.validates=function(e,t){return void 0===t&&(t={}),e.map(function(e){return e.validates(t[e.id])}).reduce(he,!0)},xt.prototype.isDefaultValue=function(e){return this.isOptional&&this.type.equals(this.value(),e)},xt.prototype.value=function(e){var i=this;return e=function(e){for(var t=0,n=i.replace;t<n.length;t++){var r=n[t];if(r.from===e)return r.to}return e}(e),C(e)?function(){if(i._defaultValueCache)return i._defaultValueCache.defaultValue;if(!I.$injector)throw new Error("Injectable functions cannot be called at configuration time");var e=I.$injector.invoke(i.config.$$fn);if(null!=e&&!i.type.is(e))throw new Error("Default value ("+e+") for parameter '"+i.id+"' is not an instance of ParamType ("+i.type.name+")");return i.config.$$fn.__cacheable&&(i._defaultValueCache={defaultValue:e}),e}():this.type.$normalize(e)},xt.prototype.isSearch=function(){return this.location===m.DefType.SEARCH},xt.prototype.validates=function(e){if((C(e)||null===e)&&this.isOptional)return!0;var t=this.type.$normalize(e);if(!this.type.is(t))return!1;var n=this.type.encode(t);return!(k(n)&&!this.type.pattern.exec(n))},xt.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},xt);function xt(e,t,n,r,i){var o=wt(e,n,i);t=function(e,t,n,r,i){if(e.type&&t&&"string"!==t.name)throw new Error("Param '"+r+"' has two type configurations.");if(e.type&&t&&"string"===t.name&&i.type(e.type))return i.type(e.type);if(t)return t;if(e.type)return e.type instanceof pt?e.type:i.type(e.type);var o=n===m.DefType.CONFIG?"any":n===m.DefType.PATH?"path":n===m.DefType.SEARCH?"query":"string";return i.type(o)}(o,t,n,e,r.paramTypes);var a,s,l=(a={array:n===m.DefType.SEARCH&&"auto"},s=e.match(/\[\]$/)?{array:!0}:{},U(a,s,o).array);t=l?t.$asArray(l,n===m.DefType.SEARCH):t;var c=void 0!==o.value||n===m.DefType.SEARCH,u=$(o.dynamic)?!!o.dynamic:!!t.dynamic,d=$(o.raw)?!!o.raw:!!t.raw,h=function(e,t,n){var r=e.squash;if(!t||!1===r)return!1;if(!$(r)||null==r)return n;if(!0===r||k(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}(o,c,r.defaultSquashPolicy()),f=function(e,t,n,r){var i=[{from:"",to:n||t?void 0:""},{from:null,to:n||t?void 0:""}],o=M(e.replace)?e.replace:[];k(r)&&o.push({from:r,to:void 0});var a=ue(o,b("from"));return se(i,function(e){return-1===a.indexOf(e.from)}).concat(o)}(o,l,c,h),p=$(o.inherit)?!!o.inherit:!!t.inherit;U(this,{id:e,type:t,location:n,isOptional:c,dynamic:u,raw:d,squash:h,replace:f,inherit:p,array:l,config:o})}var Et=(_t.prototype.dispose=function(){this.types={}},_t.prototype.type=function(e,t,n){if(!$(t))return this.types[e];if(this.types.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return this.types[e]=new pt(U({name:e},t)),n&&(this.typeQueue.push({name:e,def:n}),this.enqueue||this._flushTypeQueue()),this},_t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var e=this.typeQueue.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");U(this.types[e.name],I.$injector.invoke(e.def))}},_t);function _t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=ie(_t.prototype,["hash","string","query","path","int","bool","date","json","any"]);this.types=G(ue(this.defaultTypes,function(e,t){return new pt(U({name:t},e))}),{})}function $t(e){function t(e){return null!=e?e.toString():e}var n={encode:t,decode:t,is:f(String),pattern:/.*/,equals:function(e,t){return e==t}};return U({},n,e)}U(Et.prototype,{string:$t({}),path:$t({pattern:/[^/]*/}),query:$t({}),hash:$t({inherit:!1}),int:$t({decode:function(e){return parseInt(e,10)},is:function(e){return!x(e)&&this.decode(e.toString())===e},pattern:/-?\d+/}),bool:$t({encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:f(Boolean),pattern:/0|1/}),date:$t({encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):void 0},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):void 0},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(n,r){return["getFullYear","getMonth","getDate"].reduce(function(e,t){return e&&n[t]()===r[t]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:$t({encode:j,decode:H,is:f(Object),equals:q,pattern:/[^/]*/}),any:$t({encode:z,decode:z,is:function(){return!0},equals:q})});var St=(At.prototype.$inherit=function(e,t,n){var r,i=re(t,n),o={},a=[];for(var s in i)if(i[s]&&i[s].params&&(r=Object.keys(i[s].params)).length)for(var l in r)0<=a.indexOf(r[l])||(a.push(r[l]),o[r[l]]=this[r[l]]);return U({},o,e)},At);function At(e){void 0===e&&(e={}),U(this,e)}var kt=(Tt.prototype.clone=function(){return new Tt(this)},Tt.prototype.applyRawParams=function(r){return this.paramValues=this.paramSchema.reduce(function(e,t){return $e(e,[(n=t).id,n.value(r[n.id])]);var n},{}),this},Tt.prototype.parameter=function(e){return le(this.paramSchema,g("id",e))},Tt.prototype.equals=function(e,t){var n=this.diff(e,t);return n&&0===n.length},Tt.prototype.diff=function(e,t){if(this.state!==e.state)return!1;var n=t?t(this):this.paramSchema;return Ct.changed(n,this.paramValues,e.paramValues)},Tt.clone=function(e){return e.clone()},Tt);function Tt(e){if(e instanceof Tt){var t=e;this.state=t.state,this.paramSchema=t.paramSchema.slice(),this.paramValues=U({},t.paramValues),this.resolvables=t.resolvables.slice(),this.views=t.views&&t.views.slice()}else{var n=e;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(e){return e.clone()})}}var Mt=(Nt.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},Nt.prototype.identifier=function(){return this._identifier},Nt.prototype.params=function(){return this._params},Nt.prototype.$state=function(){return this._definition},Nt.prototype.state=function(){return this._definition&&this._definition.self},Nt.prototype.options=function(){return this._options},Nt.prototype.exists=function(){return!(!this._definition||!this._definition.self)},Nt.prototype.valid=function(){return!this.error()},Nt.prototype.error=function(){var e=this.options().relative;if(this._definition||!e)return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'";var t=e.name?e.name:e;return"Could not resolve '"+this.name()+"' from state '"+t+"'"},Nt.prototype.toString=function(){return"'"+this.name()+"'"+Ge(this.params())},Nt.prototype.withState=function(e){return new Nt(this._stateRegistry,e,this._params,this._options)},Nt.prototype.withParams=function(e,t){void 0===t&&(t=!1);var n=t?e:U({},this._params,e);return new Nt(this._stateRegistry,this._identifier,n,this._options)},Nt.prototype.withOptions=function(e,t){void 0===t&&(t=!1);var n=t?e:U({},this._options,e);return new Nt(this._stateRegistry,this._identifier,this._params,n)},Nt.isDef=function(e){return e&&e.state&&(k(e.state)||k(e.state.name))},Nt);function Nt(e,t,n,r){this._stateRegistry=e,this._identifier=t,this._identifier=t,this._params=U({},n||{}),this._options=U({},r||{}),this._definition=e.matcher.find(t,this._options.relative)}var Pt=(Rt.makeTargetState=function(e,t){var n=Se(t).state;return new Mt(e,n,t.map(b("paramValues")).reduce(ne,{}),{})},Rt.buildPath=function(e){var t=e.params();return e.$state().path.map(function(e){return new kt(e).applyRawParams(t)})},Rt.buildToPath=function(e,t){var n=Rt.buildPath(t);return t.options().inherit?Rt.inheritParams(e,n,Object.keys(t.params())):n},Rt.applyViewConfigs=function(i,o,t){o.filter(function(e){return Y(t,e.state)}).forEach(function(t){var e=de(t.state.views||{}),n=Rt.subPath(o,function(e){return e===t}),r=e.map(function(e){return i.createViewConfig(n,e)});t.views=r.reduce(pe,[])})},Rt.inheritParams=function(l,e,c){void 0===c&&(c=[]);var u=l.map(function(e){return e.paramSchema}).reduce(pe,[]).filter(function(e){return!e.inherit}).map(b("id"));return e.map(function(e){var t=U({},e&&e.paramValues),n=ie(t,c);t=oe(t,c);var r,i,o,a=oe((r=l,i=e.state,o=le(r,g("state",i)),U({},o&&o.paramValues)||{}),u),s=U(t,a,n);return new kt(e.state).applyRawParams(s)})},Rt.treeChanges=function(e,r,t){for(var n,i,o,a,s,l,c=Math.min(e.length,r.length),u=0;u<c&&e[u].state!==t&&(n=e[u],i=r[u],n.equals(i,Rt.nonDynamicParams));)u++;a=(o=e).slice(0,u),s=o.slice(u);var d=a.map(function(e,t){var n=e.clone();return n.paramValues=r[t].paramValues,n});return l=r.slice(u),{from:o,to:d.concat(l),retained:a,retainedWithToParams:d,exiting:s,entering:l}},Rt.matching=function(e,t,i){var o=!1;return _e(e,t).reduce(function(e,t){var n=t[0],r=t[1];return(o=o||!n.equals(r,i))?e:e.concat(n)},[])},Rt.equals=function(e,t,n){return e.length===t.length&&Rt.matching(e,t,n).length===e.length},Rt.subPath=function(e,t){var n=le(e,t),r=e.indexOf(n);return-1===r?void 0:e.slice(0,r+1)},Rt.nonDynamicParams=function(e){return e.state.parameters({inherit:!1}).filter(function(e){return!e.dynamic})},Rt.paramValues=function(e){return e.reduce(function(e,t){return U(e,t.paramValues)},{})},Rt);function Rt(){}var Dt={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},Ot={when:"LAZY",async:"WAIT"},It=(Lt.prototype.getPolicy=function(e){var t=this.policy||{},n=e&&e.resolvePolicy||{};return{when:t.when||n.when||Ot.when,async:t.async||n.async||Ot.async}},Lt.prototype.resolve=function(t,n){var r=this,e=I.$q,i=t.findNode(this),o=i&&i.state,a="RXWAIT"===this.getPolicy(o).async?function(e){var t=e.cache(1);return t.take(1).toPromise().then(function(){return t})}:z;return this.promise=e.when().then(function(){return e.all(t.getDependencies(r).map(function(e){return e.get(t,n)}))}).then(function(e){return r.resolveFn.apply(null,e)}).then(a).then(function(e){return r.data=e,r.resolved=!0,r.resolveFn=null,ft.traceResolvableResolved(r,n),r.data})},Lt.prototype.get=function(e,t){return this.promise||this.resolve(e,t)},Lt.prototype.toString=function(){return"Resolvable(token: "+Ge(this.token)+", requires: ["+this.deps.map(Ge)+"])"},Lt.prototype.clone=function(){return new Lt(this)},Lt.fromData=function(e,t){return new Lt(e,function(){return t},null,null,t)},Lt);function Lt(e,t,n,r,i){if(this.resolved=!1,this.promise=void 0,e instanceof Lt)U(this,e);else if(S(t)){if(x(e))throw new Error("new Resolvable(): token argument is required");if(!S(t))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=r,this.resolveFn=t,this.deps=n||[],this.data=i,this.resolved=void 0!==i,this.promise=this.resolved?I.$q.when(this.data):void 0}else if(T(e)&&e.token&&(e.hasOwnProperty("resolveFn")||e.hasOwnProperty("data"))){return new Lt(e.token,e.resolveFn,e.deps,e.policy,e.data)}}var Ft=Dt.when,Ht=[Ft.EAGER,Ft.LAZY],jt=[Ft.EAGER],Bt="Native Injector",Ut=(qt.prototype.getTokens=function(){return this._path.reduce(function(e,t){return e.concat(t.resolvables.map(function(e){return e.token}))},[]).reduce(ve,[])},qt.prototype.getResolvable=function(t){return Se(this._path.map(function(e){return e.resolvables}).reduce(pe,[]).filter(function(e){return e.token===t}))},qt.prototype.getPolicy=function(e){var t=this.findNode(e);return e.getPolicy(t.state)},qt.prototype.subContext=function(t){return new qt(Pt.subPath(this._path,function(e){return e.state===t}))},qt.prototype.addResolvables=function(e,t){var n=le(this._path,g("state",t)),r=e.map(function(e){return e.token});n.resolvables=n.resolvables.filter(function(e){return-1===r.indexOf(e.token)}).concat(e)},qt.prototype.resolvePath=function(e,s){var l=this;void 0===e&&(e="LAZY");var c=(Y(Ht,e)?e:"LAZY")===Dt.when.EAGER?jt:Ht;function u(t,n){return function(e){return Y(t,l.getPolicy(e)[n])}}ft.traceResolvePath(this._path,e,s);var t=this._path.reduce(function(e,t){function n(t){return t.get(a,s).then(function(e){return{token:t.token,value:e}})}var r=t.resolvables.filter(u(c,"when")),i=r.filter(u(["NOWAIT"],"async")),o=r.filter(d(u(["NOWAIT"],"async"))),a=l.subContext(t.state);return i.forEach(n),e.concat(o.map(n))},[]);return I.$q.all(t)},qt.prototype.injector=function(){return this._injector||(this._injector=new zt(this))},qt.prototype.findNode=function(t){return le(this._path,function(e){return Y(e.resolvables,t)})},qt.prototype.getDependencies=function(t){var r=this,n=this.findNode(t),i=(Pt.subPath(this._path,function(e){return e===n})||this._path).reduce(function(e,t){return e.concat(t.resolvables)},[]).filter(function(e){return e!==t});return t.deps.map(function(t){var e=i.filter(function(e){return e.token===t});if(e.length)return Se(e);var n=r.injector().getNative(t);if(C(n))throw new Error("Could not find Dependency Injection token: "+Ge(t));return new It(t,function(){return n},[],n)})},qt);function qt(e){this._path=e}var zt=(Vt.prototype.get=function(e){var t=this.context.getResolvable(e);if(t){if("NOWAIT"===this.context.getPolicy(t).async)return t.get(this.context);if(!t.resolved)throw new Error("Resolvable async .get() not complete:"+Ge(t.token));return t.data}return this.getNative(e)},Vt.prototype.getAsync=function(e){var t=this.context.getResolvable(e);return t?t.get(this.context):I.$q.when(this.native.get(e))},Vt.prototype.getNative=function(e){return this.native&&this.native.get(e)},Vt);function Vt(e){this.context=e,this.native=this.get(Bt)||I.$injector}function Wt(e){return e.name}function Gt(e){return e.self.$$state=function(){return e},e.self}function Yt(e){return e.parent&&e.parent.data&&(e.data=e.self.data=G(e.parent.data,e.data)),e.data}function Kt(a,s){return function(e){var t=e.self;if(t&&t.url&&t.name&&t.name.match(/\.\*\*$/)){var n={};Ae(t,n),n.url+="{remainder:any}",t=n}var r=e.parent,i=function(e){if(!k(e))return!1;var t="^"===e.charAt(0);return{val:t?e.substring(1):e,root:t}}(t.url),o=i?a.compile(i.val,{state:t}):t.url;if(!o)return null;if(!a.isMatcher(o))throw new Error("Invalid url '"+o+"' in state '"+e+"'");return i&&i.root?o:(r&&r.navigable||s()).url.append(o)}}function Xt(e){return e.parent?e.parent.path.concat(e):[e]}function Qt(e){var t=e.parent?U({},e.parent.includes):{};return t[e.name]=!0,t}function Zt(e){function t(e){return e.provide||e.token}var n,r,i=v([[b("resolveFn"),function(e){return new It(t(e),e.resolveFn,e.deps,e.policy)}],[b("useFactory"),function(e){return new It(t(e),e.useFactory,e.deps||e.dependencies,e.policy)}],[b("useClass"),function(e){return new It(t(e),function(){return new e.useClass},[],e.policy)}],[b("useValue"),function(e){return new It(t(e),function(){return e.useValue},[],e.policy,e.useValue)}],[b("useExisting"),function(e){return new It(t(e),z,[e.useExisting],e.policy)}]]),o=v([[c(b("val"),k),function(e){return new It(e.token,z,[e.val],e.policy)}],[c(b("val"),M),function(e){return new It(e.token,Se(e.val),e.val.slice(0,-1),e.policy)}],[c(b("val"),S),function(e){return new It(e.token,e.val,(t=e.val,n=I.$injector,t.$inject||n&&n.annotate(t,n.strictDi)||"deferred"),e.policy);var t,n}]]),a=v([[f(It),function(e){return e}],[function(e){return!(!e.token||!e.resolveFn)},i],[function(e){return!(!e.provide&&!e.token||!(e.useValue||e.useFactory||e.useExisting||e.useClass))},i],[function(e){return!!(e&&e.val&&(k(e.val)||M(e.val)||S(e.val)))},o],[p(!0),function(e){throw new Error("Invalid resolve value: "+Ge(e))}]]),s=e.resolve;return(M(s)?s:(n=s,r=e.resolvePolicy||{},Object.keys(n||{}).map(function(e){return{token:e,val:n[e],deps:void 0,policy:r[e]}}))).map(a)}var Jt=(en.prototype.builder=function(e,t){var n=this.builders,r=n[e]||[];return k(e)&&!$(t)?1<r.length?r:r[0]:k(e)&&S(t)?(n[e]=r,n[e].push(t),function(){return n[e].splice(n[e].indexOf(t,1))&&null}):void 0},en.prototype.build=function(e){var t=this.matcher,n=this.builders,r=this.parentName(e);if(r&&!t.find(r,void 0,!1))return null;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i].reduce(function(t,n){return function(e){return n(e,t)}},V);e[i]=o(e)}return e},en.prototype.parentName=function(e){var t=e.name||"",n=t.split(".");if("**"===n.pop()&&n.pop(),n.length){if(e.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+t+")");return n.join(".")}return e.parent?k(e.parent)?e.parent:e.parent.name:""},en.prototype.name=function(e){var t=e.name;if(-1!==t.indexOf(".")||!e.parent)return t;var n=k(e.parent)?e.parent:e.parent.name;return n?n+"."+t:t},en);function en(t,e){this.matcher=t;function n(){return t.find("")}function r(e){return""===e.name}var i,o,a=this;this.builders={name:[Wt],self:[Gt],parent:[function(e){return r(e)?null:t.find(a.parentName(e))||n()}],data:[Yt],url:[Kt(e,n)],navigable:[(o=r,function(e){return!o(e)&&e.url?e:e.parent?e.parent.navigable:null})],params:[(i=e.paramFactory,function(n){var e=n.url&&n.url.parameters({inherit:!1})||[],t=de(ce(oe(n.params||{},e.map(b("id"))),function(e,t){return i.fromConfig(t,null,n.self)}));return e.concat(t).map(function(e){return[e.id,e]}).reduce($e,{})})],views:[],path:[Xt],includes:[Qt],resolvables:[Zt]}}var tn=(nn.create=function(e){e=nn.isStateClass(e)?new e:e;var t=G(G(e,nn.prototype));return e.$$state=function(){return t},t.self=e,t.__stateObjectCache={nameGlob:Pe.fromString(t.name)},t},nn.prototype.is=function(e){return this===e||this.self===e||this.fqn()===e},nn.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var e=this.parent.fqn();return e?e+"."+this.name:this.name},nn.prototype.root=function(){return this.parent&&this.parent.root()||this},nn.prototype.parameters=function(t){return((t=te(t,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(de(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},nn.prototype.parameter=function(e,t){return void 0===t&&(t={}),this.url&&this.url.parameter(e,t)||le(de(this.params),g("id",e))||t.inherit&&this.parent&&this.parent.parameter(e)},nn.prototype.toString=function(){return this.fqn()},nn.isStateClass=function(e){return S(e)&&!0===e.__uiRouterState},nn.isState=function(e){return T(e.__stateObjectCache)},nn);function nn(e){return nn.create(e||{})}var rn=(on.prototype.isRelative=function(e){return 0===(e=e||"").indexOf(".")||0===e.indexOf("^")},on.prototype.find=function(e,t,n){if(void 0===n&&(n=!0),e||""===e){var r=k(e),i=r?e:e.name;this.isRelative(i)&&(i=this.resolvePath(i,t));var o=this._states[i];if(o&&(r||!(r||o!==e&&o.self!==e)))return o;if(r&&n){var a=de(this._states).filter(function(e){return e.__stateObjectCache.nameGlob&&e.__stateObjectCache.nameGlob.matches(i)});return 1<a.length&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",a.map(function(e){return e.name})),a[0]}}},on.prototype.resolvePath=function(e,t){if(!t)throw new Error("No reference point given for path '"+e+"'");for(var n=this.find(t),r=e.split("."),i=r.length,o=0,a=n;o<i;o++)if(""!==r[o]||0!==o){if("^"!==r[o])break;if(!a.parent)throw new Error("Path '"+e+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(o).join(".");return a.name+(a.name&&s?".":"")+s},on);function on(e){this._states=e}var an=(sn.prototype.dispose=function(){this.queue=[]},sn.prototype.register=function(e){var t=this.queue,n=tn.create(e),r=n.name;if(!k(r))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(r)||Y(t.map(b("name")),r))throw new Error("State '"+r+"' is already defined");return t.push(n),this.flush(),n},sn.prototype.flush=function(){for(var t=this,e=this.queue,n=this.states,r=this.builder,i=[],o=[],a={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]},l=function(){i.length&&t.listeners.forEach(function(e){return e("registered",i.map(function(e){return e.self}))})};0<e.length;){var c=e.shift(),u=c.name,d=r.build(c),h=o.indexOf(c);if(d){var f=s(u);if(f&&f.name===u)throw new Error("State '"+u+"' is already defined");var p=s(u+".**");p&&this.router.stateRegistry.deregister(p),n[u]=c,this.attachRoute(c),0<=h&&o.splice(h,1),i.push(c)}else{var m=a[u];if(a[u]=e.length,0<=h&&m===e.length)return e.push(c),l(),n;h<0&&o.push(c),e.push(c)}}return l(),n},sn.prototype.attachRoute=function(e){if(!e.abstract&&e.url){var t=this.router.urlService.rules;t.rule(t.urlRuleFactory.create(e))}},sn);function sn(e,t,n,r){this.router=e,this.states=t,this.builder=n,this.listeners=r,this.queue=[]}var ln,cn,un=(dn.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},dn.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},dn.prototype.onStatesChanged=function(e){return this.listeners.push(e),function(){X(this.listeners)(e)}.bind(this)},dn.prototype.root=function(){return this._root},dn.prototype.register=function(e){return this.stateQueue.register(e)},dn.prototype._deregisterTree=function(e){var n=this,r=this.get().map(function(e){return e.$$state()}),i=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(i(e))},t=i([e]),o=[e].concat(t).reverse();return o.forEach(function(e){var t=n.router.urlService.rules;t.rules().filter(g("state",e)).forEach(function(e){return t.removeRule(e)}),delete n.states[e.name]}),o},dn.prototype.deregister=function(e){var t=this.get(e);if(!t)throw new Error("Can't deregister state; not found: "+e);var n=this._deregisterTree(t.$$state());return this.listeners.forEach(function(e){return e("deregistered",n.map(function(e){return e.self}))}),n},dn.prototype.get=function(e,t){var n=this;if(0===arguments.length)return Object.keys(this.states).map(function(e){return n.states[e].self});var r=this.matcher.find(e,t);return r&&r.self||null},dn.prototype.decorator=function(e,t){return this.builder.builder(e,t)},dn);function dn(e){this.router=e,this.states={},this.listeners=[],this.matcher=new rn(this.states),this.builder=new Jt(this.matcher,e.urlMatcherFactory),this.stateQueue=new an(e,this.states,this.builder,this.listeners),this._registerRoot()}(ln=m.TransitionHookPhase||(m.TransitionHookPhase={}))[ln.CREATE=0]="CREATE",ln[ln.BEFORE=1]="BEFORE",ln[ln.RUN=2]="RUN",ln[ln.SUCCESS=3]="SUCCESS",ln[ln.ERROR=4]="ERROR",(cn=m.TransitionHookScope||(m.TransitionHookScope={}))[cn.TRANSITION=0]="TRANSITION",cn[cn.STATE=1]="STATE";var hn={current:V,transition:null,traceData:{},bind:null},fn=(pn.chain=function(e,t){return e.reduce(function(e,t){return e.then(function(){return t.invokeHook()})},t||I.$q.when())},pn.invokeHooks=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].invokeHook();if(O(r)){var i=e.slice(n+1);return pn.chain(i,r).then(t)}}return t()},pn.runAllHooks=function(e){e.forEach(function(e){return e.invokeHook()})},pn.prototype.logError=function(e){this.transition.router.stateService.defaultErrorHandler()(e)},pn.prototype.invokeHook=function(){var t=this,n=this.registeredHook;if(!n._deregistered){var e=this.getNotCurrentRejection();if(e)return e;var r=this.options;ft.traceHookInvocation(this,this.transition,r);var i=function(e){return n.eventType.getErrorHandler(t)(e)},o=function(e){return n.eventType.getResultHandler(t)(e)};try{var a=n.callback.call(r.bind,t.transition,t.stateContext);return!this.type.synchronous&&O(a)?a.catch(function(e){return Fe.normalize(e).toPromise()}).then(o,i):o(a)}catch(e){return i(Fe.normalize(e))}finally{n.invokeLimit&&++n.invokeCount>=n.invokeLimit&&n.deregister()}}},pn.prototype.handleHookResult=function(e){var t=this,n=this.getNotCurrentRejection();return n||(O(e)?e.then(function(e){return t.handleHookResult(e)}):(ft.traceHookResult(e,this.transition,this.options),!1===e?Fe.aborted("Hook aborted transition").toPromise():f(Mt)(e)?Fe.redirected(e).toPromise():void 0))},pn.prototype.getNotCurrentRejection=function(){var e=this.transition.router;return e._disposed?Fe.aborted("UIRouter instance #"+e.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Fe.aborted().toPromise():this.isSuperseded()?Fe.superseded(this.options.current()).toPromise():void 0},pn.prototype.toString=function(){var e=this.options,t=this.registeredHook;return(_("traceData.hookType")(e)||"internal")+" context: "+(_("traceData.context.state.name")(e)||_("traceData.context")(e)||"unknown")+", "+je(200,ze(t.callback))},pn.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},pn.LOG_REJECTED_RESULT=function(t){return function(e){O(e)&&e.catch(function(e){return t.logError(Fe.normalize(e))})}},pn.LOG_ERROR=function(t){return function(e){return t.logError(e)}},pn.REJECT_ERROR=function(e){return function(e){return Ne(e)}},pn.THROW_ERROR=function(e){return function(e){throw e}},pn);function pn(e,t,n,r){var i=this;this.transition=e,this.stateContext=t,this.registeredHook=n,this.options=r,this.isSuperseded=function(){return i.type.hookPhase===m.TransitionHookPhase.RUN&&!i.options.transition.isActive()},this.options=te(r,hn),this.type=n.eventType}function mn(e,t,n){var i=k(t)?[t]:t;return!!(S(i)?i:function(e){for(var t=i,n=0;n<t.length;n++){var r=new Pe(t[n]);if(r&&r.matches(e.name)||!r&&t[n]===e.name)return!0}return!1})(e,n)}var gn=(vn.prototype._matchingNodes=function(e,t,n){if(!0===t)return e;var r=e.filter(function(e){return mn(e.state,t,n)});return r.length?r:null},vn.prototype._getDefaultMatchCriteria=function(){return ce(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},vn.prototype._getMatchingNodes=function(o,a){var s=this,l=U(this._getDefaultMatchCriteria(),this.matchCriteria);return de(this.tranSvc._pluginapi._getPathTypes()).reduce(function(e,t){var n=t.scope===m.TransitionHookScope.STATE,r=o[t.name]||[],i=n?r:[Se(r)];return e[t.name]=s._matchingNodes(i,l[t.name],a),e},{})},vn.prototype.matches=function(e,t){var n=this._getMatchingNodes(e,t);return de(n).every(z)?n:null},vn.prototype.deregister=function(){this.removeHookFromRegistry(this),this._deregistered=!0},vn);function vn(e,t,n,r,i,o){void 0===o&&(o={}),this.tranSvc=e,this.eventType=t,this.callback=n,this.matchCriteria=r,this.removeHookFromRegistry=i,this.invokeCount=0,this._deregistered=!1,this.priority=o.priority||0,this.bind=o.bind||null,this.invokeLimit=o.invokeLimit}function yn(e,i,o){var a=(e._registeredHooks=e._registeredHooks||{})[o.name]=[],s=X(a);function t(e,t,n){void 0===n&&(n={});var r=new gn(i,o,t,e,s,n);return a.push(r),r.deregister.bind(r)}return e[o.name]=t}var bn=(wn.prototype.buildHooksForPhase=function(e){var t=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(e){return t.buildHooks(e)}).reduce(pe,[]).filter(z)},wn.prototype.buildHooks=function(o){var a=this.transition,e=a.treeChanges(),t=this.getMatchingHooks(o,e,a);if(!t)return[];var s={transition:a,current:a.options().current};return t.map(function(i){return i.matches(e,a)[o.criteriaMatchPath.name].map(function(e){var t=U({bind:i.bind,traceData:{hookType:o.name,context:e}},s),n=o.criteriaMatchPath.scope===m.TransitionHookScope.STATE?e.state.self:null,r=new fn(a,n,i,t);return{hook:i,node:e,transitionHook:r}})}).reduce(pe,[]).sort(function(i){return void 0===i&&(i=!1),function(e,t){var n=i?-1:1,r=(e.node.state.path.length-t.node.state.path.length)*n;return 0!=r?r:t.hook.priority-e.hook.priority}}(o.reverseSort)).map(function(e){return e.transitionHook})},wn.prototype.getMatchingHooks=function(t,n,r){var e=t.hookPhase===m.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(e?[i]:[this.transition,i]).map(function(e){return e.getHooks(t.name)}).filter(we(M,"broken event named: "+t.name)).reduce(pe,[]).filter(function(e){return e.matches(n,r)})},wn);function wn(e){this.transition=e}var Cn=b("self"),xn=(En.prototype.onBefore=function(e,t,n){},En.prototype.onStart=function(e,t,n){},En.prototype.onExit=function(e,t,n){},En.prototype.onRetain=function(e,t,n){},En.prototype.onEnter=function(e,t,n){},En.prototype.onFinish=function(e,t,n){},En.prototype.onSuccess=function(e,t,n){},En.prototype.onError=function(e,t,n){},En.prototype.createTransitionHookRegFns=function(){var t=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==m.TransitionHookPhase.CREATE}).forEach(function(e){return yn(t,t.router.transitionService,e)})},En.prototype.getHooks=function(e){return this._registeredHooks[e]},En.prototype.applyViewConfigs=function(e){var t=this._treeChanges.entering.map(function(e){return e.state});Pt.applyViewConfigs(e.transitionService.$view,this._treeChanges.to,t)},En.prototype.$from=function(){return Se(this._treeChanges.from).state},En.prototype.$to=function(){return Se(this._treeChanges.to).state},En.prototype.from=function(){return this.$from().self},En.prototype.to=function(){return this.$to().self},En.prototype.targetState=function(){return this._targetState},En.prototype.is=function(e){return e instanceof En?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!mn(this.$to(),e.to,this)||e.from&&!mn(this.$from(),e.from,this))},En.prototype.params=function(e){return void 0===e&&(e="to"),Object.freeze(this._treeChanges[e].map(b("paramValues")).reduce(ne,{}))},En.prototype.paramsChanged=function(){var e=this.params("from"),n=this.params("to"),t=[].concat(this._treeChanges.to).concat(this._treeChanges.from).map(function(e){return e.paramSchema}).reduce(me,[]).reduce(ve,[]);return Ct.changed(t,e,n).reduce(function(e,t){return e[t.id]=n[t.id],e},{})},En.prototype.injector=function(t,e){void 0===e&&(e="to");var n=this._treeChanges[e];return t&&(n=Pt.subPath(n,function(e){return e.state===t||e.state.name===t})),new Ut(n).injector()},En.prototype.getResolveTokens=function(e){return void 0===e&&(e="to"),new Ut(this._treeChanges[e]).getTokens()},En.prototype.addResolvable=function(e,t){void 0===t&&(t=""),e=f(It)(e)?e:new It(e);var n="string"==typeof t?t:t.name,r=this._treeChanges.to,i=le(r,function(e){return e.state.name===n});new Ut(r).addResolvables([e],i.state)},En.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},En.prototype.originalTransition=function(){var e=this.redirectedFrom();return e&&e.originalTransition()||this},En.prototype.options=function(){return this._options},En.prototype.entering=function(){return ue(this._treeChanges.entering,b("state")).map(Cn)},En.prototype.exiting=function(){return ue(this._treeChanges.exiting,b("state")).map(Cn).reverse()},En.prototype.retained=function(){return ue(this._treeChanges.retained,b("state")).map(Cn)},En.prototype.views=function(e,t){void 0===e&&(e="entering");var n=this._treeChanges[e];return(n=t?n.filter(g("state",t)):n).map(b("views")).filter(z).reduce(pe,[])},En.prototype.treeChanges=function(e){return e?this._treeChanges[e]:this._treeChanges},En.prototype.redirect=function(e){for(var t=1,n=this;null!=(n=n.redirectedFrom());)if(20<++t)throw new Error("Too many consecutive Transition redirects (20+)");var r={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==e.options().location&&(r.location="replace");var i=U({},this.options(),e.options(),r);e=e.withOptions(i,!0);var o,a=this.router.transitionService.create(this._treeChanges.from,e),s=this._treeChanges.entering,l=a._treeChanges.entering;return Pt.matching(l,s,Pt.nonDynamicParams).filter(d((o=e.options().reloadState,function(e){return o&&e.state.includes[o.name]}))).forEach(function(e,t){e.resolvables=s[t].resolvables}),a},En.prototype._changedParams=function(){var e=this._treeChanges;if(!(this._options.reload||e.exiting.length||e.entering.length||e.to.length!==e.from.length||_e(e.to,e.from).map(function(e){return e[0].state!==e[1].state}).reduce(fe,!1))){var t=e.to.map(function(e){return e.paramSchema}),n=[e.to,e.from].map(function(e){return e.map(function(e){return e.paramValues})});return _e(t,n[0],n[1]).map(function(e){var t=e[0],n=e[1],r=e[2];return Ct.changed(t,n,r)}).reduce(pe,[])}},En.prototype.dynamic=function(){var e=this._changedParams();return!!e&&e.map(function(e){return e.dynamic}).reduce(fe,!1)},En.prototype.ignored=function(){return!!this._ignoredReason()},En.prototype._ignoredReason=function(){function e(e,t){if(e.length===t.length){var n=Pt.matching(e,t);return e.length===n.filter(function(e){return!r||!e.state.includes[r.name]}).length}}var t=this.router.globals.transition,r=this._options.reloadState,n=this.treeChanges(),i=t&&t.treeChanges();return i&&e(i.to,n.to)&&e(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&e(n.from,n.to)?"SameAsCurrent":void 0},En.prototype.run=function(){function t(e){return n._hookBuilder.buildHooksForPhase(e)}var n=this,r=fn.runAllHooks,e=t(m.TransitionHookPhase.BEFORE);return fn.invokeHooks(e,function(){var e=n.router.globals;return e.lastStartedTransitionId=n.$id,e.transition=n,e.transitionHistory.enqueue(n),ft.traceTransitionStart(n),I.$q.when(void 0)}).then(function(){var e=t(m.TransitionHookPhase.RUN);return fn.invokeHooks(e,function(){return I.$q.when(void 0)})}).then(function(){ft.traceSuccess(n.$to(),n),n.success=!0,n._deferred.resolve(n.to()),r(t(m.TransitionHookPhase.SUCCESS))},function(e){ft.traceError(e,n),n.success=!1,n._deferred.reject(e),n._error=e,r(t(m.TransitionHookPhase.ERROR))}),this.promise},En.prototype.valid=function(){return!this.error()||void 0!==this.success},En.prototype.abort=function(){C(this.success)&&(this._aborted=!0)},En.prototype.error=function(){var e=this.$to();if(e.self.abstract)return Fe.invalid("Cannot transition to abstract state '"+e.name+"'");var t=e.parameters(),n=this.params(),r=t.filter(function(e){return!e.validates(n[e.id])});if(r.length){var i=r.map(function(e){return"["+e.id+":"+Ge(n[e.id])+"]"}).join(", "),o="The following parameter values are not valid for state '"+e.name+"': "+i;return Fe.invalid(o)}return!1===this.success?this._error:void 0},En.prototype.toString=function(){function e(e){return null!==e["#"]&&void 0!==e["#"]?e:oe(e,["#"])}var t=this.from(),n=this.to();return"Transition#"+this.$id+"( '"+(T(t)?t.name:t)+"'"+Ge(e(this._treeChanges.from.map(b("paramValues")).reduce(ne,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(T(n)?n.name:n)+"'"+Ge(e(this.params()))+" )"},En.diToken=En);function En(e,t,n){var r=this;if(this._deferred=I.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new bn(this),this.isActive=function(){return r.router.globals.transition===r},this.router=n,!(this._targetState=t).valid())throw new Error(t.error());this._options=U({current:p(this)},t.options()),this.$id=n.transitionService._transitionCount++;var i=Pt.buildToPath(e,t);this._treeChanges=Pt.treeChanges(e,i,this._options.reloadState),this.createTransitionHookRegFns();var o=this._hookBuilder.buildHooksForPhase(m.TransitionHookPhase.CREATE);fn.invokeHooks(o,function(){return null}),this.applyViewConfigs(n)}function _n(e,t){var n=["",""],r=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return r;switch(t.squash){case!1:n=["(",")"+(t.isOptional?"?":"")];break;case!0:r=r.replace(/\/$/,""),n=["(?:/(",")|/)?"];break;default:n=["("+t.squash+"|",")?"]}return r+n[0]+t.type.pattern.source+n[1]}var $n=tt("/"),Sn={state:{params:{}},strict:!0,caseInsensitive:!0},An=(kn.encodeDashes=function(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})},kn.pathSegmentsAndParams=function(e){return _e(e._segments,e._params.filter(function(e){return e.location===m.DefType.PATH}).concat(void 0)).reduce(pe,[]).filter(function(e){return""!==e&&$(e)})},kn.queryParams=function(e){return e._params.filter(function(e){return e.location===m.DefType.SEARCH})},kn.compare=function(e,t){function n(e){return e._cache.weights=e._cache.weights||((t=e)._cache.segments=t._cache.segments||t._cache.path.map(kn.pathSegmentsAndParams).reduce(pe,[]).reduce(nt,[]).map(function(e){return k(e)?$n(e):e}).reduce(pe,[])).map(function(e){return"/"===e?1:k(e)?2:e instanceof Ct?3:void 0});var t}var r=n(e),i=n(t);!function(e,t,n){for(var r=Math.max(e.length,t.length);e.length<r;)e.push(n);for(;t.length<r;)t.push(n)}(r,i,0);var o,a,s=_e(r,i);for(a=0;a<s.length;a++)if(0!=(o=s[a][0]-s[a][1]))return o;return 0},kn.prototype.append=function(e){return this._children.push(e),e._cache={path:this._cache.path.concat(e),parent:this,pattern:null},e},kn.prototype.isRoot=function(){return this._cache.path[0]===this},kn.prototype.toString=function(){return this.pattern},kn.prototype.exec=function(e,r,t,n){var i=this;void 0===r&&(r={}),void 0===n&&(n={});var o,a,s,l=(o=this._cache,s=function(){return new RegExp(["^",ye(i._cache.path.map(b("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)},(o[a="pattern"]=o[a]||s()).exec(e));if(!l)return null;var c=this.parameters(),u=c.filter(function(e){return!e.isSearch()}),d=c.filter(function(e){return e.isSearch()}),h=this._cache.path.map(function(e){return e._segments.length-1}).reduce(function(e,t){return e+t}),f={};if(h!==l.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");function p(e){function t(e){return e.split("").reverse().join("")}var n=ue(t(e).split(/-(?!\\)/),t);return ue(n,function(e){return e.replace(/\\-/g,"-")}).reverse()}for(var m=0;m<h;m++){for(var g=u[m],v=l[m+1],y=0;y<g.replace.length;y++)g.replace[y].from===v&&(v=g.replace[y].to);v&&!0===g.array&&(v=p(v)),$(v)&&(v=g.type.decode(v)),f[g.id]=g.value(v)}return d.forEach(function(e){for(var t=r[e.id],n=0;n<e.replace.length;n++)e.replace[n].from===t&&(t=e.replace[n].to);$(t)&&(t=e.type.decode(t)),f[e.id]=e.value(t)}),t&&(f["#"]=t),f},kn.prototype.parameters=function(e){return void 0===e&&(e={}),!1===e.inherit?this._params:ye(this._cache.path.map(function(e){return e._params}))},kn.prototype.parameter=function(r,e){var i=this;void 0===e&&(e={});var t=this._cache.parent;return function(){for(var e=0,t=i._params;e<t.length;e++){var n=t[e];if(n.id===r)return n}}()||!1!==e.inherit&&t&&t.parameter(r,e)||null},kn.prototype.validates=function(r){return r=r||{},this.parameters().filter(function(e){return r.hasOwnProperty(e.id)}).map(function(e){return n=r[(t=e).id],!t||t.validates(n);var t,n}).reduce(he,!0)},kn.prototype.format=function(a){void 0===a&&(a={});var e=this._cache.path,t=e.map(kn.pathSegmentsAndParams).reduce(pe,[]).map(function(e){return k(e)?e:r(e)}),n=e.map(kn.queryParams).reduce(pe,[]).map(r);if(t.concat(n).filter(function(e){return!1===e.isValid}).length)return null;function r(e){var t=e.value(a[e.id]),n=e.validates(t),r=e.isDefaultValue(t),i=!!r&&e.squash,o=e.type.encode(t);return{param:e,value:t,isValid:n,isDefaultValue:r,squash:i,encoded:o}}var i=t.reduce(function(e,t){if(k(t))return e+t;var n=t.squash,r=t.encoded,i=t.param;return!0===n?e.match(/\/$/)?e.slice(0,-1):e:k(n)?e+n:!1!==n||null==r?e:M(r)?e+ue(r,kn.encodeDashes).join("-"):i.raw?e+r:e+encodeURIComponent(r)},""),o=n.map(function(e){var t=e.param,n=e.squash,r=e.encoded,i=e.isDefaultValue;if(!(null==r||i&&!1!==n)&&(M(r)||(r=[r]),0!==r.length))return t.raw||(r=ue(r,encodeURIComponent)),r.map(function(e){return t.id+"="+e})}).filter(z).reduce(pe,[]).join("&");return i+(o?"?"+o:"")+(a["#"]?"#"+a["#"]:"")},kn.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,kn);function kn(o,a,e,t){var s=this;this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=t=te(t,Sn),this.pattern=o;for(var n,r,i,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=[],d=0,h=function(e){if(!kn.nameValidator.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+o+"'");if(le(s._params,g("id",e)))throw new Error("Duplicate parameter name '"+e+"' in pattern '"+o+"'")},f=function(e,t){var n,r=e[2]||e[3],i=t?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:r,regexp:i,segment:o.substring(d,e.index),type:i?a.type(i)||(n=i,G(a.type(t?"query":"path"),{pattern:new RegExp(n,s.config.caseInsensitive?"i":void 0)})):null}};(n=l.exec(o))&&!(0<=(r=f(n,!1)).segment.indexOf("?"));)h(r.id),this._params.push(e.fromPath(r.id,r.type,t.state)),this._segments.push(r.segment),u.push([r.segment,Se(this._params)]),d=l.lastIndex;var p=(i=o.substring(d)).indexOf("?");if(0<=p){var m=i.substring(p);if(i=i.substring(0,p),0<m.length)for(d=0;n=c.exec(m);)h((r=f(n,!0)).id),this._params.push(e.fromSearch(r.id,r.type,t.state)),d=l.lastIndex}this._segments.push(i),this._compiled=u.map(function(e){return _n.apply(null,e)}).concat(_n(i))}var Tn=function(){return(Tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Mn=(Nn.prototype.fromConfig=function(e,t,n){return new Ct(e,t,m.DefType.CONFIG,this.router.urlService.config,n)},Nn.prototype.fromPath=function(e,t,n){return new Ct(e,t,m.DefType.PATH,this.router.urlService.config,n)},Nn.prototype.fromSearch=function(e,t,n){return new Ct(e,t,m.DefType.SEARCH,this.router.urlService.config,n)},Nn);function Nn(e){this.router=e}var Pn=(Rn.prototype.compile=function(e,t){var n=this.router.urlService.config,r=t&&!t.state&&t.params;t=r?Tn({state:{params:r}},t):t;var i={strict:n._isStrictMode,caseInsensitive:n._isCaseInsensitive};return new An(e,n.paramTypes,this.paramFactory,U(i,t))},Rn.prototype.isMatcher=function(n){if(!T(n))return!1;var r=!0;return B(An.prototype,function(e,t){S(e)&&(r=r&&$(n[t])&&S(n[t]))}),r},Rn.prototype.$get=function(){var e=this.router.urlService.config;return e.paramTypes.enqueue=!1,e.paramTypes._flushTypeQueue(),this},Rn);function Rn(e){var r=this;this.router=e,this.paramFactory=new Mn(this.router),this.caseInsensitive=function(e){return r.router.urlService.config.caseInsensitive(e)},this.defaultSquashPolicy=function(e){return r.router.urlService.config.defaultSquashPolicy(e)},this.strictMode=function(e){return r.router.urlService.config.strictMode(e)},this.type=function(e,t,n){return r.router.urlService.config.type(e,t,n)||r},U(this,{UrlMatcher:An,Param:Ct})}var Dn=(On.prototype.compile=function(e){return this.router.urlMatcherFactory.compile(e)},On.prototype.create=function(e,t){var n=this,r=tn.isState,i=v([[k,function(e){return i(n.compile(e))}],[f(An),function(e){return n.fromUrlMatcher(e,t)}],[r,function(e){return n.fromState(e,n.router)}],[f(RegExp),function(e){return n.fromRegExp(e,t)}],[S,function(e){return new In(e,t)}]]),o=i(e);if(!o)throw new Error("invalid 'what' in when()");return o},On.prototype.fromUrlMatcher=function(n,t){var e=t;k(t)&&(t=this.router.urlMatcherFactory.compile(t)),f(An)(t)&&(e=function(e){return t.format(e)});var r={urlMatcher:n,matchPriority:function(t){var e=n.parameters().filter(function(e){return e.isOptional});return e.length?e.filter(function(e){return t[e.id]}).length/e.length:1e-6},type:"URLMATCHER"};return U(new In(function(e){var t=n.exec(e.path,e.search,e.hash);return n.validates(t)&&t},e),r)},On.prototype.fromState=function(r,i){var e={state:r,type:"STATE"};return U(this.fromUrlMatcher(r.url,function(e){var t=i.stateService,n=i.globals;t.href(r,e)!==t.href(n.current,n.params)&&t.transitionTo(r,e,{inherit:!0,source:"url"})}),e)},On.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var n=k(e)?function(n){return e.replace(/\$(\$|\d{1,2})/,function(e,t){return n["$"===t?0:Number(t)]})}:e,r={regexp:t,type:"REGEXP"};return U(new In(function(e){return t.exec(e.path)},n),r)},On.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return $(t[e])})},On);function On(e){this.router=e}var In=function(e,t){var n=this;this.match=e,this.type="RAW",this.matchPriority=function(e){return 0-n.$id},this.handler=t||z};var Ln=(Fn.prototype.update=function(e){var t=this.router.locationService;e?this.location=t.url():t.url()!==this.location&&t.url(this.location,!0)},Fn.prototype.push=function(e,t,n){var r=n&&!!n.replace;this.router.urlService.url(e.format(t||{}),r)},Fn.prototype.href=function(e,t,n){var r=e.format(t);if(null==r)return null;n=n||{absolute:!1};var i,o,a,s,l=this.router.urlService.config,c=l.html5Mode();if(c||null===r||(r="#"+l.hashPrefix()+r),i=r,o=c,a=n.absolute,r="/"===(s=l.baseHref())?i:o?Ke(s)+i:a?s.slice(1)+i:i,!n.absolute||!r)return r;var u=!c&&r?"/":"",d=l.port(),h=80===d||443===d?"":":"+d;return[l.protocol(),"://",l.host(),h,u,r].join("")},Object.defineProperty(Fn.prototype,"interceptDeferred",{get:function(){return this.router.urlService.interceptDeferred},enumerable:!0,configurable:!0}),Fn);function Fn(e){var r=this;this.router=e,this.sync=function(e){return r.router.urlService.sync(e)},this.listen=function(e){return r.router.urlService.listen(e)},this.deferIntercept=function(e){return r.router.urlService.deferIntercept(e)},this.match=function(e){return r.router.urlService.match(e)},this.initial=function(e){return r.router.urlService.rules.initial(e)},this.otherwise=function(e){return r.router.urlService.rules.otherwise(e)},this.removeRule=function(e){return r.router.urlService.rules.removeRule(e)},this.rule=function(e){return r.router.urlService.rules.rule(e)},this.rules=function(){return r.router.urlService.rules.rules()},this.sort=function(e){return r.router.urlService.rules.sort(e)},this.when=function(e,t,n){return r.router.urlService.rules.when(e,t,n)},this.urlRuleFactory=new Dn(e)}var Hn=(jn.normalizeUIViewTarget=function(e,t){void 0===t&&(t="");var n=t.split("@"),r=n[0]||"$default",i=k(n[1])?n[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(r);return o&&(i=o[1],r=o[2]),"!"===r.charAt(0)&&(r=r.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i)?i=i.split(".").reduce(function(e,t){return e.parent},e).name:"."===i&&(i=e.name),{uiViewName:r,uiViewContextAnchor:i}},jn.prototype._rootViewContext=function(e){return this._rootContext=e||this._rootContext},jn.prototype._viewConfigFactory=function(e,t){this._viewConfigFactories[e]=t},jn.prototype.createViewConfig=function(e,t){var n=this._viewConfigFactories[t.$type];if(!n)throw new Error("ViewService: No view config factory registered for type "+t.$type);var r=n(e,t);return M(r)?r:[r]},jn.prototype.deactivateViewConfig=function(e){ft.traceViewServiceEvent("<- Removing",e),X(this._viewConfigs,e)},jn.prototype.activateViewConfig=function(e){ft.traceViewServiceEvent("-> Registering",e),this._viewConfigs.push(e)},jn.prototype.sync=function(){var n=this,r=this._uiViews.map(function(e){return[e.fqn,e]}).reduce($e,{});function i(e){for(var t=e.viewDecl.$context,n=0;++n&&t.parent;)t=t.parent;return n}var o=l(function(e,t,n,r){return t*(e(n)-e(r))}),e=this._uiViews.sort(o(function(e){var t=function(e){return e&&e.parent?t(e.parent)+1:1};return 1e4*e.fqn.split(".").length+t(e.creationContext)},1)).map(function(e){var t=n._viewConfigs.filter(jn.matches(r,e));return 1<t.length&&t.sort(o(i,-1)),{uiView:e,viewConfig:t[0]}}),t=e.map(function(e){return e.viewConfig}),a=this._viewConfigs.filter(function(e){return!Y(t,e)}).map(function(e){return{uiView:void 0,viewConfig:e}});e.forEach(function(e){-1!==n._uiViews.indexOf(e.uiView)&&e.uiView.configUpdated(e.viewConfig)});var s=e.concat(a);this._listeners.forEach(function(e){return e(s)}),ft.traceViewSync(s)},jn.prototype.registerUIView=function(t){ft.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews;return e.filter(function(e){return e.fqn===t.fqn&&e.$type===t.$type}).length&&ft.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){-1!==e.indexOf(t)?(ft.traceViewServiceUIViewEvent("<- Deregistering",t),X(e)(t)):ft.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t)}},jn.prototype.available=function(){return this._uiViews.map(b("fqn"))},jn.prototype.active=function(){return this._uiViews.filter(b("$config")).map(b("name"))},jn.matches=function(s,l){return function(e){if(l.$type!==e.viewDecl.$type)return!1;var t=e.viewDecl,n=t.$uiViewName.split("."),r=l.fqn.split(".");if(!q(n,r.slice(0-n.length)))return!1;var i=1-n.length||void 0,o=r.slice(0,i).join("."),a=s[o].creationContext;return t.$uiViewContextAnchor===(a&&a.name)}},jn);function jn(e){var n=this;this.router=e,this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._listeners=[],this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIView:function(t){return le(n._uiViews,function(e){return n.router.$id+"."+e.id===t})},_registeredUIViews:function(){return n._uiViews},_activeViewConfigs:function(){return n._viewConfigs},_onSync:function(e){return n._listeners.push(e),function(){return X(n._listeners,e)}}}}var Bn=(Un.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},Un);function Un(){this.params=new St,this.lastStartedTransitionId=-1,this.transitionHistory=new Oe([],1),this.successfulTransitions=new Oe([],1)}var qn;function zn(e){if(!(S(e)||k(e)||f(Mt)(e)||Mt.isDef(e)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return S(e)?e:p(e)}qn=function(e,t){var n,r,i,o,a,s,l,c,u=(n=e,(t.priority||0)-(n.priority||0));return 0!==u?u:(r=t,0!==(u=((i={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1})[e.type]||0)-(i[r.type]||0))?u:(a=t,0!==(u=(o=e).urlMatcher&&a.urlMatcher?An.compare(o.urlMatcher,a.urlMatcher):0)?u:(l=t,(c={STATE:!0,URLMATCHER:!0})[(s=e).type]&&c[l.type]?0:(s.$id||0)-(l.$id||0))))};var Vn=(Wn.prototype.dispose=function(e){this._rules=[],delete this._otherwiseFn},Wn.prototype.initial=function(e){var t=zn(e);this.rule(this.urlRuleFactory.create(function(e,t){return 0===t.globals.transitionHistory.size()&&!!/^\/?$/.exec(e.path)},t))},Wn.prototype.otherwise=function(e){var t=zn(e);this._otherwiseFn=this.urlRuleFactory.create(p(!0),t),this._sorted=!1},Wn.prototype.removeRule=function(e){X(this._rules,e)},Wn.prototype.rule=function(e){var t=this;if(!Dn.isUrlRule(e))throw new Error("invalid rule");return e.$id=this._id++,e.priority=e.priority||0,this._rules.push(e),this._sorted=!1,function(){return t.removeRule(e)}},Wn.prototype.rules=function(){return this.ensureSorted(),this._rules.concat(this._otherwiseFn?[this._otherwiseFn]:[])},Wn.prototype.sort=function(e){for(var t=this.stableSort(this._rules,this._sortFn=e||this._sortFn),n=0,r=0;r<t.length;r++)t[r]._group=n,r<t.length-1&&0!==this._sortFn(t[r],t[r+1])&&n++;this._rules=t,this._sorted=!0},Wn.prototype.ensureSorted=function(){this._sorted||this.sort()},Wn.prototype.stableSort=function(e,r){var t=e.map(function(e,t){return{elem:e,idx:t}});return t.sort(function(e,t){var n=r(e.elem,t.elem);return 0===n?e.idx-t.idx:n}),t.map(function(e){return e.elem})},Wn.prototype.when=function(e,t,n){var r=this.urlRuleFactory.create(e,t);return $(n&&n.priority)&&(r.priority=n.priority),this.rule(r),r},Wn);function Wn(e){this.router=e,this._sortFn=qn,this._rules=[],this._id=0,this.urlRuleFactory=new Dn(e)}var Gn=(Yn.prototype.caseInsensitive=function(e){return this._isCaseInsensitive=$(e)?e:this._isCaseInsensitive},Yn.prototype.defaultSquashPolicy=function(e){if($(e)&&!0!==e&&!1!==e&&!k(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=$(e)?e:this._defaultSquashPolicy},Yn.prototype.strictMode=function(e){return this._isStrictMode=$(e)?e:this._isStrictMode},Yn.prototype.type=function(e,t,n){var r=this.paramTypes.type(e,t,n);return $(t)?this:r},Yn);function Yn(e){var t=this;this.router=e,this.paramTypes=new Et,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this.dispose=function(){return t.paramTypes.dispose()},this.baseHref=function(){return t.router.locationConfig.baseHref()},this.hashPrefix=function(e){return t.router.locationConfig.hashPrefix(e)},this.host=function(){return t.router.locationConfig.host()},this.html5Mode=function(){return t.router.locationConfig.html5Mode()},this.port=function(){return t.router.locationConfig.port()},this.protocol=function(){return t.router.locationConfig.protocol()}}var Kn=(Xn.prototype.dispose=function(){this.listen(!1),this.rules.dispose()},Xn.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},Xn.prototype.sync=function(e){if(!e||!e.defaultPrevented){var t=this.router,n=t.urlService,r=t.stateService,i={path:n.path(),search:n.search(),hash:n.hash()},o=this.match(i);v([[k,function(e){return n.url(e,!0)}],[Mt.isDef,function(e){return r.go(e.state,e.params,e.options)}],[f(Mt),function(e){return r.go(e.state(),e.params(),e.options())}]])(o&&o.rule.handler(o.match,i,this.router))}},Xn.prototype.listen=function(e){var t=this;if(!1!==e)return this._stopListeningFn=this._stopListeningFn||this.router.urlService.onChange(function(e){return t.sync(e)});this._stopListeningFn&&this._stopListeningFn(),delete this._stopListeningFn},Xn.prototype.deferIntercept=function(e){void 0===e&&(e=!0),this.interceptDeferred=e},Xn.prototype.match=function(e){var t=this;e=U({path:"",search:{},hash:""},e);for(var n,r,i,o=this.rules.rules(),a=0;a<o.length&&(!n||n.rule._group===o[a]._group);a++){var s=(r=o[a],(i=r.match(e,t.router))&&{match:i,rule:r,weight:r.matchPriority(i)});n=!n||s&&s.weight>n.weight?s:n}return n},Xn);function Xn(e){var r=this;this.router=e,this.interceptDeferred=!1,this.rules=new Vn(this.router),this.config=new Gn(this.router),this.url=function(e,t,n){return r.router.locationService.url(e,t,n)},this.path=function(){return r.router.locationService.path()},this.search=function(){return r.router.locationService.search()},this.hash=function(){return r.router.locationService.hash()},this.onChange=function(e){return r.router.locationService.onChange(e)}}var Qn=0,Zn=D("LocationServices",["url","path","search","hash","onChange"]),Jn=D("LocationConfig",["port","protocol","host","baseHref","html5Mode","hashPrefix"]),er=(tr.prototype.disposable=function(e){this._disposables.push(e)},tr.prototype.dispose=function(e){var t=this;e&&S(e.dispose)?e.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(e){try{"function"==typeof e.dispose&&e.dispose(t),X(t._disposables,e)}catch(e){}}))},tr.prototype.plugin=function(e,t){void 0===t&&(t={});var n=new e(this,t);if(!n.name)throw new Error("Required property `name` missing on plugin: "+n);return this._disposables.push(n),this._plugins[n.name]=n},tr.prototype.getPlugin=function(e){return e?this._plugins[e]:de(this._plugins)},tr);function tr(e,t){void 0===e&&(e=Zn),void 0===t&&(t=Jn),this.locationService=e,this.locationConfig=t,this.$id=Qn++,this._disposed=!1,this._disposables=[],this.trace=ft,this.viewService=new Hn(this),this.globals=new Bn,this.transitionService=new Er(this),this.urlMatcherFactory=new Pn(this),this.urlRouter=new Ln(this),this.urlService=new Kn(this),this.stateRegistry=new un(this),this.stateService=new $r(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlService),this.disposable(e),this.disposable(t)}function nr(t){t.addResolvable(It.fromData(er,t.router),""),t.addResolvable(It.fromData(xn,t),""),t.addResolvable(It.fromData("$transition$",t),""),t.addResolvable(It.fromData("$stateParams",t.params()),""),t.entering().forEach(function(e){t.addResolvable(It.fromData("$state$",e),e)})}function rr(e){function t(e){return or(e.token)?It.fromData(e.token,null):e}de(e.treeChanges()).reduce(pe,[]).reduce(ve,[]).forEach(function(e){e.resolvables=e.resolvables.map(t)})}function ir(t){var e=t.to().redirectTo;if(e){var n=t.router.stateService;return S(e)?I.$q.when(e(t)).then(r):r(e)}function r(e){if(e)return e instanceof Mt?e:k(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}}var or=Y(["$transition$",xn]);function ar(n){return function(e,t){return(0,t.$$state()[n])(e,t)}}function sr(e){return new Ut(e.treeChanges().to).resolvePath("EAGER",e).then(V)}function lr(e,t){return new Ut(e.treeChanges().to).subContext(t.$$state()).resolvePath("LAZY",e).then(V)}function cr(e){return new Ut(e.treeChanges().to).resolvePath("LAZY",e).then(V)}function ur(e){var t=I.$q,n=e.views("entering");if(n.length)return t.all(n.map(function(e){return t.when(e.load())})).then(V)}function dr(e){var t=e.views("entering"),n=e.views("exiting");if(t.length||n.length){var r=e.router.viewService;n.forEach(function(e){return r.deactivateViewConfig(e)}),t.forEach(function(e){return r.activateViewConfig(e)}),r.sync()}}function hr(e){function t(){n.transition===e&&(n.transition=null)}var n=e.router.globals;e.onSuccess({},function(){n.successfulTransitions.enqueue(e),n.$current=e.$to(),n.current=n.$current.self,Ae(e.params(),n.params)},{priority:1e4}),e.promise.then(t,t)}function fr(e){var t=e.options(),n=e.router.stateService,r=e.router.urlRouter;if("url"!==t.source&&t.location&&n.$current.navigable){var i={replace:"replace"===t.location};r.push(n.$current.navigable.url,n.params,i)}r.update(!0)}function pr(a){var s=a.router,e=a.entering().filter(function(e){return!!e.$$state().lazyLoad}).map(function(e){return yr(a,e)});return I.$q.all(e).then(function(){if("url"!==a.originalTransition().options().source){var e=a.targetState();return s.stateService.target(e.identifier(),e.params(),e.options())}var t=s.urlService,n=t.match(t.parts()),r=n&&n.rule;if(r&&"STATE"===r.type){var i=r.state,o=n.match;return s.stateService.target(i,o,a.options())}s.urlService.sync()})}var mr=ar("onExit"),gr=ar("onRetain"),vr=ar("onEnter");function yr(t,n){var r=n.$$state().lazyLoad,e=r._promise;if(!e){e=r._promise=I.$q.when(r(t,n)).then(function(e){e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)});return e}).then(function(e){return delete n.lazyLoad,delete n.$$state().lazyLoad,delete r._promise,e},function(e){return delete r._promise,I.$q.reject(e)})}return e}var br=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=fn.HANDLE_RESULT),void 0===a&&(a=fn.REJECT_ERROR),void 0===s&&(s=!1),this.name=e,this.hookPhase=t,this.hookOrder=n,this.criteriaMatchPath=r,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=s};function wr(e){var t=e._ignoredReason();if(t){ft.traceTransitionIgnored(e);var n=e.router.globals.transition;return"SameAsCurrent"===t&&n&&n.abort(),Fe.ignored().toPromise()}}function Cr(e){if(!e.valid())throw new Error(e.error().toString())}var xr={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},Er=(_r.prototype.onCreate=function(e,t,n){},_r.prototype.onBefore=function(e,t,n){},_r.prototype.onStart=function(e,t,n){},_r.prototype.onExit=function(e,t,n){},_r.prototype.onRetain=function(e,t,n){},_r.prototype.onEnter=function(e,t,n){},_r.prototype.onFinish=function(e,t,n){},_r.prototype.onSuccess=function(e,t,n){},_r.prototype.onError=function(e,t,n){},_r.prototype.dispose=function(e){de(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,X(t,e)})})},_r.prototype.create=function(e,t){return new xn(e,t,this._router)},_r.prototype._defineCoreEvents=function(){var e=m.TransitionHookPhase,t=fn,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,t.LOG_REJECTED_RESULT,t.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,t.LOG_REJECTED_RESULT,t.LOG_ERROR,!0)},_r.prototype._defineCorePaths=function(){var e=m.TransitionHookScope.STATE,t=m.TransitionHookScope.TRANSITION;this._definePathType("to",t),this._definePathType("from",t),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},_r.prototype._defineEvent=function(e,t,n,r,i,o,a,s){void 0===i&&(i=!1),void 0===o&&(o=fn.HANDLE_RESULT),void 0===a&&(a=fn.REJECT_ERROR),void 0===s&&(s=!1);var l=new br(e,t,n,r,i,o,a,s);this._eventTypes.push(l),yn(this,this,l)},_r.prototype._getEvents=function(t){return($(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(e,t){var n=e.hookPhase-t.hookPhase;return 0==n?e.hookOrder-t.hookOrder:n})},_r.prototype._definePathType=function(e,t){this._criteriaPaths[e]={name:e,scope:t}},_r.prototype._getPathTypes=function(){return this._criteriaPaths},_r.prototype.getHooks=function(e){return this._registeredHooks[e]},_r.prototype._registerCoreTransitionHooks=function(){var e=this._deregisterHookFns;e.addCoreResolves=this.onCreate({},nr),e.ignored=this.onBefore({},wr,{priority:-9999}),e.invalid=this.onBefore({},Cr,{priority:-1e4}),e.redirectTo=this.onStart({to:function(e){return!!e.redirectTo}},ir),e.onExit=this.onExit({exiting:function(e){return!!e.onExit}},mr),e.onRetain=this.onRetain({retained:function(e){return!!e.onRetain}},gr),e.onEnter=this.onEnter({entering:function(e){return!!e.onEnter}},vr),e.eagerResolve=this.onStart({},sr,{priority:1e3}),e.lazyResolve=this.onEnter({entering:p(!0)},lr,{priority:1e3}),e.resolveAll=this.onFinish({},cr,{priority:1e3}),e.loadViews=this.onFinish({},ur),e.activateViews=this.onSuccess({},dr),e.updateGlobals=this.onCreate({},hr),e.updateUrl=this.onSuccess({},fr,{priority:9999}),e.lazyLoad=this.onBefore({entering:function(e){return!!e.lazyLoad}},pr)},_r);function _r(e){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=e,this.$view=e.viewService,this._deregisterHookFns={},this._pluginapi=W(p(this),{},p(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks(),e.globals.successfulTransitions.onEvict(rr)}var $r=(Object.defineProperty(Sr.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(Sr.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(Sr.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(Sr.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),Sr.prototype.dispose=function(){this.defaultErrorHandler(V),this.invalidCallbacks=[]},Sr.prototype._handleInvalidTargetState=function(e,n){function r(){return t.transitionHistory.peekTail()}var i=this,o=Pt.makeTargetState(this.router.stateRegistry,e),t=this.router.globals,a=r(),s=new Oe(this.invalidCallbacks.slice()),l=new Ut(e).injector(),c=function(e){if(e instanceof Mt){var t=e;return(t=i.target(t.identifier(),t.params(),t.options())).valid()?r()!==a?Fe.superseded().toPromise():i.transitionTo(t.identifier(),t.params(),t.options()):Fe.invalid(t.error()).toPromise()}};return function t(){var e=s.dequeue();return void 0===e?Fe.invalid(n.error()).toPromise():I.$q.when(e(n,o,l)).then(c).then(function(e){return e||t()})}()},Sr.prototype.onInvalid=function(e){return this.invalidCallbacks.push(e),function(){X(this.invalidCallbacks)(e)}.bind(this)},Sr.prototype.reload=function(e){return this.transitionTo(this.current,this.params,{reload:!$(e)||e,inherit:!1,notify:!1})},Sr.prototype.go=function(e,t,n){var r=te(n,{relative:this.$current,inherit:!0},xr);return this.transitionTo(e,t,r)},Sr.prototype.target=function(e,t,n){if(void 0===n&&(n={}),T(n.reload)&&!n.reload.name)throw new Error("Invalid reload state object");var r=this.router.stateRegistry;if(n.reloadState=!0===n.reload?r.root():r.matcher.find(n.reload,n.relative),n.reload&&!n.reloadState)throw new Error("No such reload state '"+(k(n.reload)?n.reload:n.reload.name)+"'");return new Mt(this.router.stateRegistry,e,t,n)},Sr.prototype.getCurrentPath=function(){var e=this,t=this.router.globals.successfulTransitions.peekTail();return t?t.treeChanges().to:[new kt(e.router.stateRegistry.root())]},Sr.prototype.transitionTo=function(e,t,n){var o=this;void 0===t&&(t={}),void 0===n&&(n={});var a=this.router,s=a.globals;n=te(n,xr),n=U(n,{current:function(){return s.transition}});var r=this.target(e,t,n),i=this.getCurrentPath();if(!r.exists())return this._handleInvalidTargetState(i,r);if(!r.valid())return Ne(r.error());var l=function(i){return function(e){if(e instanceof Fe){var t=a.globals.lastStartedTransitionId<=i.$id;if(e.type===m.RejectType.IGNORED)return t&&a.urlRouter.update(),I.$q.when(s.current);var n=e.detail;if(e.type===m.RejectType.SUPERSEDED&&e.redirected&&n instanceof Mt){var r=i.redirect(n);return r.run().catch(l(r))}if(e.type===m.RejectType.ABORTED)return t&&a.urlRouter.update(),I.$q.reject(e)}return o.defaultErrorHandler()(e),I.$q.reject(e)}},c=this.router.transitionService.create(i,r),u=c.run().catch(l(c));return Me(u),U(u,{transition:c})},Sr.prototype.is=function(e,t,n){n=te(n,{relative:this.$current});var r=this.router.stateRegistry.matcher.find(e,n.relative);if($(r)){if(this.$current!==r)return!1;if(!t)return!0;var i=r.parameters({inherit:!0,matchingKeys:t});return Ct.equals(i,Ct.values(i,t),this.params)}},Sr.prototype.includes=function(e,t,n){n=te(n,{relative:this.$current});var r=k(e)&&Pe.fromString(e);if(r){if(!r.matches(this.$current.name))return!1;e=this.$current.name}var i=this.router.stateRegistry.matcher.find(e,n.relative),o=this.$current.includes;if($(i)){if(!$(o[i.name]))return!1;if(!t)return!0;var a=i.parameters({inherit:!0,matchingKeys:t});return Ct.equals(a,Ct.values(a,t),this.params)}},Sr.prototype.href=function(e,t,n){n=te(n,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),t=t||{};var r=this.router.stateRegistry.matcher.find(e,n.relative);if(!$(r))return null;n.inherit&&(t=this.params.$inherit(t,this.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,t,{absolute:n.absolute}):null},Sr.prototype.defaultErrorHandler=function(e){return this._defaultErrorHandler=e||this._defaultErrorHandler},Sr.prototype.get=function(e,t){var n=this.router.stateRegistry;return 0===arguments.length?n.get():n.get(e,t||this.$current)},Sr.prototype.lazyLoad=function(e,t){var n=this.get(e);if(!n||!n.lazyLoad)throw new Error("Can not lazy load "+e);var r=this.getCurrentPath(),i=Pt.makeTargetState(this.router.stateRegistry,r);return yr(t=t||this.router.transitionService.create(r,i),n)},Sr);function Sr(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(e){e instanceof Error&&e.stack?(console.error(e),console.error(e.stack)):e instanceof Fe?(console.error(e.toString()),e.detail&&e.detail.stack&&console.error(e.detail.stack)):console.error(e)};var t=Object.keys(Sr.prototype).filter(d(Y(["current","$current","params","transition"])));W(p(Sr.prototype),this,p(this),t)}function Ar(e,t){var n=t[0],r=t[1];return e.hasOwnProperty(n)?M(e[n])?e[n].push(r):e[n]=[e[n],r]:e[n]=r,e}function kr(e){return e.split("&").filter(z).map(et).reduce(Ar,{})}var Tr={when:function(n){return new Promise(function(e,t){return e(n)})},reject:function(n){return new Promise(function(e,t){t(n)})},defer:function(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n},all:function(e){if(M(e))return Promise.all(e);if(T(e)){var t=Object.keys(e).map(function(t){return e[t].then(function(e){return{key:t,val:e}})});return Tr.all(t).then(function(e){return e.reduce(function(e,t){return e[t.key]=t.val,e},{})})}}},Mr={},Nr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pr=/([^\s,]+)/g,Rr={get:function(e){return Mr[e]},has:function(e){return null!=Rr.get(e)},invoke:function(e,t,n){var r=U({},Mr,n||{}),i=Rr.annotate(e),o=we(function(e){return r.hasOwnProperty(e)},function(e){return"DI can't find injectable: '"+e+"'"}),a=i.filter(o).map(function(e){return r[e]});return S(e)?e.apply(t,a):e.slice(-1)[0].apply(t,a)},annotate:function(e){if(!R(e))throw new Error("Not an injectable function: "+e);if(e&&e.$inject)return e.$inject;if(M(e))return e.slice(0,-1);var t=e.toString().replace(Nr,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Pr)||[]}};function Dr(e){function t(e){return e||""}var n=Ze(e).map(t),r=n[0],i=n[1],o=Je(r).map(t);return{path:o[0],search:o[1],hash:i,url:e}}function Or(e){var t=e.path(),n=e.search(),r=e.hash(),i=Object.keys(n).map(function(t){var e=n[t];return(M(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(pe,[]).join("&");return t+(i?"?"+i:"")+(r?"#"+r:"")}function Ir(r,i,o,a){return function(e){var t=e.locationService=new o(e),n=e.locationConfig=new a(e,i);return{name:r,service:t,configuration:n,dispose:function(e){e.dispose(t),e.dispose(n)}}}}var Lr=(Fr.prototype.url=function(t,e){return void 0===e&&(e=!0),$(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate&&this._listeners.forEach(function(e){return e({url:t})})),Or(this)},Fr.prototype.onChange=function(e){var t=this;return this._listeners.push(e),function(){return X(t._listeners,e)}},Fr.prototype.dispose=function(e){ee(this._listeners)},Fr);function Fr(e,t){var n=this;this.fireAfterUpdate=t,this._listeners=[],this._listener=function(t){return n._listeners.forEach(function(e){return e(t)})},this.hash=function(){return Dr(n._get()).hash},this.path=function(){return Dr(n._get()).path},this.search=function(){return kr(Dr(n._get()).search)},this._location=L.location,this._history=L.history}var Hr,jr,Br=((Hr=function(e,t){return(Hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Hr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Ur,jr=Lr),Ur.prototype._get=function(){return Xe(this._location.hash)},Ur.prototype._set=function(e,t,n,r){this._location.hash=n},Ur.prototype.dispose=function(e){jr.prototype.dispose.call(this,e),L.removeEventListener("hashchange",this._listener)},Ur);function Ur(e){var t=jr.call(this,e,!1)||this;return L.addEventListener("hashchange",t._listener,!1),t}var qr,zr,Vr=((qr=function(e,t){return(qr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}qr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Wr,zr=Lr),Wr.prototype._get=function(){return this._url},Wr.prototype._set=function(e,t,n,r){this._url=n},Wr);function Wr(e){return zr.call(this,e,!0)||this}var Gr,Yr,Kr=((Gr=function(e,t){return(Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Gr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(Xr,Yr=Lr),Xr.prototype._getBasePrefix=function(){return Ke(this._config.baseHref())},Xr.prototype._get=function(){var e=this._location,t=e.pathname,n=e.hash,r=e.search;r=Je(r)[1],n=Ze(n)[1];var i=this._getBasePrefix(),o=t===this._config.baseHref(),a=t.substr(0,i.length)===i;return(t=o?"/":a?t.substring(i.length):t)+(r?"?"+r:"")+(n?"#"+n:"")},Xr.prototype._set=function(e,t,n,r){var i=this._getBasePrefix(),o=n&&"/"!==n[0]?"/":"",a=""===n||"/"===n?this._config.baseHref():i+o+n;r?this._history.replaceState(e,t,a):this._history.pushState(e,t,a)},Xr.prototype.dispose=function(e){Yr.prototype.dispose.call(this,e),L.removeEventListener("popstate",this._listener)},Xr);function Xr(e){var t=Yr.call(this,e,!0)||this;return t._config=e.urlService.config,L.addEventListener("popstate",t._listener,!1),t}function Qr(){var t=this;this.dispose=V,this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return $(e)?t._hashPrefix=e:t._hashPrefix}}var Zr=(Jr.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},Jr.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},Jr.prototype.host=function(){return location.hostname},Jr.prototype.html5Mode=function(){return this._isHtml5},Jr.prototype.hashPrefix=function(e){return $(e)?this._hashPrefix=e:this._hashPrefix},Jr.prototype.baseHref=function(e){return $(e)&&(this._baseHref=e),C(this._baseHref)&&(this._baseHref=this.getBaseHref()),this._baseHref},Jr.prototype.getBaseHref=function(){var e=document.getElementsByTagName("base")[0];return e&&e.href?e.href.replace(/^([^/:]*:)?\/\/[^/]*/,""):!this._isHtml5&&location.pathname||"/"},Jr.prototype.dispose=function(){},Jr);function Jr(e,t){void 0===t&&(t=!1),this._isHtml5=t,this._baseHref=void 0,this._hashPrefix=""}function ei(e){return I.$injector=Rr,{name:"vanilla.services",$q:I.$q=Tr,$injector:Rr,dispose:function(){return null}}}var ti=Ir("vanilla.hashBangLocation",!1,Br,Zr),ni=Ir("vanilla.pushStateLocation",!0,Kr,Zr),ri=Ir("vanilla.memoryLocation",!1,Vr,Qr),ii=(oi.prototype.dispose=function(e){},oi);function oi(){}var ai=Object.freeze({root:L,fromJson:H,toJson:j,forEach:B,extend:U,equals:q,identity:z,noop:V,createProxyFunctions:W,inherit:G,inArray:Y,_inArray:K,removeFrom:X,_removeFrom:Q,pushTo:Z,_pushTo:J,deregAll:ee,defaults:te,mergeR:ne,ancestors:re,pick:ie,omit:oe,pluck:ae,filter:se,find:le,mapObj:ce,map:ue,values:de,allTrueR:he,anyTrueR:fe,unnestR:pe,flattenR:me,pushR:ge,uniqR:ve,unnest:ye,flatten:be,assertPredicate:we,assertMap:Ce,assertFn:xe,pairs:Ee,arrayTuples:_e,applyPairs:$e,tail:Se,copy:Ae,_extend:ke,silenceUncaughtInPromise:Me,silentRejection:Ne,makeStub:D,services:I,Glob:Pe,curry:l,compose:n,pipe:c,prop:b,propEq:g,parse:_,not:d,and:r,or:i,all:u,any:h,is:f,eq:o,val:p,invoke:a,pattern:v,isUndefined:C,isDefined:$,isNull:y,isNullOrUndefined:x,isFunction:S,isNumber:A,isString:k,isObject:T,isArray:M,isDate:N,isRegExp:P,isInjectable:R,isPromise:O,Queue:Oe,maxLength:je,padString:Be,kebobString:Ue,functionToString:qe,fnToString:ze,stringify:Ge,beforeAfterSubstr:Ye,hostRegex:Qe,stripLastPathElement:Ke,splitHash:Ze,splitQuery:Je,splitEqual:et,trimHashVal:Xe,splitOnDelim:tt,joinNeighborsR:nt,get Category(){return m.Category},Trace:dt,trace:ft,get DefType(){return m.DefType},Param:Ct,ParamTypes:Et,StateParams:St,ParamType:pt,PathNode:kt,PathUtils:Pt,resolvePolicies:Dt,defaultResolvePolicy:Ot,Resolvable:It,NATIVE_INJECTOR_TOKEN:Bt,ResolveContext:Ut,resolvablesBuilder:Zt,StateBuilder:Jt,StateObject:tn,StateMatcher:rn,StateQueueManager:an,StateRegistry:un,StateService:$r,TargetState:Mt,get TransitionHookPhase(){return m.TransitionHookPhase},get TransitionHookScope(){return m.TransitionHookScope},HookBuilder:bn,matchState:mn,RegisteredHook:gn,makeEvent:yn,get RejectType(){return m.RejectType},Rejection:Fe,Transition:xn,TransitionHook:fn,TransitionEventType:br,defaultTransOpts:xr,TransitionService:Er,UrlRules:Vn,UrlConfig:Gn,UrlMatcher:An,ParamFactory:Mn,UrlMatcherFactory:Pn,UrlRouter:Ln,UrlRuleFactory:Dn,BaseUrlRule:In,UrlService:Kn,ViewService:Hn,UIRouterGlobals:Bn,UIRouter:er,$q:Tr,$injector:Rr,BaseLocationServices:Lr,HashLocationService:Br,MemoryLocationService:Vr,PushStateLocationService:Kr,MemoryLocationConfig:Qr,BrowserLocationConfig:Zr,keyValsToObjectR:Ar,getParams:kr,parseUrl:Dr,buildUrl:Or,locationPluginFactory:Ir,servicesPlugin:ei,hashLocationPlugin:ti,pushStateLocationPlugin:ni,memoryLocationPlugin:ri,UIRouterPluginBase:ii});function si(){var n=null;return function(e,t){return n=n||I.$injector.get("$templateFactory"),[new di(e,t,n)]}}var li=function(e,n){return e.reduce(function(e,t){return e||$(n[t])},!1)};function ci(r){if(!r.parent)return{};var i=["component","bindings","componentProvider"],o=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs","resolveAs"]),e=i.concat(o);if($(r.views)&&li(e,r))throw new Error("State '"+r.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+e.filter(function(e){return $(r[e])}).join(", "));var a={},t=r.views||{$default:ie(r,e)};return B(t,function(e,t){if(t=t||"$default",k(e)&&(e={component:e}),e=U({},e),li(i,e)&&li(o,e))throw new Error("Cannot combine: "+i.join("|")+" with: "+o.join("|")+" in stateview: '"+t+"@"+r.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=r,e.$name=t;var n=Hn.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=n.uiViewName,e.$uiViewContextAnchor=n.uiViewContextAnchor,a[t]=e}),a}var ui=0,di=(hi.prototype.load=function(){var t=this,e=I.$q,n=new Ut(this.path),r=this.path.reduce(function(e,t){return U(e,t.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,r,n)),controller:e.when(this.getController(n))};return e.all(i).then(function(e){return ft.traceViewServiceEvent("Loaded",t),t.controller=e.controller,U(t,e.template),t})},hi.prototype.getController=function(e){var t=this.viewDecl.controllerProvider;if(!R(t))return this.viewDecl.controller;var n=I.$injector.annotate(t),r=M(t)?Se(t):t;return new It("",r,n).get(e)},hi);function hi(e,t,n){var r=this;this.path=e,this.viewDecl=t,this.factory=n,this.$id=ui++,this.loaded=!1,this.getTemplate=function(e,t){return r.component?r.factory.makeComponentTemplate(e,t,r.component,r.viewDecl.bindings):r.template}}var fi=(pi.prototype.useHttpService=function(e){this._useHttp=e},pi.prototype.fromConfig=function(e,t,n){function r(e){return I.$q.when(e).then(function(e){return{template:e}})}function i(e){return I.$q.when(e).then(function(e){return{component:e}})}return $(e.template)?r(this.fromString(e.template,t)):$(e.templateUrl)?r(this.fromUrl(e.templateUrl,t)):$(e.templateProvider)?r(this.fromProvider(e.templateProvider,t,n)):$(e.component)?i(e.component):$(e.componentProvider)?i(this.fromComponentProvider(e.componentProvider,t,n)):r("<ui-view></ui-view>")},pi.prototype.fromString=function(e,t){return S(e)?e(t):e},pi.prototype.fromUrl=function(e,t){return S(e)&&(e=e(t)),null==e?null:this._useHttp?this.$http.get(e,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(e){return e.data}):this.$templateRequest(e)},pi.prototype.fromProvider=function(e,t,n){var r=I.$injector.annotate(e),i=M(e)?Se(e):e;return new It("",i,r).get(n)},pi.prototype.fromComponentProvider=function(e,t,n){var r=I.$injector.annotate(e),i=M(e)?Se(e):e;return new It("",i,r).get(n)},pi.prototype.makeComponentTemplate=function(l,c,e,u){function d(e){var t=Ue(e);return/^(x|data)-/.exec(t)?"x-"+t:t}u=u||{};var h=3<=E.version.minor?"::":"",t=function(e){var t=I.$injector.get(e+"Directive");if(!t||!t.length)throw new Error("Unable to find component named '"+e+"'");return t.map(mi).reduce(pe,[])}(e).map(function(e){var t=e.name,n=e.type,r=d(t);if(l.attr(r)&&!u[t])return r+"='"+l.attr(r)+"'";var i=u[t]||t;if("@"===n)return r+"='{{"+h+"$resolve."+i+"}}'";if("&"!==n)return r+"='"+h+"$resolve."+i+"'";var o=c.getResolvable(i),a=o&&o.data,s=a&&I.$injector.annotate(a)||[];return r+"='$resolve."+i+(M(a)?"["+(a.length-1)+"]":"")+"("+s.join(",")+")'"}).join(" "),n=d(e);return"<"+n+" "+t+"></"+n+">"},pi);function pi(){var r=this;this._useHttp=E.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,t,n){return r.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),r.$http=e,r.$templateCache=t,r}]}var mi=function(e){return T(e.bindToController)?gi(e.bindToController):gi(e.scope)},gi=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(e){return $(e)&&M(e[1])}).map(function(e){return{name:e[1][2]||e[0],type:e[1][1]}})},vi=(yi.prototype.decorator=function(e,t){return this.stateRegistry.decorator(e,t)||this},yi.prototype.state=function(e,t){return T(e)?t=e:t.name=e,this.stateRegistry.register(t),this},yi.prototype.onInvalid=function(e){return this.stateService.onInvalid(e)},yi);function yi(e,t){this.stateRegistry=e,this.stateService=t,W(p(yi.prototype),this,p(this))}function bi(t){return function(e){var i=e[t],o="onExit"===t?"from":"to";return i?function(e,t){var n=new Ut(e.treeChanges(o)).subContext(t.$$state()),r=U(Fi(n),{$state$:t,$transition$:e});return I.$injector.invoke(i,this,r)}:void 0}}var wi=(Ci.monkeyPatchPathParameterType=function(e){var t=e.urlMatcherFactory.type("path");t.encode=function(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e},t.decode=function(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}},Ci.prototype.dispose=function(){},Ci.prototype.onChange=function(e){var t=this;return this._urlListeners.push(e),function(){return X(t._urlListeners)(e)}},Ci.prototype.html5Mode=function(){var e=this.$locationProvider.html5Mode();return(e=T(e)?e.enabled:e)&&this.$sniffer.history},Ci.prototype.baseHref=function(){return this._baseHref||(this._baseHref=this.$browser.baseHref()||this.$window.location.pathname)},Ci.prototype.url=function(e,t,n){return void 0===t&&(t=!1),$(e)&&this.$location.url(e),t&&this.$location.replace(),n&&this.$location.state(n),this.$location.url()},Ci.prototype._runtimeServices=function(e,t,n,r,i){var o=this;this.$location=t,this.$sniffer=n,this.$browser=r,this.$window=i,e.$on("$locationChangeSuccess",function(t){return o._urlListeners.forEach(function(e){return e(t)})});var a=p(t);W(a,this,a,["replace","path","search","hash"]),W(a,this,a,["port","protocol","host"])},Ci);function Ci(e){this._urlListeners=[],this.$locationProvider=e;var t=p(e);W(t,this,t,["hashPrefix"])}var xi=(Ei.injectableHandler=function(t,n){return function(e){return I.$injector.invoke(n,null,{$match:e,$stateParams:t.globals.params})}},Ei.prototype.$get=function(){var e=this.router.urlService;return this.router.urlRouter.update(!0),e.interceptDeferred||e.listen(),this.router.urlRouter},Ei.prototype.rule=function(e){var t=this;if(!S(e))throw new Error("'rule' must be a function");var n=new In(function(){return e(I.$injector,t.router.locationService)},z);return this.router.urlService.rules.rule(n),this},Ei.prototype.otherwise=function(e){var t=this,n=this.router.urlService.rules;if(k(e))n.otherwise(e);else{if(!S(e))throw new Error("'rule' must be a string or function");n.otherwise(function(){return e(I.$injector,t.router.locationService)})}return this},Ei.prototype.when=function(e,t){return(M(t)||S(t))&&(t=Ei.injectableHandler(this.router,t)),this.router.urlService.rules.when(e,t),this},Ei.prototype.deferIntercept=function(e){this.router.urlService.deferIntercept(e)},Ei);function Ei(e){this.router=e}E.module("ui.router.angular1",[]);var _i=E.module("ui.router.init",["ng"]),$i=E.module("ui.router.util",["ui.router.init"]),Si=E.module("ui.router.router",["ui.router.util"]),Ai=E.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),ki=E.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),Ti=(E.module("ui.router.compat",["ui.router"]),null);function Mi(e){(Ti=this.router=new er).stateProvider=new vi(Ti.stateRegistry,Ti.stateService),Ti.stateRegistry.decorator("views",ci),Ti.stateRegistry.decorator("onExit",bi("onExit")),Ti.stateRegistry.decorator("onRetain",bi("onRetain")),Ti.stateRegistry.decorator("onEnter",bi("onEnter")),Ti.viewService._pluginapi._viewConfigFactory("ng1",si());var s=Ti.locationService=Ti.locationConfig=new wi(e);function t(e,t,n,r,i,o,a){return s._runtimeServices(i,e,r,t,n),delete Ti.router,delete Ti.$get,Ti}return wi.monkeyPatchPathParameterType(Ti),((Ti.router=Ti).$get=t).$inject=["$location","$browser","$window","$sniffer","$rootScope","$http","$templateCache"],Ti}Mi.$inject=["$locationProvider"];function Ni(n){return["$uiRouterProvider",function(e){var t=e.router[n];return t.$get=function(){return t},t}]}function Pi(t,e,n){if(I.$injector=t,I.$q=e,!t.hasOwnProperty("strictDi"))try{t.invoke(function(e){})}catch(e){t.strictDi=!!/strict mode/.exec(e&&e.toString())}n.stateRegistry.get().map(function(e){return e.$$state().resolvables}).reduce(pe,[]).filter(function(e){return"deferred"===e.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}Pi.$inject=["$injector","$q","$uiRouter"];function Ri(e){e.$watch(function(){ft.approximateDigests++})}Ri.$inject=["$rootScope"],_i.provider("$uiRouter",Mi),Si.provider("$urlRouter",["$uiRouterProvider",function(e){return e.urlRouterProvider=new xi(e)}]),$i.provider("$urlService",Ni("urlService")),$i.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return Ti.urlMatcherFactory}]),$i.provider("$templateFactory",function(){return new fi}),Ai.provider("$stateRegistry",Ni("stateRegistry")),Ai.provider("$uiRouterGlobals",Ni("globals")),Ai.provider("$transitions",Ni("transitionService")),Ai.provider("$state",["$uiRouterProvider",function(){return U(Ti.stateProvider,{$get:function(){return Ti.stateService}})}]),Ai.factory("$stateParams",["$uiRouter",function(e){return e.globals.params}]),ki.factory("$view",function(){return Ti.viewService}),ki.service("$trace",function(){return ft}),ki.run(Ri),$i.run(["$urlMatcherFactory",function(e){}]),Ai.run(["$state",function(e){}]),Si.run(["$urlRouter",function(e){}]),_i.run(Pi);var Di,Oi,Ii,Li,Fi=function(n){return n.getTokens().filter(k).map(function(e){var t=n.getResolvable(e);return[e,"NOWAIT"===n.getPolicy(t).async?t.promise:t.data]}).reduce($e,{})};function Hi(e){var t,n=e.match(/^\s*({[^}]*})\s*$/);if(n&&(e="("+n[1]+")"),!(t=e.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1]||null,paramExpr:t[3]||null}}function ji(e){var t=e.parent().inheritedData("$uiView"),n=_("$cfg.path")(t);return n?Se(n).state.name:void 0}function Bi(e,t,n){var r,i=n.uiState||e.current.name,o=U((r=e,{relative:ji(t)||r.$current,inherit:!0,source:"sref"}),n.uiStateOpts||{}),a=e.href(i,n.uiStateParams,o);return{uiState:i,uiStateParams:n.uiStateParams,uiStateOpts:o,href:a}}function Ui(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function qi(o,a,s,l,c){return function(e){var t=e.which||e.button,n=c();if(!(1<t||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var r=s(function(){o.attr("disabled")||a.go(n.uiState,n.uiStateParams,n.uiStateOpts)});e.preventDefault();var i=l.isAnchor&&!n.href?1:0;e.preventDefault=function(){i--<=0&&s.cancel(r)}}}}function zi(i,e,o,t){var a;t&&(a=t.events),M(a)||(a=["click"]);for(var n=i.on?"on":"bind",r=0,s=a;r<s.length;r++){var l=s[r];i[n](l,o)}e.$on("$destroy",function(){for(var e=i.off?"off":"unbind",t=0,n=a;t<n.length;t++){var r=n[t];i[e](r,o)}})}function Vi(r){function e(e,t,n){return r.is(e,t,n)}return e.$stateful=!0,e}function Wi(r){function e(e,t,n){return r.includes(e,t,n)}return e.$stateful=!0,e}function Gi(m,g,v,e,y,t){var b=_("viewDecl.controllerAs"),w=_("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(e){var p=e.html();return e.empty(),function(t,n){var e=n.data("$uiView");if(!e)return n.html(p),void m(n.contents())(t);var r=e.$cfg||{viewDecl:{},getTemplate:V},i=r.path&&new Ut(r.path);n.html(r.getTemplate(n,i)||p),ft.traceUIViewFill(e.$uiView,n.html());var o=m(n.contents()),a=r.controller,s=b(r),l=w(r),c=i&&Fi(i);if(t[l]=c,a){var u=g(a,U({},c,{$scope:t,$element:n}));s&&(t[s]=u,t[s][l]=c),n.data("$ngControllerController",u),n.children().data("$ngControllerController",u),Xi(y,v,u,t,r)}if(k(r.component))var d=Ue(r.component),h=new RegExp("^(x-|data-)?"+d+"$","i"),f=t.$watch(function(){var e=[].slice.call(n[0].children).filter(function(e){return e&&e.tagName&&h.exec(e.tagName)});return e&&E.element(e).data("$"+r.component+"Controller")},function(e){e&&(Xi(y,v,e,t,r),f())});o(t)}}}}Di=["$uiRouter","$timeout",function(h,f){var p=h.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,t,n,r){function i(){return Bi(p,t,c)}var o,a=Ui(t),s=r[1]||r[0],l=null,c={},u=Hi(n.uiSref);function d(){var e=i();l&&l(),s&&(l=s.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&n.$set(a.attr,e.href)}c.uiState=u.state,c.uiStateOpts=n.uiSrefOpts?e.$eval(n.uiSrefOpts):{},u.paramExpr&&(e.$watch(u.paramExpr,function(e){c.uiStateParams=U({},e),d()},!0),c.uiStateParams=U({},e.$eval(u.paramExpr))),d(),e.$on("$destroy",h.stateRegistry.onStatesChanged(d)),e.$on("$destroy",h.transitionService.onSuccess({},d)),a.clickable&&(o=qi(t,p,f,a,i),zi(t,e,o,c.uiStateOpts))}}}],Oi=["$uiRouter","$timeout",function(f,p){var m=f.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,e,r,t){function i(){return Bi(m,e,c)}var o,a=Ui(e),s=t[1]||t[0],l=null,c={},u=["uiState","uiStateParams","uiStateOpts"],d=u.reduce(function(e,t){return e[t]=V,e},{});function h(){var e=i();l&&l(),s&&(l=s.$$addStateInfo(e.uiState,e.uiStateParams)),null!=e.href&&r.$set(a.attr,e.href)}u.forEach(function(t){c[t]=r[t]?n.$eval(r[t]):null,r.$observe(t,function(e){d[t](),d[t]=n.$watch(e,function(e){c[t]=e,h()},!0)})}),h(),n.$on("$destroy",f.stateRegistry.onStatesChanged(h)),n.$on("$destroy",f.transitionService.onSuccess({},h)),a.clickable&&(o=qi(e,m,p,a,i),zi(e,n,o,c.uiStateOpts))}}}],Ii=["$state","$stateParams","$interpolate","$uiRouter",function(p,e,m,g){return{restrict:"A",controller:["$scope","$element","$attrs",function(s,l,e){var c,r,t,n,i,u=[];c=m(e.uiSrefActiveEq||"",!1)(s);try{r=s.$eval(e.uiSrefActive)}catch(e){}function o(e){e.promise.then(f,V)}function a(){d(r)}function d(e){T(e)&&(u=[],B(e,function(e,t){function n(e,t){var n=Hi(e);h(n.state,s.$eval(n.paramExpr),t)}k(e)?n(e,t):M(e)&&B(e,function(e){n(e,t)})}))}function h(e,t,n){var r={state:p.get(e,ji(l))||{name:e},params:t,activeClass:n};return u.push(r),function(){X(u)(r)}}function f(){function t(e){return e.split(/\s/).filter(z)}function e(e){return e.map(function(e){return e.activeClass}).map(t).reduce(pe,[])}var n=e(u).concat(t(c)).reduce(ve,[]),r=e(u.filter(function(e){return p.includes(e.state.name,e.params)})),i=!!u.filter(function(e){return p.is(e.state.name,e.params)}).length?t(c):[],o=r.concat(i).reduce(ve,[]),a=n.filter(function(e){return!Y(o,e)});s.$evalAsync(function(){o.forEach(function(e){return l.addClass(e)}),a.forEach(function(e){return l.removeClass(e)})})}d(r=r||m(e.uiSrefActive||"",!1)(s)),this.$$addStateInfo=function(e,t){if(!(T(r)&&0<u.length)){var n=h(e,t,r);return f(),n}},s.$on("$destroy",(t=g.stateRegistry.onStatesChanged(a),n=g.transitionService.onStart({},o),i=s.$on("$stateChangeSuccess",f),function(){t(),n(),i()})),g.globals.transition&&o(g.globals.transition),f()}]}}],E.module("ui.router.state").directive("uiSref",Di).directive("uiSrefActive",Ii).directive("uiSrefActiveEq",Ii).directive("uiState",Oi),Vi.$inject=["$state"],Wi.$inject=["$state"],E.module("ui.router.state").filter("isState",Vi).filter("includedByState",Wi),Li=["$view","$animate","$uiViewScroll","$interpolate","$q",function(i,o,y,b,w){var C={$cfg:{viewDecl:{$context:i._pluginapi._rootViewContext()}},$uiView:{}},x={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,t,v){return function(a,s,e){var l,c,u,d,t,h=e.onload||"",f=e.autoscroll,p={enter:function(e,t,n){2<E.version.minor?o.enter(e,null,t).then(n):o.enter(e,null,t,n)},leave:function(e,t){2<E.version.minor?o.leave(e).then(t):o.leave(e,t)}},n=s.inheritedData("$uiView")||C,m=b(e.uiView||e.name||"")(a)||"$default",g={$type:"ng1",id:x.count++,name:m,fqn:n.$uiView.fqn?n.$uiView.fqn+"."+m:m,config:null,configUpdated:function(e){if(e&&!(e instanceof di))return;if(function(e,t){return e===t}(d,e))return;ft.traceUIViewConfigUpdated(g,e&&e.viewDecl&&e.viewDecl.$context),r(d=e)},get creationContext(){var e=_("$cfg.viewDecl.$context")(n),t=_("$uiView.creationContext")(n);return e||t}};function r(e){var t=a.$new(),n=w.defer(),r=w.defer(),i={$cfg:e,$uiView:g},o={$animEnter:n.promise,$animLeave:r.promise,$$animLeave:r};t.$emit("$viewContentLoading",m),c=v(t,function(e){e.data("$uiViewAnim",o),e.data("$uiView",i),p.enter(e,s,function(){n.resolve(),u&&u.$emit("$viewContentAnimationEnded"),($(f)&&!f||a.$eval(f))&&y(e)}),function(){if(l&&(ft.traceUIViewEvent("Removing (previous) el",l.data("$uiView")),l.remove(),l=null),u&&(ft.traceUIViewEvent("Destroying scope",g),u.$destroy(),u=null),c){var e=c.data("$uiViewAnim");ft.traceUIViewEvent("Animate out",e),p.leave(c,function(){e.$$animLeave.resolve(),l=null}),l=c,c=null}}()}),(u=t).$emit("$viewContentLoaded",e||d),u.$eval(h)}ft.traceUIViewEvent("Linking",g),s.data("$uiView",{$uiView:g}),r(),t=i.registerUIView(g),a.$on("$destroy",function(){ft.traceUIViewEvent("Destroying/Unregistering",g),t()})}}};return x}],Gi.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var Yi="function"==typeof E.module("ui.router").component,Ki=0;function Xi(r,e,c,t,n){!S(c.$onInit)||n.viewDecl.component&&Yi||c.$onInit();var u=Se(n.path).state.self,i={bind:c};if(S(c.uiOnParamsChanged)){var d=new Ut(n.path).getResolvable("$transition$").data;t.$on("$destroy",e.onSuccess({},function(e){if(e!==d&&-1===e.exiting().indexOf(u)){var n=e.params("to"),r=e.params("from"),t=function(e){return e.paramSchema},i=e.treeChanges("to").map(t).reduce(pe,[]),o=e.treeChanges("from").map(t).reduce(pe,[]),a=i.filter(function(e){var t=o.indexOf(e);return-1===t||!o[t].type.equals(n[e.id],r[e.id])});if(a.length){var s=a.map(function(e){return e.id}),l=se(n,function(e,t){return-1!==s.indexOf(t)});c.uiOnParamsChanged(l,e)}}},i))}if(S(c.uiCanExit)){var o=Ki++,a="_uiCanExitIds",s=function(e){return!!e&&(e[a]&&!0===e[a][o]||s(e.redirectedFrom()))},l={exiting:u.name};t.$on("$destroy",e.onBefore(l,function(e){var t,n=e[a]=e[a]||{};return s(e)||(t=r.when(c.uiCanExit(e))).then(function(e){return n[o]=!1!==e}),t},i))}}E.module("ui.router.state").directive("uiView",Li),E.module("ui.router.state").directive("uiView",Gi),E.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(e,t){return n?e:function(e){return t(function(){e[0].scrollIntoView()},0,!1)}}]});m.default="ui.router",m.core=ai,m.watchDigests=Ri,m.getLocals=Fi,m.getNg1ViewConfigFactory=si,m.ng1ViewsBuilder=ci,m.Ng1ViewConfig=di,m.StateProvider=vi,m.UrlRouterProvider=xi,m.root=L,m.fromJson=H,m.toJson=j,m.forEach=B,m.extend=U,m.equals=q,m.identity=z,m.noop=V,m.createProxyFunctions=W,m.inherit=G,m.inArray=Y,m._inArray=K,m.removeFrom=X,m._removeFrom=Q,m.pushTo=Z,m._pushTo=J,m.deregAll=ee,m.defaults=te,m.mergeR=ne,m.ancestors=re,m.pick=ie,m.omit=oe,m.pluck=ae,m.filter=se,m.find=le,m.mapObj=ce,m.map=ue,m.values=de,m.allTrueR=he,m.anyTrueR=fe,m.unnestR=pe,m.flattenR=me,m.pushR=ge,m.uniqR=ve,m.unnest=ye,m.flatten=be,m.assertPredicate=we,m.assertMap=Ce,m.assertFn=xe,m.pairs=Ee,m.arrayTuples=_e,m.applyPairs=$e,m.tail=Se,m.copy=Ae,m._extend=ke,m.silenceUncaughtInPromise=Me,m.silentRejection=Ne,m.makeStub=D,m.services=I,m.Glob=Pe,m.curry=l,m.compose=n,m.pipe=c,m.prop=b,m.propEq=g,m.parse=_,m.not=d,m.and=r,m.or=i,m.all=u,m.any=h,m.is=f,m.eq=o,m.val=p,m.invoke=a,m.pattern=v,m.isUndefined=C,m.isDefined=$,m.isNull=y,m.isNullOrUndefined=x,m.isFunction=S,m.isNumber=A,m.isString=k,m.isObject=T,m.isArray=M,m.isDate=N,m.isRegExp=P,m.isInjectable=R,m.isPromise=O,m.Queue=Oe,m.maxLength=je,m.padString=Be,m.kebobString=Ue,m.functionToString=qe,m.fnToString=ze,m.stringify=Ge,m.beforeAfterSubstr=Ye,m.hostRegex=Qe,m.stripLastPathElement=Ke,m.splitHash=Ze,m.splitQuery=Je,m.splitEqual=et,m.trimHashVal=Xe,m.splitOnDelim=tt,m.joinNeighborsR=nt,m.Trace=dt,m.trace=ft,m.Param=Ct,m.ParamTypes=Et,m.StateParams=St,m.ParamType=pt,m.PathNode=kt,m.PathUtils=Pt,m.resolvePolicies=Dt,m.defaultResolvePolicy=Ot,m.Resolvable=It,m.NATIVE_INJECTOR_TOKEN=Bt,m.ResolveContext=Ut,m.resolvablesBuilder=Zt,m.StateBuilder=Jt,m.StateObject=tn,m.StateMatcher=rn,m.StateQueueManager=an,m.StateRegistry=un,m.StateService=$r,m.TargetState=Mt,m.HookBuilder=bn,m.matchState=mn,m.RegisteredHook=gn,m.makeEvent=yn,m.Rejection=Fe,m.Transition=xn,m.TransitionHook=fn,m.TransitionEventType=br,m.defaultTransOpts=xr,m.TransitionService=Er,m.UrlRules=Vn,m.UrlConfig=Gn,m.UrlMatcher=An,m.ParamFactory=Mn,m.UrlMatcherFactory=Pn,m.UrlRouter=Ln,m.UrlRuleFactory=Dn,m.BaseUrlRule=In,m.UrlService=Kn,m.ViewService=Hn,m.UIRouterGlobals=Bn,m.UIRouter=er,m.$q=Tr,m.$injector=Rr,m.BaseLocationServices=Lr,m.HashLocationService=Br,m.MemoryLocationService=Vr,m.PushStateLocationService=Kr,m.MemoryLocationConfig=Qr,m.BrowserLocationConfig=Zr,m.keyValsToObjectR=Ar,m.getParams=kr,m.parseUrl=Dr,m.buildUrl=Or,m.locationPluginFactory=Ir,m.servicesPlugin=ei,m.hashLocationPlugin=ti,m.pushStateLocationPlugin=ni,m.memoryLocationPlugin=ri,m.UIRouterPluginBase=ii,Object.defineProperty(m,"__esModule",{value:!0})}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(r){return function(e,t){if("__setXHR_"===e){var n=t(this);n instanceof Function&&n(this)}else r.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);function uiCodemirrorDirective(a,s){return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return e}};function e(e,t,n,r){var i=angular.extend({value:t.text()},s.codemirror||{},e.$eval(n.uiCodemirror),e.$eval(n.uiCodemirrorOpts)),o=function(t,e){var n;n="TEXTAREA"===t[0].tagName?window.CodeMirror.fromTextArea(t[0],e):(t.html(""),new window.CodeMirror(function(e){t.append(e)},e));return n}(t,i);!function(r,e,t){if(!e)return;var i=Object.keys(window.CodeMirror.defaults);t.$watch(e,function(t,n){angular.isObject(t)&&i.forEach(function(e){if(t.hasOwnProperty(e)){if(n&&t[e]===n[e])return;r.setOption(e,t[e])}})},!0)}(o,n.uiCodemirror||n.uiCodemirrorOpts,e),function(t,n,r){if(!n)return;n.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),n.$render=function(){var e=n.$viewValue||"";t.setValue(e)},t.on("change",function(e){var t=e.getValue();t!==n.$viewValue&&r.$evalAsync(function(){n.$setViewValue(t)})})}(o,r,e),function(n,e,t){if(!e)return;t.$watch(e,function(e,t){e!==t&&a(function(){n.refresh()})})}(o,n.uiRefresh,e),e.$on("CodeMirror",function(e,t){if(!angular.isFunction(t))throw new Error("the CodeMirror event requires a callback function");t(o)}),angular.isFunction(i.onLoad)&&i.onLoad(o)}}ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(s,e,l){var c=this;c.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var u=this.isResumeSupported();function t(n){n.method=n.method||"POST",n.headers=n.headers||{};var r=n._deferred=n._deferred||e.defer(),i=r.promise;function o(e){r.notify&&r.notify(e),i.progressFunc&&l(function(){i.progressFunc(e)})}function t(e){return null!=n._start&&u?{loaded:e.loaded+n._start,total:n._file&&n._file.size||e.total,type:e.type,config:n,lengthComputable:!0,target:e.target}:e}function a(){s(n).then(function(e){if(u&&n._chunkSize&&!n._finished&&n._file){var t=n._file&&n._file.size||0;o({loaded:Math.min(n._end,t),total:t,config:n,type:"progress"}),c.upload(n,!0)}else n._finished&&delete n._finished,r.resolve(e)},function(e){r.reject(e)},function(e){r.notify(e)})}return n.disableProgress||(n.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=n,o(t(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=n,o(t(e)))},!1))}}),u?n._chunkSize&&n._end&&!n._finished?(n._start=n._end,n._end+=n._chunkSize,a()):n.resumeSizeUrl?s.get(n.resumeSizeUrl).then(function(e){n.resumeSizeResponseReader?n._start=n.resumeSizeResponseReader(e.data):n._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),n._chunkSize&&(n._end=n._start+n._chunkSize),a()},function(e){throw e}):n.resumeSize?n.resumeSize().then(function(e){n._start=e,n._chunkSize&&(n._end=n._start+n._chunkSize),a()},function(e){throw e}):(n._chunkSize&&(n._start=0,n._end=n._start+n._chunkSize),a()):a(),i.success=function(t){return i.then(function(e){t(e.data,e.status,e.headers,n)}),i},i.error=function(t){return i.then(null,function(e){t(e.data,e.status,e.headers,n)}),i},i.progress=function(t){return i.progressFunc=t,i.then(null,null,function(e){t(e)}),i},i.abort=i.pause=function(){return n.__XHR&&l(function(){n.__XHR.abort()}),i},i.xhr=function(e){var t;return n.xhrFn=(t=n.xhrFn,function(){t&&t.apply(i,arguments),e.apply(i,arguments)}),i},c.promisesCount++,i.finally&&i.finally instanceof Function&&i.finally(function(){c.promisesCount--}),i}function n(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}this.isUploadInProgress=function(){return 0<c.promisesCount},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(s,e){function l(e,t,n){if(void 0!==t)if(angular.isDate(t)&&(t=t.toISOString()),angular.isString(t))e.append(n,t);else if(c.isFile(t)){var r=function(e,t){if(e._ngfBlob)return e;if(s._file=s._file||e,null!=s._start&&u){s._end&&s._end>=e.size&&(s._finished=!0,s._end=e.size);var n=e.slice(s._start,s._end||e.size);return n.name=e.name,n.ngfName=e.ngfName,s._chunkSize&&(t.append("_chunkSize",s._chunkSize),t.append("_currentChunkSize",s._end-s._start),t.append("_chunkNumber",Math.floor(s._start/s._chunkSize)),t.append("_totalSize",s._file.size)),n}return e}(t,e),i=n.split(",");i[1]&&(r.ngfName=i[1].replace(/^\s+|\s+$/g,""),n=i[0]),s._fileKey=s._fileKey||n,e.append(n,r,r.ngfName||r.name)}else if(angular.isObject(t)){if(t.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+n;t.$$ngfCircularDetection=!0;try{for(var o in t)if(t.hasOwnProperty(o)&&"$$ngfCircularDetection"!==o){var a=null==s.objectKey?"[i]":s.objectKey;t.length&&-1<parseInt(o)&&(a=null==s.arrayKey?a:s.arrayKey),l(e,t[o],n+a.replace(/[ik]/g,o))}}finally{delete t.$$ngfCircularDetection}}else e.append(n,t)}return e||(s=n(s)),s._isDigested||(s._isDigested=!0,s._chunkSize=c.translateScalars(s.resumeChunkSize),s._chunkSize=s._chunkSize?parseInt(s._chunkSize.toString()):null,s.headers=s.headers||{},s.headers["Content-Type"]=void 0,s.transformRequest=s.transformRequest?angular.isArray(s.transformRequest)?s.transformRequest:[s.transformRequest]:[],s.transformRequest.push(function(e){var t,n=new window.FormData;for(t in e=e||s.fields||{},s.file&&(e.file=s.file),e)if(e.hasOwnProperty(t)){var r=e[t];s.formDataAppender?s.formDataAppender(n,t,r):l(n,r,t)}return n})),t(s)},this.http=function(e){return(e=n(e)).transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:s.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=c.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,t(e)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(o){var a=e.defer();return s({url:o,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),n=e.headers("content-type")||"image/WebP",r=new window.Blob([t],{type:n}),i=o.match(/.*\/(.+?)(\?.*)?$/);1<i.length&&(r.name=i[1]),a.resolve(r)},function(e){a.reject(e)}),a.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(x,E,e,_,t){var $=t;function S(r,i,o,a,s){var l=[$.emptyPromise()];function e(n,t){if(0===n.type.indexOf("image")){if(r.pattern&&!$.validatePattern(n,r.pattern))return;r.resizeIf=function(e,t){return $.attrGetter("ngfResizeIf",o,a,{$width:e,$height:t,$file:n})};var e=$.resize(n,r);l.push(e),e.then(function(e){i.splice(t,1,e)},function(e){n.$error="resize",(n.$errorMessages=n.$errorMessages||{}).resize=!0,n.$errorParam=(e?(e.message?e.message:e)+": ":"")+(n&&n.name),s.$ngfValidations.push({name:"resize",valid:!1}),$.applyModelValidation(s,i)})}}for(var t=0;t<i.length;t++)e(i[t],t);return _.all(l)}return $.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=$.defaults[t];return null==n||angular.isString(n)?n:JSON.stringify(n)},$.attrGetter=function(t,e,n,r){var i=this.getAttrWithDefaults(e,t);if(!n)return i;try{return r?x(i)(n,r):x(i)(n)}catch(e){if(t.search(/min|max|pattern/i))return i;throw e}},$.shouldUpdateOn=function(e,t,n){var r=$.attrGetter("ngfModelOptions",t,n);return!r||!r.updateOn||-1<r.updateOn.split(" ").indexOf(e)},$.emptyPromise=function(){var e=_.defer(),t=arguments;return E(function(){e.resolve.apply(e,t)}),e.promise},$.rejectPromise=function(){var e=_.defer(),t=arguments;return E(function(){e.reject.apply(e,t)}),e.promise},$.happyPromise=function(e,t){var n=_.defer();return e.then(function(e){n.resolve(e)},function(e){E(function(){throw e}),n.resolve(t)}),n.promise},$.updateModel=function(l,c,u,d,a,h,t){function s(e,t,n,r,i){c.$$ngfPrevValidFiles=e,c.$$ngfPrevInvalidFiles=t;var o=e&&e.length?e[0]:null,a=t&&t.length?t[0]:null;l&&($.applyModelValidation(l,e),l.$setViewValue(i?o:e)),d&&x(d)(u,{$files:e,$file:o,$newFiles:n,$duplicateFiles:r,$invalidFiles:t,$invalidFile:a,$event:h});var s=$.attrGetter("ngfModelInvalid",c);s&&E(function(){x(s).assign(u,i?a:t)}),E(function(){})}var f,o,p,e,m=[],g=[],v=[];function y(){function r(){E(function(){s(n?o.concat(v):v,n?p.concat(g):g,a,m,b)},C&&C.debounce?C.debounce.change||C.debounce:0)}var i=w?f:v;(function(t,n,r,i){var e=$.attrGetter("ngfResize",n,r);if(!e||!$.isResizeSupported()||!t.length)return $.emptyPromise();if(e instanceof Function){var o=_.defer();return e(t).then(function(e){S(e,t,n,r,i).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)})}return S(e,t,n,r,i)})(i,c,u,l).then(function(){w?$.validate(f,n?o.length:0,l,c,u).then(function(e){v=e.validsFiles,g=e.invalidsFiles,r()}):r()},function(){for(var e=0;e<i.length;e++){var t=i[e];if("resize"===t.$error){var n=v.indexOf(t);-1<n&&(v.splice(n,1),g.push(t)),r()}}})}o=c.$$ngfPrevValidFiles||[],p=c.$$ngfPrevInvalidFiles||[],l&&l.$modelValue&&(e=l.$modelValue,o=angular.isArray(e)?e:[e]);var n=$.attrGetter("ngfKeep",c,u);f=(a||[]).slice(0),"distinct"!==n&&!0!==$.attrGetter("ngfKeepDistinct",c,u)||function(){function n(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function e(e){var t;for(t=0;t<o.length;t++)if(n(e,o[t]))return 1;for(t=0;t<p.length;t++)if(n(e,p[t]))return 1}if(a){f=[],m=[];for(var t=0;t<a.length;t++)e(a[t])?m.push(a[t]):f.push(a[t])}}();var b=!n&&!$.attrGetter("ngfMultiple",c,u)&&!$.attrGetter("multiple",c);if(!n||f.length){$.attrGetter("ngfBeforeModelChange",c,u,{$files:a,$file:a&&a.length?a[0]:null,$newFiles:f,$duplicateFiles:m,$event:h});var w=$.attrGetter("ngfValidateAfterResize",c,u),C=$.attrGetter("ngfModelOptions",c,u);$.validate(f,n?o.length:0,l,c,u).then(function(e){var n,r,i,o;t?s(f,[],a,m,b):(C&&C.allowInvalid||w?v=f:(v=e.validFiles,g=e.invalidFiles),$.attrGetter("ngfFixOrientation",c,u)&&$.isExifSupported()?(n=v,r=c,i=u,o=[$.emptyPromise()],angular.forEach(n,function(e,t){0===e.type.indexOf("image/jpeg")&&$.attrGetter("ngfFixOrientation",r,i,{$file:e})&&o.push($.happyPromise($.applyExifRotation(e),e).then(function(e){n.splice(t,1,e)}))}),_.all(o).then(function(){y()})):y())})}},$}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,i,t,v){var y=[];function o(i,o,a,s,e,t,n,l){var r=function(e,t){return l.attrGetter(e,a,t)};function c(){return"input"===o[0].tagName.toLowerCase()&&a.type&&"file"===a.type.toLowerCase()}function u(){return r("ngfChange")||r("ngfSelect")}function d(e){if(l.shouldUpdateOn("change",a,i)){var t=e.__files_||e.target&&e.target.files,n=[];if(!t)return;for(var r=0;r<t.length;r++)n.push(t[r]);l.updateModel(s,a,i,u(),n.length?n:null,e)}}l.registerModelChangeValidator(s,a,i);var h=[];r("ngfMultiple")&&h.push(i.$watch(r("ngfMultiple"),function(){m.attr("multiple",r("ngfMultiple",i))})),r("ngfCapture")&&h.push(i.$watch(r("ngfCapture"),function(){m.attr("capture",r("ngfCapture",i))})),r("ngfAccept")&&h.push(i.$watch(r("ngfAccept"),function(){m.attr("accept",r("ngfAccept",i))})),h.push(a.$observe("accept",function(){m.attr("accept",r("accept"))}));var f=0,p=0;var m=o;function g(e){l.shouldUpdateOn("click",a,i)&&m.val()&&(m.val(null),l.updateModel(s,a,i,u(),null,e,!0))}c()||(m=function(){if(c())return o;var e=angular.element('<input type="file">'),t=angular.element("<label>upload</label>");return t.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),function(t,n){function e(e){t.attr("id","ngf-"+e),n.attr("id","ngf-label-"+e)}for(var r=0;r<o[0].attributes.length;r++){var i=o[0].attributes[r];"type"!==i.name&&"class"!==i.name&&"style"!==i.name&&("id"===i.name?(e(i.value),h.push(a.$observe("id",e))):t.attr(i.name,i.value||"required"!==i.name&&"multiple"!==i.name?i.value:i.name))}}(e,t),y.push({el:o,ref:t}),document.body.appendChild(t.append(e)[0]),e}()),m.bind("change",d),c()?o.bind("click",g):o.bind("click touchstart touchend",function(e){if(o.attr("disabled"))return!1;if(!r("ngfSelectDisabled",i)){var t=function(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return p=t[0].clientX,f=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,r=t[0].clientY;if(20<Math.abs(n-p)||20<Math.abs(r-f))return e.stopPropagation(),e.preventDefault(),!1}return!0}}(e);if(null!=t)return t;g(e);try{c()||document.body.contains(m[0])||(y.push({el:o,ref:m.parent()}),document.body.appendChild(m.parent()[0]),m.bind("change",d))}catch(e){}return!function(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&2<t.length){var n=v.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}(navigator.userAgent)?m[0].click():setTimeout(function(){m[0].click()},0),!1}}),-1!==navigator.appVersion.indexOf("MSIE 10")&&m.bind("click",function e(t){if(m&&!m.attr("__ngf_ie10_Fix_")){if(!m[0].parentNode)return void(m=null);t.preventDefault(),t.stopPropagation(),m.unbind("click");var n=m.clone();return m.replaceWith(n),(m=n).attr("__ngf_ie10_Fix_","true"),m.bind("change",d),m.bind("click",e),m[0].click(),!1}m.removeAttr("__ngf_ie10_Fix_")}),s&&s.$formatters.push(function(e){return null!=e&&0!==e.length||m.val()&&m.val(null),e}),i.$on("$destroy",function(){c()||m.parent().remove(),angular.forEach(h,function(e){e()})}),t(function(){for(var e=0;e<y.length;e++){var t=y[e];document.body.contains(t.el[0])||(y.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(o,m,d)}return{restrict:"AEC",require:"?ngModel",link:function(e,t,n,r){o(e,t,n,r,0,i,0,v)}}}]),function(){function a(i,e,o,a,s,l,c,u){function d(t){var n=i.attrGetter("ngfNoObjectUrl",s,o);i.dataUrl(t,n).finally(function(){e(function(){var e=(n?t.$ngfDataUrl:t.$ngfBlobUrl)||t.$ngfDataUrl;u?a.css("background-image","url('"+(e||"")+"')"):a.attr("src",e),e?a.removeClass("ng-hide"):a.addClass("ng-hide")})})}e(function(){var e=o.$watch(s[l],function(n){var e,t=c;if("ngfThumbnail"===l&&0===(t=t||{width:a[0].naturalWidth||a[0].clientWidth,height:a[0].naturalHeight||a[0].clientHeight}).width&&window.getComputedStyle){var r=getComputedStyle(a[0]);r.width&&-1<r.width.indexOf("px")&&r.height&&-1<r.height.indexOf("px")&&(t={width:parseInt(r.width.slice(0,-2)),height:parseInt(r.height.slice(0,-2))})}if(angular.isString(n))return a.removeClass("ng-hide"),u?a.css("background-image","url('"+n+"')"):a.attr("src",n);!n||!n.type||0!==n.type.search("img"===(e=a[0]).tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./)||u&&0!==n.type.indexOf("image")?a.addClass("ng-hide"):t&&i.isResizeSupported()?(t.resizeIf=function(e,t){return i.attrGetter("ngfResizeIf",s,o,{$width:e,$height:t,$file:n})},i.resize(n,t).then(function(e){d(e)},function(e){throw e})):d(n)});o.$on("$destroy",function(){e()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,n,s){var l=e;return l.base64DataUrl=function(n){if(angular.isArray(n)){var r=s.defer(),i=0;return angular.forEach(n,function(e){l.dataUrl(e,!0).finally(function(){if(++i===n.length){var t=[];angular.forEach(n,function(e){t.push(e.$ngfDataUrl)}),r.resolve(t,n)}})}),r.promise}return l.dataUrl(n,!0)},l.dataUrl=function(o,t){if(!o)return l.emptyPromise(o,o);if(t&&null!=o.$ngfDataUrl||!t&&null!=o.$ngfBlobUrl)return l.emptyPromise(t?o.$ngfDataUrl:o.$ngfBlobUrl,o);var e=t?o.$$ngfDataUrlPromise:o.$$ngfBlobUrlPromise;if(e)return e;var a=s.defer();return n(function(){if(window.FileReader&&o&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||o.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||o.size<4e6)){var r=window.URL||window.webkitURL;if(r&&r.createObjectURL&&!t){var i;try{i=r.createObjectURL(o)}catch(e){return void n(function(){o.$ngfBlobUrl="",a.reject()})}n(function(){if(o.$ngfBlobUrl=i){a.resolve(i,o),l.blobUrls=l.blobUrls||[],l.blobUrlsTotalSize=l.blobUrlsTotalSize||0,l.blobUrls.push({url:i,size:o.size}),l.blobUrlsTotalSize+=o.size||0;for(var e=l.defaults.blobUrlsMaxMemory||268435456,t=l.defaults.blobUrlsMaxQueueSize||200;(l.blobUrlsTotalSize>e||l.blobUrls.length>t)&&1<l.blobUrls.length;){var n=l.blobUrls.splice(0,1)[0];r.revokeObjectURL(n.url),l.blobUrlsTotalSize-=n.size}}})}else{var e=new FileReader;e.onload=function(e){n(function(){o.$ngfDataUrl=e.target.result,a.resolve(e.target.result,o),n(function(){delete o.$ngfDataUrl},1e3)})},e.onerror=function(){n(function(){o.$ngfDataUrl="",a.reject()})},e.readAsDataURL(o)}}else n(function(){o[t?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),(e=t?o.$$ngfDataUrlPromise=a.promise:o.$$ngfBlobUrlPromise=a.promise).finally(function(){delete o[t?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),e},l}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(r,i){return{restrict:"AE",link:function(e,t,n){a(r,i,e,t,n,"ngfSrc",r.attrGetter("ngfResize",n,e),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(r,i){return{restrict:"AE",link:function(e,t,n){a(r,i,e,t,n,"ngfBackground",r.attrGetter("ngfResize",n,e),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(i,o){return{restrict:"AE",link:function(e,t,n){var r=i.attrGetter("ngfSize",n,e);a(i,o,e,t,n,"ngfThumbnail",r,i.attrGetter("ngfAsBackground",n,e))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(i,o){return function(e,t,n){if(angular.isString(e))return o.trustAsResourceUrl(e);var r=e&&((t?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl);return e&&!r?(!e.$ngfDataUrlFilterInProgress&&angular.isObject(e)&&(e.$ngfDataUrlFilterInProgress=!0,i.dataUrl(e,t)),""):(e&&delete e.$ngfDataUrlFilterInProgress,(e&&r?n?o.trustAsResourceUrl(r):r:e)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,v,s){var y=e;return y.validatePattern=function(e,t){if(!t)return!0;var n=function e(t){var n="",r=[];if(2<t.length&&"/"===t[0]&&"/"===t[t.length-1])n=t.substring(1,t.length-1);else{var i=t.split(",");if(1<i.length)for(var o=0;o<i.length;o++){var a=e(i[o]);a.regexp?(n+="("+a.regexp+")",o<i.length-1&&(n+="|")):r=r.concat(a.excludes)}else 0===t.indexOf("!")?r.push("^((?!"+e(t.substring(1)).regexp+").)*$"):(0===t.indexOf(".")&&(t="*"+t),n=(n="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$").replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:n,excludes:r}}(t),r=!0;if(n.regexp&&n.regexp.length){var i=new RegExp(n.regexp,"i");r=null!=e.type&&i.test(e.type)||null!=e.name&&i.test(e.name)}for(var o=n.excludes.length;o--;){var a=new RegExp(n.excludes[o],"i");r=r&&(null==e.type||a.test(e.type))&&(null==e.name||a.test(e.name))}return r},y.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=-1<n?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},y.registerModelChangeValidator=function(n,r,i){n&&n.$formatters.push(function(e){if(n.$dirty){var t=e;e&&!angular.isArray(e)&&(t=[e]),y.validate(t,0,n,r,i).then(function(){y.applyModelValidation(n,t)})}return e})},y.applyModelValidation=function(t,e){var n;n=t,null==e||n.$dirty||(n.$setDirty?n.$setDirty():n.$dirty=!0),angular.forEach(t.$ngfValidations,function(e){t.$setValidity(e.name,e.valid)})},y.getValidationAttr=function(e,t,n,r,i){var o="ngf"+n[0].toUpperCase()+n.substr(1),a=y.attrGetter(o,e,t,{$file:i});if(null==a&&(a=y.attrGetter("ngfValidate",e,t,{$file:i}))){var s=(r||n).split(".");a=a[s[0]],1<s.length&&(a=a&&a[s[1]])}return a},y.validate=function(c,r,u,d,h){(u=u||{}).$ngfValidations=u.$ngfValidations||[],angular.forEach(u.$ngfValidations,function(e){e.valid=!0});var f=function(e,t){return y.attrGetter(e,d,h,t)},p=(y.attrGetter("ngfIgnoreInvalid",d,h)||"").split(" "),m=y.attrGetter("ngfRunAllValidations",d,h);if(null==c||0===c.length)return y.emptyPromise({validFiles:c,invalidFiles:[]});c=void 0===c.length?[c]:c.slice(0);var g=[];function t(e,t,n){if(c){for(var r=c.length,i=null;r--;){var o=c[r];if(o){var a=y.getValidationAttr(d,h,e,t,o);null!=a&&(n(o,a,r)||(-1===p.indexOf(e)?(o.$error=e,(o.$errorMessages=o.$errorMessages||{})[e]=!0,o.$errorParam=a,-1===g.indexOf(o)&&g.push(o),m||c.splice(r,1),i=!1):c.splice(r,1)))}}null!==i&&u.$ngfValidations.push({name:e,valid:i})}}t("pattern",null,y.validatePattern),t("minSize","size.min",function(e,t){return e.size+.1>=y.translateScalars(t)}),t("maxSize","size.max",function(e,t){return e.size-.1<=y.translateScalars(t)});var n=0;if(t("maxTotalSize",null,function(e,t){if(!((n+=e.size)>y.translateScalars(t)))return 1;c.splice(0,c.length)}),t("validateFn",null,function(e,t){return!0===t||null===t||""===t}),!c.length)return y.emptyPromise({validFiles:[],invalidFiles:g});function e(a,e,r,n,s){function i(r,i,o){function t(e){if(e())if(-1===p.indexOf(a)){if(i.$error=a,(i.$errorMessages=i.$errorMessages||{})[a]=!0,i.$errorParam=o,-1===g.indexOf(i)&&g.push(i),!m){var t=c.indexOf(i);-1<t&&c.splice(t,1)}r.resolve(!1)}else{var n=c.indexOf(i);-1<n&&c.splice(n,1),r.resolve(!0)}else r.resolve(!0)}null!=o?n(i,o).then(function(e){t(function(){return!s(e,o)})},function(){t(function(){return f("ngfValidateForce",{$file:i})})}):r.resolve(!0)}var o=[y.emptyPromise(!0)];c&&(c=void 0===c.length?[c]:c,angular.forEach(c,function(t){var n=v.defer();o.push(n.promise),!r||null!=t.type&&0===t.type.search(r)?"dimensions"===a&&null!=y.attrGetter("ngfDimensions",d)?y.imageDimensions(t).then(function(e){i(n,t,f("ngfDimensions",{$file:t,$width:e.width,$height:e.height}))},function(){n.resolve(!1)}):"duration"===a&&null!=y.attrGetter("ngfDuration",d)?y.mediaDuration(t).then(function(e){i(n,t,f("ngfDuration",{$file:t,$duration:e}))},function(){n.resolve(!1)}):i(n,t,y.getValidationAttr(d,h,a,e,t)):n.resolve(!0)}));var l=v.defer();return v.all(o).then(function(e){for(var t=!0,n=0;n<e.length;n++)if(!e[n]){t=!1;break}u.$ngfValidations.push({name:a,valid:t}),l.resolve(t)}),l.promise}var i=v.defer(),o=[];return o.push(e("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),o.push(e("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),o.push(e("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),o.push(e("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),o.push(e("dimensions",null,/image/,function(e,t){return y.emptyPromise(t)},function(e){return e})),o.push(e("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),r=!1,i=0;i<n.length;i++)Math.abs(e.width/e.height-y.ratioToFloat(n[i]))<.01&&(r=!0);return r})),o.push(e("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-y.ratioToFloat(t)<1e-4})),o.push(e("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return-1e-4<e.width/e.height-y.ratioToFloat(t)})),o.push(e("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=y.translateScalars(t)})),o.push(e("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=y.translateScalars(t)})),o.push(e("duration",null,/audio|video/,function(e,t){return y.emptyPromise(t)},function(e){return e})),o.push(e("validateAsyncFn",null,null,function(e,t){return t},function(e){return!0===e||null===e||""===e})),v.all(o).then(function(){if(m)for(var e=0;e<c.length;e++){c[e].$error&&c.splice(e--,1)}m=!1,t("maxFiles",null,function(e,t,n){return r+n<t}),i.resolve({validFiles:c,invalidFiles:g})}),i.promise},y.imageDimensions=function(o){if(o.$ngfWidth&&o.$ngfHeight){var e=v.defer();return s(function(){e.resolve({width:o.$ngfWidth,height:o.$ngfHeight})}),e.promise}if(o.$ngfDimensionPromise)return o.$ngfDimensionPromise;var a=v.defer();return s(function(){0===o.type.indexOf("image")?y.dataUrl(o).then(function(e){var n=angular.element("<img>").attr("src",e).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");function t(){var e=n[0].naturalWidth||n[0].clientWidth,t=n[0].naturalHeight||n[0].clientHeight;n.remove(),o.$ngfWidth=e,o.$ngfHeight=t,a.resolve({width:e,height:t})}function r(){n.remove(),a.reject("load error")}n.on("load",t),n.on("error",r);var i=0;!function e(){s(function(){n[0].parentNode&&(n[0].clientWidth?t:10<i++?r:e)()},1e3)}(),angular.element(document.getElementsByTagName("body")[0]).append(n)},function(){a.reject("load error")}):a.reject("not image")}),o.$ngfDimensionPromise=a.promise,o.$ngfDimensionPromise.finally(function(){delete o.$ngfDimensionPromise}),o.$ngfDimensionPromise},y.mediaDuration=function(o){if(o.$ngfDuration){var e=v.defer();return s(function(){e.resolve(o.$ngfDuration)}),e.promise}if(o.$ngfDurationPromise)return o.$ngfDurationPromise;var a=v.defer();return s(function(){0===o.type.indexOf("audio")||0===o.type.indexOf("video")?y.dataUrl(o).then(function(e){var t=angular.element(0===o.type.indexOf("audio")?"<audio>":"<video>").attr("src",e).css("visibility","none").css("position","fixed");function n(){var e=t[0].duration;o.$ngfDuration=e,t.remove(),a.resolve(e)}function r(){t.remove(),a.reject("load error")}t.on("loadedmetadata",n),t.on("error",r);var i=0;!function e(){s(function(){t[0].parentNode&&(t[0].duration?n:10<i?r:e)()},1e3)}(),angular.element(document.body).append(t)},function(){a.reject("load error")}):a.reject("not media")}),o.$ngfDurationPromise=a.promise,o.$ngfDurationPromise.finally(function(){delete o.$ngfDurationPromise}),o.$ngfDurationPromise},y}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){function a(e,c,u,d,h,f,p,m){var g=t.defer(),v=document.createElement("canvas"),y=document.createElement("img");return y.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(y),y.onload=function(){var e,t,n,r,i,o=y.width,a=y.height;if(y.parentNode.removeChild(y),null==m||!1!==m(o,a))try{if(f){var s=b.ratioToFloat(f);o/a<s?u=(c=o)/s:c=(u=a)*s}var l=(e=o,t=a,n=c=c||o,r=u=u||a,i=p?Math.max(n/e,r/t):Math.min(n/e,r/t),{width:e*i,height:t*i,marginX:e*i-n,marginY:t*i-r});v.width=Math.min(l.width,c),v.height=Math.min(l.height,u),v.getContext("2d").drawImage(y,Math.min(0,-l.marginX/2),Math.min(0,-l.marginY/2),l.width,l.height),g.resolve(v.toDataURL(h||"image/WebP",d||.934))}catch(e){g.reject(e)}else g.reject("resizeIf")},y.onerror=function(){y.parentNode.removeChild(y),g.reject()},y.src=e,g.promise}var b=e;return b.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:i});return l.name=t,l.$ngfOrigSize=n,l},b.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},b.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),b.resize=function(r,i){if(0!==r.type.indexOf("image"))return b.emptyPromise(r);var o=t.defer();return b.dataUrl(r,!0).then(function(n){a(n,i.width,i.height,i.quality,i.type||r.type,i.ratio,i.centerCrop,i.resizeIf).then(function(e){if("image/jpeg"===r.type&&!1!==i.restoreExif)try{e=b.restoreExif(n,e)}catch(e){setTimeout(function(){throw e},1)}try{var t=b.dataUrltoBlob(e,r.name,r.size);o.resolve(t)}catch(e){o.reject(e)}},function(e){"resizeIf"===e&&o.resolve(r),o.reject(e)})},function(e){o.reject(e)}),o.promise},b}]),function(){function h(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(i,o,a,s,e,l){return{restrict:"AEC",require:"?ngModel",link:function(e,t,n,r){!function(v,n,y,r,e,i,b,w,C){var t=h(),x=function(e,t,n){return w.attrGetter(e,y,t,n)};x("dropAvailable")&&i(function(){v[x("dropAvailable")]?v[x("dropAvailable")].value=t:v[x("dropAvailable")]=t});if(!t)return!0===x("ngfHideOnDropNotAvailable",v)&&n.css("display","none");function o(){return n.attr("disabled")||x("ngfDropDisabled",v)}null==x("ngfSelect")&&w.registerModelChangeValidator(r,y,v);var a,s=null,l=e(x("ngfStopPropagation")),c=1;n[0].addEventListener("dragover",function(t){if(!o()&&w.shouldUpdateOn("drop",y,v)){if(t.preventDefault(),l(v)&&t.stopPropagation(),-1<navigator.userAgent.indexOf("Chrome")){var e=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"}i.cancel(s),a||(a="C",function(e,t,n){var r=x("ngfDragOverClass",e,{$event:t}),i="dragover";if(angular.isString(r))i=r;else if(r&&(r.delay&&(c=r.delay),r.accept||r.reject)){var o=t.dataTransfer.items;if(null!=o&&o.length)for(var a=r.pattern||x("ngfPattern",e,{$event:t}),s=o.length;s--;){if(!w.validatePattern(o[s],a)){i=r.reject;break}i=r.accept}else i=r.accept}n(i)}(v,t,function(e){a=e,n.addClass(a),x("ngfDrag",v,{$isDragging:!0,$class:a,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(e){!o()&&w.shouldUpdateOn("drop",y,v)&&(e.preventDefault(),l(v)&&e.stopPropagation())},!1),n[0].addEventListener("dragleave",function(e){!o()&&w.shouldUpdateOn("drop",y,v)&&(e.preventDefault(),l(v)&&e.stopPropagation(),s=i(function(){a&&n.removeClass(a),a=null,x("ngfDrag",v,{$isDragging:!1,$event:e})},c||100))},!1),n[0].addEventListener("drop",function(e){!o()&&w.shouldUpdateOn("drop",y,v)&&(e.preventDefault(),l(v)&&e.stopPropagation(),a&&n.removeClass(a),a=null,u(e.dataTransfer,e,"dropUrl"))},!1),n[0].addEventListener("paste",function(e){-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&x("ngfEnableFirefoxPaste",v)&&e.preventDefault(),!o()&&w.shouldUpdateOn("paste",y,v)&&u(e.clipboardData||e.originalEvent.clipboardData,e,"pasteUrl")},!1),-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&x("ngfEnableFirefoxPaste",v)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}));function u(e,t,n){if(e){var r;try{r=e&&e.getData&&e.getData("text/html")}catch(e){}(function(e,t,n,r){var l=w.getValidationAttr(y,v,"maxFiles");null==l&&(l=Number.MAX_VALUE);var c=w.getValidationAttr(y,v,"maxTotalSize");null==c&&(c=Number.MAX_VALUE);var u=x("ngfIncludeDir",v),d=[],h=0;function f(t,n){var r=C.defer();if(null!=t)if(t.isDirectory){var i=[w.emptyPromise()];if(u){var e={type:"directory"};e.name=e.path=(n||"")+t.name,d.push(e)}var o=t.createReader(),a=[],s=function(){o.readEntries(function(e){try{e.length?(a=a.concat(Array.prototype.slice.call(e||[],0)),s()):(angular.forEach(a.slice(0),function(e){d.length<=l&&h<=c&&i.push(f(e,(n||"")+t.name+"/"))}),C.all(i).then(function(){r.resolve()},function(e){r.reject(e)}))}catch(e){r.reject(e)}},function(e){r.reject(e)})};s()}else t.file(function(e){try{e.path=(n||"")+e.name,u&&(e=w.rename(e,e.path)),d.push(e),h+=e.size,r.resolve()}catch(e){r.reject(e)}},function(e){r.reject(e)});return r.promise}var i=[w.emptyPromise()];if(e&&0<e.length&&"file:"!==b.location.protocol)for(var o=0;o<e.length;o++){if(e[o].webkitGetAsEntry&&e[o].webkitGetAsEntry()&&e[o].webkitGetAsEntry().isDirectory){var a=e[o].webkitGetAsEntry();if(a.isDirectory&&!n)continue;null!=a&&i.push(f(a))}else{var s=e[o].getAsFile();null!=s&&(d.push(s),h+=s.size)}if(d.length>l||c<h||!r&&0<d.length)break}else if(null!=t)for(var p=0;p<t.length;p++){var m=t.item(p);if((m.type||0<m.size)&&(d.push(m),h+=m.size),d.length>l||c<h||!r&&0<d.length)break}var g=C.defer();return C.all(i).then(function(){if(r||u||!d.length)g.resolve(d);else{for(var e=0;d[e]&&"directory"===d[e].type;)e++;g.resolve([d[e]])}},function(e){g.reject(e)}),g.promise})(e.items,e.files,!1!==x("ngfAllowDir",v),x("multiple")||x("ngfMultiple",v)).then(function(e){e.length?d(e,t):function(e,t){if(!w.shouldUpdateOn(e,y,v)||"string"!=typeof t)return w.rejectPromise([]);var r=[];t.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){r.push(n)});var n=[],i=[];if(r.length){angular.forEach(r,function(e){n.push(w.urlToBlob(e).then(function(e){i.push(e)}))});var o=C.defer();return C.all(n).then(function(){o.resolve(i)},function(e){o.reject(e)}),o.promise}return w.emptyPromise()}(n,r).then(function(e){d(e,t)})})}}function d(e,t){w.updateModel(r,y,v,x("ngfChange")||x("ngfDrop"),e,t)}}(e,t,n,r,i,o,a,s,l)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,t){h()&&t.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(i,o,a){return function(e,t,n){if(h()){var r=i(a.attrGetter("ngfDropAvailable",n));o(function(){r(e),r.assign&&r.assign(e,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,r){var l=e;return l.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&l.isResizeSupported()},l.readOrientation=function(e){var u=r.defer(),t=new FileReader,n=e.slice?e.slice(0,65536):e;return t.readAsArrayBuffer(n),t.onerror=function(e){return u.reject(e)},t.onload=function(e){var t={orientation:1},n=new DataView(this.result);if(65496!==n.getUint16(0,!1))return u.resolve(t);for(var r=n.byteLength,i=2;i<r;){var o=n.getUint16(i,!1);if(i+=2,65505===o){if(1165519206!==n.getUint32(i+=2,!1))return u.resolve(t);var a=18761===n.getUint16(i+=6,!1);i+=n.getUint32(i+4,a);var s=n.getUint16(i,a);i+=2;for(var l=0;l<s;l++)if(274===n.getUint16(i+12*l,a)){var c=n.getUint16(i+12*l+8,a);return 2<=c&&c<=8&&(n.setUint16(i+12*l+8,1,a),t.fixedArrayBuffer=e.target.result),t.orientation=c,u.resolve(t)}}else{if(65280!=(65280&o))break;i+=n.getUint16(i,!1)}}return u.resolve(t)},u.promise},l.applyExifRotation=function(a){if(0!==a.type.indexOf("image/jpeg"))return l.emptyPromise(a);var s=r.defer();return l.readOrientation(a).then(function(o){if(o.orientation<2||8<o.orientation)return s.resolve(a);l.dataUrl(a,!0).then(function(e){var r=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){try{r.width=4<o.orientation?i.height:i.width,r.height=4<o.orientation?i.width:i.height;var e=r.getContext("2d");!function(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:e.transform(0,-1,1,0,0,n)}}(e,o.orientation,i.width,i.height),e.drawImage(i,0,0);var t=r.toDataURL(a.type||"image/WebP",.934);t=l.restoreExif(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}(o.fixedArrayBuffer),t);var n=l.dataUrltoBlob(t,a.name);s.resolve(n)}catch(e){return s.reject(e)}},i.onerror=function(){s.reject()},i.src=e},function(e){s.reject(e)})},function(e){s.reject(e)}),s.promise},l.restoreExif=function(e,t){var n={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){for(var t,n,r,i,o,a="",s="",l="",c=0;r=(t=e[c++])>>2,i=(3&t)<<4|(n=e[c++])>>4,o=(15&n)<<2|(s=e[c++])>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",r=i=o=l="",c<e.length;);return a},restore:function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},exifManipulation:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},getExifArray:function(e){for(var t,n=0;n<e.length;n++)if(255===(t=e[n])[0]&225===t[1])return t;return[]},insertExif:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=(s=s.concat(t)).concat(a)},slice2Segments:function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,r);n.push(i),t=r}if(t>e.length)break}return n},decode64:function(e){var t,n,r,i,o="",a="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(s++))<<2|(r=this.KEY_STR.indexOf(e.charAt(s++)))>>4,n=(15&r)<<4|(i=this.KEY_STR.indexOf(e.charAt(s++)))>>2,o=(3&i)<<6|(a=this.KEY_STR.indexOf(e.charAt(s++))),l.push(t),64!==i&&l.push(n),64!==a&&l.push(o),t=n=o="",r=i=a="",s<e.length;);return l}};return n.restore(e,t)},l}]),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],t):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsDistBuildPdf=t()}(this,function(){return i={},r.m=n=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unreachable=t.warn=t.utf8StringToString=t.stringToUTF8String=t.stringToPDFString=t.stringToBytes=t.string32=t.shadow=t.setVerbosityLevel=t.ReadableStream=t.removeNullCharacters=t.readUint32=t.readUint16=t.readInt8=t.log2=t.loadJpegStream=t.isEvalSupported=t.isLittleEndian=t.createValidAbsoluteUrl=t.isSameOrigin=t.isNodeJS=t.isSpace=t.isString=t.isNum=t.isInt=t.isEmptyObj=t.isBool=t.isArrayBuffer=t.isArray=t.info=t.globalScope=t.getVerbosityLevel=t.getLookupTableFactory=t.deprecated=t.createObjectURL=t.createPromiseCapability=t.createBlob=t.bytesToString=t.assert=t.arraysToBytes=t.arrayByteLength=t.FormatError=t.XRefParseException=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.StatTimer=t.PasswordResponses=t.PasswordException=t.PageViewport=t.NotImplementedException=t.NativeImageDecoding=t.MissingPDFException=t.MissingDataException=t.MessageHandler=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VERBOSITY_LEVELS=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(16);var l=n(17),r="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:void 0,i={errors:0,warnings:1,infos:5},o=i.warnings;function s(e){o>=i.warnings&&console.log("Warning: "+e)}function c(e){throw new Error(e)}function u(e,t){e||c(t)}var d=(h.prototype=new Error,h.constructor=h);function h(e,t){this.name="PasswordException",this.message=e,this.code=t}var f=(p.prototype=new Error,p.constructor=p);function p(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}var m=(g.prototype=new Error,g.constructor=g);function g(e){this.name="InvalidPDFException",this.message=e}var v=(y.prototype=new Error,y.constructor=y);function y(e){this.name="MissingPDFException",this.message=e}var b=(w.prototype=new Error,w.constructor=w);function w(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}var C=((x.prototype=new Error).name="NotImplementedException",x.constructor=x);function x(e){this.message=e}var E=((_.prototype=new Error).name="MissingDataException",_.constructor=_);function _(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}var $=((S.prototype=new Error).name="XRefParseException",S.constructor=S);function S(e){this.message=e}var A=((k.prototype=new Error).name="FormatError",k.constructor=k);function k(e){this.message=e}var T=(M.prototype=new Error,M.constructor=M);function M(e){this.name="AbortException",this.message=e}var N=/\x00/g;function P(e){u("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function R(e){return void 0!==e.length?e.length:(u(void 0!==e.byteLength),e.byteLength)}var D=function(){function a(){}var r=["rgb(",0,",",0,",",0,")"];a.makeCssRgb=function(e,t,n){return r[1]=e,r[3]=t,r[5]=n,r.join("")},a.transform=function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]},a.applyTransform=function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]},a.applyInverseTransform=function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]},a.getAxialAlignedBoundingBox=function(e,t){var n=a.applyTransform(e,t),r=a.applyTransform(e.slice(2,4),t),i=a.applyTransform([e[0],e[3]],t),o=a.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]},a.inverseTransform=function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]},a.apply3dTransform=function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]},a.singularValueDecompose2dScale=function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(n+o)/2,s=Math.sqrt((n+o)*(n+o)-4*(n*o-i*r))/2,l=a+s||1,c=a-s||1;return[Math.sqrt(l),Math.sqrt(c)]},a.normalizeRect=function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t},a.intersect=function(e,t){function n(e,t){return e-t}var r=[e[0],e[2],t[0],t[2]].sort(n),i=[e[1],e[3],t[1],t[3]].sort(n),o=[];return e=a.normalizeRect(e),t=a.normalizeRect(t),(r[0]===e[0]&&r[1]===t[0]||r[0]===t[0]&&r[1]===e[0])&&(o[0]=r[1],o[2]=r[2],(i[0]===e[1]&&i[1]===t[1]||i[0]===t[1]&&i[1]===e[1])&&(o[1]=i[1],o[3]=i[2],o))},a.sign=function(e){return e<0?-1:1};var o=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];return a.toRoman=function(e,t){u(F(e)&&0<e,"The number should be a positive integer.");for(var n,r=[];1e3<=e;)e-=1e3,r.push("M");n=e/100|0,e%=100,r.push(o[n]),n=e/10|0,e%=10,r.push(o[10+n]),r.push(o[20+e]);var i=r.join("");return t?i.toLowerCase():i},a.appendToArray=function(e,t){Array.prototype.push.apply(e,t)},a.prependToArray=function(e,t){Array.prototype.unshift.apply(e,t)},a.extendObj=function(e,t){for(var n in t)e[n]=t[n]},a.getInheritableProperty=function(e,t,n){for(;e&&!e.has(t);)e=e.get("Parent");return e?n?e.getArray(t):e.get(t):null},a.inherit=function(e,t,n){for(var r in e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n)e.prototype[r]=n[r]},a.loadScript=function(e,t){var n=document.createElement("script"),r=!1;n.setAttribute("src",e),t&&(n.onload=function(){r||t(),r=!0}),document.getElementsByTagName("head")[0].appendChild(n)},a}(),O=(I.prototype={clone:function(e){var t="scale"in(e=e||{})?e.scale:this.scale,n="rotation"in e?e.rotation:this.rotation;return new I(this.viewBox.slice(),t,n,this.offsetX,this.offsetY,e.dontFlip)},convertToViewportPoint:function(e,t){return D.applyTransform([e,t],this.transform)},convertToViewportRectangle:function(e){var t=D.applyTransform([e[0],e[1]],this.transform),n=D.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]},convertToPdfPoint:function(e,t){return D.applyInverseTransform([e,t],this.transform)}},I);function I(e,t,n,r,i,o){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=i;var a,s,l,c,u,d,h,f,p=(e[2]+e[0])/2,m=(e[3]+e[1])/2;switch(n=(n%=360)<0?n+360:n){case 180:a=-1,l=s=0,c=1;break;case 90:l=s=1,c=a=0;break;case 270:l=s=-1,c=a=0;break;default:l=s=0,c=-(a=1)}o&&(l=-l,c=-c),f=0===a?(u=Math.abs(m-e[1])*t+r,d=Math.abs(p-e[0])*t+i,h=Math.abs(e[3]-e[1])*t,Math.abs(e[2]-e[0])*t):(u=Math.abs(p-e[0])*t+r,d=Math.abs(m-e[1])*t+i,h=Math.abs(e[2]-e[0])*t,Math.abs(e[3]-e[1])*t),this.transform=[a*t,s*t,l*t,c*t,u-a*t*p-l*t*m,d-s*t*p-c*t*m],this.width=h,this.height=f,this.fontScale=t}var L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function F(e){return"number"==typeof e&&(0|e)===e}function H(){var n={};return n.promise=new Promise(function(e,t){n.resolve=e,n.reject=t}),n}var j=(U.prototype={time:function(e){this.enabled&&(e in this.started&&s("Timer is already running for "+e),this.started[e]=Date.now())},timeEnd:function(e){this.enabled&&(e in this.started||s("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e])},toString:function(){var e,t,n=this.times,r="",i=0;for(e=0,t=n.length;e<t;++e){var o=n[e].name;o.length>i&&(i=o.length)}for(e=0,t=n.length;e<t;++e){var a=n[e],s=a.end-a.start;r+=B(a.name," ",i)+" "+s+"ms\n"}return r}},U);function B(e,t,n){for(;e.length<n;)e+=t;return e}function U(){this.started=Object.create(null),this.times=[],this.enabled=!0}function q(e,t){if("undefined"!=typeof Blob)return new Blob([e],{type:t});throw new Error('The "Blob" constructor is not supported.')}var z,V=(z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t,n){if(!(2<arguments.length&&void 0!==n&&n)&&URL.createObjectURL){var r=q(e,t);return URL.createObjectURL(r)}for(var i="data:"+t+";base64,",o=0,a=e.length;o<a;o+=3){var s=255&e[o],l=255&e[o+1],c=255&e[o+2];i+=z[s>>2]+z[(3&s)<<4|l>>4]+z[o+1<a?(15&l)<<2|c>>6:64]+z[o+2<a?63&c:64]}return i});function W(n,r,e){var i=2<arguments.length&&void 0!==e?e:null;return n?new Promise(function(e,t){e(n.apply(i,r))}):Promise.resolve(void 0)}function G(e){if("object"!==(void 0===e?"undefined":a(e)))return e;switch(e.name){case"AbortException":return new T(e.message);case"MissingPDFException":return new v(e.message);case"UnexpectedResponseException":return new b(e.message,e.status);default:return new f(e.message,e.details)}}function Y(e,t,n){t?e.resolve():e.reject(n)}function K(e,t,s){var l=this;this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var c=this.callbacksCapabilities=Object.create(null),u=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===l.sourceName)if(t.stream)l._processStreamMessage(t);else if(t.isReply){var n=t.callbackId;if(!(t.callbackId in c))throw new Error("Cannot resolve callback "+n);var r=c[n];delete c[n],"error"in t?r.reject(G(t.error)):r.resolve(t.data)}else{if(!(t.action in u))throw new Error("Unknown action from worker: "+t.action);var i=u[t.action];if(t.callbackId){var o=l.sourceName,a=t.sourceName;Promise.resolve().then(function(){return i[0].call(i[1],t.data)}).then(function(e){s.postMessage({sourceName:o,targetName:a,isReply:!0,callbackId:t.callbackId,data:e})},function(e){e instanceof Error&&(e+=""),s.postMessage({sourceName:o,targetName:a,isReply:!0,callbackId:t.callbackId,error:e})})}else t.streamId?l._createStreamSink(t):i[0].call(i[1],t.data)}},s.addEventListener("message",this._onComObjOnMessage)}K.prototype={on:function(e,t,n){var r=this.actionHandler;if(r[e])throw new Error('There is already an actionName called "'+e+'"');r[e]=[t,n]},send:function(e,t,n){var r={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t};this.postMessage(r,n)},sendWithPromise:function(e,t,n){var r=this.callbackId++,i={sourceName:this.sourceName,targetName:this.targetName,action:e,data:t,callbackId:r},o=H();this.callbacksCapabilities[r]=o;try{this.postMessage(i,n)}catch(e){o.reject(e)}return o.promise},sendWithStream:function(n,r,e){var i=this,o=this.streamId++,a=this.sourceName,s=this.targetName;return new l.ReadableStream({start:function(e){var t=H();return i.streamControllers[o]={controller:e,startCall:t,isClosed:!1},i.postMessage({sourceName:a,targetName:s,action:n,streamId:o,data:r,desiredSize:e.desiredSize}),t.promise},pull:function(e){var t=H();return i.streamControllers[o].pullCall=t,i.postMessage({sourceName:a,targetName:s,stream:"pull",streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){var t=H();return i.streamControllers[o].cancelCall=t,i.streamControllers[o].isClosed=!0,i.postMessage({sourceName:a,targetName:s,stream:"cancel",reason:e,streamId:o}),t.promise}},e)},_createStreamSink:function(e){function a(e){var t=e.stream,n=e.chunk,r=e.transfers,i=e.success,o=e.reason;s.postMessage({sourceName:c,targetName:u,stream:t,streamId:l,chunk:n,success:i,reason:o},r)}var s=this,t=this,n=this.actionHandler[e.action],l=e.streamId,r=e.desiredSize,c=this.sourceName,u=e.sourceName,i=H(),o={enqueue:function(e,t,n){var r=1<arguments.length&&void 0!==t?t:1,i=n;if(!this.isCancelled){var o=this.desiredSize;this.desiredSize-=r,0<o&&this.desiredSize<=0&&(this.sinkCapability=H(),this.ready=this.sinkCapability.promise),a({stream:"enqueue",chunk:e,transfers:i})}},close:function(){this.isCancelled||(a({stream:"close"}),delete t.streamSinks[l])},error:function(e){this.isCancelled||(this.isCancelled=!0,a({stream:"error",reason:e}))},sinkCapability:i,onPull:null,onCancel:null,isCancelled:!1,desiredSize:r,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[l]=o,W(n[0],[e.data,o],n[1]).then(function(){a({stream:"start_complete",success:!0})},function(e){a({stream:"start_complete",success:!1,reason:e})})},_processStreamMessage:function(e){function t(e){var t=e.stream,n=e.success,r=e.reason;i.comObj.postMessage({sourceName:o,targetName:a,stream:t,success:n,streamId:s,reason:r})}function n(){Promise.all([i.streamControllers[e.streamId].startCall,i.streamControllers[e.streamId].pullCall,i.streamControllers[e.streamId].cancelCall].map(function(e){return e&&(t=e.promise,Promise.resolve(t).catch(function(){}));var t})).then(function(){delete i.streamControllers[e.streamId]})}var i=this,o=this.sourceName,a=e.sourceName,s=e.streamId;switch(e.stream){case"start_complete":Y(this.streamControllers[e.streamId].startCall,e.success,G(e.reason));break;case"pull_complete":Y(this.streamControllers[e.streamId].pullCall,e.success,G(e.reason));break;case"pull":if(!this.streamSinks[e.streamId]){t({stream:"pull_complete",success:!0});break}this.streamSinks[e.streamId].desiredSize<=0&&0<e.desiredSize&&this.streamSinks[e.streamId].sinkCapability.resolve(),this.streamSinks[e.streamId].desiredSize=e.desiredSize,W(this.streamSinks[e.streamId].onPull).then(function(){t({stream:"pull_complete",success:!0})},function(e){t({stream:"pull_complete",success:!1,reason:e})});break;case"enqueue":u(this.streamControllers[e.streamId],"enqueue should have stream controller"),this.streamControllers[e.streamId].isClosed||this.streamControllers[e.streamId].controller.enqueue(e.chunk);break;case"close":if(u(this.streamControllers[e.streamId],"close should have stream controller"),this.streamControllers[e.streamId].isClosed)break;this.streamControllers[e.streamId].isClosed=!0,this.streamControllers[e.streamId].controller.close(),n();break;case"error":u(this.streamControllers[e.streamId],"error should have stream controller"),this.streamControllers[e.streamId].controller.error(G(e.reason)),n();break;case"cancel_complete":Y(this.streamControllers[e.streamId].cancelCall,e.success,G(e.reason)),n();break;case"cancel":if(!this.streamSinks[e.streamId])break;W(this.streamSinks[e.streamId].onCancel,[G(e.reason)]).then(function(){t({stream:"cancel_complete",success:!0})},function(e){t({stream:"cancel_complete",success:!1,reason:e})}),this.streamSinks[e.streamId].sinkCapability.reject(G(e.reason)),this.streamSinks[e.streamId].isCancelled=!0,delete this.streamSinks[e.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.VERBOSITY_LEVELS=i,t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.AbortException=T,t.InvalidPDFException=m,t.MessageHandler=K,t.MissingDataException=E,t.MissingPDFException=v,t.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},t.NotImplementedException=C,t.PageViewport=O,t.PasswordException=d,t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},t.StatTimer=j,t.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.UnexpectedResponseException=b,t.UnknownErrorException=f,t.Util=D,t.XRefParseException=$,t.FormatError=A,t.arrayByteLength=R,t.arraysToBytes=function(e){if(1===e.length&&e[0]instanceof Uint8Array)return e[0];var t,n,r,i=0,o=e.length;for(t=0;t<o;t++)i+=r=R(n=e[t]);var a=0,s=new Uint8Array(i);for(t=0;t<o;t++)(n=e[t])instanceof Uint8Array||(n="string"==typeof n?P(n):new Uint8Array(n)),r=n.byteLength,s.set(n,a),a+=r;return s},t.assert=u,t.bytesToString=function(e){u(null!==e&&"object"===(void 0===e?"undefined":a(e))&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var n=[],r=0;r<t;r+=8192){var i=Math.min(r+8192,t),o=e.subarray(r,i);n.push(String.fromCharCode.apply(null,o))}return n.join("")},t.createBlob=q,t.createPromiseCapability=H,t.createObjectURL=V,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getLookupTableFactory=function(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}},t.getVerbosityLevel=function(){return o},t.globalScope=r,t.info=function(e){o>=i.infos&&console.log("Info: "+e)},t.isArray=function(e){return e instanceof Array},t.isArrayBuffer=function(e){return"object"===(void 0===e?"undefined":a(e))&&null!==e&&void 0!==e.byteLength},t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isInt=F,t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSpace=function(e){return 32===e||9===e||13===e||10===e},t.isNodeJS=function(){return"object"===("undefined"==typeof process?"undefined":a(process))&&process+""=="[object process]"},t.isSameOrigin=function(e,t){try{var n=new URL(e);if(!n.origin||"null"===n.origin)return!1}catch(e){return!1}var r=new URL(t,n);return n.origin===r.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(function(e){if(e)switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return 1;default:return}}(n))return n}catch(e){}return null},t.isLittleEndian=function(){var e=new Uint8Array(4);return(e[0]=1)===new Uint32Array(e.buffer,0,1)[0]},t.isEvalSupported=function(){try{return new Function(""),!0}catch(e){return!1}},t.loadJpegStream=function(e,t,n){var r=new Image;r.onload=function(){n.resolve(e,r)},r.onerror=function(){n.resolve(e,null),s("Error during JPEG image loading")},r.src=t},t.log2=function(e){for(var t=1,n=0;t<e;)t<<=1,n++;return n},t.readInt8=function(e,t){return e[t]<<24>>24},t.readUint16=function(e,t){return e[t]<<8|e[t+1]},t.readUint32=function(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0},t.removeNullCharacters=function(e){return"string"!=typeof e?(s("The argument for removeNullCharacters must be a string."),e):e.replace(N,"")},t.ReadableStream=l.ReadableStream,t.setVerbosityLevel=function(e){o=e},t.shadow=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n},t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=P,t.stringToPDFString=function(e){var t,n=e.length,r=[];if("þ"===e[0]&&"ÿ"===e[1])for(t=2;t<n;t+=2)r.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;t<n;++t){var i=L[e.charCodeAt(t)];r.push(i?String.fromCharCode(i):e.charAt(t))}return r.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=s,t.unreachable=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.getDefaultSetting=t.LinkTarget=t.getFilenameFromUrl=t.isValidUrl=t.isExternalLinkTargetSet=t.addLinkAttributes=t.RenderingCancelledException=t.CustomStyle=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a="noopener noreferrer nofollow",l=(r(c,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("invalid canvas size");var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("canvas is not specified");if(t<=0||n<=0)throw new Error("invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),c);function c(){o(this,c)}var u=(r(d,[{key:"fetch",value:function(e){var o=this,a=e.name;return a?new Promise(function(t,n){var r=o.baseUrl+a+(o.isCompressed?".bcmap":""),i=new XMLHttpRequest;i.open("GET",r,!0),o.isCompressed&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){var e=void 0;if(o.isCompressed&&i.response?e=new Uint8Array(i.response):!o.isCompressed&&i.responseText&&(e=(0,s.stringToBytes)(i.responseText)),e)return void t({cMapData:e,compressionType:o.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE})}n(new Error("Unable to load "+(o.isCompressed?"binary ":"")+"CMap at: "+r))}},i.send(null)}):Promise.reject(new Error("CMap name must be specified."))}}]),d);function d(e){var t=e.baseUrl,n=void 0===t?null:t,r=e.isCompressed,i=void 0!==r&&r;o(this,d),this.baseUrl=n,this.isCompressed=i}var h,f,p=(h=["ms","Moz","Webkit","O"],f=Object.create(null),m.getProp=function(e,t){if(1===arguments.length&&"string"==typeof f[e])return f[e];var n,r,i=(t=t||document.documentElement).style;if("string"==typeof i[e])return f[e]=e;r=e.charAt(0).toUpperCase()+e.slice(1);for(var o=0,a=h.length;o<a;o++)if("string"==typeof i[n=h[o]+r])return f[e]=n;return f[e]="undefined"},m.setProp=function(e,t,n){var r=this.getProp(e);"undefined"!==r&&(t.style[r]=n)},m);function m(){}var g=((v.prototype=new Error).name="RenderingCancelledException",v.constructor=v);function v(e,t){this.message=e,this.type=t}var y={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},b=["","_self","_blank","_parent","_top"];function w(e){var t=s.globalScope.PDFJS;switch(e){case"pdfBug":return!!t&&t.pdfBug;case"disableAutoFetch":return!!t&&t.disableAutoFetch;case"disableStream":return!!t&&t.disableStream;case"disableRange":return!!t&&t.disableRange;case"disableFontFace":return!!t&&t.disableFontFace;case"disableCreateObjectURL":return!!t&&t.disableCreateObjectURL;case"disableWebGL":return!t||t.disableWebGL;case"cMapUrl":return t?t.cMapUrl:null;case"cMapPacked":return!!t&&t.cMapPacked;case"postMessageTransfers":return!t||t.postMessageTransfers;case"workerPort":return t?t.workerPort:null;case"workerSrc":return t?t.workerSrc:null;case"disableWorker":return!!t&&t.disableWorker;case"maxImageSize":return t?t.maxImageSize:-1;case"imageResourcesPath":return t?t.imageResourcesPath:"";case"isEvalSupported":return!t||t.isEvalSupported;case"externalLinkTarget":if(!t)return y.NONE;switch(t.externalLinkTarget){case y.NONE:case y.SELF:case y.BLANK:case y.PARENT:case y.TOP:return t.externalLinkTarget}return(0,s.warn)("PDFJS.externalLinkTarget is invalid: "+t.externalLinkTarget),t.externalLinkTarget=y.NONE,y.NONE;case"externalLinkRel":return t?t.externalLinkRel:a;case"enableStats":return!(!t||!t.enableStats);case"pdfjsNext":return!(!t||!t.pdfjsNext);default:throw new Error("Unknown default setting: "+e)}}t.CustomStyle=p,t.RenderingCancelledException=g,t.addLinkAttributes=function(e,t){var n=t&&t.url;if(e.href=e.title=n?(0,s.removeNullCharacters)(n):"",n){var r=t.target;void 0===r&&(r=w("externalLinkTarget")),e.target=b[r];var i=t.rel;void 0===i&&(i=w("externalLinkRel")),e.rel=i}},t.isExternalLinkTargetSet=function(){switch(w("externalLinkTarget")){case y.NONE:return!1;case y.SELF:case y.BLANK:case y.PARENT:case y.TOP:return!0}},t.isValidUrl=function(e,t){(0,s.deprecated)("isValidUrl(), please use createValidAbsoluteUrl() instead.");var n=t?"http://example.com":null;return null!==(0,s.createValidAbsoluteUrl)(e,n)},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(0<t?t:e.length,0<n?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.LinkTarget=y,t.getDefaultSetting=w,t.DEFAULT_LINK_REL=a,t.DOMCanvasFactory=l,t.DOMCMapReaderFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.build=t.version=t._UnsupportedManager=t.setPDFNetworkStreamClass=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFWorker=t.PDFDataRangeTransport=t.LoopbackPort=t.getDocument=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=n(0),g=n(1),l=n(12),o=n(11),a=n(6),v=n(14);var s,c,u=!1,y=!1,d="undefined"!=typeof document&&document.currentScript?document.currentScript.src:null,h=!1;"undefined"==typeof window?(u=!0,void 0===require.ensure&&(require.ensure=require("node-ensure")),h=!0):"undefined"!=typeof require&&"function"==typeof require.ensure&&(h=!0),"undefined"!=typeof requirejs&&requirejs.toUrl&&(s=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var b,f="undefined"!=typeof requirejs&&requirejs.load;c=h?function(t){require.ensure([],function(){var e;e=require("./pdf.worker.js"),t(e.WorkerMessageHandler)})}:f?function(t){requirejs(["pdfjs-dist/build/pdf.worker"],function(e){t(e.WorkerMessageHandler)})}:null;var w,C=(w=0,x.prototype={get promise(){return this._capability.promise},destroy:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}},x);function x(){this._capability=(0,m.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+w++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var E=(_.prototype={addRangeListener:function(e){this._rangeListeners.push(e)},addProgressListener:function(e){this._progressListeners.push(e)},addProgressiveReadListener:function(e){this._progressiveReadListeners.push(e)},onDataRange:function(e,t){for(var n=this._rangeListeners,r=0,i=n.length;r<i;++r)n[r](e,t)},onDataProgress:function(r){var i=this;this._readyCapability.promise.then(function(){for(var e=i._progressListeners,t=0,n=e.length;t<n;++t)e[t](r)})},onDataProgressiveRead:function(r){var i=this;this._readyCapability.promise.then(function(){for(var e=i._progressiveReadListeners,t=0,n=e.length;t<n;++t)e[t](r)})},transportReady:function(){this._readyCapability.resolve()},requestDataRange:function(){throw new Error("Abstract method PDFDataRangeTransport.requestDataRange")},abort:function(){}},_);function _(e,t){this.length=e,this.initialData=t,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,m.createPromiseCapability)()}var $=(S.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(e){return this.transport.getPage(e)},getPageIndex:function(e){return this.transport.getPageIndex(e)},getDestinations:function(){return this.transport.getDestinations()},getDestination:function(e){return this.transport.getDestination(e)},getPageLabels:function(){return this.transport.getPageLabels()},getPageMode:function(){return this.transport.getPageMode()},getAttachments:function(){return this.transport.getAttachments()},getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){return this.loadingTask.destroy()}},S);function S(e,t,n){this.pdfInfo=e,this.transport=t,this.loadingTask=n}var A=(k.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get userUnit(){return this.pageInfo.userUnit},get view(){return this.pageInfo.view},getViewport:function(e,t){return arguments.length<2&&(t=this.rotate),new m.PageViewport(this.view,e,t,0,0)},getAnnotations:function(e){var t=e&&e.intent||null;return this.annotationsPromise&&this.annotationsIntent===t||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,t),this.annotationsIntent=t),this.annotationsPromise},render:function(e){var n=this,r=this.stats;r.time("Overall"),this.pendingCleanup=!1;var t="print"===e.intent?"print":"display",i=e.canvasFactory||new g.DOMCanvasFactory;this.intentStates[t]||(this.intentStates[t]=Object.create(null));var o=this.intentStates[t];function a(e){var t=o.renderTasks.indexOf(s);0<=t&&o.renderTasks.splice(t,1),n.cleanupAfterRender&&(n.pendingCleanup=!0),n._tryCleanup(),e?s.capability.reject(e):s.capability.resolve(),r.timeEnd("Rendering"),r.timeEnd("Overall")}o.displayReadyCapability||(o.receivingOperatorList=!0,o.displayReadyCapability=(0,m.createPromiseCapability)(),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:t,renderInteractiveForms:!0===e.renderInteractiveForms}));var s=new z(a,e,this.objs,this.commonObjs,o.operatorList,this.pageNumber,i);s.useRequestAnimationFrame="print"!=t,o.renderTasks||(o.renderTasks=[]),o.renderTasks.push(s);var l=s.task;return e.continueCallback&&((0,m.deprecated)("render is used with continueCallback parameter"),l.onContinue=e.continueCallback),o.displayReadyCapability.promise.then(function(e){n.pendingCleanup?a():(r.time("Rendering"),s.initializeGraphics(e),s.operatorListChanged())}).catch(a),l},getOperatorList:function(){var e="oplist";this.intentStates[e]||(this.intentStates[e]=Object.create(null));var t,n=this.intentStates[e];return n.opListReadCapability||(t={operatorListChanged:function(){if(n.operatorList.lastChunk){n.opListReadCapability.resolve(n.operatorList);var e=n.renderTasks.indexOf(t);0<=e&&n.renderTasks.splice(e,1)}}},n.receivingOperatorList=!0,n.opListReadCapability=(0,m.createPromiseCapability)(),n.renderTasks=[],n.renderTasks.push(t),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:e})),n.opListReadCapability.promise},streamTextContent:function(e){var t=0<arguments.length&&void 0!==e?e:{};return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===t.normalizeWhitespace,combineTextItems:!0!==t.disableCombineTextItems},{highWaterMark:100,size:function(e){return e.items.length}})},getTextContent:function(e){e=e||{};var n=this.streamTextContent(e);return new Promise(function(r,e){var t=n.getReader(),i={items:[],styles:Object.create(null)};!function n(){t.read().then(function(e){var t=e.value;e.done?r(i):(m.Util.extendObj(i.styles,t.styles),m.Util.appendToArray(i.items,t.items),n())},e)}()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var n=[];return Object.keys(this.intentStates).forEach(function(e){"oplist"!==e&&this.intentStates[e].renderTasks.forEach(function(e){var t=e.capability.promise.catch(function(){});n.push(t),e.cancel()})},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(n)},destroy:function(){(0,m.deprecated)("page destroy method, use cleanup() instead"),this.cleanup()},cleanup:function(){this.pendingCleanup=!0,this._tryCleanup()},_tryCleanup:function(){this.pendingCleanup&&!Object.keys(this.intentStates).some(function(e){var t=this.intentStates[e];return 0!==t.renderTasks.length||t.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(e){delete this.intentStates[e]},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1)},_startRenderPage:function(e,t){var n=this.intentStates[t];n.displayReadyCapability&&n.displayReadyCapability.resolve(e)},_renderPageChunk:function(e,t){var n,r,i=this.intentStates[t];for(n=0,r=e.length;n<r;n++)i.operatorList.fnArray.push(e.fnArray[n]),i.operatorList.argsArray.push(e.argsArray[n]);for(i.operatorList.lastChunk=e.lastChunk,n=0;n<i.renderTasks.length;n++)i.renderTasks[n].operatorListChanged();e.lastChunk&&(i.receivingOperatorList=!1,this._tryCleanup())}},k);function k(e,t,n){this.pageIndex=e,this.pageInfo=t,this.transport=n,this.stats=new m.StatTimer,this.stats.enabled=(0,g.getDefaultSetting)("enableStats"),this.commonObjs=n.commonObjs,this.objs=new H,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}var T=(r(M,[{key:"postMessage",value:function(t,l){var e=this;if(this._defer){var c=new WeakMap,n={data:function e(t){if("object"!==(void 0===t?"undefined":p(t))||null===t)return t;if(c.has(t))return c.get(t);var n,r;if((r=t.buffer)&&(0,m.isArrayBuffer)(r)){var i=l&&0<=l.indexOf(r);return n=t===r?t:i?new t.constructor(r,t.byteOffset,t.byteLength):new t.constructor(t),c.set(t,n),n}for(var o in n=(0,m.isArray)(t)?[]:{},c.set(t,n),t){for(var a,s=t;!(a=Object.getOwnPropertyDescriptor(s,o));)s=Object.getPrototypeOf(s);void 0!==a.value&&"function"!=typeof a.value&&(n[o]=e(a.value))}return n}(t)};this._deferred.then(function(){e._listeners.forEach(function(e){e.call(this,n)},e)})}else this._listeners.forEach(function(e){e.call(this,{data:t})},this)}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),M);function M(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,M),this._listeners=[],this._defer=e,this._deferred=Promise.resolve(void 0)}var N,P,R,D=(P=void(N=0),R=new WeakMap,I.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(e){this._port=e,this._messageHandler=new m.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var e,t,n=this;if(!u&&!(0,g.getDefaultSetting)("disableWorker")&&"undefined"!=typeof Worker){var r=O();try{(0,m.isSameOrigin)(window.location.href,r)||(e=new URL(r,window.location).href,t="importScripts('"+e+"');",r=URL.createObjectURL(new Blob([t])));var i=new Worker(r),o=new m.MessageHandler("main","worker",i),a=function(){i.removeEventListener("error",s),o.destroy(),i.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},s=function(){n._webWorker||a()};i.addEventListener("error",s),o.on("test",function(e){i.removeEventListener("error",s),n.destroyed?a():e&&e.supportTypedArray?(n._messageHandler=o,n._port=i,n._webWorker=i,e.supportTransfers||(n.postMessageTransfers=!1,y=!0),n._readyCapability.resolve(),o.send("configure",{verbosity:(0,m.getVerbosityLevel)()})):(n._setupFakeWorker(),o.destroy(),i.terminate())}),o.on("console_log",function(e){console.log.apply(console,e)}),o.on("console_error",function(e){console.error.apply(console,e)}),o.on("ready",function(e){if(i.removeEventListener("error",s),n.destroyed)a();else try{l()}catch(e){n._setupFakeWorker()}});var l=function(){var e=(0,g.getDefaultSetting)("postMessageTransfers")&&!y,t=new Uint8Array([e?255:0]);try{o.send("test",t,[t.buffer])}catch(e){(0,m.info)("Cannot use postMessage transfers"),t[0]=0,o.send("test",t)}};return void l()}catch(e){(0,m.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var a=this;u||(0,g.getDefaultSetting)("disableWorker")||((0,m.warn)("Setting up fake worker."),u=!0),P||(P=(0,m.createPromiseCapability)(),(c||function(e){m.Util.loadScript(O(),function(){e(window.pdfjsDistBuildPdfWorker.WorkerMessageHandler)})})(P.resolve)),P.promise.then(function(e){if(a.destroyed)a._readyCapability.reject(new Error("Worker was destroyed"));else{var t=Uint8Array!==Float32Array,n=new T(t);a._port=n;var r="fake"+N++,i=new m.MessageHandler(r+"_worker",r,n);e.setup(i,n);var o=new m.MessageHandler(r,r+"_worker",n);a._messageHandler=o,a._readyCapability.resolve()}})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),R.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},I.fromPort=function(e){return R.has(e)?R.get(e):new I(null,e)},I);function O(){if(void 0!==s)return s;if((0,g.getDefaultSetting)("workerSrc"))return(0,g.getDefaultSetting)("workerSrc");if(d)return d.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2");throw new Error("No PDFJS.workerSrc specified")}function I(e,t){if(t&&R.has(t))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=e,this.destroyed=!1,this.postMessageTransfers=!0,this._readyCapability=(0,m.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return R.set(t,this),void this._initializeFromPort(t);this._initialize()}var L=(F.prototype={destroy:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,m.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache=[],this.pagePromises=[];var n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise},setupMessageHandler:function(){var e=this.messageHandler,n=this.loadingTask;e.on("GetReader",function(e,n){var t=this;(0,m.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then(function(e){var t=e.value;e.done?n.close():((0,m.assert)((0,m.isArrayBuffer)(t)),n.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){n.error(e)})},n.onCancel=function(e){t._fullReader.cancel(e)}},this),e.on("ReaderHeadersReady",function(e){var n=this,t=(0,m.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then(function(){if(!r.isStreamingSupported||!r.isRangeSupported){if(n._lastProgress){var e=n.loadingTask;e.onProgress&&e.onProgress(n._lastProgress)}r.onProgress=function(e){var t=n.loadingTask;t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}}t.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},t.reject),t.promise},this),e.on("GetRangeReader",function(e,n){(0,m.assert)(this._networkStream);var t=this._networkStream.getRangeReader(e.begin,e.end);n.onPull=function(){t.read().then(function(e){var t=e.value;e.done?n.close():((0,m.assert)((0,m.isArrayBuffer)(t)),n.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){n.error(e)})},n.onCancel=function(e){t.cancel(e)}},this),e.on("GetDoc",function(e){var t=e.pdfInfo;this.numPages=e.pdfInfo.numPages;var n=this.loadingTask,r=new $(t,this,n);this.pdfDocument=r,n._capability.resolve(r)},this),e.on("PasswordRequest",function(e){var t=this;return this._passwordCapability=(0,m.createPromiseCapability)(),n.onPassword?n.onPassword(function(e){t._passwordCapability.resolve({password:e})},e.code):this._passwordCapability.reject(new m.PasswordException(e.message,e.code)),this._passwordCapability.promise},this),e.on("PasswordException",function(e){n._capability.reject(new m.PasswordException(e.message,e.code))},this),e.on("InvalidPDF",function(e){this.loadingTask._capability.reject(new m.InvalidPDFException(e.message))},this),e.on("MissingPDF",function(e){this.loadingTask._capability.reject(new m.MissingPDFException(e.message))},this),e.on("UnexpectedResponse",function(e){this.loadingTask._capability.reject(new m.UnexpectedResponseException(e.message,e.status))},this),e.on("UnknownError",function(e){this.loadingTask._capability.reject(new m.UnknownErrorException(e.message,e.details))},this),e.on("DataLoaded",function(e){this.downloadInfoCapability.resolve(e)},this),e.on("PDFManagerReady",function(){},this),e.on("StartRenderPage",function(e){if(!this.destroyed){var t=this.pageCache[e.pageIndex];t.stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent)}},this),e.on("RenderPageChunk",function(e){this.destroyed||this.pageCache[e.pageIndex]._renderPageChunk(e.operatorList,e.intent)},this),e.on("commonobj",function(e){var t=this;if(!this.destroyed){var n=e[0],r=e[1];if(!this.commonObjs.hasData(n))switch(r){case"Font":var i=e[2];if("error"in i){var o=i.error;(0,m.warn)("Error during font loading: "+o),this.commonObjs.resolve(n,o);break}var a=null;(0,g.getDefaultSetting)("pdfBug")&&m.globalScope.FontInspector&&m.globalScope.FontInspector.enabled&&(a={registerFont:function(e,t){m.globalScope.FontInspector.fontAdded(e,t)}});var s=new l.FontFaceObject(i,{isEvalSuported:(0,g.getDefaultSetting)("isEvalSupported"),disableFontFace:(0,g.getDefaultSetting)("disableFontFace"),fontRegistry:a});this.fontLoader.bind([s],function(){t.commonObjs.resolve(n,s)});break;case"FontPath":this.commonObjs.resolve(n,e[2]);break;default:throw new Error("Got unknown common object type "+r)}}},this),e.on("obj",function(e){if(!this.destroyed){var t,n=e[0],r=e[1],i=e[2],o=this.pageCache[r];if(!o.objs.hasData(n))switch(i){case"JpegStream":t=e[3],(0,m.loadJpegStream)(n,t,o.objs);break;case"Image":t=e[3],o.objs.resolve(n,t),t&&"data"in t&&8e6<t.data.length&&(o.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+i)}}},this),e.on("DocProgress",function(e){if(!this.destroyed){var t=this.loadingTask;t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}},this),e.on("PageError",function(e){if(!this.destroyed){var t=this.pageCache[e.pageNum-1].intentStates[e.intent];if(!t.displayReadyCapability)throw new Error(e.error);if(t.displayReadyCapability.reject(e.error),t.operatorList){t.operatorList.lastChunk=!0;for(var n=0;n<t.renderTasks.length;n++)t.renderTasks[n].operatorListChanged()}}},this),e.on("UnsupportedFeature",function(e){if(!this.destroyed){var t=e.featureId,n=this.loadingTask;n.onUnsupportedFeature&&n.onUnsupportedFeature(t),G.notify(t)}},this),e.on("JpegDecode",function(e){if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var t=e[0],h=e[1];return 3!==h&&1!==h?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(u,e){var d=new Image;d.onload=function(){var e=d.width,t=d.height,n=e*t,r=4*n,i=new Uint8Array(n*h),o=document.createElement("canvas");o.width=e,o.height=t;var a=o.getContext("2d");a.drawImage(d,0,0);var s,l,c=a.getImageData(0,0,e,t).data;if(3===h)for(l=s=0;s<r;s+=4,l+=3)i[l]=c[s],i[l+1]=c[s+1],i[l+2]=c[s+2];else if(1===h)for(l=s=0;s<r;s+=4,l++)i[l]=c[s];u({data:i,width:e,height:t})},d.onerror=function(){e(new Error("JpegDecode failed to load image"))},d.src=t})},this),e.on("FetchBuiltInCMap",function(e){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:e.name})},this)},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(e){var n=this;if(!(0,m.isInt)(e)||e<=0||e>this.numPages)return Promise.reject(new Error("Invalid page request"));var r=e-1;if(r in this.pagePromises)return this.pagePromises[r];var t=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(function(e){if(n.destroyed)throw new Error("Transport destroyed");var t=new A(r,e,n);return n.pageCache[r]=t});return this.pagePromises[r]=t},getPageIndex:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})},getAnnotations:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)},getDestination:function(e){return this.messageHandler.sendWithPromise("GetDestination",{id:e})},getPageLabels:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)},getPageMode:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new a.Metadata(e[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",null)},startCleanup:function(){var r=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var e=0,t=r.pageCache.length;e<t;e++){var n=r.pageCache[e];n&&n.cleanup()}r.commonObjs.clear(),r.fontLoader.clear()})}},F);function F(e,t,n,r){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new H,this.fontLoader=new l.FontLoader(t.docId),this.CMapReaderFactory=new r({baseUrl:(0,g.getDefaultSetting)("cMapUrl"),isCompressed:(0,g.getDefaultSetting)("cMapPacked")}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,m.createPromiseCapability)(),this.setupMessageHandler()}var H=(j.prototype={ensureObj:function(e){if(this.objs[e])return this.objs[e];var t={capability:(0,m.createPromiseCapability)(),data:null,resolved:!1};return this.objs[e]=t},get:function(e,t){if(t)return this.ensureObj(e).capability.promise.then(t),null;var n=this.objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet "+e);return n.data},resolve:function(e,t){var n=this.ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)},isResolved:function(e){var t=this.objs;return!!t[e]&&t[e].resolved},hasData:function(e){return this.isResolved(e)},getData:function(e){var t=this.objs;return t[e]&&t[e].resolved?t[e].data:null},clear:function(){this.objs=Object.create(null)}},j);function j(){this.objs=Object.create(null)}var B=(U.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(e,t){return this.promise.then.apply(this.promise,arguments)}},U);function U(e){this._internalRenderTask=e,this.onContinue=null}var q,z=(q=new WeakMap,V.prototype={initializeGraphics:function(e){if(this._canvas){if(q.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");q.set(this._canvas,this)}if(!this.cancelled){(0,g.getDefaultSetting)("pdfBug")&&m.globalScope.StepperManager&&m.globalScope.StepperManager.enabled&&(this.stepper=m.globalScope.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var t=this.params;this.gfx=new o.CanvasGraphics(t.canvasContext,this.commonObjs,this.objs,this.canvasFactory,t.imageLayer),this.gfx.beginDrawing({transform:t.transform,viewport:t.viewport,transparency:e,background:t.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&q.delete(this._canvas),(0,g.getDefaultSetting)("pdfjsNext")?this.callback(new g.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas")):this.callback("cancelled")},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(this._nextBound):Promise.resolve(void 0).then(this._nextBound)},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&q.delete(this._canvas),this.callback())))}},V);function V(e,t,n,r,i,o,a){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.operatorListIdx=null,this.operatorList=i,this.pageNumber=o,this.canvasFactory=a,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=(0,m.createPromiseCapability)(),this.task=new B(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}var W,G=(W=[],{listen:function(e){(0,m.deprecated)("Global UnsupportedManager.listen is used:  use PDFDocumentLoadingTask.onUnsupportedFeature instead"),W.push(e)},notify:function(e){for(var t=0,n=W.length;t<n;t++)W[t](e)}});t.version="1.8.619",t.build="723bc25b",t.getDocument=function(e,t,n,r){var i,o=new C;if(1<arguments.length&&(0,m.deprecated)("getDocument is called with pdfDataRangeTransport, passwordCallback or progressCallback argument"),t&&(t instanceof E||((t=Object.create(t)).length=e.length,t.initialData=e.initialData,t.abort||(t.abort=function(){})),(e=Object.create(e)).range=t),o.onPassword=n||null,o.onProgress=r||null,"string"==typeof e)i={url:e};else if((0,m.isArrayBuffer)(e))i={data:e};else if(e instanceof E)i={range:e};else{if("object"!==(void 0===e?"undefined":p(e)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");i=e}var a={},s=null,l=null,c=g.DOMCMapReaderFactory;for(var u in i)if("url"!==u||"undefined"==typeof window)if("range"!==u)if("worker"!==u)if("data"!==u||i[u]instanceof Uint8Array)"CMapReaderFactory"!==u?a[u]=i[u]:c=i[u];else{var d=i[u];if("string"==typeof d)a[u]=(0,m.stringToBytes)(d);else if("object"!==(void 0===d?"undefined":p(d))||null===d||isNaN(d.length)){if(!(0,m.isArrayBuffer)(d))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");a[u]=new Uint8Array(d)}else a[u]=new Uint8Array(d)}else l=i[u];else s=i[u];else a[u]=new URL(i[u],window.location).href;if(a.rangeChunkSize=a.rangeChunkSize||65536,a.ignoreErrors=!0!==a.stopAtErrors,void 0!==a.disableNativeImageDecoder&&(0,m.deprecated)("parameter disableNativeImageDecoder, use nativeImageDecoderSupport instead"),a.nativeImageDecoderSupport=a.nativeImageDecoderSupport||(!0===a.disableNativeImageDecoder?m.NativeImageDecoding.NONE:m.NativeImageDecoding.DECODE),a.nativeImageDecoderSupport!==m.NativeImageDecoding.DECODE&&a.nativeImageDecoderSupport!==m.NativeImageDecoding.NONE&&a.nativeImageDecoderSupport!==m.NativeImageDecoding.DISPLAY&&((0,m.warn)("Invalid parameter nativeImageDecoderSupport: need a state of enum {NativeImageDecoding}"),a.nativeImageDecoderSupport=m.NativeImageDecoding.DECODE),!l){var h=(0,g.getDefaultSetting)("workerPort");l=h?D.fromPort(h):new D,o._worker=l}var f=o.docId;return l.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");return function(t,e,n,r){if(t.destroyed)return Promise.reject(new Error("Worker was destroyed"));e.disableAutoFetch=(0,g.getDefaultSetting)("disableAutoFetch"),e.disableStream=(0,g.getDefaultSetting)("disableStream"),e.chunkedViewerLoading=!!n,n&&(e.length=n.length,e.initialData=n.initialData);return t.messageHandler.sendWithPromise("GetDocRequest",{docId:r,source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:(0,g.getDefaultSetting)("maxImageSize"),disableFontFace:(0,g.getDefaultSetting)("disableFontFace"),disableCreateObjectURL:(0,g.getDefaultSetting)("disableCreateObjectURL"),postMessageTransfers:(0,g.getDefaultSetting)("postMessageTransfers")&&!y,docBaseUrl:e.docBaseUrl,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors}).then(function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e})}(l,a,s,f).then(function(e){if(o.destroyed)throw new Error("Loading aborted");var t=void 0;s?t=new v.PDFDataTransportStream(a,s):a.data||(t=new b({source:a,disableRange:(0,g.getDefaultSetting)("disableRange")}));var n=new m.MessageHandler(f,e,l.port);n.postMessageTransfers=l.postMessageTransfers;var r=new L(n,o,t,c);o._transport=r,n.send("Ready",null)})}).catch(o._capability.reject),o},t.LoopbackPort=T,t.PDFDataRangeTransport=E,t.PDFWorker=D,t.PDFDocumentProxy=$,t.PDFPageProxy=A,t.setPDFNetworkStreamClass=function(e){b=e},t._UnsupportedManager=G,t.version="1.8.619",t.build="723bc25b"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var d=n(1),h=n(0);function a(){}a.prototype={create:function(e){switch(e.data.annotationType){case h.AnnotationType.LINK:return new o(e);case h.AnnotationType.TEXT:return new l(e);case h.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new m(e);case"Btn":if(e.data.radioButton)return new b(e);if(e.data.checkBox)return new v(e);(0,h.warn)("Unimplemented button widget annotation: pushbutton");break;case"Ch":return new C(e)}return new u(e);case h.AnnotationType.POPUP:return new _(e);case h.AnnotationType.LINE:return new T(e);case h.AnnotationType.HIGHLIGHT:return new N(e);case h.AnnotationType.UNDERLINE:return new R(e);case h.AnnotationType.SQUIGGLY:return new O(e);case h.AnnotationType.STRIKEOUT:return new L(e);case h.AnnotationType.FILEATTACHMENT:return new H(e);default:return new r(e)}}};var r=(i.prototype={_createContainer:function(e){var t=this.data,n=this.page,r=this.viewport,i=document.createElement("section"),o=t.rect[2]-t.rect[0],a=t.rect[3]-t.rect[1];i.setAttribute("data-annotation-id",t.id);var s=h.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(d.CustomStyle.setProp("transform",i,"matrix("+r.transform.join(",")+")"),d.CustomStyle.setProp("transformOrigin",i,-s[0]+"px "+-s[1]+"px"),!e&&0<t.borderStyle.width){i.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==h.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,a-=2*t.borderStyle.width);var l=t.borderStyle.horizontalCornerRadius,c=t.borderStyle.verticalCornerRadius;if(0<l||0<c){var u=l+"px / "+c+"px";d.CustomStyle.setProp("borderRadius",i,u)}switch(t.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid"}t.color?i.style.borderColor=h.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):i.style.borderWidth=0}return i.style.left=s[0]+"px",i.style.top=s[1]+"px",i.style.width=o+"px",i.style.height=a+"px",i},_createPopup:function(e,t,n){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var r=new S({container:e,trigger:t,color:n.color,title:n.title,contents:n.contents,hideWrapper:!0}).render();r.style.left=e.style.width,e.appendChild(r)},render:function(){throw new Error("Abstract method AnnotationElement.render called")}},i);function i(e,t,n){this.isRenderable=t||!1,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,t&&(this.container=this._createContainer(n))}var o=(h.Util.inherit(s,r,{render:function(){this.container.className="linkAnnotation";var e=document.createElement("a");return(0,d.addLinkAttributes)(e,{url:this.data.url,target:this.data.newWindow?d.LinkTarget.BLANK:void 0}),this.data.url||(this.data.action?this._bindNamedAction(e,this.data.action):this._bindLink(e,this.data.dest)),this.container.appendChild(e),this.container},_bindLink:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.navigateTo(t),!1},t&&(e.className="internalLink")},_bindNamedAction:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}}),s);function s(e){r.call(this,e,!0)}var l=(h.Util.inherit(c,r,{render:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}),c);function c(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t)}var u=(h.Util.inherit(f,r,{render:function(){return this.container}}),f);function f(e,t){r.call(this,e,t)}var p,m=(p=["left","center","right"],h.Util.inherit(g,u,{render:function(){this.container.className="textWidgetAnnotation";var e=null;if(this.renderInteractiveForms){if(this.data.multiLine?(e=document.createElement("textarea")).textContent=this.data.fieldValue:((e=document.createElement("input")).type="text",e.setAttribute("value",this.data.fieldValue)),e.disabled=this.data.readOnly,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc("+t+"px - 1ch)"}}else{(e=document.createElement("div")).textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";var n=null;this.data.fontRefName&&(n=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(e,n)}return null!==this.data.textAlignment&&(e.style.textAlign=p[this.data.textAlignment]),this.container.appendChild(e),this.container},_setTextStyle:function(e,t){var n=e.style;if(n.fontSize=this.data.fontSize+"px",n.direction=this.data.fontDirection<0?"rtl":"ltr",t){n.fontWeight=t.black?t.bold?"900":"bold":t.bold?"bold":"normal",n.fontStyle=t.italic?"italic":"normal";var r=t.loadedName?'"'+t.loadedName+'", ':"",i=t.fallbackName||"Helvetica, sans-serif";n.fontFamily=r+i}}}),g);function g(e){var t=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;u.call(this,e,t)}var v=(h.Util.inherit(y,u,{render:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}),y);function y(e){u.call(this,e,e.renderInteractiveForms)}var b=(h.Util.inherit(w,u,{render:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}),w);function w(e){u.call(this,e,e.renderInteractiveForms)}var C=(h.Util.inherit(x,u,{render:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));for(var t=0,n=this.data.options.length;t<n;t++){var r=this.data.options[t],i=document.createElement("option");i.textContent=r.displayValue,i.value=r.exportValue,0<=this.data.fieldValue.indexOf(r.displayValue)&&i.setAttribute("selected",!0),e.appendChild(i)}return this.container.appendChild(e),this.container}}),x);function x(e){u.call(this,e,e.renderInteractiveForms)}var E,_=(E=["Line"],h.Util.inherit($,r,{render:function(){if(this.container.className="popupAnnotation",0<=E.indexOf(this.data.parentType))return this.container;var e='[data-annotation-id="'+this.data.parentId+'"]',t=this.layer.querySelector(e);if(!t)return this.container;var n=new S({container:this.container,trigger:t,color:this.data.color,title:this.data.title,contents:this.data.contents}),r=parseFloat(t.style.left),i=parseFloat(t.style.width);return d.CustomStyle.setProp("transformOrigin",this.container,-(r+i)+"px -"+t.style.top),this.container.style.left=r+i+"px",this.container.appendChild(n.render()),this.container}}),$);function $(e){var t=!(!e.data.title&&!e.data.contents);r.call(this,e,t)}var S=(A.prototype={render:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var n=this.color;if(n){var r=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],o=.7*(255-n[2])+n[2];t.style.backgroundColor=h.Util.makeCssRgb(0|r,0|i,0|o)}var a=this._formatContents(this.contents),s=document.createElement("h1");return s.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(s),t.appendChild(a),e.appendChild(t),e},_formatContents:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),r=0,i=n.length;r<i;++r){var o=n[r];t.appendChild(document.createTextNode(o)),r<i-1&&t.appendChild(document.createElement("br"))}return t},_toggle:function(){this.pinned?this._hide(!0):this._show(!0)},_show:function(e){e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)},_hide:function(e){e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),--this.container.style.zIndex)}},A);function A(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}var k,T=(k="http://www.w3.org/2000/svg",h.Util.inherit(M,r,{render:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=document.createElementNS(k,"svg:svg");r.setAttributeNS(null,"version","1.1"),r.setAttributeNS(null,"width",t+"px"),r.setAttributeNS(null,"height",n+"px"),r.setAttributeNS(null,"preserveAspectRatio","none"),r.setAttributeNS(null,"viewBox","0 0 "+t+" "+n);var i=document.createElementNS(k,"svg:line");return i.setAttributeNS(null,"x1",e.rect[2]-e.lineCoordinates[0]),i.setAttributeNS(null,"y1",e.rect[3]-e.lineCoordinates[1]),i.setAttributeNS(null,"x2",e.rect[2]-e.lineCoordinates[2]),i.setAttributeNS(null,"y2",e.rect[3]-e.lineCoordinates[3]),i.setAttributeNS(null,"stroke-width",e.borderStyle.width),i.setAttributeNS(null,"stroke","transparent"),r.appendChild(i),this.container.append(r),this._createPopup(this.container,i,this.data),this.container}}),M);function M(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}var N=(h.Util.inherit(P,r,{render:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),P);function P(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}var R=(h.Util.inherit(D,r,{render:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),D);function D(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}var O=(h.Util.inherit(I,r,{render:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),I);function I(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}var L=(h.Util.inherit(F,r,{render:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}),F);function F(e){var t=!!(e.data.hasPopup||e.data.title||e.data.contents);r.call(this,e,t,!0)}var H=(h.Util.inherit(j,r,{render:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container},_download:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,h.warn)("Download cannot be started due to unavailable download manager")}}),j);function j(e){r.call(this,e,!0);var t=this.data.file;this.filename=(0,d.getFilenameFromUrl)(t.filename),this.content=t.content,this.linkService.onFileAttachmentAnnotation({id:(0,h.stringToPDFString)(t.filename),filename:t.filename,content:t.content})}var B={render:function(e){for(var t=new a,n=0,r=e.annotations.length;n<r;n++){var i=e.annotations[n];if(i){var o=t.create({data:i,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||(0,d.getDefaultSetting)("imageResourcesPath"),renderInteractiveForms:e.renderInteractiveForms||!1});o.isRenderable&&e.div.appendChild(o.render())}}},update:function(e){for(var t=0,n=e.annotations.length;t<n;t++){var r=e.annotations[t],i=e.div.querySelector('[data-annotation-id="'+r.id+'"]');i&&d.CustomStyle.setProp("transform",i,"matrix("+e.viewport.transform.join(",")+")")}e.div.removeAttribute("hidden")}};t.AnnotationLayer=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var d,s,r,i,o,l,x=n(0),g="normal",v="normal",y="#000000",c=function(){for(var b=new Uint8Array([137,80,78,71,13,10,26,10]),s=new Int32Array(256),e=0;e<256;e++){for(var t=e,n=0;n<8;n++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;s[e]=t}function w(e,t,n,r){var i=r,o=t.length;n[i]=o>>24&255,n[i+1]=o>>16&255,n[i+2]=o>>8&255,n[i+3]=255&o,n[i+=4]=255&e.charCodeAt(0),n[i+1]=255&e.charCodeAt(1),n[i+2]=255&e.charCodeAt(2),n[i+3]=255&e.charCodeAt(3),i+=4,n.set(t,i);var a=function(e,t,n){for(var r=-1,i=t;i<n;i++){var o=255&(r^e[i]);r=r>>>8^s[o]}return-1^r}(n,r+4,i+=t.length);n[i]=a>>24&255,n[i+1]=a>>16&255,n[i+2]=a>>8&255,n[i+3]=255&a}function C(e){var t=e.length,n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4),o=0;i[o++]=120,i[o++]=156;for(var a=0;n<t;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(e.subarray(a,a+n),o),o+=n,a+=n,t-=n;i[o++]=1,i[o++]=255&t,i[o++]=t>>8&255,i[o++]=255&~t,i[o++]=(65535&~t)>>8&255,i.set(e.subarray(a),o),o+=e.length-a;var s=function(e,t,n){for(var r=1,i=0,o=t;o<n;++o)i=(i+(r=(r+(255&e[o]))%65521))%65521;return i<<16|r}(e,0,e.length);return i[o++]=s>>24&255,i[o++]=s>>16&255,i[o++]=s>>8&255,i[o++]=255&s,i}function r(e,t,n){var r,i,o,a=e.width,s=e.height,l=e.data;switch(t){case x.ImageKind.GRAYSCALE_1BPP:i=0,r=1,o=a+7>>3;break;case x.ImageKind.RGB_24BPP:i=2,r=8,o=3*a;break;case x.ImageKind.RGBA_32BPP:i=6,r=8,o=4*a;break;default:throw new Error("invalid format")}var c,u,d=new Uint8Array((1+o)*s),h=0,f=0;for(c=0;c<s;++c)d[h++]=0,d.set(l.subarray(f,f+o),h),f+=o,h+=o;if(t===x.ImageKind.GRAYSCALE_1BPP)for(c=h=0;c<s;c++)for(h++,u=0;u<o;u++)d[h++]^=255;var p=new Uint8Array([a>>24&255,a>>16&255,a>>8&255,255&a,s>>24&255,s>>16&255,s>>8&255,255&s,r,i,0,0,0]),m=function(e){if(!(0,x.isNodeJS)())return C(e);try{var t;t=8<=parseInt(process.versions.node)?e:new Buffer(e);var n=require("zlib").deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,x.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return C(e)}(d),g=b.length+36+p.length+m.length,v=new Uint8Array(g),y=0;return v.set(b,y),w("IHDR",p,v,y+=b.length),w("IDATA",m,v,y+=12+p.length),y+=12+m.length,w("IEND",new Uint8Array(0),v,y),(0,x.createObjectURL)(v,"image/png",n)}return function(e,t){return r(e,void 0===e.kind?x.ImageKind.GRAYSCALE_1BPP:e.kind,t)}}(),a=(h.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},h);function b(e){if(e===(0|e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;for(;"0"===t[--n];);return t.substr(0,"."===t[n]?n:n+1)}function w(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale("+b(e[0])+" "+b(e[3])+")";if(e[0]===e[3]&&e[1]===-e[2])return"rotate("+b(180*Math.acos(e[0])/Math.PI)+")"}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate("+b(e[4])+" "+b(e[5])+")";return"matrix("+b(e[0])+" "+b(e[1])+" "+b(e[2])+" "+b(e[3])+" "+b(e[4])+" "+b(e[5])+")"}function u(e,t,n){this.current=new a,this.transformMatrix=x.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n}function h(){this.fontSizeScale=1,this.fontWeight=v,this.fontSize=0,this.textMatrix=x.IDENTITY_MATRIX,this.fontMatrix=x.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=y,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}t.SVGGraphics=(d="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xlink",r=["butt","round","square"],i=["miter","round","bevel"],l=o=0,u.prototype={save:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(e){this.save(),this.executeOpTree(e),this.restore()},loadDependencies:function(e){for(var t=this,n=e.fnArray,r=n.length,i=e.argsArray,o=0;o<r;o++)if(x.OPS.dependency===n[o])for(var a=i[o],s=0,l=a.length;s<l;s++){var c,u=a[s];c="g_"===u.substring(0,2)?new Promise(function(e){t.commonObjs.get(u,e)}):new Promise(function(e){t.objs.get(u,e)}),this.current.dependencies.push(c)}return Promise.all(this.current.dependencies)},transform:function(e,t,n,r,i,o){var a=[e,t,n,r,i,o];this.transformMatrix=x.Util.transform(this.transformMatrix,a),this.tgrp=null},getSVG:function(t,e){var n=this;this.viewport=e;var r=this._initialize(e);return this.loadDependencies(t).then(function(){n.transformMatrix=x.IDENTITY_MATRIX;var e=n.convertOpList(t);return n.executeOpTree(e),r})},convertOpList:function(e){var t=e.argsArray,n=e.fnArray,r=n.length,i=[],o=[];for(var a in x.OPS)i[x.OPS[a]]=a;for(var s=0;s<r;s++){var l=n[s];o.push({fnId:l,fn:i[l],args:t[s]})}return function(e){for(var t=[],n=[],r=e.length,i=0;i<r;i++)"save"!==e[i].fn?"restore"===e[i].fn?t=n.pop():t.push(e[i]):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t[t.length-1].items);return t}(o)},executeOpTree:function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n].fn,i=e[n].fnId,o=e[n].args;switch(0|i){case x.OPS.beginText:this.beginText();break;case x.OPS.setLeading:this.setLeading(o);break;case x.OPS.setLeadingMoveText:this.setLeadingMoveText(o[0],o[1]);break;case x.OPS.setFont:this.setFont(o);break;case x.OPS.showText:case x.OPS.showSpacedText:this.showText(o[0]);break;case x.OPS.endText:this.endText();break;case x.OPS.moveText:this.moveText(o[0],o[1]);break;case x.OPS.setCharSpacing:this.setCharSpacing(o[0]);break;case x.OPS.setWordSpacing:this.setWordSpacing(o[0]);break;case x.OPS.setHScale:this.setHScale(o[0]);break;case x.OPS.setTextMatrix:this.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case x.OPS.setLineWidth:this.setLineWidth(o[0]);break;case x.OPS.setLineJoin:this.setLineJoin(o[0]);break;case x.OPS.setLineCap:this.setLineCap(o[0]);break;case x.OPS.setMiterLimit:this.setMiterLimit(o[0]);break;case x.OPS.setFillRGBColor:this.setFillRGBColor(o[0],o[1],o[2]);break;case x.OPS.setStrokeRGBColor:this.setStrokeRGBColor(o[0],o[1],o[2]);break;case x.OPS.setDash:this.setDash(o[0],o[1]);break;case x.OPS.setGState:this.setGState(o[0]);break;case x.OPS.fill:this.fill();break;case x.OPS.eoFill:this.eoFill();break;case x.OPS.stroke:this.stroke();break;case x.OPS.fillStroke:this.fillStroke();break;case x.OPS.eoFillStroke:this.eoFillStroke();break;case x.OPS.clip:this.clip("nonzero");break;case x.OPS.eoClip:this.clip("evenodd");break;case x.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case x.OPS.paintJpegXObject:this.paintJpegXObject(o[0],o[1],o[2]);break;case x.OPS.paintImageXObject:this.paintImageXObject(o[0]);break;case x.OPS.paintInlineImageXObject:this.paintInlineImageXObject(o[0]);break;case x.OPS.paintImageMaskXObject:this.paintImageMaskXObject(o[0]);break;case x.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(o[0],o[1]);break;case x.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case x.OPS.closePath:this.closePath();break;case x.OPS.closeStroke:this.closeStroke();break;case x.OPS.closeFillStroke:this.closeFillStroke();break;case x.OPS.nextLine:this.nextLine();break;case x.OPS.transform:this.transform(o[0],o[1],o[2],o[3],o[4],o[5]);break;case x.OPS.constructPath:this.constructPath(o[0],o[1]);break;case x.OPS.endPath:this.endPath();break;case 92:this.group(e[n].items);break;default:(0,x.warn)("Unimplemented operator "+r)}}},setWordSpacing:function(e){this.current.wordSpacing=e},setCharSpacing:function(e){this.current.charSpacing=e},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(e,t,n,r,i,o){var a=this.current;this.current.textMatrix=this.current.lineMatrix=[e,t,n,r,i,o],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,a.xcoords=[],a.tspan=document.createElementNS(d,"svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",b(a.fontSize)+"px"),a.tspan.setAttributeNS(null,"y",b(-a.y)),a.txtElement=document.createElementNS(d,"svg:text"),a.txtElement.appendChild(a.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=x.IDENTITY_MATRIX,this.current.lineMatrix=x.IDENTITY_MATRIX,this.current.tspan=document.createElementNS(d,"svg:tspan"),this.current.txtElement=document.createElementNS(d,"svg:text"),this.current.txtgrp=document.createElementNS(d,"svg:g"),this.current.xcoords=[]},moveText:function(e,t){var n=this.current;this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t,n.xcoords=[],n.tspan=document.createElementNS(d,"svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",b(n.fontSize)+"px"),n.tspan.setAttributeNS(null,"y",b(-n.y))},showText:function(e){var t=this.current,n=t.font,r=t.fontSize;if(0!==r){var i,o=t.charSpacing,a=t.wordSpacing,s=t.fontDirection,l=t.textHScale*s,c=e.length,u=n.vertical,d=r*t.fontMatrix[0],h=0;for(i=0;i<c;++i){var f=e[i];if(null!==f)if((0,x.isNum)(f))h+=-f*r*.001;else{t.xcoords.push(t.x+h*l);var p=f.width,m=f.fontChar;h+=p*d+((f.isSpace?a:0)+o)*s,t.tspan.textContent+=m}else h+=s*a}u?t.y-=h*l:t.x+=h*l,t.tspan.setAttributeNS(null,"x",t.xcoords.map(b).join(" ")),t.tspan.setAttributeNS(null,"y",b(-t.y)),t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",b(t.fontSize)+"px"),t.fontStyle!==g&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==v&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight),t.fillColor!==y&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.txtElement.setAttributeNS(null,"transform",w(t.textMatrix)+" scale(1, -1)"),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},addFontStyle:function(e){this.cssStyle||(this.cssStyle=document.createElementNS(d,"svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,x.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+e.loadedName+'"; src: url('+t+"); }\n"},setFont:function(e){var t=this.current,n=this.commonObjs.get(e[0]),r=e[1];this.current.font=n,this.embedFonts&&n.data&&!this.embeddedFonts[n.loadedName]&&(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix?n.fontMatrix:x.FONT_IDENTITY_MATRIX;var i=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal",o=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=i,t.fontStyle=o,t.tspan=document.createElementNS(d,"svg:tspan"),t.tspan.setAttributeNS(null,"y",b(-t.y)),t.xcoords=[]},endText:function(){},setLineWidth:function(e){this.current.lineWidth=e},setLineCap:function(e){this.current.lineCap=r[e]},setLineJoin:function(e){this.current.lineJoin=i[e]},setMiterLimit:function(e){this.current.miterLimit=e},setStrokeAlpha:function(e){this.current.strokeAlpha=e},setStrokeRGBColor:function(e,t,n){var r=x.Util.makeCssRgb(e,t,n);this.current.strokeColor=r},setFillAlpha:function(e){this.current.fillAlpha=e},setFillRGBColor:function(e,t,n){var r=x.Util.makeCssRgb(e,t,n);this.current.fillColor=r,this.current.tspan=document.createElementNS(d,"svg:tspan"),this.current.xcoords=[]},setDash:function(e,t){this.current.dashArray=e,this.current.dashPhase=t},constructPath:function(e,t){var n=this.current,r=n.x,i=n.y;n.path=document.createElementNS(d,"svg:path");for(var o=[],a=e.length,s=0,l=0;s<a;s++)switch(0|e[s]){case x.OPS.rectangle:r=t[l++],i=t[l++];var c=r+t[l++],u=i+t[l++];o.push("M",b(r),b(i),"L",b(c),b(i),"L",b(c),b(u),"L",b(r),b(u),"Z");break;case x.OPS.moveTo:r=t[l++],i=t[l++],o.push("M",b(r),b(i));break;case x.OPS.lineTo:r=t[l++],i=t[l++],o.push("L",b(r),b(i));break;case x.OPS.curveTo:r=t[l+4],i=t[l+5],o.push("C",b(t[l]),b(t[l+1]),b(t[l+2]),b(t[l+3]),b(r),b(i)),l+=6;break;case x.OPS.curveTo2:r=t[l+2],i=t[l+3],o.push("C",b(r),b(i),b(t[l]),b(t[l+1]),b(t[l+2]),b(t[l+3])),l+=4;break;case x.OPS.curveTo3:r=t[l+2],i=t[l+3],o.push("C",b(t[l]),b(t[l+1]),b(r),b(i),b(r),b(i)),l+=4;break;case x.OPS.closePath:o.push("Z")}n.path.setAttributeNS(null,"d",o.join(" ")),n.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(n.path),n.element=n.path,n.setCurrentPoint(r,i)},endPath:function(){if(this.pendingClip){var e=this.current,t="clippath"+o;o++;var n=document.createElementNS(d,"svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",w(this.transformMatrix));var r=e.element.cloneNode();"evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null})),e.activeClipUrl="url(#"+t+")",this.tgrp=null}},clip:function(e){this.pendingClip=e},closePath:function(){var e=this.current,t=e.path.getAttributeNS(null,"d");t+="Z",e.path.setAttributeNS(null,"d",t)},setLeading:function(e){this.current.leading=-e},setTextRise:function(e){this.current.textRise=e},setHScale:function(e){this.current.textHScale=e/100},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[0],o=r[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,x.warn)("Unimplemented graphic state "+i)}}},fill:function(){var e=this.current;e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha)},stroke:function(){var e=this.current;e.element.setAttributeNS(null,"stroke",e.strokeColor),e.element.setAttributeNS(null,"stroke-opacity",e.strokeAlpha),e.element.setAttributeNS(null,"stroke-miterlimit",b(e.miterLimit)),e.element.setAttributeNS(null,"stroke-linecap",e.lineCap),e.element.setAttributeNS(null,"stroke-linejoin",e.lineJoin),e.element.setAttributeNS(null,"stroke-width",b(e.lineWidth)+"px"),e.element.setAttributeNS(null,"stroke-dasharray",e.dashArray.map(b).join(" ")),e.element.setAttributeNS(null,"stroke-dashoffset",b(e.dashPhase)+"px"),e.element.setAttributeNS(null,"fill","none")},eoFill:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},paintSolidColorImageMask:function(){var e=this.current,t=document.createElementNS(d,"svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",e.fillColor),this._ensureTransformGroup().appendChild(t)},paintJpegXObject:function(e,t,n){var r=this.objs.get(e),i=document.createElementNS(d,"svg:image");i.setAttributeNS(s,"xlink:href",r.src),i.setAttributeNS(null,"width",b(t)),i.setAttributeNS(null,"height",b(n)),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",b(-n)),i.setAttributeNS(null,"transform","scale("+b(1/t)+" "+b(-1/n)+")"),this._ensureTransformGroup().appendChild(i)},paintImageXObject:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,x.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e,t){var n=e.width,r=e.height,i=c(e,this.forceDataSchema),o=document.createElementNS(d,"svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",b(n)),o.setAttributeNS(null,"height",b(r)),this.current.element=o,this.clip("nonzero");var a=document.createElementNS(d,"svg:image");a.setAttributeNS(s,"xlink:href",i),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",b(-r)),a.setAttributeNS(null,"width",b(n)+"px"),a.setAttributeNS(null,"height",b(r)+"px"),a.setAttributeNS(null,"transform","scale("+b(1/n)+" "+b(-1/r)+")"),t?t.appendChild(a):this._ensureTransformGroup().appendChild(a)},paintImageMaskXObject:function(e){var t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask"+l++;var o=document.createElementNS(d,"svg:mask");o.setAttributeNS(null,"id",t.maskId);var a=document.createElementNS(d,"svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",b(n)),a.setAttributeNS(null,"height",b(r)),a.setAttributeNS(null,"fill",i),a.setAttributeNS(null,"mask","url(#"+t.maskId+")"),this.defs.appendChild(o),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(e,o)},paintFormXObjectBegin:function(e,t){if((0,x.isArray)(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),(0,x.isArray)(t)&&4===t.length){var n=t[2]-t[0],r=t[3]-t[1],i=document.createElementNS(d,"svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",b(n)),i.setAttributeNS(null,"height",b(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(e){var t=document.createElementNS(d,"svg:svg");t.setAttributeNS(null,"version","1.1"),t.setAttributeNS(null,"width",e.width+"px"),t.setAttributeNS(null,"height",e.height+"px"),t.setAttributeNS(null,"preserveAspectRatio","none"),t.setAttributeNS(null,"viewBox","0 0 "+e.width+" "+e.height);var n=document.createElementNS(d,"svg:defs");t.appendChild(n),this.defs=n;var r=document.createElementNS(d,"svg:g");return r.setAttributeNS(null,"transform",w(e.transform)),t.appendChild(r),this.svg=r,t},_ensureClipGroup:function(){if(!this.current.clipGroup){var e=document.createElementNS(d,"svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=document.createElementNS(d,"svg:g"),this.tgrp.setAttributeNS(null,"transform",w(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},u),t.SVGGraphics=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var b,w,C=n(0),x=n(1),r=(b=/\S/,w=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"],o.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new C.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(e,t){for(var n=0,r=e.length;n<r;n++)this._textContentItemsStr.push(e[n].str),i(this,e[n],t)},_layoutText:function(e){var t=this._container,n=this._textDivProperties.get(e);if(!n.isWhitespace){var r=e.style.fontSize,i=e.style.fontFamily;r===this._layoutTextLastFontSize&&i===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=r+" "+i,this._lastFontSize=r,this._lastFontFamily=i);var o=this._layoutTextCtx.measureText(e.textContent).width,a="";0!==n.canvasWidth&&0<o&&(n.scale=n.canvasWidth/o,a="scaleX("+n.scale+")"),0!==n.angle&&(a="rotate("+n.angle+"deg) "+a),""!==a&&(n.originalTransform=a,x.CustomStyle.setProp("transform",e,a)),this._textDivProperties.set(e,n),t.appendChild(e)}},_render:function(e){var r=this,i=(0,C.createPromiseCapability)(),o=Object.create(null),t=document.createElement("canvas");if(t.mozOpaque=!0,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent){var n=this._textContent.items,a=this._textContent.styles;this._processItems(n,a),i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function n(){r._reader.read().then(function(e){var t=e.value;e.done?i.resolve():(C.Util.extendObj(o,t.styles),r._processItems(t.items,o),n())},i.reject)}()}i.promise.then(function(){o=null,e?r._renderTimer=setTimeout(function(){s(r),r._renderTimer=null},e):s(r)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(l(this),this._bounds=null);for(var t=0,n=this._textDivs.length;t<n;t++){var r=this._textDivs[t],i=this._textDivProperties.get(r);if(!i.isWhitespace)if(e){var o="",a="";1!==i.scale&&(o="scaleX("+i.scale+")"),0!==i.angle&&(o="rotate("+i.angle+"deg) "+o),0!==i.paddingLeft&&(a+=" padding-left: "+i.paddingLeft/i.scale+"px;",o+=" translateX("+-i.paddingLeft/i.scale+"px)"),0!==i.paddingTop&&(a+=" padding-top: "+i.paddingTop+"px;",o+=" translateY("+-i.paddingTop+"px)"),0!==i.paddingRight&&(a+=" padding-right: "+i.paddingRight/i.scale+"px;"),0!==i.paddingBottom&&(a+=" padding-bottom: "+i.paddingBottom+"px;"),""!==a&&r.setAttribute("style",i.style+a),""!==o&&x.CustomStyle.setProp("transform",r,o)}else r.style.padding=0,x.CustomStyle.setProp("transform",r,i.originalTransform||"")}}}},function(e){var t=new o({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t});function i(e,t,n){var r,i=document.createElement("div"),o={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(i),r=t.str,!b.test(r))return o.isWhitespace=!0,void e._textDivProperties.set(i,o);var a=C.Util.transform(e._viewport.transform,t.transform),s=Math.atan2(a[1],a[0]),l=n[t.fontName];l.vertical&&(s+=Math.PI/2);var c,u,d=Math.sqrt(a[2]*a[2]+a[3]*a[3]),h=d;if(l.ascent?h=l.ascent*h:l.descent&&(h=(1+l.descent)*h),u=0===s?(c=a[4],a[5]-h):(c=a[4]+h*Math.sin(s),a[5]-h*Math.cos(s)),w[1]=c,w[3]=u,w[5]=d,w[7]=l.fontFamily,o.style=w.join(""),i.setAttribute("style",o.style),i.textContent=t.str,(0,x.getDefaultSetting)("pdfBug")&&(i.dataset.fontName=t.fontName),0!==s&&(o.angle=s*(180/Math.PI)),1<t.str.length&&(l.vertical?o.canvasWidth=t.height*e._viewport.scale:o.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(i,o),e._textContentStream&&e._layoutText(i),e._enhanceTextSelection){var f=1,p=0;0!==s&&(f=Math.cos(s),p=Math.sin(s));var m,g,v=(l.vertical?t.height:t.width)*e._viewport.scale,y=d;g=0!==s?(m=[f,p,-p,f,c,u],C.Util.getAxialAlignedBoundingBox([0,0,v,y],m)):[c,u,c+v,u+y],e._bounds.push({left:g[0],top:g[1],right:g[2],bottom:g[3],div:i,size:[v,y],m:m})}}function s(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(1e5<r)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var i=0;i<r;i++)e._layoutText(t[i]);e._renderingDone=!0,n.resolve()}}function l(e){for(var t=e._bounds,n=e._viewport,r=function(i,e,t){var o=t.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});g(i,o);var a=new Array(t.length);return o.forEach(function(e){var t=e.index;a[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),t.map(function(e,t){var n=a[t],r=o[t];r.x1=e.top,r.y1=i-n.right,r.x2=e.bottom,r.y2=i-n.left,r.index=t,r.x1New=void 0,r.x2New=void 0}),g(e,o),o.forEach(function(e){var t=e.index;a[t].top=e.x1New,a[t].bottom=e.x2New}),a}(n.width,n.height,t),i=0;i<r.length;i++){var o=t[i].div,a=e._textDivProperties.get(o);if(0!==a.angle){var s=r[i],l=t[i],c=l.m,u=c[0],d=c[1],h=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],f=new Float64Array(64);h.forEach(function(e,t){var n=C.Util.applyTransform(e,c);f[t+0]=u&&(s.left-n[0])/u,f[t+4]=d&&(s.top-n[1])/d,f[t+8]=u&&(s.right-n[0])/u,f[t+12]=d&&(s.bottom-n[1])/d,f[t+16]=d&&(s.left-n[0])/-d,f[t+20]=u&&(s.top-n[1])/u,f[t+24]=d&&(s.right-n[0])/-d,f[t+28]=u&&(s.bottom-n[1])/u,f[t+32]=u&&(s.left-n[0])/-u,f[t+36]=d&&(s.top-n[1])/-d,f[t+40]=u&&(s.right-n[0])/-u,f[t+44]=d&&(s.bottom-n[1])/-d,f[t+48]=d&&(s.left-n[0])/d,f[t+52]=u&&(s.top-n[1])/-u,f[t+56]=d&&(s.right-n[0])/d,f[t+60]=u&&(s.bottom-n[1])/-u});var p=function(e,t,n){for(var r=0,i=0;i<n;i++){var o=e[t++];0<o&&(r=r?Math.min(o,r):o)}return r},m=1+Math.min(Math.abs(u),Math.abs(d));a.paddingLeft=p(f,32,16)/m,a.paddingTop=p(f,48,16)/m,a.paddingRight=p(f,0,16)/m,a.paddingBottom=p(f,16,16)/m,e._textDivProperties.set(o,a)}else a.paddingLeft=t[i].left-r[i].left,a.paddingTop=t[i].top-r[i].top,a.paddingRight=r[i].right-t[i].right,a.paddingBottom=r[i].bottom-t[i].bottom,e._textDivProperties.set(o,a)}}function g(n,e){e.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var f=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];e.forEach(function(e){for(var t=0;t<f.length&&f[t].end<=e.y1;)t++;for(var n,r,i=f.length-1;0<=i&&f[i].start>=e.y2;)i--;var o,a,s=-1/0;for(o=t;o<=i;o++){var l;s<(l=(r=(n=f[o]).boundary).x2>e.x1?r.index>e.index?r.x1New:e.x1:void 0===r.x2New?(r.x2+e.x1)/2:r.x2New)&&(s=l)}for(e.x1New=s,o=t;o<=i;o++)void 0===(r=(n=f[o]).boundary).x2New?r.x2>e.x1?r.index>e.index&&(r.x2New=r.x2):r.x2New=s:r.x2New>s&&(r.x2New=Math.max(s,r.x2));var c=[],u=null;for(o=t;o<=i;o++){var d=(r=(n=f[o]).boundary).x2>e.x2?r:e;u===d?c[c.length-1].end=n.end:(c.push({start:n.start,end:n.end,boundary:d}),u=d)}for(f[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:f[t].start,end:e.y1,boundary:f[t].boundary})),e.y2<f[i].end&&(c[c.length-1].end=e.y2,c.push({start:e.y2,end:f[i].end,boundary:f[i].boundary})),o=t;o<=i;o++)if(void 0===(r=(n=f[o]).boundary).x2New){var h=!1;for(a=t-1;!h&&0<=a&&f[a].start>=r.y1;a--)h=f[a].boundary===r;for(a=i+1;!h&&a<f.length&&f[a].end<=r.y2;a++)h=f[a].boundary===r;for(a=0;!h&&a<c.length;a++)h=c[a].boundary===r;h||(r.x2New=s)}Array.prototype.splice.apply(f,[t,i-t+1].concat(c))}),f.forEach(function(e){var t=e.boundary;void 0===t.x2New&&(t.x2New=Math.max(n,t.x2))})}function o(e){var t=e.textContent,n=e.textContentStream,r=e.container,i=e.viewport,o=e.textDivs,a=e.textContentItemsStr,s=e.enhanceTextSelection;this._textContent=t,this._textContentStream=n,this._container=r,this._viewport=i,this._textDivs=o||[],this._textContentItemsStr=a||[],this._enhanceTextSelection=!!s,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,C.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}t.renderTextLayer=r},function(e,t,n){"use strict";function r(e){if("string"==typeof e)e=e.replace(/>\\376\\377([^<]+)/g,function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,n,r){return String.fromCharCode(64*t+8*n+ +r)}),r="",i=0;i<n.length;i+=2){var o=256*n.charCodeAt(i)+n.charCodeAt(i+1);r+=32<=o&&o<127&&60!==o&&62!==o&&38!==o?String.fromCharCode(o):"&#x"+(65536+o).toString(16).substring(1)+";"}return">"+r}),e=(new DOMParser).parseFromString(e,"application/xml");else if(!(e instanceof Document))throw new Error("Metadata: Invalid metadata object");this.metaDocument=e,this.metadata=Object.create(null),this.parse()}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype={parse:function(){var e=this.metaDocument.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var t=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===t&&e.hasChildNodes()){var n,r,i,o,a,s,l,c=e.childNodes;for(o=0,s=c.length;o<s;o++)if("rdf:description"===(n=c[o]).nodeName.toLowerCase())for(a=0,l=n.childNodes.length;a<l;a++)"#text"!==n.childNodes[a].nodeName.toLowerCase()&&(i=(r=n.childNodes[a]).nodeName.toLowerCase(),this.metadata[i]=r.textContent.trim())}},get:function(e){return this.metadata[e]||null},has:function(e){return void 0!==this.metadata[e]}},t.Metadata=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLUtils=void 0;var T,M,d,h,f,N,P,R,r=n(1),i=n(0),o=(d="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",h="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",N="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",P="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",R=f=null,{get isEnabled(){if((0,r.getDefaultSetting)("disableWebGL"))return!1;var e=!1;try{L(),e=!!T}catch(e){}return(0,i.shadow)(this,"isEnabled",e)},composeSMask:function(e,t,n){var r=e.width,i=e.height;f||function(){var e,t;L(),e=M,t=T,T=M=null;var n=I(t,[D(t,d),O(t,h)]);t.useProgram(n);var r={};r.gl=t,r.canvas=e,r.resolutionLocation=t.getUniformLocation(n,"u_resolution"),r.positionLocation=t.getAttribLocation(n,"a_position"),r.backdropLocation=t.getUniformLocation(n,"u_backdrop"),r.subtypeLocation=t.getUniformLocation(n,"u_subtype");var i=t.getAttribLocation(n,"a_texCoord"),o=t.getUniformLocation(n,"u_image"),a=t.getUniformLocation(n,"u_mask"),s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),t.uniform1i(o,0),t.uniform1i(a,1),f=r}();var o=f,a=o.canvas,s=o.gl;a.width=r,a.height=i,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(o.resolutionLocation,r,i),n.backdrop?s.uniform4f(o.resolutionLocation,n.backdrop[0],n.backdrop[1],n.backdrop[2],1):s.uniform4f(o.resolutionLocation,0,0,0,0),s.uniform1i(o.subtypeLocation,"Luminosity"===n.subtype?1:0);var l=p(s,e,s.TEXTURE0),c=p(s,t,s.TEXTURE1),u=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,u),s.bufferData(s.ARRAY_BUFFER,new Float32Array([0,0,r,0,0,i,0,i,r,0,r,i]),s.STATIC_DRAW),s.enableVertexAttribArray(o.positionLocation),s.vertexAttribPointer(o.positionLocation,2,s.FLOAT,!1,0,0),s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.clear(s.COLOR_BUFFER_BIT),s.drawArrays(s.TRIANGLES,0,6),s.flush(),s.deleteTexture(l),s.deleteTexture(c),s.deleteBuffer(u),a},drawFigures:function(e,t,n,r,i){R||function(){var e,t;L(),e=M,t=T,T=M=null;var n=I(t,[D(t,N),O(t,P)]);t.useProgram(n);var r={};r.gl=t,r.canvas=e,r.resolutionLocation=t.getUniformLocation(n,"u_resolution"),r.scaleLocation=t.getUniformLocation(n,"u_scale"),r.offsetLocation=t.getUniformLocation(n,"u_offset"),r.positionLocation=t.getAttribLocation(n,"a_position"),r.colorLocation=t.getAttribLocation(n,"a_color"),R=r}();var o=R,a=o.canvas,s=o.gl;a.width=e,a.height=t,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(o.resolutionLocation,e,t);var l,c,u,d=0;for(l=0,c=r.length;l<c;l++)switch(r[l].type){case"lattice":d+=((u=r[l].coords.length/r[l].verticesPerRow|0)-1)*(r[l].verticesPerRow-1)*6;break;case"triangles":d+=r[l].coords.length}var h=new Float32Array(2*d),f=new Uint8Array(3*d),p=i.coords,m=i.colors,g=0,v=0;for(l=0,c=r.length;l<c;l++){var y=r[l],b=y.coords,w=y.colors;switch(y.type){case"lattice":var C=y.verticesPerRow;u=b.length/C|0;for(var x=1;x<u;x++)for(var E=x*C+1,_=1;_<C;_++,E++)h[g]=p[b[E-C-1]],h[g+1]=p[b[E-C-1]+1],h[g+2]=p[b[E-C]],h[g+3]=p[b[E-C]+1],h[g+4]=p[b[E-1]],h[g+5]=p[b[E-1]+1],f[v]=m[w[E-C-1]],f[v+1]=m[w[E-C-1]+1],f[v+2]=m[w[E-C-1]+2],f[v+3]=m[w[E-C]],f[v+4]=m[w[E-C]+1],f[v+5]=m[w[E-C]+2],f[v+6]=m[w[E-1]],f[v+7]=m[w[E-1]+1],f[v+8]=m[w[E-1]+2],h[g+6]=h[g+2],h[g+7]=h[g+3],h[g+8]=h[g+4],h[g+9]=h[g+5],h[g+10]=p[b[E]],h[g+11]=p[b[E]+1],f[v+9]=f[v+3],f[v+10]=f[v+4],f[v+11]=f[v+5],f[v+12]=f[v+6],f[v+13]=f[v+7],f[v+14]=f[v+8],f[v+15]=m[w[E]],f[v+16]=m[w[E]+1],f[v+17]=m[w[E]+2],g+=12,v+=18;break;case"triangles":for(var $=0,S=b.length;$<S;$++)h[g]=p[b[$]],h[g+1]=p[b[$]+1],f[v]=m[w[$]],f[v+1]=m[w[$]+1],f[v+2]=m[w[$]+2],g+=2,v+=3}}n?s.clearColor(n[0]/255,n[1]/255,n[2]/255,1):s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT);var A=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,A),s.bufferData(s.ARRAY_BUFFER,h,s.STATIC_DRAW),s.enableVertexAttribArray(o.positionLocation),s.vertexAttribPointer(o.positionLocation,2,s.FLOAT,!1,0,0);var k=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,k),s.bufferData(s.ARRAY_BUFFER,f,s.STATIC_DRAW),s.enableVertexAttribArray(o.colorLocation),s.vertexAttribPointer(o.colorLocation,3,s.UNSIGNED_BYTE,!1,0,0),s.uniform2f(o.scaleLocation,i.scaleX,i.scaleY),s.uniform2f(o.offsetLocation,i.offsetX,i.offsetY),s.drawArrays(s.TRIANGLES,0,d),s.flush(),s.deleteBuffer(A),s.deleteBuffer(k),a},clear:function(){f&&f.canvas&&(f.canvas.width=0,f.canvas.height=0),R&&R.canvas&&(R.canvas.width=0,R.canvas.height=0),R=f=null}});function a(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;var i=e.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+i)}function D(e,t){return a(e,t,e.VERTEX_SHADER)}function O(e,t){return a(e,t,e.FRAGMENT_SHADER)}function I(e,t){for(var n=e.createProgram(),r=0,i=t.length;r<i;++r)e.attachShader(n,t[r]);if(e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;var o=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+o)}function p(e,t,n){e.activeTexture(n);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}function L(){T||(M=document.createElement("canvas"),T=M.getContext("webgl",{premultipliedalpha:!1}))}t.WebGLUtils=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFJS=t.isWorker=t.globalScope=void 0;var r=n(2),i=n(1),o=n(0),a=n(3),s=n(6),l=n(5),c=n(4),u="undefined"==typeof window;o.globalScope.PDFJS||(o.globalScope.PDFJS={});var d=o.globalScope.PDFJS;d.version="1.8.619",d.build="723bc25b",d.pdfBug=!1,void 0!==d.verbosity&&(0,o.setVerbosityLevel)(d.verbosity),delete d.verbosity,Object.defineProperty(d,"verbosity",{get:function(){return(0,o.getVerbosityLevel)()},set:function(e){(0,o.setVerbosityLevel)(e)},enumerable:!0,configurable:!0}),d.VERBOSITY_LEVELS=o.VERBOSITY_LEVELS,d.OPS=o.OPS,d.UNSUPPORTED_FEATURES=o.UNSUPPORTED_FEATURES,d.isValidUrl=i.isValidUrl,d.shadow=o.shadow,d.createBlob=o.createBlob,d.createObjectURL=function(e,t){return(0,o.createObjectURL)(e,t,d.disableCreateObjectURL)},Object.defineProperty(d,"isLittleEndian",{configurable:!0,get:function(){return(0,o.shadow)(d,"isLittleEndian",(0,o.isLittleEndian)())}}),d.removeNullCharacters=o.removeNullCharacters,d.PasswordResponses=o.PasswordResponses,d.PasswordException=o.PasswordException,d.UnknownErrorException=o.UnknownErrorException,d.InvalidPDFException=o.InvalidPDFException,d.MissingPDFException=o.MissingPDFException,d.UnexpectedResponseException=o.UnexpectedResponseException,d.Util=o.Util,d.PageViewport=o.PageViewport,d.createPromiseCapability=o.createPromiseCapability,d.maxImageSize=void 0===d.maxImageSize?-1:d.maxImageSize,d.cMapUrl=void 0===d.cMapUrl?null:d.cMapUrl,d.cMapPacked=void 0!==d.cMapPacked&&d.cMapPacked,d.disableFontFace=void 0!==d.disableFontFace&&d.disableFontFace,d.imageResourcesPath=void 0===d.imageResourcesPath?"":d.imageResourcesPath,d.disableWorker=void 0!==d.disableWorker&&d.disableWorker,d.workerSrc=void 0===d.workerSrc?null:d.workerSrc,d.workerPort=void 0===d.workerPort?null:d.workerPort,d.disableRange=void 0!==d.disableRange&&d.disableRange,d.disableStream=void 0!==d.disableStream&&d.disableStream,d.disableAutoFetch=void 0!==d.disableAutoFetch&&d.disableAutoFetch,d.pdfBug=void 0!==d.pdfBug&&d.pdfBug,d.postMessageTransfers=void 0===d.postMessageTransfers||d.postMessageTransfers,d.disableCreateObjectURL=void 0!==d.disableCreateObjectURL&&d.disableCreateObjectURL,d.disableWebGL=void 0===d.disableWebGL||d.disableWebGL,d.externalLinkTarget=void 0===d.externalLinkTarget?i.LinkTarget.NONE:d.externalLinkTarget,d.externalLinkRel=void 0===d.externalLinkRel?i.DEFAULT_LINK_REL:d.externalLinkRel,d.isEvalSupported=void 0===d.isEvalSupported||d.isEvalSupported,d.pdfjsNext=void 0!==d.pdfjsNext&&d.pdfjsNext;var h=d.openExternalLinksInNewWindow;delete d.openExternalLinksInNewWindow,Object.defineProperty(d,"openExternalLinksInNewWindow",{get:function(){return d.externalLinkTarget===i.LinkTarget.BLANK},set:function(e){e&&(0,o.deprecated)('PDFJS.openExternalLinksInNewWindow, please use "PDFJS.externalLinkTarget = PDFJS.LinkTarget.BLANK" instead.'),d.externalLinkTarget===i.LinkTarget.NONE?d.externalLinkTarget=e?i.LinkTarget.BLANK:i.LinkTarget.NONE:(0,o.warn)("PDFJS.externalLinkTarget is already initialized")},enumerable:!0,configurable:!0}),h&&(d.openExternalLinksInNewWindow=h),d.getDocument=r.getDocument,d.LoopbackPort=r.LoopbackPort,d.PDFDataRangeTransport=r.PDFDataRangeTransport,d.PDFWorker=r.PDFWorker,d.hasCanvasTypedArrays=!0,d.CustomStyle=i.CustomStyle,d.LinkTarget=i.LinkTarget,d.addLinkAttributes=i.addLinkAttributes,d.getFilenameFromUrl=i.getFilenameFromUrl,d.isExternalLinkTargetSet=i.isExternalLinkTargetSet,d.AnnotationLayer=a.AnnotationLayer,d.renderTextLayer=l.renderTextLayer,d.Metadata=s.Metadata,d.SVGGraphics=c.SVGGraphics,d.UnsupportedManager=r._UnsupportedManager,t.globalScope=o.globalScope,t.isWorker=u,t.PDFJS=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkManager=t.PDFNetworkStream=void 0;var i=n(0),r=n(2);function o(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function l(e){var t=e.response;if("string"!=typeof t)return t;for(var n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=255&t.charCodeAt(i);return r.buffer}var s=function(){try{var e=new XMLHttpRequest;return e.open("GET",i.globalScope.location.href),(e.responseType="moz-chunked-arraybuffer")===e.responseType}catch(e){return!1}}();function a(e){var t=(this._options=e).source;this._manager=new o(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function c(e,t){this._manager=e;var n=t.source,r={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:n.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this.onProgress=null}function u(e,t,n){this._manager=e;var r={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}o.prototype={requestRange:function(e,t,n){var r={begin:e,end:t};for(var i in n)r[i]=n[i];return this.request(r)},requestFull:function(e){return this.request(e)},request:function(t){var n=this.getXhr(),e=this.currXhrId++,r=this.pendingRequests[e]={xhr:n};for(var i in n.open("GET",this.url),n.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[i];void 0!==o&&n.setRequestHeader(i,o)}if(this.isHttp&&"begin"in t&&"end"in t){var a=t.begin+"-"+(t.end-1);n.setRequestHeader("Range","bytes="+a),r.expectedStatus=206}else r.expectedStatus=200;return s&&!!t.onProgressiveData?(n.responseType="moz-chunked-arraybuffer",r.onProgressiveData=t.onProgressiveData,r.mozChunked=!0):n.responseType="arraybuffer",t.onError&&(n.onerror=function(e){t.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,e),n.onprogress=this.onProgress.bind(this,e),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,n.send(null),e},onProgress:function(e,t){var n=this.pendingRequests[e];if(n){if(n.mozChunked){var r=l(n.xhr);n.onProgressiveData(r)}var i=n.onProgress;i&&i(t)}},onStateChange:function(e){var t=this.pendingRequests[e];if(t){var n=t.xhr;if(2<=n.readyState&&t.onHeadersReceived&&(t.onHeadersReceived(),delete t.onHeadersReceived),4===n.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===n.status&&this.isHttp)t.onError&&t.onError(n.status);else{var r=n.status||200;if(200===r&&206===t.expectedStatus||r===t.expectedStatus){this.loadedRequests[e]=!0;var i=l(n);if(206===r){var o=n.getResponseHeader("Content-Range"),a=/bytes (\d+)-(\d+)\/(\d+)/.exec(o),s=parseInt(a[1],10);t.onDone({begin:s,chunk:i})}else t.onProgressiveData?t.onDone(null):i?t.onDone({begin:0,chunk:i}):t.onError&&t.onError(n.status)}else t.onError&&t.onError(n.status)}}},hasPendingRequests:function(){for(var e in this.pendingRequests)return!0;return!1},getRequestXhr:function(e){return this.pendingRequests[e].xhr},isStreamingRequest:function(e){return!!this.pendingRequests[e].onProgressiveData},isPendingRequest:function(e){return e in this.pendingRequests},isLoadedRequest:function(e){return e in this.loadedRequests},abortAllRequests:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)},abortRequest:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},a.prototype={_onRangeRequestReaderClosed:function(e){var t=this._rangeRequestReaders.indexOf(e);0<=t&&this._rangeRequestReaders.splice(t,1)},getFullReader:function(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=new c(this._manager,this._options),this._fullRequestReader},getRangeReader:function(e,t){var n=new u(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n},cancelAllRequests:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}},c.prototype={_validateRangeRequestCapabilities:function(){if(this._disableRange)return!1;var e=this._manager;if(!e.isHttp)return!1;var t=this._fullRequestId,n=e.getRequestXhr(t);if("bytes"!==n.getResponseHeader("Accept-Ranges"))return!1;if("identity"!==(n.getResponseHeader("Content-Encoding")||"identity"))return!1;var r=n.getResponseHeader("Content-Length");return r=parseInt(r,10),!!(0,i.isInt)(r)&&!((this._contentLength=r)<=2*this._rangeChunkSize)},_onHeadersReceived:function(){this._validateRangeRequestCapabilities()&&(this._isRangeSupported=!0);var e=this._manager,t=this._fullRequestId;e.isStreamingRequest(t)?this._isStreamingSupported=!0:this._isRangeSupported&&e.abortRequest(t),this._headersReceivedCapability.resolve()},_onProgressiveData:function(e){0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._cachedChunks.push(e)},_onDone:function(e){e&&this._onProgressiveData(e.chunk),this._done=!0,0<this._cachedChunks.length||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(e){var t,n=this._url;t=404===e||0===e&&/^file:/.test(n)?new i.MissingPDFException('Missing PDF "'+n+'".'):new i.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+n+'".',e),this._storedError=t,this._headersReceivedCapability.reject(t),this._requests.forEach(function(e){e.reject(t)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){if(this._storedError)return Promise.reject(this._storedError);if(0<this._cachedChunks.length){var e=this._cachedChunks.shift();return Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},u.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(e){var t=e.chunk;0<this._requests.length?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t;this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})},get isStreamingSupported(){return!1},read:function(){if(null!==this._queuedChunk){var e=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,i.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},(0,r.setPDFNetworkStreamClass)(a),t.PDFNetworkStream=a,t.NetworkManager=o},function(e,t,n){"use strict";var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}!function(e,t){for(var n in t)e[n]=t[n]}(t,(i={},a.m=r=[function(e,r,t){var n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":o(e)},a=t(1).assert;function s(e){return"string"==typeof e||"symbol"===(void 0===e?"undefined":n(e))}function l(e,t,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}r.typeIsObject=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e||"function"==typeof e},r.createDataProperty=function(e,t,n){a(r.typeIsObject(e)),Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})},r.createArrayFromList=function(e){return e.slice()},r.ArrayBufferCopy=function(e,t,n,r,i){new Uint8Array(e).set(new Uint8Array(n,r,i),t)},r.CreateIterResultObject=function(e,t){a("boolean"==typeof t);var n={};return Object.defineProperty(n,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(n,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),n},r.IsFiniteNonNegativeNumber=function(e){return!Number.isNaN(e)&&(e!==1/0&&!(e<0))},r.InvokeOrNoop=function(e,t,n){a(void 0!==e),a(s(t)),a(Array.isArray(n));var r=e[t];if(void 0!==r)return l(r,e,n)},r.PromiseInvokeOrNoop=function(e,t,n){a(void 0!==e),a(s(t)),a(Array.isArray(n));try{return Promise.resolve(r.InvokeOrNoop(e,t,n))}catch(e){return Promise.reject(e)}},r.PromiseInvokeOrPerformFallback=function(e,t,n,r,i){a(void 0!==e),a(s(t)),a(Array.isArray(n)),a(Array.isArray(i));var o=void 0;try{o=e[t]}catch(e){return Promise.reject(e)}if(void 0===o)return r.apply(null,i);try{return Promise.resolve(l(o,e,n))}catch(e){return Promise.reject(e)}},r.TransferArrayBuffer=function(e){return e.slice()},r.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e},r.ValidateAndNormalizeQueuingStrategy=function(e,t){if(void 0!==e&&"function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return{size:e,highWaterMark:t=r.ValidateAndNormalizeHighWaterMark(t)}}},function(e,t,n){function r(e){this.name="AssertionError",this.message=e||"",this.stack=(new Error).stack}(r.prototype=Object.create(Error.prototype)).constructor=r,e.exports={rethrowAssertionErrorRejection:function(e){e&&e.constructor===r&&setTimeout(function(){throw e},0)},AssertionError:r,assert:function(e,t){if(!e)throw new r(t)}}},function(e,t,n){var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(0),a=o.InvokeOrNoop,c=o.PromiseInvokeOrNoop,l=o.ValidateAndNormalizeQueuingStrategy,u=o.typeIsObject,d=n(1),h=d.assert,f=d.rethrowAssertionErrorRejection,p=n(3),m=p.DequeueValue,g=p.EnqueueValueWithSize,v=p.PeekQueueValue,y=p.ResetQueue,b=(r(w,[{key:"abort",value:function(e){return!1===x(this)?Promise.reject(Y("abort")):!0===E(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):_(this,e)}},{key:"getWriter",value:function(){if(!1===x(this))throw Y("getWriter");return C(this)}},{key:"locked",get:function(){if(!1===x(this))throw Y("locked");return E(this)}}]),w);function w(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=t.highWaterMark,i=void 0===r?1:r;if(s(this,w),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==e.type)throw new RangeError("Invalid type is specified");this._writableStreamController=new B(this,e,n,i),this._writableStreamController.__startSteps()}function C(e){return new R(e)}function x(e){return!!u(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function E(e){return h(!0===x(e),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==e._writer}function _(n,r){var e=n._state;if("closed"===e)return Promise.resolve(void 0);if("errored"===e)return Promise.reject(n._storedError);var t=new TypeError("Requested to abort");if(void 0!==n._pendingAbortRequest)return Promise.reject(t);h("writable"===e||"erroring"===e,"state must be writable or erroring");var i=!1;"erroring"===e&&(i=!0,r=void 0);var o=new Promise(function(e,t){n._pendingAbortRequest={_resolve:e,_reject:t,_reason:r,_wasAlreadyErroring:i}});return!1===i&&S(n,t),o}function $(e,t){var n=e._state;"writable"!==n?(h("erroring"===n),A(e)):S(e,t)}function S(e,t){h(void 0===e._storedError,"stream._storedError === undefined"),h("writable"===e._state,"state must be writable");var n=e._writableStreamController;h(void 0!==n,"controller must not be undefined"),e._state="erroring",e._storedError=t;var r=e._writer;void 0!==r&&F(r,t),!1===M(e)&&!0===n._started&&A(e)}function A(t){h("erroring"===t._state,"stream._state === erroring"),h(!1===M(t),"WritableStreamHasOperationMarkedInFlight(stream) === false"),t._state="errored",t._writableStreamController.__errorSteps();for(var e=t._storedError,n=0;n<t._writeRequests.length;n++){t._writeRequests[n]._reject(e)}if(t._writeRequests=[],void 0!==t._pendingAbortRequest){var r=t._pendingAbortRequest;if(!(t._pendingAbortRequest=void 0)===r._wasAlreadyErroring)return r._reject(e),void N(t);t._writableStreamController.__abortSteps(r._reason).then(function(){r._resolve(),N(t)},function(e){r._reject(e),N(t)})}else N(t)}function k(e){h(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;h("writable"===t||"erroring"===t),"erroring"===t&&(e._storedError=void 0)!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0),e._state="closed";var n,r=e._writer;void 0!==r&&(h(void 0!==(n=r)._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),h(void 0!==n._closedPromise_reject,"writer._closedPromise_reject !== undefined"),h("pending"===n._closedPromiseState,"writer._closedPromiseState is pending"),n._closedPromise_resolve(void 0),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,n._closedPromiseState="resolved"),h(void 0===e._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),h(void 0===e._storedError,"stream._storedError === undefined")}function T(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function M(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function N(e){h("errored"===e._state,'_stream_.[[state]] is `"errored"`'),void 0!==e._closeRequest&&(h(void 0===e._inFlightCloseRequest),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&(Z(t,e._storedError),t._closedPromise.catch(function(){}))}function P(e,t){h("writable"===e._state),h(!1===T(e));var n,r=e._writer;void 0!==r&&t!==e._backpressure&&(!0===t?(h(void 0===(n=r)._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),h(void 0===n._readyPromise_reject,"writer._readyPromise_reject === undefined"),n._readyPromise=new Promise(function(e,t){n._readyPromise_resolve=e,n._readyPromise_reject=t}),n._readyPromiseState="pending"):(h(!1===t),te(r))),e._backpressure=t}e.exports={AcquireWritableStreamDefaultWriter:C,IsWritableStream:x,IsWritableStreamLocked:E,WritableStream:b,WritableStreamAbort:_,WritableStreamDefaultControllerError:G,WritableStreamDefaultWriterCloseWithErrorPropagation:function(e){var t=e._ownerWritableStream;h(void 0!==t);var n=t._state;return!0!==T(t)&&"closed"!==n?"errored"!==n?(h("writable"===n||"erroring"===n),I(e)):Promise.reject(t._storedError):Promise.resolve()},WritableStreamDefaultWriterRelease:H,WritableStreamDefaultWriterWrite:j,WritableStreamCloseQueuedOrInFlight:T};var R=(r(D,[{key:"abort",value:function(e){return!1===O(this)?Promise.reject(K("abort")):void 0===this._ownerWritableStream?Promise.reject(X("abort")):(t=e,n=this._ownerWritableStream,h(void 0!==n),_(n,t));var t,n}},{key:"close",value:function(){if(!1===O(this))return Promise.reject(K("close"));var e=this._ownerWritableStream;return void 0===e?Promise.reject(X("close")):!0===T(e)?Promise.reject(new TypeError("cannot close an already-closing stream")):I(this)}},{key:"releaseLock",value:function(){if(!1===O(this))throw K("releaseLock");var e=this._ownerWritableStream;void 0!==e&&(h(void 0!==e._writer),H(this))}},{key:"write",value:function(e){return!1===O(this)?Promise.reject(K("write")):void 0===this._ownerWritableStream?Promise.reject(X("write to")):j(this,e)}},{key:"closed",get:function(){return!1===O(this)?Promise.reject(K("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===O(this))throw K("desiredSize");if(void 0===this._ownerWritableStream)throw X("desiredSize");return e=this._ownerWritableStream,"errored"!==(t=e._state)&&"erroring"!==t?"closed"!==t?q(e._writableStreamController):0:null;var e,t}},{key:"ready",get:function(){return!1===O(this)?Promise.reject(K("ready")):this._readyPromise}}]),D);function D(e){if(s(this,D),!1===x(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===E(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");(this._ownerWritableStream=e)._writer=this;var t,n,r,i,o=e._state;if("writable"===o)!1===T(e)&&!0===e._backpressure?((i=this)._readyPromise=new Promise(function(e,t){i._readyPromise_resolve=e,i._readyPromise_reject=t}),i._readyPromiseState="pending"):ee(this),Q(this);else if("erroring"===o)J(this,e._storedError),this._readyPromise.catch(function(){}),Q(this);else if("closed"===o)ee(this),(r=this)._closedPromise=Promise.resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="resolved";else{h("errored"===o,"state must be errored");var a=e._storedError;J(this,a),this._readyPromise.catch(function(){}),n=a,(t=this)._closedPromise=Promise.reject(n),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected",this._closedPromise.catch(function(){})}}function O(e){return!!u(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function I(e){var r=e._ownerWritableStream;h(void 0!==r);var t=r._state;if("closed"===t||"errored"===t)return Promise.reject(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));h("writable"===t||"erroring"===t),h(!1===T(r));var n,i=new Promise(function(e,t){var n={_resolve:e,_reject:t};r._closeRequest=n});return!0===r._backpressure&&"writable"===t&&te(e),n=r._writableStreamController,g(n,"close",0),z(n),i}function L(e,t){var n,r;"pending"===e._closedPromiseState?Z(e,t):(r=t,h(void 0===(n=e)._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),h(void 0===n._closedPromise_reject,"writer._closedPromise_reject === undefined"),h("pending"!==n._closedPromiseState,"writer._closedPromiseState is not pending"),n._closedPromise=Promise.reject(r),n._closedPromiseState="rejected"),e._closedPromise.catch(function(){})}function F(e,t){var n,r,i,o;"pending"===e._readyPromiseState?(o=t,h(void 0!==(i=e)._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),h(void 0!==i._readyPromise_reject,"writer._readyPromise_reject !== undefined"),i._readyPromise_reject(o),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="rejected"):(r=t,h(void 0===(n=e)._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),h(void 0===n._readyPromise_reject,"writer._readyPromise_reject === undefined"),n._readyPromise=Promise.reject(r),n._readyPromiseState="rejected"),e._readyPromise.catch(function(){})}function H(e){var t=e._ownerWritableStream;h(void 0!==t),h(t._writer===e);var n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");F(e,n),L(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function j(e,t){var n=e._ownerWritableStream;h(void 0!==n);var r=n._writableStreamController,i=function(t,e){var n=t._strategySize;if(void 0===n)return 1;try{return n(e)}catch(e){return V(t,e),1}}(r,t);if(n!==e._ownerWritableStream)return Promise.reject(X("write to"));var o=n._state;if("errored"===o)return Promise.reject(n._storedError);if(!0===T(n)||"closed"===o)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return Promise.reject(n._storedError);h("writable"===o);var a,s=(h(!0===E(a=n)),h("writable"===a._state),new Promise(function(e,t){var n={_resolve:e,_reject:t};a._writeRequests.push(n)}));return function(t,e,n){var r={chunk:e};try{g(t,r,n)}catch(e){return V(t,e)}var i=t._controlledWritableStream;if(!1===T(i)&&"writable"===i._state){var o=W(t);P(i,o)}z(t)}(r,t,i),s}var B=(r(U,[{key:"error",value:function(e){if(0==(!!u(t=this)&&!!Object.prototype.hasOwnProperty.call(t,"_underlyingSink")))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var t;"writable"===this._controlledWritableStream._state&&G(this,e)}},{key:"__abortSteps",value:function(e){return c(this._underlyingSink,"abort",[e])}},{key:"__errorSteps",value:function(){y(this)}},{key:"__startSteps",value:function(){var t=this,e=a(this._underlyingSink,"start",[this]),n=this._controlledWritableStream;Promise.resolve(e).then(function(){h("writable"===n._state||"erroring"===n._state),t._started=!0,z(t)},function(e){h("writable"===n._state||"erroring"===n._state),t._started=!0,$(n,e)}).catch(f)}}]),U);function U(e,t,n,r){if(s(this,U),!1===x(e))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==e._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=e,this._underlyingSink=t,this._queue=void 0,this._queueTotalSize=void 0,y(this),this._started=!1;var i=l(n,r);this._strategySize=i.size,this._strategyHWM=i.highWaterMark,P(e,W(this))}function q(e){return e._strategyHWM-e._queueTotalSize}function z(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var n=t._state;if("closed"!==n&&"errored"!==n)if("erroring"!==n){if(0!==e._queue.length){var r,i,o,a,s,l=v(e);"close"===l?(function(e){h(void 0===e._inFlightCloseRequest),h(void 0!==e._closeRequest),e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}(s=(a=e)._controlledWritableStream),m(a),h(0===a._queue.length,"queue must be empty once the final write record is dequeued"),c(a._underlyingSink,"close",[]).then(function(){k(s)},function(e){var t,n;n=e,h(void 0!==(t=s)._inFlightCloseRequest),t._inFlightCloseRequest._reject(n),t._inFlightCloseRequest=void 0,h("writable"===t._state||"erroring"===t._state),void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(n),t._pendingAbortRequest=void 0),$(t,n)}).catch(f)):(r=e,i=l.chunk,function(e){h(void 0===e._inFlightWriteRequest,"there must be no pending write request"),h(0!==e._writeRequests.length,"writeRequests must not be empty"),e._inFlightWriteRequest=e._writeRequests.shift()}(o=r._controlledWritableStream),c(r._underlyingSink,"write",[i,r]).then(function(){var e;h(void 0!==(e=o)._inFlightWriteRequest),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0;var t=o._state;if(h("writable"===t||"erroring"===t),m(r),!1===T(o)&&"writable"===t){var n=W(r);P(o,n)}z(r)},function(e){var t,n;n=e,h(void 0!==(t=o)._inFlightWriteRequest),t._inFlightWriteRequest._reject(n),t._inFlightWriteRequest=void 0,h("writable"===t._state||"erroring"===t._state),$(t,n)}).catch(f))}}else A(t)}}function V(e,t){"writable"===e._controlledWritableStream._state&&G(e,t)}function W(e){return q(e)<=0}function G(e,t){var n=e._controlledWritableStream;h("writable"===n._state),S(n,t)}function Y(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function K(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function X(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Q(n){n._closedPromise=new Promise(function(e,t){n._closedPromise_resolve=e,n._closedPromise_reject=t,n._closedPromiseState="pending"})}function Z(e,t){h(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),h(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),h("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function J(e,t){e._readyPromise=Promise.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function ee(e){e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function te(e){h(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),h(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}},function(e,t,n){var r=n(0).IsFiniteNonNegativeNumber,i=n(1).assert;t.DequeueValue=function(e){i("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),i(0<e._queue.length,"Spec-level failure: should never dequeue from an empty queue.");var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value},t.EnqueueValueWithSize=function(e,t,n){if(i("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),n=Number(n),!r(n))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n},t.PeekQueueValue=function(e){return i("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),i(0<e._queue.length,"Spec-level failure: should never peek at an empty queue."),e._queue[0].value},t.ResetQueue=function(e){i("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e._queue=[],e._queueTotalSize=0}},function(e,t,n){var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(0),f=o.ArrayBufferCopy,u=o.CreateIterResultObject,a=o.IsFiniteNonNegativeNumber,l=o.InvokeOrNoop,c=o.PromiseInvokeOrNoop,d=o.TransferArrayBuffer,h=o.ValidateAndNormalizeQueuingStrategy,p=o.ValidateAndNormalizeHighWaterMark,m=n(0),g=m.createArrayFromList,v=m.createDataProperty,y=m.typeIsObject,b=n(1),w=b.assert,C=b.rethrowAssertionErrorRejection,x=n(3),E=x.DequeueValue,_=x.EnqueueValueWithSize,$=x.ResetQueue,S=n(2),A=S.AcquireWritableStreamDefaultWriter,k=S.IsWritableStream,T=S.IsWritableStreamLocked,M=S.WritableStreamAbort,N=S.WritableStreamDefaultWriterCloseWithErrorPropagation,P=S.WritableStreamDefaultWriterRelease,R=S.WritableStreamDefaultWriterWrite,D=S.WritableStreamCloseQueuedOrInFlight,O=(r(I,[{key:"cancel",value:function(e){return!1===F(this)?Promise.reject(Oe("cancel")):!0===H(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):U(this,e)}},{key:"getReader",value:function(e){var t=(0<arguments.length&&void 0!==e?e:{}).mode;if(!1===F(this))throw Oe("getReader");if(void 0===t)return L(this);if("byob"===(t=String(t)))return new Z(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e,t){var n=e.writable,r=e.readable;return function(e){try{Promise.prototype.then.call(e,void 0,function(){})}catch(e){}}(this.pipeTo(n,t)),r}},{key:"pipeTo",value:function(d,e){var h=this,t=1<arguments.length&&void 0!==e?e:{},f=t.preventClose,p=t.preventAbort,m=t.preventCancel;if(!1===F(this))return Promise.reject(Oe("pipeTo"));if(!1===k(d))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(f=Boolean(f),p=Boolean(p),m=Boolean(m),!0===H(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===T(d))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var g=L(this),v=A(d),y=!1,b=Promise.resolve();return new Promise(function(n,r){var e,t,i;if(s(h,g._closedPromise,function(e){!1===p?l(function(){return M(d,e)},!0,e):c(!0,e)}),s(d,v._closedPromise,function(e){!1===m?l(function(){return U(h,e)},!0,e):c(!0,e)}),e=h,t=g._closedPromise,i=function(){!1===f?l(function(){return N(v)}):c()},"closed"===e._state?i():t.then(i).catch(C),!0===D(d)||"closed"===d._state){var o=new TypeError("the destination writable stream closed before all data could be piped to it");!1===m?l(function(){return U(h,o)},!0,o):c(!0,o)}function a(){var e=b;return b.then(function(){return e!==b?a():void 0})}function s(e,t,n){"errored"===e._state?n(e._storedError):t.catch(n).catch(C)}function l(e,t,n){function r(){e().then(function(){return u(t,n)},function(e){return u(!0,e)}).catch(C)}!0!==y&&(y=!0,"writable"===d._state&&!1===D(d)?a().then(r):r())}function c(e,t){!0!==y&&(y=!0,"writable"===d._state&&!1===D(d)?a().then(function(){return u(e,t)}).catch(C):u(e,t))}function u(e,t){P(v),ie(g),e?r(t):n(void 0)}(function e(){return b=Promise.resolve(),!0===y?Promise.resolve():v._readyPromise.then(function(){return oe(g).then(function(e){var t=e.value;!0!==e.done&&(b=R(v,t).catch(function(){}))})}).then(e)})().catch(function(e){b=Promise.resolve(),C(e)})})}},{key:"tee",value:function(){if(!1===F(this))throw Oe("tee");var e=function(e,t){w(!0===F(e)),w("boolean"==typeof t);var n=L(e),r={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};r.promise=new Promise(function(e){r._resolve=e});var i=function e(){var o=e._branch1,a=e._branch2,s=e._teeState;return oe(e._reader).then(function(e){w(y(e));var t=e.value,n=e.done;if(w("boolean"==typeof n),!0===n&&!1===s.closedOrErrored&&(!1===s.canceled1&&ue(o),!1===s.canceled2&&ue(a),s.closedOrErrored=!0),!0!==s.closedOrErrored){var r=t,i=t;!1===s.canceled1&&de(o,r),!1===s.canceled2&&de(a,i)}})};i._reader=n,i._teeState=r,i._cloneForBranch2=t;var o=function e(t){var n=e._stream,r=e._teeState;if(r.canceled1=!0,r.reason1=t,!0===r.canceled2){var i=U(n,g([r.reason1,r.reason2]));r._resolve(i)}return r.promise};o._stream=e,o._teeState=r;var a=function e(t){var n=e._stream,r=e._teeState;if(r.canceled2=!0,r.reason2=t,!0===r.canceled1){var i=U(n,g([r.reason1,r.reason2]));r._resolve(i)}return r.promise};a._stream=e,a._teeState=r;var s=Object.create(Object.prototype);v(s,"pull",i),v(s,"cancel",o);var l=new O(s),c=Object.create(Object.prototype);v(c,"pull",i),v(c,"cancel",a);var u=new O(c);return i._branch1=l._readableStreamController,i._branch2=u._readableStreamController,n._closedPromise.catch(function(e){!0!==r.closedOrErrored&&(he(i._branch1,e),he(i._branch2,e),r.closedOrErrored=!0)}),[l,u]}(this,!1);return g(e)}},{key:"locked",get:function(){if(!1===F(this))throw Oe("locked");return H(this)}}]),I);function I(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.size,r=t.highWaterMark;s(this,I),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var i=e.type;if("bytes"===String(i))void 0===r&&(r=0),this._readableStreamController=new ve(this,e,r);else{if(void 0!==i)throw new RangeError("Invalid type is specified");void 0===r&&(r=1),this._readableStreamController=new ae(this,e,n,r)}}function L(e){return new X(e)}function F(e){return!!y(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function H(e){return w(!0===F(e),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==e._reader}function j(r){return w(!0===ee(r._reader)),w("readable"===r._state||"closed"===r._state),new Promise(function(e,t){var n={_resolve:e,_reject:t};r._reader._readIntoRequests.push(n)})}function B(r){return w(!0===te(r._reader)),w("readable"===r._state),new Promise(function(e,t){var n={_resolve:e,_reject:t};r._reader._readRequests.push(n)})}function U(e,t){return e._disturbed=!0,"closed"===e._state?Promise.resolve(void 0):"errored"===e._state?Promise.reject(e._storedError):(q(e),e._readableStreamController.__cancelSteps(t).then(function(){}))}function q(e){w("readable"===e._state),e._state="closed";var t=e._reader;if(void 0!==t){if(!0===te(t)){for(var n=0;n<t._readRequests.length;n++){(0,t._readRequests[n]._resolve)(u(void 0,!0))}t._readRequests=[]}var r;w(void 0!==(r=t)._closedPromise_resolve),w(void 0!==r._closedPromise_reject),r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0}}function z(e,t){w(!0===F(e),"stream must be ReadableStream"),w("readable"===e._state,"state must be readable"),e._state="errored",e._storedError=t;var n=e._reader;if(void 0!==n){if(!0===te(n)){for(var r=0;r<n._readRequests.length;r++){n._readRequests[r]._reject(t)}n._readRequests=[]}else{w(ee(n),"reader must be ReadableStreamBYOBReader");for(var i=0;i<n._readIntoRequests.length;i++){n._readIntoRequests[i]._reject(t)}n._readIntoRequests=[]}Fe(n,t),n._closedPromise.catch(function(){})}}function V(e,t,n){var r=e._reader;w(0<r._readRequests.length),r._readRequests.shift()._resolve(u(t,n))}function W(e){return e._reader._readIntoRequests.length}function G(e){return e._reader._readRequests.length}function Y(e){var t=e._reader;return void 0!==t&&!1!==ee(t)}function K(e){var t=e._reader;return void 0!==t&&!1!==te(t)}e.exports={ReadableStream:O,IsReadableStreamDisturbed:function(e){return w(!0===F(e),"IsReadableStreamDisturbed should only be used on known readable streams"),e._disturbed},ReadableStreamDefaultControllerClose:ue,ReadableStreamDefaultControllerEnqueue:de,ReadableStreamDefaultControllerError:he,ReadableStreamDefaultControllerGetDesiredSize:pe};var X=(r(Q,[{key:"cancel",value:function(e){return!1===te(this)?Promise.reject(Le("cancel")):void 0===this._ownerReadableStream?Promise.reject(Ie("cancel")):re(this,e)}},{key:"read",value:function(){return!1===te(this)?Promise.reject(Le("read")):void 0===this._ownerReadableStream?Promise.reject(Ie("read from")):oe(this)}},{key:"releaseLock",value:function(){if(!1===te(this))throw Le("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ie(this)}}},{key:"closed",get:function(){return!1===te(this)?Promise.reject(Le("closed")):this._closedPromise}}]),Q);function Q(e){if(s(this,Q),!1===F(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===H(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ne(this,e),this._readRequests=[]}var Z=(r(J,[{key:"cancel",value:function(e){return ee(this)?void 0===this._ownerReadableStream?Promise.reject(Ie("cancel")):re(this,e):Promise.reject(He("cancel"))}},{key:"read",value:function(e){return ee(this)?void 0===this._ownerReadableStream?Promise.reject(Ie("read from")):ArrayBuffer.isView(e)?0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):(t=e,n=this._ownerReadableStream,w(void 0!==n),n._disturbed=!0,"errored"!==n._state?function(e,t){var n=e._controlledReadableStream,r=1;t.constructor!==DataView&&(r=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,o={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:r,ctor:i,readerType:"byob"};if(0<e._pendingPullIntos.length)return o.buffer=d(o.buffer),e._pendingPullIntos.push(o),j(n);if("closed"===n._state){var a=new t.constructor(o.buffer,o.byteOffset,0);return Promise.resolve(u(a,!0))}if(0<e._queueTotalSize){if(!0===Se(e,o)){var s=_e(o);return ke(e),Promise.resolve(u(s,!1))}if(!0===e._closeRequested){var l=new TypeError("Insufficient bytes to fill elements in the given buffer");return Re(e,l),Promise.reject(l)}}o.buffer=d(o.buffer),e._pendingPullIntos.push(o);var c=j(n);return Ce(e),c}(n._readableStreamController,t):Promise.reject(n._storedError)):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(He("read"));var t,n}},{key:"releaseLock",value:function(){if(!ee(this))throw He("releaseLock");if(void 0!==this._ownerReadableStream){if(0<this._readIntoRequests.length)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ie(this)}}},{key:"closed",get:function(){return ee(this)?this._closedPromise:Promise.reject(He("closed"))}}]),J);function J(e){if(s(this,J),!F(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===be(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(H(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ne(this,e),this._readIntoRequests=[]}function ee(e){return!!y(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function te(e){return!!y(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function ne(e,t){var n,r,i,o;(e._ownerReadableStream=t)._reader=e,"readable"===t._state?(o=e)._closedPromise=new Promise(function(e,t){o._closedPromise_resolve=e,o._closedPromise_reject=t}):"closed"===t._state?((i=e)._closedPromise=Promise.resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0):(w("errored"===t._state,"state must be errored"),n=e,r=t._storedError,n._closedPromise=Promise.reject(r),n._closedPromise_resolve=void 0,n._closedPromise_reject=void 0,e._closedPromise.catch(function(){}))}function re(e,t){var n=e._ownerReadableStream;return w(void 0!==n),U(n,t)}function ie(e){var t,n;w(void 0!==e._ownerReadableStream),w(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?Fe(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):(t=e,n=new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"),w(void 0===t._closedPromise_resolve),w(void 0===t._closedPromise_reject),t._closedPromise=Promise.reject(n)),e._closedPromise.catch(function(){}),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function oe(e){var t=e._ownerReadableStream;return w(void 0!==t),t._disturbed=!0,"closed"===t._state?Promise.resolve(u(void 0,!0)):"errored"===t._state?Promise.reject(t._storedError):(w("readable"===t._state),t._readableStreamController.__pullSteps())}var ae=(r(se,[{key:"close",value:function(){if(!1===le(this))throw je("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");ue(this)}},{key:"enqueue",value:function(e){if(!1===le(this))throw je("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");return de(this,e)}},{key:"error",value:function(e){if(!1===le(this))throw je("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");he(this,e)}},{key:"__cancelSteps",value:function(e){return $(this),c(this._underlyingSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(0<this._queue.length){var t=E(this);return!0===this._closeRequested&&0===this._queue.length?q(e):ce(this),Promise.resolve(u(t,!1))}var n=B(e);return ce(this),n}},{key:"desiredSize",get:function(){if(!1===le(this))throw je("desiredSize");return pe(this)}}]),se);function se(e,t,n,r){if(s(this,se),!1===F(e))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==e._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=e,this._underlyingSource=t,this._queue=void 0,this._queueTotalSize=void 0,$(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var i=h(n,r);this._strategySize=i.size,this._strategyHWM=i.highWaterMark;var o=this,a=l(t,"start",[this]);Promise.resolve(a).then(function(){o._started=!0,w(!1===o._pulling),w(!1===o._pullAgain),ce(o)},function(e){fe(o,e)}).catch(C)}function le(e){return!!y(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")}function ce(t){!1!==function(e){var t=e._controlledReadableStream;if("closed"===t._state||"errored"===t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===H(t)&&0<G(t))return!0;if(0<pe(e))return!0;return!1}(t)&&(!0!==t._pulling?(w(!1===t._pullAgain),t._pulling=!0,c(t._underlyingSource,"pull",[t]).then(function(){if(!(t._pulling=!1)===t._pullAgain)return t._pullAgain=!1,ce(t)},function(e){fe(t,e)}).catch(C)):t._pullAgain=!0)}function ue(e){var t=e._controlledReadableStream;w(!1===e._closeRequested),w("readable"===t._state),e._closeRequested=!0,0===e._queue.length&&q(t)}function de(t,e){var n=t._controlledReadableStream;if(w(!1===t._closeRequested),w("readable"===n._state),!0===H(n)&&0<G(n))V(n,e,!1);else{var r=1;if(void 0!==t._strategySize){var i=t._strategySize;try{r=i(e)}catch(e){throw fe(t,e),e}}try{_(t,e,r)}catch(e){throw fe(t,e),e}}ce(t)}function he(e,t){var n=e._controlledReadableStream;w("readable"===n._state),$(e),z(n,t)}function fe(e,t){"readable"===e._controlledReadableStream._state&&he(e,t)}function pe(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}var me=(r(ge,[{key:"respond",value:function(e){if(!1===we(this))throw Be("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){if(t=Number(t),!1===a(t))throw new RangeError("bytesWritten must be a finite");w(0<e._pendingPullIntos.length),Ne(e,t)}(this._associatedReadableByteStreamController,e)}},{key:"respondWithNewView",value:function(e){if(!1===we(this))throw Be("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");!function(e,t){w(0<e._pendingPullIntos.length);var n=e._pendingPullIntos[0];if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=t.buffer,Ne(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}},{key:"view",get:function(){return this._view}}]),ge);function ge(e,t){s(this,ge),this._associatedReadableByteStreamController=e,this._view=t}var ve=(r(ye,[{key:"close",value:function(){if(!1===be(this))throw Ue("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableStream;if(w(!1===e._closeRequested),w("readable"===t._state),0<e._queueTotalSize)return e._closeRequested=!0;if(0<e._pendingPullIntos.length&&0<e._pendingPullIntos[0].bytesFilled){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Re(e,n),n}q(t)}(this)}},{key:"enqueue",value:function(e){if(!1===be(this))throw Ue("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(e,t){var n=e._controlledReadableStream;w(!1===e._closeRequested),w("readable"===n._state);var r=t.buffer,i=t.byteOffset,o=t.byteLength,a=d(r);if(!0===K(n))if(0===G(n))$e(e,a,i,o);else{w(0===e._queue.length);var s=new Uint8Array(a,i,o);V(n,s,!1)}else!0===Y(n)?($e(e,a,i,o),Me(e)):(w(!1===H(n),"stream must not be locked"),$e(e,a,i,o))}(this,e)}},{key:"error",value:function(e){if(!1===be(this))throw Ue("error");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");Re(this,e)}},{key:"__cancelSteps",value:function(e){return 0<this._pendingPullIntos.length&&(this._pendingPullIntos[0].bytesFilled=0),$(this),c(this._underlyingByteSource,"cancel",[e])}},{key:"__pullSteps",value:function(){var e=this._controlledReadableStream;if(w(!0===K(e)),0<this._queueTotalSize){w(0===G(e));var t=this._queue.shift();this._queueTotalSize-=t.byteLength,ke(this);var n=void 0;try{n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(u(n,!1))}var r=this._autoAllocateChunkSize;if(void 0!==r){var i=void 0;try{i=new ArrayBuffer(r)}catch(e){return Promise.reject(e)}var o={buffer:i,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}var a=B(e);return Ce(this),a}},{key:"byobRequest",get:function(){if(!1===be(this))throw Ue("byobRequest");if(void 0===this._byobRequest&&0<this._pendingPullIntos.length){var e=this._pendingPullIntos[0],t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);this._byobRequest=new me(this,t)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===be(this))throw Ue("desiredSize");return De(this)}}]),ye);function ye(t,e,n){if(s(this,ye),!1===F(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=e,this._pullAgain=!1,this._pulling=!1,xe(this),this._queue=this._queueTotalSize=void 0,$(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=p(n);var r=e.autoAllocateChunkSize;if(void 0!==r&&(!1===Number.isInteger(r)||r<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=r,this._pendingPullIntos=[];var i=this,o=l(e,"start",[this]);Promise.resolve(o).then(function(){i._started=!0,w(!1===i._pulling),w(!1===i._pullAgain),Ce(i)},function(e){"readable"===t._state&&Re(i,e)}).catch(C)}function be(e){return!!y(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")}function we(e){return!!y(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Ce(t){!1!==function(e){var t=e._controlledReadableStream;if("readable"!==t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===K(t)&&0<G(t))return!0;if(!0===Y(t)&&0<W(t))return!0;if(0<De(e))return!0;return!1}(t)&&(!0!==t._pulling?(w(!1===t._pullAgain),t._pulling=!0,c(t._underlyingByteSource,"pull",[t]).then(function(){!(t._pulling=!1)===t._pullAgain&&(t._pullAgain=!1,Ce(t))},function(e){"readable"===t._controlledReadableStream._state&&Re(t,e)}).catch(C)):t._pullAgain=!0)}function xe(e){Te(e),e._pendingPullIntos=[]}function Ee(e,t){w("errored"!==e._state,"state must not be errored");var n=!1;"closed"===e._state&&(w(0===t.bytesFilled),n=!0);var r,i,o,a=_e(t);"default"===t.readerType?V(e,a,n):(w("byob"===t.readerType),r=a,i=n,o=e._reader,w(0<o._readIntoRequests.length),o._readIntoRequests.shift()._resolve(u(r,i)))}function _e(e){var t=e.bytesFilled,n=e.elementSize;return w(t<=e.byteLength),w(t%n==0),new e.ctor(e.buffer,e.byteOffset,t/n)}function $e(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}function Se(e,t){var n=t.elementSize,r=t.bytesFilled-t.bytesFilled%n,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),o=t.bytesFilled+i,a=o-o%n,s=i,l=!1;r<a&&(s=a-t.bytesFilled,l=!0);for(var c=e._queue;0<s;){var u=c[0],d=Math.min(s,u.byteLength),h=t.byteOffset+t.bytesFilled;f(t.buffer,h,u.buffer,u.byteOffset,d),u.byteLength===d?c.shift():(u.byteOffset+=d,u.byteLength-=d),e._queueTotalSize-=d,Ae(e,d,t),s-=d}return!1===l&&(w(0===e._queueTotalSize,"queue must be empty"),w(0<t.bytesFilled),w(t.bytesFilled<t.elementSize)),l}function Ae(e,t,n){w(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===n),Te(e),n.bytesFilled+=t}function ke(e){w("readable"===e._controlledReadableStream._state),0===e._queueTotalSize&&!0===e._closeRequested?q(e._controlledReadableStream):Ce(e)}function Te(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function Me(e){for(w(!1===e._closeRequested);0<e._pendingPullIntos.length;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===Se(e,t)&&(Pe(e),Ee(e._controlledReadableStream,t))}}function Ne(e,t){var n=e._pendingPullIntos[0],r=e._controlledReadableStream;if("closed"===r._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=d(t.buffer),w(0===t.bytesFilled,"bytesFilled must be 0");var n=e._controlledReadableStream;if(!0===Y(n))for(;0<W(n);){Ee(n,Pe(e))}}(e,n)}else w("readable"===r._state),function(e,t,n){if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range");if(Ae(e,t,n),!(n.bytesFilled<n.elementSize)){Pe(e);var r=n.bytesFilled%n.elementSize;if(0<r){var i=n.byteOffset+n.bytesFilled,o=n.buffer.slice(i-r,i);$e(e,o,0,o.byteLength)}n.buffer=d(n.buffer),n.bytesFilled-=r,Ee(e._controlledReadableStream,n),Me(e)}}(e,t,n)}function Pe(e){var t=e._pendingPullIntos.shift();return Te(e),t}function Re(e,t){var n=e._controlledReadableStream;w("readable"===n._state),xe(e),$(e),z(n,t)}function De(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Oe(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Ie(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Le(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function Fe(e,t){w(void 0!==e._closedPromise_resolve),w(void 0!==e._closedPromise_reject),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function He(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function je(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function Be(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function Ue(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}},function(e,t,n){var r=n(6),i=n(4),o=n(2);t.TransformStream=r.TransformStream,t.ReadableStream=i.ReadableStream,t.IsReadableStreamDisturbed=i.IsReadableStreamDisturbed,t.ReadableStreamDefaultControllerClose=i.ReadableStreamDefaultControllerClose,t.ReadableStreamDefaultControllerEnqueue=i.ReadableStreamDefaultControllerEnqueue,t.ReadableStreamDefaultControllerError=i.ReadableStreamDefaultControllerError,t.ReadableStreamDefaultControllerGetDesiredSize=i.ReadableStreamDefaultControllerGetDesiredSize,t.AcquireWritableStreamDefaultWriter=o.AcquireWritableStreamDefaultWriter,t.IsWritableStream=o.IsWritableStream,t.IsWritableStreamLocked=o.IsWritableStreamLocked,t.WritableStream=o.WritableStream,t.WritableStreamAbort=o.WritableStreamAbort,t.WritableStreamDefaultControllerError=o.WritableStreamDefaultControllerError,t.WritableStreamDefaultWriterCloseWithErrorPropagation=o.WritableStreamDefaultWriterCloseWithErrorPropagation,t.WritableStreamDefaultWriterRelease=o.WritableStreamDefaultWriterRelease,t.WritableStreamDefaultWriterWrite=o.WritableStreamDefaultWriterWrite},function(e,t,n){var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=n(1).assert,o=n(0),d=o.InvokeOrNoop,a=o.PromiseInvokeOrPerformFallback,s=o.PromiseInvokeOrNoop,l=o.typeIsObject,h=n(4),f=h.ReadableStream,p=h.ReadableStreamDefaultControllerClose,m=h.ReadableStreamDefaultControllerEnqueue,g=h.ReadableStreamDefaultControllerError,v=h.ReadableStreamDefaultControllerGetDesiredSize,y=n(2),b=y.WritableStream,w=y.WritableStreamDefaultControllerError;function C(t,e){if(!0===t._errored)throw new TypeError("TransformStream is already errored");if(!0===t._readableClosed)throw new TypeError("Readable side is already closed");var n=t._readableController;try{m(n,e)}catch(e){throw t._readableClosed=!0,E(t,e),t._storedError}!0==v(n)<=0&&!1===t._backpressure&&S(t,!0)}function x(e){u(!1===e._errored),u(!1===e._readableClosed);try{p(e._readableController)}catch(e){u(!1)}e._readableClosed=!0}function E(e,t){!1===e._errored&&_(e,t)}function _(e,t){u(!1===e._errored),e._errored=!0,e._storedError=t,!1===e._writableDone&&w(e._writableController,t),!1===e._readableClosed&&g(e._readableController,t)}function $(e){return u(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===e._backpressure?Promise.resolve():(u(!0===e._backpressure,"_backpressure should have been initialized"),e._backpressureChangePromise)}function S(t,n){u(t._backpressure!==n,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(n),t._backpressureChangePromise=new Promise(function(e){t._backpressureChangePromise_resolve=e}),t._backpressureChangePromise.then(function(e){u(e!==n,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),t._backpressure=n}function A(e,t){return C(t._controlledTransformStream,e),Promise.resolve()}function k(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function T(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}var M=(r(N,[{key:"start",value:function(e){var t=this._transformStream;return t._writableController=e,this._startPromise.then(function(){return $(t)})}},{key:"write",value:function(e){return function(t,e){u(!1===t._errored),u(!1===t._transforming),u(!1===t._backpressure),t._transforming=!0;var n=t._transformer,r=t._transformStreamController;return a(n,"transform",[e,r],A,[e,r]).then(function(){return t._transforming=!1,$(t)},function(e){return E(t,e),Promise.reject(e)})}(this._transformStream,e)}},{key:"abort",value:function(){var e=this._transformStream;e._writableDone=!0,_(e,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var t=this._transformStream;return u(!1===t._transforming),t._writableDone=!0,s(t._transformer,"flush",[t._transformStreamController]).then(function(){return!0===t._errored?Promise.reject(t._storedError):(!1===t._readableClosed&&x(t),Promise.resolve())}).catch(function(e){return E(t,e),Promise.reject(t._storedError)})}}]),N);function N(e,t){c(this,N),this._transformStream=e,this._startPromise=t}var P=(r(R,[{key:"start",value:function(e){var t=this._transformStream;return t._readableController=e,this._startPromise.then(function(){return u(void 0!==t._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===t._backpressure?Promise.resolve():(u(!1===t._backpressure,"_backpressure should have been initialized"),t._backpressureChangePromise)})}},{key:"pull",value:function(){var e=this._transformStream;return u(!0===e._backpressure,"pull() should be never called while _backpressure is false"),u(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),S(e,!1),e._backpressureChangePromise}},{key:"cancel",value:function(){var e=this._transformStream;e._readableClosed=!0,_(e,new TypeError("Readable side canceled"))}}]),R);function R(e,t){c(this,R),this._transformStream=e,this._startPromise=t}var D=(r(O,[{key:"enqueue",value:function(e){if(!1===k(this))throw F("enqueue");C(this._controlledTransformStream,e)}},{key:"close",value:function(){if(!1===k(this))throw F("close");!function(e){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");x(e)}(this._controlledTransformStream)}},{key:"error",value:function(e){if(!1===k(this))throw F("error");!function(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");_(e,t)}(this._controlledTransformStream,e)}},{key:"desiredSize",get:function(){if(!1===k(this))throw F("desiredSize");var e=this._controlledTransformStream._readableController;return v(e)}}]),O);function O(e){if(c(this,O),!1===T(e))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==e._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=e}var I=(r(L,[{key:"readable",get:function(){if(!1===T(this))throw H("readable");return this._readable}},{key:"writable",get:function(){if(!1===T(this))throw H("writable");return this._writable}}]),L);function L(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c(this,L);var t=(this._transformer=e).readableStrategy,n=e.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new D(this);var r=void 0,i=new Promise(function(e){r=e}),o=new P(this,i);this._readable=new f(o,t);var a=new M(this,i);this._writable=new b(a,n),u(void 0!==this._writableController),u(void 0!==this._readableController),S(this,v(this._readableController)<=0);var s=this,l=d(e,"start",[s._transformStreamController]);r(l),i.catch(function(e){!1===s._errored&&(s._errored=!0,s._storedError=e)})}function F(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function H(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.exports={TransformStream:I}},function(e,t,n){e.exports=n(5)}],a.c=i,a.i=function(e){return e},a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=7)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var I=n(0),m=n(13),s=n(7),k={get value(){return(0,I.shadow)(k,"value",(0,I.isLittleEndian)())}};function l(s){s.mozCurrentTransform||(s._originalSave=s.save,s._originalRestore=s.restore,s._originalRotate=s.rotate,s._originalScale=s.scale,s._originalTranslate=s.translate,s._originalTransform=s.transform,s._originalSetTransform=s.setTransform,s._transformMatrix=s._transformMatrix||[1,0,0,1,0,0],s._transformStack=[],Object.defineProperty(s,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(s,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=t*i-n*r,l=n*r-t*i;return[i/s,n/l,r/l,t/s,(i*o-r*a)/l,(n*o-t*a)/s]}}),s.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},s.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},s.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},s.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},s.transform=function(e,t,n,r,i,o){var a=this._transformMatrix;this._transformMatrix=[a[0]*e+a[2]*t,a[1]*e+a[3]*t,a[0]*n+a[2]*r,a[1]*n+a[3]*r,a[0]*i+a[2]*o+a[4],a[1]*i+a[3]*o+a[5]],s._originalTransform(e,t,n,r,i,o)},s.setTransform=function(e,t,n,r,i,o){this._transformMatrix=[e,t,n,r,i,o],s._originalSetTransform(e,t,n,r,i,o)},s.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}var u=(r.prototype={getCanvas:function(e,t,n,r){var i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),r&&l(i.context),i},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},r);function r(e){this.canvasFactory=e,this.cache=Object.create(null)}var d=(i.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},i);function i(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=I.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=I.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=I.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}var o=function(){function a(e,t,n,r,i){this.ctx=e,this.current=new d,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new u(this.canvasFactory),e&&l(e),this.cachedGetSinglePixelWidth=null}function w(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,r,i,o,a,s=t.height,l=t.width,c=s%16,u=(s-c)/16,d=0==c?u:1+u,h=e.createImageData(l,16),f=0,p=t.data,m=h.data;if(t.kind===I.ImageKind.GRAYSCALE_1BPP){var g=p.byteLength,v=new Uint32Array(m.buffer,0,m.byteLength>>2),y=v.length,b=l+7>>3,w=4294967295,C=k.value?4278190080:255;for(r=0;r<d;r++){for(o=r<u?16:c,i=n=0;i<o;i++){for(var x=g-f,E=0,_=b<x?l:8*x-7,$=-8&_,S=0,A=0;E<$;E+=8)A=p[f++],v[n++]=128&A?w:C,v[n++]=64&A?w:C,v[n++]=32&A?w:C,v[n++]=16&A?w:C,v[n++]=8&A?w:C,v[n++]=4&A?w:C,v[n++]=2&A?w:C,v[n++]=1&A?w:C;for(;E<_;E++)0===S&&(A=p[f++],S=128),v[n++]=A&S?w:C,S>>=1}for(;n<y;)v[n++]=0;e.putImageData(h,0,16*r)}}else if(t.kind===I.ImageKind.RGBA_32BPP){for(a=16*l*4,r=i=0;r<u;r++)m.set(p.subarray(f,f+a)),f+=a,e.putImageData(h,0,i),i+=16;r<d&&(a=l*c*4,m.set(p.subarray(f,f+a)),e.putImageData(h,0,i))}else{if(t.kind!==I.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+t.kind);for(a=l*(o=16),r=0;r<d;r++){for(u<=r&&(a=l*(o=c)),n=0,i=a;i--;)m[n++]=p[f++],m[n++]=p[f++],m[n++]=p[f++],m[n++]=255;e.putImageData(h,0,16*r)}}}}function f(e,t){for(var n=t.height,r=t.width,i=n%16,o=(n-i)/16,a=0==i?o:1+o,s=e.createImageData(r,16),l=0,c=t.data,u=s.data,d=0;d<a;d++){for(var h=d<o?16:i,f=3,p=0;p<h;p++)for(var m=0,g=0;g<r;g++){if(!m){var v=c[l++];m=128}u[f]=v&m?0:255,f+=4,m>>=1}e.putImageData(s,0,16*d)}}function p(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var o=n[r];void 0!==e[o]&&(t[o]=e[o])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function c(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function v(e,t,n,r){for(var i=e.length,o=3;o<i;o+=4){var a=e[o];if(0===a)e[o-3]=t,e[o-2]=n,e[o-1]=r;else if(a<255){var s=255-a;e[o-3]=e[o-3]*a+t*s>>8,e[o-2]=e[o-2]*a+n*s>>8,e[o-1]=e[o-1]*a+r*s>>8}}}function y(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var o=n?n[e[i]]:e[i];t[i]=t[i]*o*(1/255)|0}}function b(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var o=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[o>>8]>>8:t[i]*o>>16}}function n(e,t,n){var r=t.canvas,i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&s.WebGLUtils.isEnabled){var a=s.WebGLUtils.composeSMask(n.canvas,r,{subtype:t.subtype,backdrop:o});return e.setTransform(1,0,0,1,0,0),void e.drawImage(a,t.offsetX,t.offsetY)}!function(e,t,n,r,i,o,a){var s,l=!!o,c=l?o[0]:0,u=l?o[1]:0,d=l?o[2]:0;s="Luminosity"===i?b:y;for(var h=Math.min(r,Math.ceil(1048576/n)),f=0;f<r;f+=h){var p=Math.min(h,r-f),m=e.getImageData(0,f,n,p),g=t.getImageData(0,f,n,p);l&&v(m.data,c,u,d),s(m.data,g.data,a),e.putImageData(g,0,f)}}(i,n,r.width,r.height,t.subtype,o,t.transferMap),e.drawImage(r,0,0)}var t=["butt","round","square"],r=["miter","round","bevel"],e={},i={};for(var o in a.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,r=e.transparency,i=e.background,o=void 0===i?null:i,a=this.ctx.canvas.width,s=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,a,s),this.ctx.restore(),r){var l=this.cachedCanvases.getCanvas("transparent",a,s,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),c(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,r){var i=e.argsArray,o=e.fnArray,a=t||0,s=i.length;if(s===a)return a;for(var l,c=10<s-a&&"function"==typeof n,u=c?Date.now()+15:0,d=0,h=this.commonObjs,f=this.objs;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if((l=o[a])!==I.OPS.dependency)this[l].apply(this,i[a]);else for(var p=i[a],m=0,g=p.length;m<g;m++){var v=p[m],y="g"===v[0]&&"_"===v[1]?h:f;if(!y.isResolved(v))return y.get(v,n),a}if(++a===s)return a;if(c&&10<++d){if(Date.now()>u)return n(),a;d=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),s.WebGLUtils.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=t[e]},setLineJoin:function(e){this.ctx.lineJoin=r[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[0],o=r[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,n,!0),o=this.ctx,a=o.mozCurrentTransform;this.ctx.save();var s=i.context;s.scale(1/e.scaleX,1/e.scaleY),s.translate(-e.offsetX,-e.offsetY),s.transform.apply(s,a),e.startTransformInverse=s.mozCurrentTransformInverse,p(o,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),n(this.ctx,this.current.activeSMask,e),this.ctx.restore(),this.ctx.save(),p(e,this.ctx),this.current.resumeSMaskCtx=e;var t=I.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),n(this.ctx,this.current.activeSMask,e),this.ctx.restore(),p(e,this.ctx);var t=I.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this.cachedGetSinglePixelWidth=null)},transform:function(e,t,n,r,i,o){this.ctx.transform(e,t,n,r,i,o),this.cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,r=this.current,i=r.x,o=r.y,a=0,s=0,l=e.length;a<l;a++)switch(0|e[a]){case I.OPS.rectangle:i=t[s++],o=t[s++];var c=t[s++],u=t[s++];0===c&&(c=this.getSinglePixelWidth()),0===u&&(u=this.getSinglePixelWidth());var d=i+c,h=o+u;this.ctx.moveTo(i,o),this.ctx.lineTo(d,o),this.ctx.lineTo(d,h),this.ctx.lineTo(i,h),this.ctx.lineTo(i,o),this.ctx.closePath();break;case I.OPS.moveTo:i=t[s++],o=t[s++],n.moveTo(i,o);break;case I.OPS.lineTo:i=t[s++],o=t[s++],n.lineTo(i,o);break;case I.OPS.curveTo:i=t[s+4],o=t[s+5],n.bezierCurveTo(t[s],t[s+1],t[s+2],t[s+3],i,o),s+=6;break;case I.OPS.curveTo2:n.bezierCurveTo(i,o,t[s],t[s+1],t[s+2],t[s+3]),i=t[s+2],o=t[s+3],s+=4;break;case I.OPS.curveTo3:i=t[s+2],o=t[s+3],n.bezierCurveTo(t[s],t[s+1],i,o,i,o),s+=4;break;case I.OPS.closePath:n.closePath()}r.setCurrentPoint(i,o)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.strokeColor;t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type?(t.save(),t.strokeStyle=n.getPattern(t,this),t.stroke(),t.restore()):t.stroke(),e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),r=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=e},eoClip:function(){this.pendingClip=i},beginText:function(){this.current.textMatrix=I.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error("Can't find font for "+e);if(r.fontMatrix=n.fontMatrix?n.fontMatrix:I.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,I.warn)("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var i=n.loadedName||"sans-serif",o=n.black?"900":n.bold?"bold":"normal",a=n.italic?"italic":"normal",s='"'+i+'", '+n.fallbackName,l=t<16?16:100<t?100:t;this.current.fontSizeScale=t/l;var c=a+" "+o+" "+l+"px "+s;this.ctx.font=c}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,i,o){this.current.textMatrix=[e,t,n,r,i,o],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n){var r,i=this.ctx,o=this.current,a=o.font,s=o.textRenderingMode,l=o.fontSize/o.fontSizeScale,c=s&I.TextRenderingMode.FILL_STROKE_MASK,u=!!(s&I.TextRenderingMode.ADD_TO_PATH_FLAG);(a.disableFontFace||u)&&(r=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace?(i.save(),i.translate(t,n),i.beginPath(),r(i,l),c!==I.TextRenderingMode.FILL&&c!==I.TextRenderingMode.FILL_STROKE||i.fill(),c!==I.TextRenderingMode.STROKE&&c!==I.TextRenderingMode.FILL_STROKE||i.stroke(),i.restore()):(c!==I.TextRenderingMode.FILL&&c!==I.TextRenderingMode.FILL_STROKE||i.fillText(e,t,n),c!==I.TextRenderingMode.STROKE&&c!==I.TextRenderingMode.FILL_STROKE||i.strokeText(e,t,n)),u&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:i.mozCurrentTransform,x:t,y:n,fontSize:l,addToPath:r})},get isFontSubpixelAAEnabled(){var e=this.canvasFactory.create(10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,r=3;r<t.length;r+=4)if(0<t[r]&&t[r]<255){n=!0;break}return(0,I.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var r=t.fontSize;if(0!==r){var i=this.ctx,o=t.fontSizeScale,a=t.charSpacing,s=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,u=e.length,d=n.vertical,h=d?1:-1,f=n.defaultVMetrics,p=r*t.fontMatrix[0],m=t.textRenderingMode===I.TextRenderingMode.FILL&&!n.disableFontFace;i.save(),i.transform.apply(i,t.textMatrix),i.translate(t.x,t.y+t.textRise),t.patternFill&&(i.fillStyle=t.fillColor.getPattern(i,this)),0<l?i.scale(c,-1):i.scale(c,1);var g=t.lineWidth,v=t.textMatrixScale;if(0===v||0===g){var y=t.textRenderingMode&I.TextRenderingMode.FILL_STROKE_MASK;y!==I.TextRenderingMode.STROKE&&y!==I.TextRenderingMode.FILL_STROKE||(this.cachedGetSinglePixelWidth=null,g=.65*this.getSinglePixelWidth())}else g/=v;1!==o&&(i.scale(o,o),g/=o),i.lineWidth=g;var b,w=0;for(b=0;b<u;++b){var C=e[b];if((0,I.isNum)(C))w+=h*C*r/1e3;else{var x,E,_,$,S,A,k,T=!1,M=(C.isSpace?s:0)+a,N=C.fontChar,P=C.accent,R=C.width;if(d)S=C.vmetric||f,A=-(A=C.vmetric?S[1]:.5*R)*p,k=S[2]*p,R=S?-S[0]:R,x=A/o,E=(w+k)/o;else x=w/o,E=0;if(n.remeasure&&0<R){var D=1e3*i.measureText(N).width/r*o;if(R<D&&this.isFontSubpixelAAEnabled){var O=R/D;T=!0,i.save(),i.scale(O,1),x/=O}else R!==D&&(x+=(R-D)/2e3*r/o)}(C.isInFont||n.missingFile)&&(m&&!P?i.fillText(N,x,E):(this.paintChar(N,x,E),P&&(_=x+P.offset.x/o,$=E-P.offset.y/o,this.paintChar(P.fontChar,_,$)))),w+=R*p+M*l,T&&i.restore()}}d?t.y-=w*c:t.x+=w*c,i.restore()}},showType3Text:function(e){var t,n,r,i,o=this.ctx,a=this.current,s=a.font,l=a.fontSize,c=a.fontDirection,u=s.vertical?1:-1,d=a.charSpacing,h=a.wordSpacing,f=a.textHScale*c,p=a.fontMatrix||I.FONT_IDENTITY_MATRIX,m=e.length;if(!(a.textRenderingMode===I.TextRenderingMode.INVISIBLE)&&0!==l){for(this.cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,a.textMatrix),o.translate(a.x,a.y),o.scale(f,c),t=0;t<m;++t)if(n=e[t],(0,I.isNum)(n))i=u*n*l/1e3,this.ctx.translate(i,0),a.x+=i*f;else{var g=(n.isSpace?h:0)+d,v=s.charProcOperatorList[n.operatorListId];if(v)this.processingType3=n,this.save(),o.scale(l,l),o.transform.apply(o,p),this.executeOperatorList(v),this.restore(),r=I.Util.applyTransform([n.width,0],p)[0]*l+g,o.translate(r,0),a.x+=r*f;else(0,I.warn)('Type3 character "'+n.operatorListId+'" is not available.')}o.restore(),this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(e,t,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.clip(),this.endPath()},getColorN_Pattern:function(e){var t,n=this;if("TilingPattern"===e[0]){var r=e[1],i=this.baseTransform||this.ctx.mozCurrentTransform.slice(),o={createCanvasGraphics:function(e){return new a(e,n.commonObjs,n.objs,n.canvasFactory)}};t=new m.TilingPattern(e,r,this.ctx,o,i)}else t=(0,m.getShadingPatternFromIR)(e);return t},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var r=I.Util.makeCssRgb(e,t,n);this.ctx.strokeStyle=r,this.current.strokeColor=r},setFillRGBColor:function(e,t,n){var r=I.Util.makeCssRgb(e,t,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var n=(0,m.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var r=t.mozCurrentTransformInverse;if(r){var i=t.canvas,o=i.width,a=i.height,s=I.Util.applyTransform([0,0],r),l=I.Util.applyTransform([0,a],r),c=I.Util.applyTransform([o,0],r),u=I.Util.applyTransform([o,a],r),d=Math.min(s[0],l[0],c[0],u[0]),h=Math.min(s[1],l[1],c[1],u[1]),f=Math.max(s[0],l[0],c[0],u[0]),p=Math.max(s[1],l[1],c[1],u[1]);this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){throw new Error("Should not call beginInlineImage")},beginImageData:function(){throw new Error("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),(0,I.isArray)(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,(0,I.isArray)(t)&&4===t.length){var n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,I.info)("TODO: Support non-isolated groups."),e.knockout&&(0,I.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var r=I.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),i=[0,0,t.canvas.width,t.canvas.height];r=I.Util.intersect(r,i)||[0,0,0,0];var o=Math.floor(r[0]),a=Math.floor(r[1]),s=Math.max(Math.ceil(r[2])-o,1),l=Math.max(Math.ceil(r[3])-a,1),c=1,u=1;4096<s&&(c=s/4096,s=4096),4096<l&&(u=l/4096,l=4096);var d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);var h=this.cachedCanvases.getCanvas(d,s,l,!0),f=h.context;f.scale(1/c,1/u),f.translate(-o,-a),f.transform.apply(f,n),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,scaleX:c,scaleY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.scale(c,u)),p(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){if(this.save(),c(this.ctx),this.current=new d,(0,I.isArray)(e)&&4===e.length){var r=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],r,i),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,n){var r=this.objs.get(e);if(r){this.save();var i=this.ctx;if(i.scale(1/t,-1/n),i.drawImage(r,0,0,r.width,r.height,0,-n,t,n),this.imageLayer){var o=i.mozCurrentTransformInverse,a=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:e,left:a[0],top:a[1],width:t/o[0],height:n/o[3]})}this.restore()}else(0,I.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(e){var t=this.ctx,n=e.width,r=e.height,i=this.current.fillColor,o=this.current.patternFill,a=this.processingType3;if(a&&void 0===a.compiled&&(a.compiled=n<=1e3&&r<=1e3?function(e){var t,n,r,i,a=e.width,s=e.height,o=a+1,l=new Uint8Array(o*(s+1)),c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=a+7&-8,d=e.data,h=new Uint8Array(u*s),f=0;for(t=0,i=d.length;t<i;t++)for(var p=128,m=d[t];0<p;)h[f++]=m&p?0:255,p>>=1;var g=0;for((f=0)!==h[f]&&(l[0]=1,++g),n=1;n<a;n++)h[f]!==h[f+1]&&(l[n]=h[f]?2:1,++g),f++;for(0!==h[f]&&(l[n]=2,++g),t=1;t<s;t++){r=t*o,h[(f=t*u)-u]!==h[f]&&(l[r]=h[f]?1:8,++g);var v=(h[f]?4:0)+(h[f-u]?8:0);for(n=1;n<a;n++)c[v=(v>>2)+(h[f+1]?4:0)+(h[f-u+1]?8:0)]&&(l[r+n]=c[v],++g),f++;if(h[f-u]!==h[f]&&(l[r+n]=h[f]?2:4,++g),1e3<g)return null}for(r=t*o,0!==h[f=u*(s-1)]&&(l[r]=8,++g),n=1;n<a;n++)h[f]!==h[f+1]&&(l[r+n]=h[f]?4:8,++g),f++;if(0!==h[f]&&(l[r+n]=4,++g),1e3<g)return null;var y=new Int32Array([0,o,-1,0,-o,0,0,0,1]),b=[];for(t=0;g&&t<=s;t++){for(var w=t*o,C=w+a;w<C&&!l[w];)w++;if(w!==C){var x,E=[w%o,t],_=l[w],$=w;do{for(var S=y[_];!l[w+=S];);5!==(x=l[w])&&10!==x?(_=x,l[w]=0):(_=x&51*_>>4,l[w]&=_>>2|_<<2),E.push(w%o),E.push(w/o|0),--g}while($!==w);b.push(E),--t}}return function(e){e.save(),e.scale(1/a,-1/s),e.translate(0,-s),e.beginPath();for(var t=0,n=b.length;t<n;t++){var r=b[t];e.moveTo(r[0],r[1]);for(var i=2,o=r.length;i<o;i+=2)e.lineTo(r[i],r[i+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:n,height:r}):null),a&&a.compiled)a.compiled(t);else{var s=this.cachedCanvases.getCanvas("maskCanvas",n,r),l=s.context;l.save(),f(l,e),l.globalCompositeOperation="source-in",l.fillStyle=o?i.getPattern(l,this):i,l.fillRect(0,0,n,r),l.restore(),this.paintInlineImageXObject(s.canvas)}},paintImageMaskXObjectRepeat:function(e,t,n,r){var i=e.width,o=e.height,a=this.current.fillColor,s=this.current.patternFill,l=this.cachedCanvases.getCanvas("maskCanvas",i,o),c=l.context;c.save(),f(c,e),c.globalCompositeOperation="source-in",c.fillStyle=s?a.getPattern(c,this):a,c.fillRect(0,0,i,o),c.restore();for(var u=this.ctx,d=0,h=r.length;d<h;d+=2)u.save(),u.transform(t,0,0,n,r[d],r[d+1]),u.scale(1,-1),u.drawImage(l.canvas,0,0,i,o,0,-1,1,1),u.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,n=this.current.fillColor,r=this.current.patternFill,i=0,o=e.length;i<o;i++){var a=e[i],s=a.width,l=a.height,c=this.cachedCanvases.getCanvas("maskCanvas",s,l),u=c.context;u.save(),f(u,a),u.globalCompositeOperation="source-in",u.fillStyle=r?n.getPattern(u,this):n,u.fillRect(0,0,s,l),u.restore(),t.save(),t.transform.apply(t,a.transform),t.scale(1,-1),t.drawImage(c.canvas,0,0,s,l,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,I.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,r){var i=this.objs.get(e);if(i){for(var o=i.width,a=i.height,s=[],l=0,c=r.length;l<c;l+=2)s.push({transform:[t,0,0,n,r[l],r[l+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(i,s)}else(0,I.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var t=e.width,n=e.height,r=this.ctx;this.save(),r.scale(1/t,-1/n);var i,o,a=r.mozCurrentTransformInverse,s=a[0],l=a[1],c=Math.max(Math.sqrt(s*s+l*l),1),u=a[2],d=a[3],h=Math.max(Math.sqrt(u*u+d*d),1);if(e instanceof HTMLElement||!e.data)i=e;else{var f=(o=this.cachedCanvases.getCanvas("inlineImage",t,n)).context;w(f,e),i=o.canvas}for(var p=t,m=n,g="prescale1";2<c&&1<p||2<h&&1<m;){var v=p,y=m;2<c&&1<p&&(c/=p/(v=Math.ceil(p/2))),2<h&&1<m&&(h/=m/(y=Math.ceil(m/2))),(f=(o=this.cachedCanvases.getCanvas(g,v,y)).context).clearRect(0,0,v,y),f.drawImage(i,0,0,p,m,0,0,v,y),i=o.canvas,p=v,m=y,g="prescale1"===g?"prescale2":"prescale1"}if(r.drawImage(i,0,0,p,m,0,-n,t,n),this.imageLayer){var b=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:e,left:b[0],top:b[1],width:t/a[0],height:n/a[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,t){var n=this.ctx,r=e.width,i=e.height,o=this.cachedCanvases.getCanvas("inlineImage",r,i);w(o.context,e);for(var a=0,s=t.length;a<s;a++){var l=t[a];if(n.save(),n.transform.apply(n,l.transform),n.scale(1,-1),n.drawImage(o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:r,height:i})}n.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,I.warn)("Unsupported 'paintXObject' command.")},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===i?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(){if(null===this.cachedGetSinglePixelWidth){this.ctx.save();var e=this.ctx.mozCurrentTransformInverse;this.ctx.restore(),this.cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this.cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},I.OPS)a.prototype[I.OPS[o]]=a.prototype[o];return a}();t.CanvasGraphics=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var v=n(0);function f(e){this.docId=e,this.styleElement=null,this.nativeFontFaces=[],this.loadTestFontId=0,this.loadingContext={requests:[],nextRequestId:0}}f.prototype={insertRule:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)},clear:function(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null),this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0}};Object.defineProperty(f.prototype,"loadTestFont",{get:function(){return(0,v.shadow)(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},configurable:!0}),f.prototype.addNativeFontFace=function(e){this.nativeFontFaces.push(e),document.fonts.add(e)},f.prototype.bind=function(e,t){for(var n=[],r=[],i=[],o=function(t){return t.loaded.catch(function(e){(0,v.warn)('Failed to load font "'+t.family+'": '+e)})},a=f.isFontLoadingAPISupported&&!f.isSyncFontLoadingSupported,s=0,l=e.length;s<l;s++){var c=e[s];if(!c.attached&&!1!==c.loading)if(c.attached=!0,a){var u=c.createNativeFontFace();u&&(this.addNativeFontFace(u),i.push(o(u)))}else{var d=c.createFontFaceRule();d&&(this.insertRule(d),n.push(d),r.push(c))}}var h=this.queueLoadingCallback(t);a?Promise.all(i).then(function(){h.complete()}):0<n.length&&!f.isSyncFontLoadingSupported?this.prepareFontLoadEvent(n,r,h):h.complete()},f.prototype.queueLoadingCallback=function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-"+t.nextRequestId++,complete:function(){for((0,v.assert)(!n.end,"completeRequest() cannot be called twice"),n.end=Date.now();0<t.requests.length&&t.requests[0].end;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e,started:Date.now()};return t.requests.push(n),n},f.prototype.prepareFontLoadEvent=function(e,t,n){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substr(0,t)+r+e.substr(t+n)}var o,a,s=document.createElement("canvas");s.width=1,s.height=1;var l=s.getContext("2d"),c=0;var u="lt"+Date.now()+this.loadTestFontId++,d=this.loadTestFont,h=r(d=i(d,976,u.length,u),16);for(o=0,a=u.length-3;o<a;o+=4)h=h-1482184792+r(u,o)|0;o<u.length&&(h=h-1482184792+r(u+"XXX",o)|0),d=i(d,16,4,(0,v.string32)(h));var f='@font-face { font-family:"'+u+'";src:'+("url(data:font/opentype;base64,"+btoa(d)+");")+"}";this.insertRule(f);var p=[];for(o=0,a=t.length;o<a;o++)p.push(t[o].loadedName);p.push(u);var m=document.createElement("div");for(m.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),o=0,a=p.length;o<a;++o){var g=document.createElement("span");g.textContent="Hi",g.style.fontFamily=p[o],m.appendChild(g)}document.body.appendChild(m),function e(t,n){if(30<++c)return(0,v.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),0<l.getImageData(0,0,1,1).data[3]?n():setTimeout(e.bind(null,t,n))}(u,function(){document.body.removeChild(m),n.complete()})},f.isFontLoadingAPISupported="undefined"!=typeof document&&!!document.fonts;Object.defineProperty(f,"isSyncFontLoadingSupported",{get:function(){return(0,v.shadow)(f,"isSyncFontLoadingSupported",function(){if("undefined"==typeof navigator)return!0;var e=!1,t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);return t&&14<=t[1]&&(e=!0),e}())},enumerable:!0,configurable:!0});var l={get value(){return(0,v.shadow)(this,"value",(0,v.isEvalSupported)())}},r=(i.prototype={createNativeFontFace:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var e=new FontFace(this.loadedName,this.data,{});return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this),e},createFontFaceRule:function(){if(!this.data)return null;if(this.options.disableFontFace)return this.disableFontFace=!0,null;var e=(0,v.bytesToString)(new Uint8Array(this.data)),t=this.loadedName,n="url(data:"+this.mimetype+";base64,"+btoa(e)+");",r='@font-face { font-family:"'+t+'";src:'+n+"}";return this.options.fontRegistry&&this.options.fontRegistry.registerFont(this,n),r},getPathGenerator:function(e,t){if(!(t in this.compiledGlyphs)){var n,r,i,o=e.get(this.loadedName+"_path_"+t);if(this.options.isEvalSupported&&l.value){var a,s="";for(r=0,i=o.length;r<i;r++)a=void 0!==(n=o[r]).args?n.args.join(","):"",s+="c."+n.cmd+"("+a+");\n";this.compiledGlyphs[t]=new Function("c","size",s)}else this.compiledGlyphs[t]=function(e,t){for(r=0,i=o.length;r<i;r++)"scale"===(n=o[r]).cmd&&(n.args=[t,-t]),e[n.cmd].apply(e,n.args)}}return this.compiledGlyphs[t]}},i);function i(e,t){for(var n in this.compiledGlyphs=Object.create(null),e)this[n]=e[n];this.options=t}t.FontFaceObject=r,t.FontLoader=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.getShadingPatternFromIR=void 0;var _=n(0),$=n(7),r={RadialAxial:{fromIR:function(e){var o=e[1],a=e[2],s=e[3],l=e[4],c=e[5],u=e[6];return{type:"Pattern",getPattern:function(e){var t;"axial"===o?t=e.createLinearGradient(s[0],s[1],l[0],l[1]):"radial"===o&&(t=e.createRadialGradient(s[0],s[1],c,l[0],l[1],u));for(var n=0,r=a.length;n<r;++n){var i=a[n];t.addColorStop(i[0],i[1])}return t}}}}},h=function(e,t,n,r,i,o,a){var s,l,c,u,d=Math.floor(e[0]),h=Math.floor(e[1]),f=Math.ceil(e[2])-d,p=Math.ceil(e[3])-h,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),v=f/m,y=p/g,b={coords:n,colors:r,offsetX:-d,offsetY:-h,scaleX:1/v,scaleY:1/y},w=m+4,C=g+4;if($.WebGLUtils.isEnabled)s=$.WebGLUtils.drawFigures(m,g,o,i,b),(l=a.getCanvas("mesh",w,C,!1)).context.drawImage(s,2,2),s=l.canvas;else{var x=(l=a.getCanvas("mesh",w,C,!1)).context,E=x.createImageData(m,g);if(o){var _=E.data;for(c=0,u=_.length;c<u;c+=4)_[c]=o[0],_[c+1]=o[1],_[c+2]=o[2],_[c+3]=255}for(c=0;c<i.length;c++)S(E,i[c],b);x.putImageData(E,2,2),s=l.canvas}return{canvas:s,offsetX:d-2*v,offsetY:h-2*y,scaleX:v,scaleY:y}};function f(e,t,n,r,i,o,a,s){var l,c=t.coords,u=t.colors,d=e.data,h=4*e.width;c[n+1]>c[r+1]&&(l=n,n=r,r=l,l=o,o=a,a=l),c[r+1]>c[i+1]&&(l=r,r=i,i=l,l=a,a=s,s=l),c[n+1]>c[r+1]&&(l=n,n=r,r=l,l=o,o=a,a=l);var f=(c[n]+t.offsetX)*t.scaleX,p=(c[n+1]+t.offsetY)*t.scaleY,m=(c[r]+t.offsetX)*t.scaleX,g=(c[r+1]+t.offsetY)*t.scaleY,v=(c[i]+t.offsetX)*t.scaleX,y=(c[i+1]+t.offsetY)*t.scaleY;if(!(y<=p))for(var b,w,C,x,E,_,$,S,A,k=u[o],T=u[o+1],M=u[o+2],N=u[a],P=u[a+1],R=u[a+2],D=u[s],O=u[s+1],I=u[s+2],L=Math.round(p),F=Math.round(y),H=L;H<=F;H++){x=H<g?(b=f-(f-m)*(A=H<p?0:p==g?1:(p-H)/(p-g)),w=k-(k-N)*A,C=T-(T-P)*A,M-(M-R)*A):(b=m-(m-v)*(A=y<H?1:g==y?0:(g-H)/(g-y)),w=N-(N-D)*A,C=P-(P-O)*A,R-(R-I)*A),E=f-(f-v)*(A=H<p?0:y<H?1:(p-H)/(p-y)),_=k-(k-D)*A,$=T-(T-O)*A,S=M-(M-I)*A;for(var j=Math.round(Math.min(b,E)),B=Math.round(Math.max(b,E)),U=h*H+4*j,q=j;q<=B;q++)A=(A=(b-q)/(b-E))<0?0:1<A?1:A,d[U++]=w-(w-_)*A|0,d[U++]=C-(C-$)*A|0,d[U++]=x-(x-S)*A|0,d[U++]=255}}function S(e,t,n){var r,i,o=t.coords,a=t.colors;switch(t.type){case"lattice":var s=t.verticesPerRow,l=Math.floor(o.length/s)-1,c=s-1;for(r=0;r<l;r++)for(var u=r*s,d=0;d<c;d++,u++)f(e,n,o[u],o[u+1],o[u+s],a[u],a[u+1],a[u+s]),f(e,n,o[u+s+1],o[u+1],o[u+s],a[u+s+1],a[u+1],a[u+s]);break;case"triangles":for(r=0,i=o.length;r<i;r+=3)f(e,n,o[r],o[r+1],o[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}r.Mesh={fromIR:function(e){var a=e[2],s=e[3],l=e[4],c=e[5],u=e[6],d=e[8];return{type:"Pattern",getPattern:function(e,t,n){var r;if(n)r=_.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(r=_.Util.singularValueDecompose2dScale(t.baseTransform),u){var i=_.Util.singularValueDecompose2dScale(u);r=[r[0]*i[0],r[1]*i[1]]}var o=h(c,r,a,s,l,n?null:d,t.cachedCanvases);return n||(e.setTransform.apply(e,t.baseTransform),u&&e.transform.apply(e,u)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}}},r.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var o,a,i=(o=1,a=2,s.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,r=this.xstep,i=this.ystep,o=this.paintType,a=this.tilingType,s=this.color,l=this.canvasGraphicsFactory;(0,_.info)("TilingType: "+a);var c=n[0],u=n[1],d=n[2],h=n[3],f=[c,u],p=[c+r,u+i],m=p[0]-f[0],g=p[1]-f[1],v=_.Util.singularValueDecompose2dScale(this.matrix),y=_.Util.singularValueDecompose2dScale(this.baseTransform),b=[v[0]*y[0],v[1]*y[1]];m=Math.min(Math.ceil(Math.abs(m*b[0])),3e3),g=Math.min(Math.ceil(Math.abs(g*b[1])),3e3);var w=e.cachedCanvases.getCanvas("pattern",m,g,!0),C=w.context,x=l.createCanvasGraphics(C);x.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,s),this.setScale(m,g,r,i),this.transformToScale(x);var E=[1,0,0,1,-f[0],-f[1]];return x.transform.apply(x,E),this.clipBbox(x,n,c,u,d,h),x.executeOperatorList(t),w.canvas},setScale:function(e,t,n,r){this.scale=[e/n,t/r]},transformToScale:function(e){var t=this.scale,n=[t[0],0,0,t[1],0,0];e.transform.apply(e,n)},scaleToContext:function(){var e=this.scale;this.ctx.scale(1/e[0],1/e[1])},clipBbox:function(e,t,n,r,i,o){if((0,_.isArray)(t)&&4===t.length){var a=i-n,s=o-r;e.ctx.rect(n,r,a,s),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(e,t,n){switch(t){case o:var r=this.ctx;e.fillStyle=r.fillStyle,e.strokeStyle=r.strokeStyle;break;case a:var i=_.Util.makeCssRgb(n[0],n[1],n[2]);e.fillStyle=i,e.strokeStyle=i;break;default:throw new _.FormatError("Unsupported paint type: "+t)}},getPattern:function(e,t){var n=this.createPatternCanvas(t);return(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(n,"repeat")}},s);function s(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=i,this.type="Pattern",this.ctx=n}t.getShadingPatternFromIR=function(e){var t=r[e[0]];if(!t)throw new Error("Unknown IR type: "+e[0]);return t.fromIR(e)},t.TilingPattern=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var o=n(0),r=(i.prototype={_onReceiveData:function(t){var n=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{var e=this._rangeReaders.some(function(e){return e._begin===t.begin&&(e._enqueue(n),!0)});(0,o.assert)(e)}},_onProgress:function(e){if(0<this._rangeReaders.length){var t=this._rangeReaders[0];t.onProgress&&t.onProgress({loaded:e.loaded})}},_removeRangeReader:function(e){var t=this._rangeReaders.indexOf(e);0<=t&&this._rangeReaders.splice(t,1)},getFullReader:function(){(0,o.assert)(!this._fullRequestReader);var e=this._queuedChunks;return this._queuedChunks=null,new a(this,e)},getRangeReader:function(e,t){var n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n},cancelAllRequests:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach(function(e){e.cancel(t)}),this._pdfDataRangeTransport.abort()}},a.prototype={_enqueue:function(e){this._done||(0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e))},get headersReady(){return this._headersReady},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){if(0<this._queuedChunks.length){var e=this._queuedChunks.shift();return Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,o.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},s.prototype={_enqueue:function(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))},get isStreamingSupported(){return!1},read:function(){if(this._queuedChunk){var e=this._queuedChunk;return this._queuedChunk=null,Promise.resolve({value:e,done:!1})}if(this._done)return Promise.resolve({value:void 0,done:!0});var t=(0,o.createPromiseCapability)();return this._requests.push(t),t.promise},cancel:function(){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},i);function i(e,t){var n=this;(0,o.assert)(t),this._queuedChunks=[];var r=e.initialData;if(r&&0<r.length){var i=new Uint8Array(r).buffer;this._queuedChunks.push(i)}this._pdfDataRangeTransport=t,this._isRangeSupported=!e.disableRange,this._isStreamingSupported=!e.disableStream,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){n._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e){n._onProgress({loaded:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){n._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.transportReady()}function a(e,t){this._stream=e,this._done=!1,this._queuedChunks=t||[],this._requests=[],this._headersReady=Promise.resolve(),(e._fullRequestReader=this).onProgress=null}function s(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}t.PDFDataTransportStream=r},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(2),a=n(5),s=n(3),l=n(1),c=n(4);n(9),t.PDFJS=i.PDFJS,t.build=o.build,t.version=o.version,t.getDocument=o.getDocument,t.LoopbackPort=o.LoopbackPort,t.PDFDataRangeTransport=o.PDFDataRangeTransport,t.PDFWorker=o.PDFWorker,t.renderTextLayer=a.renderTextLayer,t.AnnotationLayer=s.AnnotationLayer,t.CustomStyle=l.CustomStyle,t.createPromiseCapability=r.createPromiseCapability,t.PasswordResponses=r.PasswordResponses,t.InvalidPDFException=r.InvalidPDFException,t.MissingPDFException=r.MissingPDFException,t.SVGGraphics=c.SVGGraphics,t.NativeImageDecoding=r.NativeImageDecoding,t.UnexpectedResponseException=r.UnexpectedResponseException,t.OPS=r.OPS,t.UNSUPPORTED_FEATURES=r.UNSUPPORTED_FEATURES,t.isValidUrl=l.isValidUrl,t.createValidAbsoluteUrl=r.createValidAbsoluteUrl,t.createObjectURL=r.createObjectURL,t.removeNullCharacters=r.removeNullCharacters,t.shadow=r.shadow,t.createBlob=r.createBlob,t.RenderingCancelledException=l.RenderingCancelledException,t.getFilenameFromUrl=l.getFilenameFromUrl,t.addLinkAttributes=l.addLinkAttributes,t.StatTimer=r.StatTimer},function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("undefined"==typeof PDFJS||!PDFJS.compatibilityChecked){var c="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{},i="undefined"!=typeof navigator&&navigator.userAgent||"",o=/Android/.test(i),r=/Android\s[0-2][^\d]/.test(i),a=/Android\s[0-4][^\d]/.test(i),s=0<=i.indexOf("Chrom"),u=/Chrome\/(39|40)\./.test(i),d=0<=i.indexOf("CriOS"),h=0<=i.indexOf("Trident"),f=/\b(iPad|iPhone|iPod)(?=;)/.test(i),p=0<=i.indexOf("Opera"),m=/Safari\//.test(i)&&!/(Chrome\/|Android\s)/.test(i),g="object"===("undefined"==typeof window?"undefined":l(window))&&"object"===("undefined"==typeof document?"undefined":l(document));"undefined"==typeof PDFJS&&(c.PDFJS={}),PDFJS.compatibilityChecked=!0,function(){if("undefined"!=typeof Uint8Array)return void 0===Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(e,t){return new Uint8Array(this.slice(e,t))},Float32Array.prototype.subarray=function(e,t){return new Float32Array(this.slice(e,t))}),"undefined"==typeof Float64Array&&(c.Float64Array=Float32Array);function i(e,t){return new s(this.slice(e,t))}function o(e,t){arguments.length<2&&(t=0);for(var n=0,r=e.length;n<r;++n,++t)this[t]=255&e[n]}function n(e,t){this.buffer=e,this.byteLength=e.length,this.length=t,function(e){for(;r<e;)Object.defineProperty(n.prototype,r,a(r)),r++}(this.length)}n.prototype=Object.create(null);var r=0;function a(r){return{get:function(){var e=this.buffer,t=r<<2;return(e[t]|e[1+t]<<8|e[2+t]<<16|e[3+t]<<24)>>>0},set:function(e){var t=this.buffer,n=r<<2;t[n]=255&e,t[1+n]=e>>8&255,t[2+n]=e>>16&255,t[3+n]=e>>>24&255}}}function s(e){var t,n,r;if("number"==typeof e)for(t=[],n=0;n<e;++n)t[n]=0;else if("slice"in e)t=e.slice(0);else for(t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t.subarray=i,(t.buffer=t).byteLength=t.length,t.set=o,"object"===(void 0===e?"undefined":l(e))&&e.buffer&&(t.buffer=e.buffer),t}c.Uint8Array=s,c.Int8Array=s,c.Int32Array=s,c.Uint16Array=s,c.Float32Array=s,c.Float64Array=s,c.Uint32Array=function(){if(3!==arguments.length)return s.apply(this,arguments);if(0!==arguments[1])throw new Error("offset !== 0 is not supported");return new n(arguments[0],arguments[2])}}(),function(){if(g&&window.CanvasPixelArray){var e=window.CanvasPixelArray.prototype;"buffer"in e||(Object.defineProperty(e,"buffer",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e,"byteLength",{get:function(){return this.length},enumerable:!1,configurable:!0}))}}(),c.URL||(c.URL=c.webkitURL),function(){if(void 0!==Object.defineProperty){var t=!0;try{g&&Object.defineProperty(new Image,"id",{value:"test"});var e=function(){};e.prototype={get id(){}},Object.defineProperty(new e,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(e){t=!1}if(t)return}Object.defineProperty=function(e,t,n){delete e[t],"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),"value"in n&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=n.value)}}(),function(){if("undefined"!=typeof XMLHttpRequest){var e=XMLHttpRequest.prototype,t=new XMLHttpRequest;"overrideMimeType"in t||Object.defineProperty(e,"overrideMimeType",{value:function(){}}),"responseType"in t||(Object.defineProperty(e,"responseType",{get:function(){return this._responseType||"text"},set:function(e){"text"!==e&&"arraybuffer"!==e||"arraybuffer"===(this._responseType=e)&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined")}}),"undefined"==typeof VBArray?Object.defineProperty(e,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;var e,t=this.responseText,n=t.length,r=new Uint8Array(n);for(e=0;e<n;++e)r[e]=255&t.charCodeAt(e);return r.buffer}}):Object.defineProperty(e,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}))}}(),function(){if(!("btoa"in c)){var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.btoa=function(e){var t,n,r="";for(t=0,n=e.length;t<n;t+=3){var i=255&e.charCodeAt(t),o=255&e.charCodeAt(t+1),a=255&e.charCodeAt(t+2),s=(3&i)<<4|o>>4,l=t+1<n?(15&o)<<2|a>>6:64,c=t+2<n?63&a:64;r+=u.charAt(i>>2)+u.charAt(s)+u.charAt(l)+u.charAt(c)}return r}}}(),function(){if(!("atob"in c)){c.atob=function(e){if((e=e.replace(/=+$/,"")).length%4==1)throw new Error("bad atob input");for(var t,n,r=0,i=0,o="";n=e.charAt(i++);~n&&(t=r%4?64*t+n:n,r++%4)&&(o+=String.fromCharCode(255&t>>(-2*r&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o}}}(),void 0===Function.prototype.bind&&(Function.prototype.bind=function(t){var n=this,r=Array.prototype.slice.call(arguments,1);return function(){var e=r.concat(Array.prototype.slice.call(arguments));return n.apply(t,e)}}),g&&("dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var e={},t=0,n=this.attributes.length;t<n;t++){var r=this.attributes[t];if("data-"===r.name.substring(0,5))e[r.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=r.value}return Object.defineProperty(this,"_dataset",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})),function(){function t(e,t,n,r){var i=(e.className||"").split(/\s+/g);""===i[0]&&i.shift();var o=i.indexOf(t);return o<0&&n&&i.push(t),0<=o&&r&&i.splice(o,1),e.className=i.join(" "),0<=o}if(g&&!("classList"in document.createElement("div"))){var n={add:function(e){t(this.element,e,!0,!1)},contains:function(e){return t(this.element,e,!1,!1)},remove:function(e){t(this.element,e,!1,!0)},toggle:function(e){t(this.element,e,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var e=Object.create(n,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}}(),function(){if(!("undefined"==typeof importScripts||"console"in c)){var n={},e={log:function(){var e=Array.prototype.slice.call(arguments);c.postMessage({targetName:"main",action:"console_log",data:e})},error:function(){var e=Array.prototype.slice.call(arguments);c.postMessage({targetName:"main",action:"console_error",data:e})},time:function(e){n[e]=Date.now()},timeEnd:function(e){var t=n[e];if(!t)throw new Error("Unknown timer name "+e);this.log("Timer:",e,Date.now()-t)}};c.console=e}}(),function(){var t,n,r;if(g){if("console"in window)return"bind"in console.log||(console.log=(r=console.log,function(e){return r(e)}),console.error=(n=console.error,function(e){return n(e)}),console.warn=(t=console.warn,function(e){return t(e)}));window.console={log:function(){},error:function(){},warn:function(){}}}}(),p&&document.addEventListener("click",function(e){!function e(t){return t.disabled||t.parentNode&&e(t.parentNode)}(e.target)||e.stopPropagation()},!0),(h||d)&&(PDFJS.disableCreateObjectURL=!0),"undefined"!=typeof navigator&&("language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US")),(m||r||u||f)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0),g&&(history.pushState&&!r||(PDFJS.disableHistory=!0)),function(){if(g)if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(e){for(var t=0,n=this.length;t<n;t++)this[t]=e[t]});else{var e,t=!1;if(s?t=(e=i.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(e[2])<21:o?t=a:m&&(t=(e=i.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&parseInt(e[1])<6),t){var n=window.CanvasRenderingContext2D.prototype,r=n.createImageData;n.createImageData=function(e,t){var n=r.call(this,e,t);return n.data.set=function(e){for(var t=0,n=this.length;t<n;t++)this[t]=e[t]},n},n=null}}}(),g&&(f?v():"requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,window.requestAnimationFrame||v())),(f||o)&&(PDFJS.maxCanvasPixels=5242880),g&&h&&window.parent!==window&&(PDFJS.disableFullscreen=!0),g&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var e=document.getElementsByTagName("script");return e[e.length-1]},enumerable:!0,configurable:!0})),function(){if(g){var t=document.createElement("input");try{t.type="number"}catch(e){var n=t.constructor.prototype,r=Object.getOwnPropertyDescriptor(n,"type");Object.defineProperty(n,"type",{get:function(){return r.get.call(this)},set:function(e){r.set.call(this,"number"===e?"text":e)},enumerable:!0,configurable:!0})}}}(),function(){if(g&&document.attachEvent){var e=document.constructor.prototype,t=Object.getOwnPropertyDescriptor(e,"readyState");Object.defineProperty(e,"readyState",{get:function(){var e=t.get.call(this);return"interactive"===e?"loading":e},set:function(e){t.set.call(this,e)},enumerable:!0,configurable:!0})}}(),g&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),Number.isNaN||(Number.isNaN=function(e){return"number"==typeof e&&isNaN(e)}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),function(){if(c.Promise)return"function"!=typeof c.Promise.all&&(c.Promise.all=function(e){var n,r,i=0,o=[],t=new c.Promise(function(e,t){n=e,r=t});return e.forEach(function(e,t){i++,e.then(function(e){o[t]=e,0===--i&&n(o)},r)}),0===i&&n(o),t}),"function"!=typeof c.Promise.resolve&&(c.Promise.resolve=function(t){return new c.Promise(function(e){e(t)})}),"function"!=typeof c.Promise.reject&&(c.Promise.reject=function(n){return new c.Promise(function(e,t){t(n)})}),"function"!=typeof c.Promise.prototype.catch&&(c.Promise.prototype.catch=function(e){return c.Promise.prototype.then(void 0,e)});function d(e){this._status=0,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}var r={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){0!==e._status&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=Date.now()+1;0<this.handlers.length;){var t=this.handlers.shift(),n=t.thisPromise._status,r=t.thisPromise._value;try{1===n?"function"==typeof t.onResolve&&(r=t.onResolve(r)):"function"==typeof t.onReject&&(r=t.onReject(r),n=1,t.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(t.thisPromise))}catch(e){n=2,r=e}if(t.nextPromise._updateStatus(n,r),Date.now()>=e)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){var i=this;this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){i.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<i.unhandledRejections.length;t++)if(500<e-i.unhandledRejections[t].time){var n=i.unhandledRejections[t].promise._value,r="Unhandled rejection: "+n;n.stack&&(r+="\n"+n.stack);try{throw new Error(r)}catch(e){console.warn(r)}i.unhandledRejections.splice(t),t--}i.unhandledRejections.length&&i.scheduleRejectionCheck()},500))}};d.all=function(e){var n,r,i=new d(function(e,t){n=e,r=t}),o=e.length,a=[];if(0===o)return n(a),i;function t(e){2!==i._status&&(a=[],r(e))}for(var s=0,l=e.length;s<l;++s){var c=e[s],u=function(t){return function(e){2!==i._status&&(a[t]=e,0===--o&&n(a))}}(s);d.isPromise(c)?c.then(u,t):u(c)}return i},d.isPromise=function(e){return e&&"function"==typeof e.then},d.resolve=function(t){return new d(function(e){e(t)})},d.reject=function(n){return new d(function(e,t){t(n)})},d.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(e,t){1!==this._status&&2!==this._status&&(1===e&&d.isPromise(t)?t.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,2)):(this._status=e,this._value=t,2===e&&0===this._handlers.length&&(this._unhandledRejection=!0,r.addUnhandledRejection(this)),r.scheduleHandlers(this)))},_resolve:function(e){this._updateStatus(1,e)},_reject:function(e){this._updateStatus(2,e)},then:function(e,t){var n=new d(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:e,onReject:t,nextPromise:n}),r.scheduleHandlers(this),n},catch:function(e){return this.then(void 0,e)}},c.Promise=d}(),function(){if(!c.WeakMap){var e=0;t.prototype={has:function(e){return("object"===(void 0===e?"undefined":l(e))||"function"==typeof e)&&null!==e&&!!Object.getOwnPropertyDescriptor(e,this.id)},get:function(e){return this.has(e)?e[this.id]:void 0},set:function(e,t){Object.defineProperty(e,this.id,{value:t,enumerable:!1,configurable:!0})},delete:function(e){delete e[this.id]}},c.WeakMap=t}function t(){this.id="$weakmap"+e++}}(),function(){var e=!1;try{if("function"==typeof URL&&"object"===l(URL.prototype)&&"origin"in URL.prototype){var t=new URL("b","http://a");t.pathname="c%20d",e="http://a/c%20d"===t.href}}catch(e){}if(!e){var w=Object.create(null);w.ftp=21,w.file=0,w.gopher=70,w.http=80,w.https=443,w.ws=80,w.wss=443;var C=Object.create(null);C["%2e"]=".",C[".%2e"]="..",C["%2e."]="..",C["%2e%2e"]="..";var x,E=/[a-zA-Z]/,_=/[a-zA-Z0-9\+\-\.]/;o.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""===this._username&&null===this._password||(e=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){i.call(this),r.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||r.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],r.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&((this._query="?")===e[0]&&(e=e.slice(1)),r.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(e){this._isInvalid||((this._fragment="#")===e[0]&&(e=e.slice(1)),r.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new o(this._schemeData).origin||"null"}catch(e){}return"null"}return(e=this.host)?this._scheme+"://"+e:""}};var n=c.URL;n&&(o.createObjectURL=function(e){return n.createObjectURL.apply(n,arguments)},o.revokeObjectURL=function(e){n.revokeObjectURL(e)}),c.URL=o}function $(e){return void 0!==w[e]}function S(){i.call(this),this._isInvalid=!0}function A(e){return""===e&&S.call(this),e.toLowerCase()}function k(e){var t=e.charCodeAt(0);return 32<t&&t<127&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function r(e,t,n){function r(e){d.push(e)}var i,o,a=t||"scheme start",s=0,l="",c=!1,u=!1,d=[];e:for(;(e[s-1]!==x||0===s)&&!this._isInvalid;){var h=e[s];switch(a){case"scheme start":if(!h||!E.test(h)){if(t){r("Invalid scheme.");break e}l="",a="no scheme";continue}l+=h.toLowerCase(),a="scheme";break;case"scheme":if(h&&_.test(h))l+=h.toLowerCase();else{if(":"!==h){if(t){if(h===x)break e;r("Code point not allowed in scheme: "+h);break e}l="",s=0,a="no scheme";continue}if(this._scheme=l,l="",t)break e;$(this._scheme)&&(this._isRelative=!0),a="file"===this._scheme?"relative":this._isRelative&&n&&n._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===h?(this._query="?",a="query"):"#"===h?(this._fragment="#",a="fragment"):h!==x&&"\t"!==h&&"\n"!==h&&"\r"!==h&&(this._schemeData+=k(h));break;case"no scheme":if(n&&$(n._scheme)){a="relative";continue}r("Missing scheme."),S.call(this);break;case"relative or authority":if("/"!==h||"/"!==e[s+1]){r("Expected /, got: "+h),a="relative";continue}a="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=n._scheme),h===x){this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._username=n._username,this._password=n._password;break e}if("/"===h||"\\"===h)"\\"===h&&r("\\ is an invalid code point."),a="relative slash";else if("?"===h)this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query="?",this._username=n._username,this._password=n._password,a="query";else{if("#"!==h){var f=e[s+1],p=e[s+2];("file"!==this._scheme||!E.test(h)||":"!==f&&"|"!==f||p!==x&&"/"!==p&&"\\"!==p&&"?"!==p&&"#"!==p)&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password,this._path=n._path.slice(),this._path.pop()),a="relative path";continue}this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._fragment="#",this._username=n._username,this._password=n._password,a="fragment"}break;case"relative slash":if("/"!==h&&"\\"!==h){"file"!==this._scheme&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password),a="relative path";continue}"\\"===h&&r("\\ is an invalid code point."),a="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==h){r("Expected '/', got: "+h),a="authority ignore slashes";continue}a="authority second slash";break;case"authority second slash":if(a="authority ignore slashes","/"===h)break;r("Expected '/', got: "+h);continue;case"authority ignore slashes":if("/"!==h&&"\\"!==h){a="authority";continue}r("Expected authority, got: "+h);break;case"authority":if("@"===h){c&&(r("@ already seen."),l+="%40"),c=!0;for(var m=0;m<l.length;m++){var g=l[m];if("\t"!==g&&"\n"!==g&&"\r"!==g)if(":"!==g||null!==this._password){var v=k(g);null!==this._password?this._password+=v:this._username+=v}else this._password="";else r("Invalid whitespace in authority.")}l=""}else{if(h===x||"/"===h||"\\"===h||"?"===h||"#"===h){s-=l.length,l="",a="host";continue}l+=h}break;case"file host":if(h===x||"/"===h||"\\"===h||"?"===h||"#"===h){a=2!==l.length||!E.test(l[0])||":"!==l[1]&&"|"!==l[1]?(0===l.length||(this._host=A.call(this,l),l=""),"relative path start"):"relative path";continue}"\t"===h||"\n"===h||"\r"===h?r("Invalid whitespace in file host."):l+=h;break;case"host":case"hostname":if(":"!==h||u){if(h===x||"/"===h||"\\"===h||"?"===h||"#"===h){if(this._host=A.call(this,l),l="",a="relative path start",t)break e;continue}"\t"!==h&&"\n"!==h&&"\r"!==h?("["===h?u=!0:"]"===h&&(u=!1),l+=h):r("Invalid code point in host/hostname: "+h)}else if(this._host=A.call(this,l),l="",a="port","hostname"===t)break e;break;case"port":if(/[0-9]/.test(h))l+=h;else{if(h===x||"/"===h||"\\"===h||"?"===h||"#"===h||t){if(""!==l){var y=parseInt(l,10);y!==w[this._scheme]&&(this._port=y+""),l=""}if(t)break e;a="relative path start";continue}"\t"===h||"\n"===h||"\r"===h?r("Invalid code point in port: "+h):S.call(this)}break;case"relative path start":if("\\"===h&&r("'\\' not allowed in path."),a="relative path","/"!==h&&"\\"!==h)continue;break;case"relative path":var b;if(h!==x&&"/"!==h&&"\\"!==h&&(t||"?"!==h&&"#"!==h))"\t"!==h&&"\n"!==h&&"\r"!==h&&(l+=k(h));else"\\"===h&&r("\\ not allowed in relative path."),(b=C[l.toLowerCase()])&&(l=b),".."===l?(this._path.pop(),"/"!==h&&"\\"!==h&&this._path.push("")):"."===l&&"/"!==h&&"\\"!==h?this._path.push(""):"."!==l&&("file"===this._scheme&&0===this._path.length&&2===l.length&&E.test(l[0])&&"|"===l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"===h?(this._query="?",a="query"):"#"===h&&(this._fragment="#",a="fragment");break;case"query":t||"#"!==h?h!==x&&"\t"!==h&&"\n"!==h&&"\r"!==h&&(this._query+=32<(o=(i=h).charCodeAt(0))&&o<127&&-1===[34,35,60,62,96].indexOf(o)?i:encodeURIComponent(i)):(this._fragment="#",a="fragment");break;case"fragment":h!==x&&"\t"!==h&&"\n"!==h&&"\r"!==h&&(this._fragment+=h)}s++}}function i(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function o(e,t){void 0===t||t instanceof o||(t=new o(String(t))),this._url=e,i.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");r.call(this,n,null,t)}}()}function v(){window.requestAnimationFrame=function(e){return window.setTimeout(e,20)},window.cancelAnimationFrame=function(e){window.clearTimeout(e)}}},function(e,t,n){"use strict";var r=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),r=!0}catch(e){}t.ReadableStream=r?ReadableStream:n(10).ReadableStream}],r.c=i,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=15);function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/web/compatibility",[],t):"object"==typeof exports?exports["pdfjs-dist/web/compatibility"]=t():e["pdfjs-dist/web/compatibility"]=t()}(this,function(){return i={},r.m=n=[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("undefined"==typeof PDFJS||!PDFJS.compatibilityChecked){var c="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{},i="undefined"!=typeof navigator&&navigator.userAgent||"",o=/Android/.test(i),r=/Android\s[0-2][^\d]/.test(i),a=/Android\s[0-4][^\d]/.test(i),s=0<=i.indexOf("Chrom"),u=/Chrome\/(39|40)\./.test(i),d=0<=i.indexOf("CriOS"),h=0<=i.indexOf("Trident"),f=/\b(iPad|iPhone|iPod)(?=;)/.test(i),p=0<=i.indexOf("Opera"),m=/Safari\//.test(i)&&!/(Chrome\/|Android\s)/.test(i),g="object"===("undefined"==typeof window?"undefined":l(window))&&"object"===("undefined"==typeof document?"undefined":l(document));"undefined"==typeof PDFJS&&(c.PDFJS={}),PDFJS.compatibilityChecked=!0,function(){if("undefined"!=typeof Uint8Array)return void 0===Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(e,t){return new Uint8Array(this.slice(e,t))},Float32Array.prototype.subarray=function(e,t){return new Float32Array(this.slice(e,t))}),"undefined"==typeof Float64Array&&(c.Float64Array=Float32Array);function i(e,t){return new s(this.slice(e,t))}function o(e,t){arguments.length<2&&(t=0);for(var n=0,r=e.length;n<r;++n,++t)this[t]=255&e[n]}function n(e,t){this.buffer=e,this.byteLength=e.length,this.length=t,function(e){for(;r<e;)Object.defineProperty(n.prototype,r,a(r)),r++}(this.length)}n.prototype=Object.create(null);var r=0;function a(r){return{get:function(){var e=this.buffer,t=r<<2;return(e[t]|e[1+t]<<8|e[2+t]<<16|e[3+t]<<24)>>>0},set:function(e){var t=this.buffer,n=r<<2;t[n]=255&e,t[1+n]=e>>8&255,t[2+n]=e>>16&255,t[3+n]=e>>>24&255}}}function s(e){var t,n,r;if("number"==typeof e)for(t=[],n=0;n<e;++n)t[n]=0;else if("slice"in e)t=e.slice(0);else for(t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t.subarray=i,(t.buffer=t).byteLength=t.length,t.set=o,"object"===(void 0===e?"undefined":l(e))&&e.buffer&&(t.buffer=e.buffer),t}c.Uint8Array=s,c.Int8Array=s,c.Int32Array=s,c.Uint16Array=s,c.Float32Array=s,c.Float64Array=s,c.Uint32Array=function(){if(3!==arguments.length)return s.apply(this,arguments);if(0!==arguments[1])throw new Error("offset !== 0 is not supported");return new n(arguments[0],arguments[2])}}(),function(){if(g&&window.CanvasPixelArray){var e=window.CanvasPixelArray.prototype;"buffer"in e||(Object.defineProperty(e,"buffer",{get:function(){return this},enumerable:!1,configurable:!0}),Object.defineProperty(e,"byteLength",{get:function(){return this.length},enumerable:!1,configurable:!0}))}}(),c.URL||(c.URL=c.webkitURL),function(){if(void 0!==Object.defineProperty){var t=!0;try{g&&Object.defineProperty(new Image,"id",{value:"test"});var e=function(){};e.prototype={get id(){}},Object.defineProperty(new e,"id",{value:"",configurable:!0,enumerable:!0,writable:!1})}catch(e){t=!1}if(t)return}Object.defineProperty=function(e,t,n){delete e[t],"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),"value"in n&&(e.__defineSetter__(t,function(e){return this.__defineGetter__(t,function(){return e}),e}),e[t]=n.value)}}(),function(){if("undefined"!=typeof XMLHttpRequest){var e=XMLHttpRequest.prototype,t=new XMLHttpRequest;"overrideMimeType"in t||Object.defineProperty(e,"overrideMimeType",{value:function(){}}),"responseType"in t||(Object.defineProperty(e,"responseType",{get:function(){return this._responseType||"text"},set:function(e){"text"!==e&&"arraybuffer"!==e||"arraybuffer"===(this._responseType=e)&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined")}}),"undefined"==typeof VBArray?Object.defineProperty(e,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;var e,t=this.responseText,n=t.length,r=new Uint8Array(n);for(e=0;e<n;++e)r[e]=255&t.charCodeAt(e);return r.buffer}}):Object.defineProperty(e,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}))}}(),function(){if(!("btoa"in c)){var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.btoa=function(e){var t,n,r="";for(t=0,n=e.length;t<n;t+=3){var i=255&e.charCodeAt(t),o=255&e.charCodeAt(t+1),a=255&e.charCodeAt(t+2),s=(3&i)<<4|o>>4,l=t+1<n?(15&o)<<2|a>>6:64,c=t+2<n?63&a:64;r+=u.charAt(i>>2)+u.charAt(s)+u.charAt(l)+u.charAt(c)}return r}}}(),function(){if(!("atob"in c)){c.atob=function(e){if((e=e.replace(/=+$/,"")).length%4==1)throw new Error("bad atob input");for(var t,n,r=0,i=0,o="";n=e.charAt(i++);~n&&(t=r%4?64*t+n:n,r++%4)&&(o+=String.fromCharCode(255&t>>(-2*r&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return o}}}(),void 0===Function.prototype.bind&&(Function.prototype.bind=function(t){var n=this,r=Array.prototype.slice.call(arguments,1);return function(){var e=r.concat(Array.prototype.slice.call(arguments));return n.apply(t,e)}}),g&&("dataset"in document.createElement("div")||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var e={},t=0,n=this.attributes.length;t<n;t++){var r=this.attributes[t];if("data-"===r.name.substring(0,5))e[r.name.substring(5).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})]=r.value}return Object.defineProperty(this,"_dataset",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})),function(){function t(e,t,n,r){var i=(e.className||"").split(/\s+/g);""===i[0]&&i.shift();var o=i.indexOf(t);return o<0&&n&&i.push(t),0<=o&&r&&i.splice(o,1),e.className=i.join(" "),0<=o}if(g&&!("classList"in document.createElement("div"))){var n={add:function(e){t(this.element,e,!0,!1)},contains:function(e){return t(this.element,e,!1,!1)},remove:function(e){t(this.element,e,!1,!0)},toggle:function(e){t(this.element,e,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var e=Object.create(n,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:e,writable:!1,enumerable:!1}),e},enumerable:!0})}}(),function(){if(!("undefined"==typeof importScripts||"console"in c)){var n={},e={log:function(){var e=Array.prototype.slice.call(arguments);c.postMessage({targetName:"main",action:"console_log",data:e})},error:function(){var e=Array.prototype.slice.call(arguments);c.postMessage({targetName:"main",action:"console_error",data:e})},time:function(e){n[e]=Date.now()},timeEnd:function(e){var t=n[e];if(!t)throw new Error("Unknown timer name "+e);this.log("Timer:",e,Date.now()-t)}};c.console=e}}(),function(){var t,n,r;if(g){if("console"in window)return"bind"in console.log||(console.log=(r=console.log,function(e){return r(e)}),console.error=(n=console.error,function(e){return n(e)}),console.warn=(t=console.warn,function(e){return t(e)}));window.console={log:function(){},error:function(){},warn:function(){}}}}(),p&&document.addEventListener("click",function(e){!function e(t){return t.disabled||t.parentNode&&e(t.parentNode)}(e.target)||e.stopPropagation()},!0),(h||d)&&(PDFJS.disableCreateObjectURL=!0),"undefined"!=typeof navigator&&("language"in navigator||(PDFJS.locale=navigator.userLanguage||"en-US")),(m||r||u||f)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0),g&&(history.pushState&&!r||(PDFJS.disableHistory=!0)),function(){if(g)if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(e){for(var t=0,n=this.length;t<n;t++)this[t]=e[t]});else{var e,t=!1;if(s?t=(e=i.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(e[2])<21:o?t=a:m&&(t=(e=i.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//))&&parseInt(e[1])<6),t){var n=window.CanvasRenderingContext2D.prototype,r=n.createImageData;n.createImageData=function(e,t){var n=r.call(this,e,t);return n.data.set=function(e){for(var t=0,n=this.length;t<n;t++)this[t]=e[t]},n},n=null}}}(),g&&(f?v():"requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame,window.requestAnimationFrame||v())),(f||o)&&(PDFJS.maxCanvasPixels=5242880),g&&h&&window.parent!==window&&(PDFJS.disableFullscreen=!0),g&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var e=document.getElementsByTagName("script");return e[e.length-1]},enumerable:!0,configurable:!0})),function(){if(g){var t=document.createElement("input");try{t.type="number"}catch(e){var n=t.constructor.prototype,r=Object.getOwnPropertyDescriptor(n,"type");Object.defineProperty(n,"type",{get:function(){return r.get.call(this)},set:function(e){r.set.call(this,"number"===e?"text":e)},enumerable:!0,configurable:!0})}}}(),function(){if(g&&document.attachEvent){var e=document.constructor.prototype,t=Object.getOwnPropertyDescriptor(e,"readyState");Object.defineProperty(e,"readyState",{get:function(){var e=t.get.call(this);return"interactive"===e?"loading":e},set:function(e){t.set.call(this,e)},enumerable:!0,configurable:!0})}}(),g&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),Number.isNaN||(Number.isNaN=function(e){return"number"==typeof e&&isNaN(e)}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),function(){if(c.Promise)return"function"!=typeof c.Promise.all&&(c.Promise.all=function(e){var n,r,i=0,o=[],t=new c.Promise(function(e,t){n=e,r=t});return e.forEach(function(e,t){i++,e.then(function(e){o[t]=e,0===--i&&n(o)},r)}),0===i&&n(o),t}),"function"!=typeof c.Promise.resolve&&(c.Promise.resolve=function(t){return new c.Promise(function(e){e(t)})}),"function"!=typeof c.Promise.reject&&(c.Promise.reject=function(n){return new c.Promise(function(e,t){t(n)})}),"function"!=typeof c.Promise.prototype.catch&&(c.Promise.prototype.catch=function(e){return c.Promise.prototype.then(void 0,e)});function d(e){this._status=0,this._handlers=[];try{e.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}var r={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(e){0!==e._status&&(this.handlers=this.handlers.concat(e._handlers),e._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var e=Date.now()+1;0<this.handlers.length;){var t=this.handlers.shift(),n=t.thisPromise._status,r=t.thisPromise._value;try{1===n?"function"==typeof t.onResolve&&(r=t.onResolve(r)):"function"==typeof t.onReject&&(r=t.onReject(r),n=1,t.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(t.thisPromise))}catch(e){n=2,r=e}if(t.nextPromise._updateStatus(n,r),Date.now()>=e)break}0<this.handlers.length?setTimeout(this.runHandlers.bind(this),0):this.running=!1},addUnhandledRejection:function(e){this.unhandledRejections.push({promise:e,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(e){e._unhandledRejection=!1;for(var t=0;t<this.unhandledRejections.length;t++)this.unhandledRejections[t].promise===e&&(this.unhandledRejections.splice(t),t--)},scheduleRejectionCheck:function(){var i=this;this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){i.pendingRejectionCheck=!1;for(var e=Date.now(),t=0;t<i.unhandledRejections.length;t++)if(500<e-i.unhandledRejections[t].time){var n=i.unhandledRejections[t].promise._value,r="Unhandled rejection: "+n;n.stack&&(r+="\n"+n.stack);try{throw new Error(r)}catch(e){console.warn(r)}i.unhandledRejections.splice(t),t--}i.unhandledRejections.length&&i.scheduleRejectionCheck()},500))}};d.all=function(e){var n,r,i=new d(function(e,t){n=e,r=t}),o=e.length,a=[];if(0===o)return n(a),i;function t(e){2!==i._status&&(a=[],r(e))}for(var s=0,l=e.length;s<l;++s){var c=e[s],u=function(t){return function(e){2!==i._status&&(a[t]=e,0===--o&&n(a))}}(s);d.isPromise(c)?c.then(u,t):u(c)}return i},d.isPromise=function(e){return e&&"function"==typeof e.then},d.resolve=function(t){return new d(function(e){e(t)})},d.reject=function(n){return new d(function(e,t){t(n)})},d.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(e,t){1!==this._status&&2!==this._status&&(1===e&&d.isPromise(t)?t.then(this._updateStatus.bind(this,1),this._updateStatus.bind(this,2)):(this._status=e,this._value=t,2===e&&0===this._handlers.length&&(this._unhandledRejection=!0,r.addUnhandledRejection(this)),r.scheduleHandlers(this)))},_resolve:function(e){this._updateStatus(1,e)},_reject:function(e){this._updateStatus(2,e)},then:function(e,t){var n=new d(function(e,t){this.resolve=e,this.reject=t});return this._handlers.push({thisPromise:this,onResolve:e,onReject:t,nextPromise:n}),r.scheduleHandlers(this),n},catch:function(e){return this.then(void 0,e)}},c.Promise=d}(),function(){if(!c.WeakMap){var e=0;t.prototype={has:function(e){return("object"===(void 0===e?"undefined":l(e))||"function"==typeof e)&&null!==e&&!!Object.getOwnPropertyDescriptor(e,this.id)},get:function(e){return this.has(e)?e[this.id]:void 0},set:function(e,t){Object.defineProperty(e,this.id,{value:t,enumerable:!1,configurable:!0})},delete:function(e){delete e[this.id]}},c.WeakMap=t}function t(){this.id="$weakmap"+e++}}(),function(){var e=!1;try{if("function"==typeof URL&&"object"===l(URL.prototype)&&"origin"in URL.prototype){var t=new URL("b","http://a");t.pathname="c%20d",e="http://a/c%20d"===t.href}}catch(e){}if(!e){var w=Object.create(null);w.ftp=21,w.file=0,w.gopher=70,w.http=80,w.https=443,w.ws=80,w.wss=443;var C=Object.create(null);C["%2e"]=".",C[".%2e"]="..",C["%2e."]="..",C["%2e%2e"]="..";var x,E=/[a-zA-Z]/,_=/[a-zA-Z0-9\+\-\.]/;o.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""===this._username&&null===this._password||(e=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){i.call(this),r.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||r.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&r.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],r.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&((this._query="?")===e[0]&&(e=e.slice(1)),r.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(e){this._isInvalid||((this._fragment="#")===e[0]&&(e=e.slice(1)),r.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new o(this._schemeData).origin||"null"}catch(e){}return"null"}return(e=this.host)?this._scheme+"://"+e:""}};var n=c.URL;n&&(o.createObjectURL=function(e){return n.createObjectURL.apply(n,arguments)},o.revokeObjectURL=function(e){n.revokeObjectURL(e)}),c.URL=o}function $(e){return void 0!==w[e]}function S(){i.call(this),this._isInvalid=!0}function A(e){return""===e&&S.call(this),e.toLowerCase()}function k(e){var t=e.charCodeAt(0);return 32<t&&t<127&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function r(e,t,n){function r(e){d.push(e)}var i,o,a=t||"scheme start",s=0,l="",c=!1,u=!1,d=[];e:for(;(e[s-1]!==x||0===s)&&!this._isInvalid;){var h=e[s];switch(a){case"scheme start":if(!h||!E.test(h)){if(t){r("Invalid scheme.");break e}l="",a="no scheme";continue}l+=h.toLowerCase(),a="scheme";break;case"scheme":if(h&&_.test(h))l+=h.toLowerCase();else{if(":"!==h){if(t){if(h===x)break e;r("Code point not allowed in scheme: "+h);break e}l="",s=0,a="no scheme";continue}if(this._scheme=l,l="",t)break e;$(this._scheme)&&(this._isRelative=!0),a="file"===this._scheme?"relative":this._isRelative&&n&&n._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===h?(this._query="?",a="query"):"#"===h?(this._fragment="#",a="fragment"):h!==x&&"\t"!==h&&"\n"!==h&&"\r"!==h&&(this._schemeData+=k(h));break;case"no scheme":if(n&&$(n._scheme)){a="relative";continue}r("Missing scheme."),S.call(this);break;case"relative or authority":if("/"!==h||"/"!==e[s+1]){r("Expected /, got: "+h),a="relative";continue}a="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=n._scheme),h===x){this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._username=n._username,this._password=n._password;break e}if("/"===h||"\\"===h)"\\"===h&&r("\\ is an invalid code point."),a="relative slash";else if("?"===h)this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query="?",this._username=n._username,this._password=n._password,a="query";else{if("#"!==h){var f=e[s+1],p=e[s+2];("file"!==this._scheme||!E.test(h)||":"!==f&&"|"!==f||p!==x&&"/"!==p&&"\\"!==p&&"?"!==p&&"#"!==p)&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password,this._path=n._path.slice(),this._path.pop()),a="relative path";continue}this._host=n._host,this._port=n._port,this._path=n._path.slice(),this._query=n._query,this._fragment="#",this._username=n._username,this._password=n._password,a="fragment"}break;case"relative slash":if("/"!==h&&"\\"!==h){"file"!==this._scheme&&(this._host=n._host,this._port=n._port,this._username=n._username,this._password=n._password),a="relative path";continue}"\\"===h&&r("\\ is an invalid code point."),a="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==h){r("Expected '/', got: "+h),a="authority ignore slashes";continue}a="authority second slash";break;case"authority second slash":if(a="authority ignore slashes","/"===h)break;r("Expected '/', got: "+h);continue;case"authority ignore slashes":if("/"!==h&&"\\"!==h){a="authority";continue}r("Expected authority, got: "+h);break;case"authority":if("@"===h){c&&(r("@ already seen."),l+="%40"),c=!0;for(var m=0;m<l.length;m++){var g=l[m];if("\t"!==g&&"\n"!==g&&"\r"!==g)if(":"!==g||null!==this._password){var v=k(g);null!==this._password?this._password+=v:this._username+=v}else this._password="";else r("Invalid whitespace in authority.")}l=""}else{if(h===x||"/"===h||"\\"===h||"?"===h||"#"===h){s-=l.length,l="",a="host";continue}l+=h}break;case"file host":if(h===x||"/"===h||"\\"===h||"?"===h||"#"===h){a=2!==l.length||!E.test(l[0])||":"!==l[1]&&"|"!==l[1]?(0===l.length||(this._host=A.call(this,l),l=""),"relative path start"):"relative path";continue}"\t"===h||"\n"===h||"\r"===h?r("Invalid whitespace in file host."):l+=h;break;case"host":case"hostname":if(":"!==h||u){if(h===x||"/"===h||"\\"===h||"?"===h||"#"===h){if(this._host=A.call(this,l),l="",a="relative path start",t)break e;continue}"\t"!==h&&"\n"!==h&&"\r"!==h?("["===h?u=!0:"]"===h&&(u=!1),l+=h):r("Invalid code point in host/hostname: "+h)}else if(this._host=A.call(this,l),l="",a="port","hostname"===t)break e;break;case"port":if(/[0-9]/.test(h))l+=h;else{if(h===x||"/"===h||"\\"===h||"?"===h||"#"===h||t){if(""!==l){var y=parseInt(l,10);y!==w[this._scheme]&&(this._port=y+""),l=""}if(t)break e;a="relative path start";continue}"\t"===h||"\n"===h||"\r"===h?r("Invalid code point in port: "+h):S.call(this)}break;case"relative path start":if("\\"===h&&r("'\\' not allowed in path."),a="relative path","/"!==h&&"\\"!==h)continue;break;case"relative path":var b;if(h!==x&&"/"!==h&&"\\"!==h&&(t||"?"!==h&&"#"!==h))"\t"!==h&&"\n"!==h&&"\r"!==h&&(l+=k(h));else"\\"===h&&r("\\ not allowed in relative path."),(b=C[l.toLowerCase()])&&(l=b),".."===l?(this._path.pop(),"/"!==h&&"\\"!==h&&this._path.push("")):"."===l&&"/"!==h&&"\\"!==h?this._path.push(""):"."!==l&&("file"===this._scheme&&0===this._path.length&&2===l.length&&E.test(l[0])&&"|"===l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"===h?(this._query="?",a="query"):"#"===h&&(this._fragment="#",a="fragment");break;case"query":t||"#"!==h?h!==x&&"\t"!==h&&"\n"!==h&&"\r"!==h&&(this._query+=32<(o=(i=h).charCodeAt(0))&&o<127&&-1===[34,35,60,62,96].indexOf(o)?i:encodeURIComponent(i)):(this._fragment="#",a="fragment");break;case"fragment":h!==x&&"\t"!==h&&"\n"!==h&&"\r"!==h&&(this._fragment+=h)}s++}}function i(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function o(e,t){void 0===t||t instanceof o||(t=new o(String(t))),this._url=e,i.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");r.call(this,n,null,t)}}()}function v(){window.requestAnimationFrame=function(e){return window.setTimeout(e,20)},window.cancelAnimationFrame=function(e){window.clearTimeout(e)}}},function(e,t,n){"use strict";n(0)}],r.c=i,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1);function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],t):"object"==typeof exports?exports["pdfjs-dist/web/pdf_viewer"]=t():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsDistWebPdfViewer=t()}(this,function(){return i={},r.m=n=[function(e,t,n){"use strict";var r;r="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js"),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localized=t.animationStarted=t.normalizeWheelEventDelta=t.binarySearchFirstItem=t.watchScroll=t.scrollIntoView=t.getOutputScale=t.approximateFraction=t.roundToDivide=t.getVisibleElements=t.parseQueryString=t.noContextMenuHandler=t.getPDFFileNameFromURL=t.ProgressBar=t.EventBus=t.NullL10n=t.mozL10n=t.RendererType=t.cloneObj=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s={get:function(e,t,n){return Promise.resolve((r=n,(i=t)?r.replace(/\{\{\s*(\w+)\s*\}\}/g,function(e,t){return t in i?i[t]:"{{"+t+"}}"}):r));var r,i},translate:function(){return Promise.resolve()}};function y(e,t){var n=0,r=e.length-1;if(0===e.length||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var i=n+r>>1;t(e[i])?r=i:n=1+i}return n}o.PDFJS.disableFullscreen=void 0!==o.PDFJS.disableFullscreen&&o.PDFJS.disableFullscreen,o.PDFJS.useOnlyCssZoom=void 0!==o.PDFJS.useOnlyCssZoom&&o.PDFJS.useOnlyCssZoom,o.PDFJS.maxCanvasPixels=void 0===o.PDFJS.maxCanvasPixels?16777216:o.PDFJS.maxCanvasPixels,o.PDFJS.disableHistory=void 0!==o.PDFJS.disableHistory&&o.PDFJS.disableHistory,o.PDFJS.disableTextLayer=void 0!==o.PDFJS.disableTextLayer&&o.PDFJS.disableTextLayer,o.PDFJS.ignoreCurrentPositionOnZoom=void 0!==o.PDFJS.ignoreCurrentPositionOnZoom&&o.PDFJS.ignoreCurrentPositionOnZoom,o.PDFJS.locale=void 0===o.PDFJS.locale&&"undefined"!=typeof navigator?navigator.language:o.PDFJS.locale;var l=new Promise(function(e){window.requestAnimationFrame(e)}),c=Promise.resolve(),u=(r(d,[{key:"on",value:function(e,t){var n=this._listeners[e];n||(n=[],this._listeners[e]=n),n.push(t)}},{key:"off",value:function(e,t){var n=this._listeners[e],r=void 0;!n||(r=n.indexOf(t))<0||n.splice(r,1)}},{key:"dispatch",value:function(e){var t=this._listeners[e];if(t&&0!==t.length){var n=Array.prototype.slice.call(arguments,1);t.slice(0).forEach(function(e){e.apply(null,n)})}}}]),d);function d(){a(this,d),this._listeners=Object.create(null)}var h=(r(f,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode.offsetWidth-e.offsetWidth;0<t&&this.bar.setAttribute("style","width: calc(100% - "+t+"px);")}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(e){var t,n,r;this._indeterminate=isNaN(e),this._percent=(t=e,n=0,r=100,Math.min(Math.max(t,n),r)),this._updateBar()}}]),f);function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.height,r=t.width,i=t.units;a(this,f),this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=n||100,this.width=r||100,this.units=i||"%",this.div.style.height=this.height+this.units,this.percent=0}t.CSS_UNITS=96/72,t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.MIN_SCALE=.25,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.cloneObj=function(e){var t=Object.create(null);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},t.RendererType={CANVAS:"canvas",SVG:"svg"},t.mozL10n=void 0,t.NullL10n=s,t.EventBus=u,t.ProgressBar=h,t.getPDFFileNameFromURL=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf";if(function(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substr(t,5).toLowerCase()}(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&-1!==(i=i[0]).indexOf("%"))try{i=n.exec(decodeURIComponent(i))[0]}catch(e){}return i||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),r=0,i=t.length;r<i;++r){var o=t[r].split("="),a=o[0].toLowerCase(),s=1<o.length?o[1]:null;n[decodeURIComponent(a)]=decodeURIComponent(s)}return n},t.getVisibleElements=function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=e.scrollTop,i=r+e.clientHeight,o=e.scrollLeft,a=o+e.clientWidth,s=[],l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,f=void 0,p=0===t.length?0:y(t,function(e){var t=e.div,n=t.offsetTop+t.clientTop+t.clientHeight;return r<n}),m=t.length;p<m&&(u=(c=(l=t[p]).div).offsetTop+c.clientTop,d=c.clientHeight,!(i<u));p++)(f=c.offsetLeft+c.clientLeft)+c.clientWidth<o||a<f||(h=100*(d-(Math.max(0,r-u)+Math.max(0,u+d-i)))/d|0,s.push({id:l.id,x:f,y:u,view:l,percent:h}));var g=s[0],v=s[s.length-1];return n&&s.sort(function(e,t){var n=e.percent-t.percent;return.001<Math.abs(n)?-n:e.id-t.id}),{first:g,last:v,views:s}},t.roundToDivide=function(e,t){var n=e%t;return 0==n?e:Math.round(e-n+t)},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(8<t)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=1<e?t:e,r=0,i=1,o=1,a=1;;){var s=r+o,l=i+a;if(8<l)break;n<=s/l?(o=s,a=l):(r=s,i=l)}return n-r/i<o/a-n?n===e?[r,i]:[i,r]:n===e?[o,a]:[a,o]},t.getOutputScale=function(e){var t=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);return{sx:t,sy:t,scaled:1!=t}},t.scrollIntoView=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(r){for(var i=e.offsetTop+e.clientTop,o=e.offsetLeft+e.clientLeft;r.clientHeight===r.scrollHeight||n&&"hidden"===getComputedStyle(r).overflow;)if(r.dataset._scaleY&&(i/=r.dataset._scaleY,o/=r.dataset._scaleX),i+=r.offsetTop,o+=r.offsetLeft,!(r=r.offsetParent))return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(o+=t.left,r.scrollLeft=o)),r.scrollTop=i}else console.error("offsetParent is not set -- cannot scroll")},t.watchScroll=function(n,r){function e(){o=o||window.requestAnimationFrame(function(){o=null;var e=n.scrollTop,t=i.lastY;e!==t&&(i.down=t<e),i.lastY=e,r(i)})}var i={down:!0,lastY:n.scrollTop,_eventHandler:e},o=null;return n.addEventListener("scroll",e,!0),i},t.binarySearchFirstItem=y,t.normalizeWheelEventDelta=function(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t),0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t},t.animationStarted=l,t.localized=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalEventBus=t.attachDOMEventsToEventBus=void 0;var r=n(1);function i(e){e.on("documentload",function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),e.on("pagerendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",!0,!0,{pageNumber:e.pageNumber,cssTransform:e.cssTransform}),e.source.div.dispatchEvent(t)}),e.on("textlayerrendered",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e.pageNumber}),e.source.textLayerDiv.dispatchEvent(t)}),e.on("pagechange",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("pagechange",!0,!0,window,0),t.pageNumber=e.pageNumber,e.source.container.dispatchEvent(t)}),e.on("pagesinit",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),e.source.container.dispatchEvent(t)}),e.on("pagesloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e.pagesCount}),e.source.container.dispatchEvent(t)}),e.on("scalechange",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scalechange",!0,!0,window,0),t.scale=e.scale,t.presetValue=e.presetValue,e.source.container.dispatchEvent(t)}),e.on("updateviewarea",function(e){var t=document.createEvent("UIEvents");t.initUIEvent("updateviewarea",!0,!0,window,0),t.location=e.location,e.source.container.dispatchEvent(t)}),e.on("find",function(e){if(e.source!==window){var t=document.createEvent("CustomEvent");t.initCustomEvent("find"+e.type,!0,!0,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,highlightAll:e.highlightAll,findPrevious:e.findPrevious}),window.dispatchEvent(t)}}),e.on("attachmentsloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e.attachmentsCount}),e.source.container.dispatchEvent(t)}),e.on("sidebarviewchanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("sidebarviewchanged",!0,!0,{view:e.view}),e.source.outerContainer.dispatchEvent(t)}),e.on("pagemode",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagemode",!0,!0,{mode:e.mode}),e.source.pdfViewer.container.dispatchEvent(t)}),e.on("namedaction",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("namedaction",!0,!0,{action:e.action}),e.source.pdfViewer.container.dispatchEvent(t)}),e.on("presentationmodechanged",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("presentationmodechanged",!0,!0,{active:e.active,switchInProgress:e.switchInProgress}),window.dispatchEvent(t)}),e.on("outlineloaded",function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e.outlineCount}),e.source.container.dispatchEvent(t)})}var o=null;t.attachDOMEventsToEventBus=i,t.getGlobalEventBus=function(){return o||(i(o=new r.EventBus),o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(2),l=n(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=(r(u,[{key:"setDocument",value:function(e,t){this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"navigateTo",value:function(a){var s=this;new Promise(function(t,e){"string"!=typeof a?t({namedDest:"",explicitDest:a}):s.pdfDocument.getDestination(a).then(function(e){t({namedDest:a,explicitDest:e})})}).then(function(e){e.explicitDest instanceof Array?function t(e){var n=e.namedDest,r=e.explicitDest,i=r[0],o=void 0;if(i instanceof Object){if(null===(o=s._cachedPageNumber(i)))return void s.pdfDocument.getPageIndex(i).then(function(e){s.cachePageRef(e+1,i),t({namedDest:n,explicitDest:r})}).catch(function(){console.error('PDFLinkService.navigateTo: "'+i+'" is not a valid page reference, for dest="'+a+'".')})}else{if((0|i)!==i)return void console.error('PDFLinkService.navigateTo: "'+i+'" is not a valid destination reference, for dest="'+a+'".');o=i+1}!o||o<1||o>s.pagesCount?console.error('PDFLinkService.navigateTo: "'+o+'" is not a valid page number, for dest="'+a+'".'):(s.pdfViewer.scrollPageIntoView({pageNumber:o,destArray:r}),s.pdfHistory&&s.pdfHistory.push({dest:r,hash:n,page:o}))}(e):console.error('PDFLinkService.navigateTo: "'+e.explicitDest+'" is not a valid destination array, for dest="'+a+'".')})}},{key:"getDestinationHash",value:function(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(e instanceof Array){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t=void 0,n=void 0;if(0<=e.indexOf("=")){var r=(0,l.parseQueryString)(e);if("search"in r&&this.eventBus.dispatch("findfromurlhash",{source:this,query:r.search.replace(/"/g,""),phraseSearch:"true"===r.phrase}),"nameddest"in r)return this.pdfHistory&&this.pdfHistory.updateNextHashParam(r.nameddest),void this.navigateTo(r.nameddest);if("page"in r&&(t=0|r.page||1),"zoom"in r){var i=r.zoom.split(","),o=i[0],a=parseFloat(o);-1===o.indexOf("Fit")?n=[null,{name:"XYZ"},1<i.length?0|i[1]:null,2<i.length?0|i[2]:null,a?a/100:o]:"Fit"===o||"FitB"===o?n=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?n=[null,{name:o},1<i.length?0|i[1]:null]:"FitR"===o?5!==i.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:o},0|i[1],0|i[2],0|i[3],0|i[4]]:console.error('PDFLinkService.setHash: "'+o+'" is not a valid zoom value.')}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in r&&this.eventBus.dispatch("pagemode",{source:this,mode:r.pagemode})}else{/^\d+$/.test(e)&&e<=this.pagesCount&&(console.warn('PDFLinkService_setHash: specifying a page number directly after the hash symbol (#) is deprecated, please use the "#page='+e+'" form instead.'),this.page=0|e),n=unescape(e);try{(n=JSON.parse(n))instanceof Array||(n=n.toString())}catch(e){}if("string"==typeof n||function(e){if(e instanceof Array){var t=e.length,n=!0;if(!(t<2)){var r=e[0];if("object"===(void 0===r?"undefined":s(r))&&"number"==typeof r.num&&(0|r.num)===r.num&&"number"==typeof r.gen&&(0|r.gen)===r.gen||"number"==typeof r&&(0|r)===r&&0<=r){var i=e[1];if("object"===(void 0===i?"undefined":s(i))&&"string"==typeof i.name){switch(i.name){case"XYZ":if(5!==t)return;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return;break;case"FitR":if(6!==t)return;n=!1;break;default:return}for(var o=2;o<t;o++){var a=e[o];if(!("number"==typeof a||n&&null===a))return}return 1}}}}}(n))return this.pdfHistory&&this.pdfHistory.updateNextHashParam(n),void this.navigateTo(n);console.error('PDFLinkService.setHash: "'+unescape(e)+'" is not a valid destination.')}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":1<this.page&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"onFileAttachmentAnnotation",value:function(e){var t=e.id,n=e.filename,r=e.content;this.eventBus.dispatch("fileattachmentannotation",{source:this,id:t,filename:n,content:r})}},{key:"cachePageRef",value:function(e,t){var n=t.num+" "+t.gen+" R";this._pagesRefCache[n]=e}},{key:"_cachedPageNumber",value:function(e){var t=e.num+" "+e.gen+" R";return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}}]),u);function u(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).eventBus;a(this,u),this.eventBus=e||(0,o.getGlobalEventBus)(),this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}var d=(r(h,[{key:"navigateTo",value:function(){}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"onFileAttachmentAnnotation",value:function(e){e.id,e.filename,e.content}},{key:"cachePageRef",value:function(){}},{key:"page",get:function(){return 0},set:function(){}}]),h);function h(){a(this,h)}t.PDFLinkService=c,t.SimpleLinkService=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(0),c=n(1),a=n(3);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=(r(d,[{key:"render",value:function(n,e){var r=this,t=1<arguments.length&&void 0!==e?e:"display";this.pdfPage.getAnnotations({intent:t}).then(function(e){var t={viewport:n.clone({dontFlip:!0}),div:r.div,annotations:e,page:r.pdfPage,renderInteractiveForms:r.renderInteractiveForms,linkService:r.linkService,downloadManager:r.downloadManager};if(r.div)o.AnnotationLayer.update(t);else{if(0===e.length)return;r.div=document.createElement("div"),r.div.className="annotationLayer",r.pageDiv.appendChild(r.div),t.div=r.div,o.AnnotationLayer.render(t),r.l10n.translate(r.div)}})}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),d);function d(e){var t=e.pageDiv,n=e.pdfPage,r=e.linkService,i=e.downloadManager,o=e.renderInteractiveForms,a=void 0!==o&&o,s=e.l10n,l=void 0===s?c.NullL10n:s;u(this,d),this.pageDiv=t,this.pdfPage=n,this.linkService=r,this.downloadManager=i,this.renderInteractiveForms=a,this.l10n=l,this.div=null}var l=(r(h,[{key:"createAnnotationLayerBuilder",value:function(e,t,n,r){var i=2<arguments.length&&void 0!==n&&n,o=3<arguments.length&&void 0!==r?r:c.NullL10n;return new s({pageDiv:e,pdfPage:t,renderInteractiveForms:i,linkService:new a.SimpleLinkService,l10n:o})}}]),h);function h(){u(this,h)}t.AnnotationLayerBuilder=s,t.DefaultAnnotationLayerFactory=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=n(1),v=n(0),o=n(2),u=n(7);var a=(r(s,[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(this.scale*g.CSS_UNITS,t),this.stats=e.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&(this.pdfPage.cleanup(),this.pdfPage=null)}},{key:"_resetZoomLayer",value:function(e){var t=0<arguments.length&&void 0!==e&&e;if(this.zoomLayer){var n=this.zoomLayer.firstChild;this.paintedViewportMap.delete(n),n.width=0,n.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(e,t){var n=0<arguments.length&&void 0!==e&&e,r=1<arguments.length&&void 0!==t&&t;this.cancelRendering();var i=this.div;i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px";for(var o=i.childNodes,a=n&&this.zoomLayer||null,s=r&&this.annotationLayer&&this.annotationLayer.div||null,l=o.length-1;0<=l;l--){var c=o[l];a!==c&&s!==c&&i.removeChild(c)}i.removeAttribute("data-loaded"),s?this.annotationLayer.hide():this.annotationLayer=null,a||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",i.appendChild(this.loadingIconDiv)}},{key:"update",value:function(e,t){this.scale=e||this.scale,void 0!==t&&(this.rotation=t);var n=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*g.CSS_UNITS,rotation:n}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});var r=!1;if(this.canvas&&0<v.PDFJS.maxCanvasPixels){var i=this.outputScale;(Math.floor(this.viewport.width)*i.sx|0)*(Math.floor(this.viewport.height)*i.sy|0)>v.PDFJS.maxCanvasPixels&&(r=!0)}if(this.canvas){if(v.PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&r)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.renderingState=u.RenderingStates.INITIAL,this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null)}},{key:"cssTransform",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,r=this.viewport.height,i=this.div;e.style.width=e.parentNode.style.width=i.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=i.style.height=Math.floor(r)+"px";var o=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,a=Math.abs(o),s=1,l=1;90!==a&&270!==a||(s=r/n,l=n/r);var c="rotate("+o+"deg) scale("+s+","+l+")";if(v.CustomStyle.setProp("transform",e,c),this.textLayer){var u=this.textLayer.viewport,d=this.viewport.rotation-u.rotation,h=Math.abs(d),f=n/u.width;90!==h&&270!==h||(f=n/u.height);var p=this.textLayer.textLayerDiv,m=void 0,g=void 0;switch(h){case 0:m=g=0;break;case 90:m=0,g="-"+p.style.height;break;case 180:m="-"+p.style.width,g="-"+p.style.height;break;case 270:m="-"+p.style.width,g=0;break;default:console.error("Bad rotation value.")}v.CustomStyle.setProp("transform",p,"rotate("+h+"deg) scale("+f+", "+f+") translate("+m+", "+g+")"),v.CustomStyle.setProp("transformOrigin",p,"0% 0%")}t&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"draw",value:function(){var t=this;if(this.renderingState!==u.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset()),!this.pdfPage)return this.renderingState=u.RenderingStates.FINISHED,Promise.reject(new Error("Page is not loaded"));this.renderingState=u.RenderingStates.RUNNING;var n=this.pdfPage,r=this.div,e=document.createElement("div");e.style.width=r.style.width,e.style.height=r.style.height,e.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?r.insertBefore(e,this.annotationLayer.div):r.appendChild(e);var i=null;if(this.textLayerFactory){var o=document.createElement("div");o.className="textLayer",o.style.width=e.style.width,o.style.height=e.style.height,this.annotationLayer&&this.annotationLayer.div?r.insertBefore(o,this.annotationLayer.div):r.appendChild(o),i=this.textLayerFactory.createTextLayerBuilder(o,this.id-1,this.viewport,this.enhanceTextSelection)}this.textLayer=i;var a=null;function s(e){return l===t.paintTask&&(t.paintTask=null),"cancelled"===e||e instanceof v.RenderingCancelledException?(t.error=null,Promise.resolve(void 0)):(t.renderingState=u.RenderingStates.FINISHED,t.loadingIconDiv&&(r.removeChild(t.loadingIconDiv),delete t.loadingIconDiv),t._resetZoomLayer(!0),t.error=e,t.stats=n.stats,t.onAfterDraw&&t.onAfterDraw(),t.eventBus.dispatch("pagerendered",{source:t,pageNumber:t.id,cssTransform:!1}),e?Promise.reject(e):Promise.resolve(void 0))}this.renderingQueue&&(a=function(e){if(!t.renderingQueue.isHighestPriority(t))return t.renderingState=u.RenderingStates.PAUSED,void(t.resume=function(){t.renderingState=u.RenderingStates.RUNNING,e()});e()});var l=this.renderer===g.RendererType.SVG?this.paintOnSvg(e):this.paintOnCanvas(e);l.onRenderContinue=a;var c=(this.paintTask=l).promise.then(function(){return s(null).then(function(){if(i){var e=n.streamTextContent({normalizeWhitespace:!0});i.setTextContentStream(e),i.render()}})},function(e){return s(e)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(r,n,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),r.setAttribute("data-loaded",!0),this.onBeforeDraw&&this.onBeforeDraw(),c}},{key:"paintOnCanvas",value:function(e){var t=(0,v.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){m.cancel()}},r=this.viewport,i=document.createElement("canvas");function o(){a&&(i.removeAttribute("hidden"),a=!1)}i.id=this.renderingId,i.setAttribute("hidden","hidden");var a=!0;e.appendChild(i),(this.canvas=i).mozOpaque=!0;var s=i.getContext("2d",{alpha:!1}),l=(0,g.getOutputScale)(s);if(this.outputScale=l,v.PDFJS.useOnlyCssZoom){var c=r.clone({scale:g.CSS_UNITS});l.sx*=c.width/r.width,l.sy*=c.height/r.height,l.scaled=!0}if(0<v.PDFJS.maxCanvasPixels){var u=r.width*r.height,d=Math.sqrt(v.PDFJS.maxCanvasPixels/u);l.sx>d||l.sy>d?(l.sx=d,l.sy=d,l.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var h=(0,g.approximateFraction)(l.sx),f=(0,g.approximateFraction)(l.sy);i.width=(0,g.roundToDivide)(r.width*l.sx,h[0]),i.height=(0,g.roundToDivide)(r.height*l.sy,f[0]),i.style.width=(0,g.roundToDivide)(r.width,h[1])+"px",i.style.height=(0,g.roundToDivide)(r.height,f[1])+"px",this.paintedViewportMap.set(i,r);var p={canvasContext:s,transform:l.scaled?[l.sx,0,0,l.sy,0,0]:null,viewport:this.viewport,renderInteractiveForms:this.renderInteractiveForms},m=this.pdfPage.render(p);return m.onContinue=function(e){o(),n.onRenderContinue?n.onRenderContinue(e):e()},m.promise.then(function(){o(),t.resolve(void 0)},function(e){o(),t.reject(e)}),n}},{key:"paintOnSvg",value:function(t){function n(){if(e)throw v.PDFJS.pdfjsNext?new v.RenderingCancelledException("Rendering cancelled, page "+r.id,"svg"):"cancelled"}var r=this,e=!1,i=this.pdfPage,o=this.viewport.clone({scale:g.CSS_UNITS});return{promise:i.getOperatorList().then(function(e){return n(),new v.SVGGraphics(i.commonObjs,i.objs).getSVG(e,o).then(function(e){n(),r.svg=e,r.paintedViewportMap.set(e,o),e.style.width=t.style.width,e.style.height=t.style.height,r.renderingState=u.RenderingStates.FINISHED,t.appendChild(e)})}),onRenderContinue:function(e){e()},cancel:function(){e=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=e.container,n=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||g.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this.hasRestrictedScaling=!1,this.enhanceTextSelection=e.enhanceTextSelection||!1,this.renderInteractiveForms=e.renderInteractiveForms||!1,this.eventBus=e.eventBus||(0,o.getGlobalEventBus)(),this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.renderer=e.renderer||g.RendererType.CANVAS,this.l10n=e.l10n||g.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=u.RenderingStates.INITIAL,this.resume=null,this.error=null,this.onBeforeDraw=null,this.onAfterDraw=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),this.div=r,t.appendChild(r)}t.PDFPageView=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=n(2),o=n(0);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=(r(d,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var r=document.createDocumentFragment();this.textLayerRenderTask=(0,o.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:r,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){t.textLayerDiv.appendChild(r),t._finishRendering(),t.updateMatches()},function(e){})}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null)}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"convertMatches",value:function(e,t){var n=0,r=0,i=this.textContentItemsStr,o=i.length-1,a=null===this.findController?0:this.findController.state.query.length,s=[];if(!e)return s;for(var l=0,c=e.length;l<c;l++){for(var u=e[l];n!==o&&u>=r+i[n].length;)r+=i[n].length,n++;n===i.length&&console.error("Could not find a matching mapping");var d={begin:{divIdx:n,offset:u-r}};for(u+=t?t[l]:a;n!==o&&u>r+i[n].length;)r+=i[n].length,n++;d.end={divIdx:n,offset:u-r},s.push(d)}return s}},{key:"renderMatches",value:function(e){if(0!==e.length){var l=this.textContentItemsStr,c=this.textDivs,t=null,n=this.pageIdx,r=null!==this.findController&&n===this.findController.selected.pageIdx,i=null===this.findController?-1:this.findController.selected.matchIdx,o={divIdx:-1,offset:void 0},a=i,s=a+1;if(null!==this.findController&&this.findController.state.highlightAll)a=0,s=e.length;else if(!r)return;for(var u=a;u<s;u++){var d=e[u],h=d.begin,f=d.end,p=r&&u===i?" selected":"";if(this.findController&&this.findController.updateMatchPosition(n,u,c,h.divIdx),t&&h.divIdx===t.divIdx?y(t.divIdx,t.offset,h.offset):(null!==t&&y(t.divIdx,t.offset,o.offset),v(h)),h.divIdx===f.divIdx)y(h.divIdx,h.offset,f.offset,"highlight"+p);else{y(h.divIdx,h.offset,o.offset,"highlight begin"+p);for(var m=h.divIdx+1,g=f.divIdx;m<g;m++)c[m].className="highlight middle"+p;v(f,"highlight end"+p)}t=f}t&&y(t.divIdx,t.offset,o.offset)}function v(e,t){var n=e.divIdx;c[n].textContent="",y(n,0,e.offset,t)}function y(e,t,n,r){var i=c[e],o=l[e].substring(t,n),a=document.createTextNode(o);if(r){var s=document.createElement("span");return s.className=r,s.appendChild(a),void i.appendChild(s)}i.appendChild(a)}}},{key:"updateMatches",value:function(){if(this.renderingDone){for(var e=this.matches,t=this.textDivs,n=this.textContentItemsStr,r=-1,i=0,o=e.length;i<o;i++){for(var a=e[i],s=Math.max(r,a.begin.divIdx),l=a.end.divIdx;s<=l;s++){var c=t[s];c.textContent=n[s],c.className=""}r=a.end.divIdx+1}if(null!==this.findController&&this.findController.active){var u=void 0,d=void 0;null!==this.findController&&(u=this.findController.pageMatches[this.pageIdx]||null,d=this.findController.pageMatchesLength&&this.findController.pageMatchesLength[this.pageIdx]||null),this.matches=this.convertMatches(u,d),this.renderMatches(this.matches)}}}},{key:"_bindMouse",value:function(){var o=this,a=this.textLayerDiv,s=null;a.addEventListener("mousedown",function(e){if(o.enhanceTextSelection&&o.textLayerRenderTask)return o.textLayerRenderTask.expandTextDivs(!0),void(s&&(clearTimeout(s),s=null));var t=a.querySelector(".endOfContent");if(t){var n=e.target!==a;if(n=n&&"none"!==window.getComputedStyle(t).getPropertyValue("-moz-user-select")){var r=a.getBoundingClientRect(),i=Math.max(0,(e.pageY-r.top)/r.height);t.style.top=(100*i).toFixed(2)+"%"}t.classList.add("active")}}),a.addEventListener("mouseup",function(){if(o.enhanceTextSelection&&o.textLayerRenderTask)s=setTimeout(function(){o.textLayerRenderTask&&o.textLayerRenderTask.expandTextDivs(!1),s=null},300);else{var e=a.querySelector(".endOfContent");e&&(e.style.top="",e.classList.remove("active"))}})}}]),d);function d(e){var t=e.textLayerDiv,n=e.eventBus,r=e.pageIndex,i=e.viewport,o=e.findController,a=void 0===o?null:o,s=e.enhanceTextSelection,l=void 0!==s&&s;u(this,d),this.textLayerDiv=t,this.eventBus=n||(0,c.getGlobalEventBus)(),this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=r,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=i,this.textDivs=[],this.findController=a,this.textLayerRenderTask=null,this.enhanceTextSelection=l,this._bindMouse()}var s=(r(l,[{key:"createTextLayerBuilder",value:function(e,t,n,r){return new a({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:3<arguments.length&&void 0!==r&&r})}}]),l);function l(){u(this,l)}t.TextLayerBuilder=a,t.DefaultTextLayerFactory=s},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},o=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(a,[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(e,t,n){var r=e.views,i=r.length;if(0===i)return!1;for(var o=0;o<i;++o){var a=r[o].view;if(!this.isViewFinished(a))return a}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var l=e.first.id-2;if(t[l]&&!this.isViewFinished(t[l]))return t[l]}return null}},{key:"isViewFinished",value:function(e){return e.renderingState===i.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case i.RUNNING:this.highestPriorityPage=e.renderingId;break;case i.INITIAL:this.highestPriorityPage=e.renderingId;var n=function(){t.renderHighestPriority()};e.draw().then(n,n)}return!0}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}t.RenderingStates=i,t.PDFRenderingQueue=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(0);function a(e,t){var n=document.createElement("a");if(n.click)n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.parentNode.removeChild(n);else{if(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]){var r=-1===e.indexOf("?")?"?":"&";e=e.replace(/#|$/,r+"$&")}window.open(e,"_parent")}}var s=(r(l,[{key:"downloadUrl",value:function(e,t){(0,o.createValidAbsoluteUrl)(e,"http://example.com")&&a(e+"#pdfjs.action=download",t)}},{key:"downloadData",value:function(e,t,n){if(navigator.msSaveBlob)return navigator.msSaveBlob(new Blob([e],{type:n}),t);a((0,o.createObjectURL)(e,n,o.PDFJS.disableCreateObjectURL),t)}},{key:"download",value:function(e,t,n){navigator.msSaveBlob?navigator.msSaveBlob(e,n)||this.downloadUrl(t,n):o.PDFJS.disableCreateObjectURL?this.downloadUrl(t,n):a(URL.createObjectURL(e),n)}}]),l);function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l)}t.DownloadManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(13);var o=document.webL10n,a=(r(s,[{key:"getDirection",value:function(){return this._ready.then(function(e){return e.getDirection()})}},{key:"get",value:function(t,n,r){return this._ready.then(function(e){return e.get(t,n,r)})}},{key:"translate",value:function(t){return this._ready.then(function(e){return e.translate(t)})}}]),s);function s(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this._lang=n,this._ready=new Promise(function(e,t){o.setLanguage(n,function(){e(o)})})}t.GenericL10n=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=n(0),o=n(1);var s={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},a={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},c=(r(u,[{key:"reset",value:function(){var t=this;this.startedTextExtraction=!1,this.extractTextPromises=[],this.pendingFindMatches=Object.create(null),this.active=!1,this.pageContents=[],this.pageMatches=[],this.pageMatchesLength=null,this.matchCount=0,this.selected={pageIdx:-1,matchIdx:-1},this.offset={pageIdx:null,matchIdx:null},this.pagesToSearch=null,this.resumePageIdx=null,this.state=null,this.dirtyMatch=!1,this.findTimeout=null,this._firstPagePromise=new Promise(function(e){t.resolveFirstPage=e})}},{key:"normalize",value:function(e){return e.replace(this.normalizationRegex,function(e){return a[e]})}},{key:"_prepareMatches",value:function(e,t,n){function r(e,t){var n=e[t],r=e[t+1];if(t<e.length-1&&n.match===r.match)return n.skipped=!0;for(var i=t-1;0<=i;i--){var o=e[i];if(!o.skipped){if(o.match+o.matchLength<n.match)break;if(o.match+o.matchLength>=n.match+n.matchLength)return n.skipped=!0}}}e.sort(function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match});for(var i=0,o=e.length;i<o;i++)r(e,i)||(t.push(e[i].match),n.push(e[i].matchLength))}},{key:"calcFindPhraseMatch",value:function(e,t,n){for(var r=[],i=e.length,o=-i;-1!==(o=n.indexOf(e,o+i));)r.push(o);this.pageMatches[t]=r}},{key:"calcFindWordMatch",value:function(e,t,n){for(var r=[],i=e.match(/\S+/g),o=0,a=i.length;o<a;o++)for(var s=i[o],l=s.length,c=-l;-1!==(c=n.indexOf(s,c+l));)r.push({match:c,matchLength:l,skipped:!1});this.pageMatchesLength||(this.pageMatchesLength=[]),this.pageMatchesLength[t]=[],this.pageMatches[t]=[],this._prepareMatches(r,this.pageMatches[t],this.pageMatchesLength[t])}},{key:"calcFindMatch",value:function(e){var t=this.normalize(this.pageContents[e]),n=this.normalize(this.state.query),r=this.state.caseSensitive,i=this.state.phraseSearch;0!==n.length&&(r||(t=t.toLowerCase(),n=n.toLowerCase()),i?this.calcFindPhraseMatch(n,e,t):this.calcFindWordMatch(n,e,t),this.updatePage(e),this.resumePageIdx===e&&(this.resumePageIdx=null,this.nextPageMatch()),0<this.pageMatches[e].length&&(this.matchCount+=this.pageMatches[e].length,this.updateUIResultsCount()))}},{key:"extractText",value:function(){var s=this;if(!this.startedTextExtraction){this.startedTextExtraction=!0,this.pageContents.length=0;for(var e=Promise.resolve(),t=function(o){var a=(0,l.createPromiseCapability)();s.extractTextPromises[o]=a.promise,e=e.then(function(){return s.pdfViewer.getPageTextContent(o).then(function(e){for(var t=e.items,n=[],r=0,i=t.length;r<i;r++)n.push(t[r].str);s.pageContents[o]=n.join(""),a.resolve(o)},function(e){console.error("Unable to get page "+(o+1)+" text content",e),s.pageContents[o]="",a.resolve(o)})})},n=0,r=this.pdfViewer.pagesCount;n<r;n++)t(n)}}},{key:"executeCommand",value:function(e,t){var n=this;null!==this.state&&"findagain"===e||(this.dirtyMatch=!0),this.state=t,this.updateUIState(s.PENDING),this._firstPagePromise.then(function(){n.extractText(),clearTimeout(n.findTimeout),"find"===e?n.findTimeout=setTimeout(n.nextMatch.bind(n),250):n.nextMatch()})}},{key:"updatePage",value:function(e){this.selected.pageIdx===e&&(this.pdfViewer.currentPageNumber=e+1);var t=this.pdfViewer.getPageView(e);t.textLayer&&t.textLayer.updateMatches()}},{key:"nextMatch",value:function(){var t=this,e=this.state.findPrevious,n=this.pdfViewer.currentPageNumber-1,r=this.pdfViewer.pagesCount;if(this.active=!0,this.dirtyMatch){this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=n,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[],this.matchCount=0,this.pageMatchesLength=null;for(var i=0;i<r;i++)this.updatePage(i),i in this.pendingFindMatches||(this.pendingFindMatches[i]=!0,this.extractTextPromises[i].then(function(e){delete t.pendingFindMatches[e],t.calcFindMatch(e)}))}if(""!==this.state.query){if(!this.resumePageIdx){var o=this.offset;if(this.pagesToSearch=r,null!==o.matchIdx){var a=this.pageMatches[o.pageIdx].length;if(!e&&o.matchIdx+1<a||e&&0<o.matchIdx)return this.hadMatch=!0,o.matchIdx=e?o.matchIdx-1:o.matchIdx+1,void this.updateMatch(!0);this.advanceOffsetPage(e)}this.nextPageMatch()}}else this.updateUIState(s.FOUND)}},{key:"matchesReady",value:function(e){var t=this.offset,n=e.length,r=this.state.findPrevious;return n?(this.hadMatch=!0,t.matchIdx=r?n-1:0,this.updateMatch(!0),!0):(this.advanceOffsetPage(r),!!(t.wrapped&&(t.matchIdx=null,this.pagesToSearch<0))&&(this.updateMatch(!1),!0))}},{key:"updateMatchPosition",value:function(e,t,n,r){if(this.selected.matchIdx===t&&this.selected.pageIdx===e){var i={top:-50,left:-400};(0,o.scrollIntoView)(n[r],i,!0)}}},{key:"nextPageMatch",value:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this.offset.pageIdx;if(!(e=this.pageMatches[t])){this.resumePageIdx=t;break}}while(!this.matchesReady(e))}},{key:"advanceOffsetPage",value:function(e){var t=this.offset,n=this.extractTextPromises.length;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this.pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"updateMatch",value:function(e){var t=0<arguments.length&&void 0!==e&&e,n=s.NOT_FOUND,r=this.offset.wrapped;if(this.offset.wrapped=!1,t){var i=this.selected.pageIdx;this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,n=r?s.WRAPPED:s.FOUND,-1!==i&&i!==this.selected.pageIdx&&this.updatePage(i)}this.updateUIState(n,this.state.findPrevious),-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx)}},{key:"updateUIResultsCount",value:function(){this.onUpdateResultsCount&&this.onUpdateResultsCount(this.matchCount)}},{key:"updateUIState",value:function(e,t){this.onUpdateState&&this.onUpdateState(e,t,this.matchCount)}}]),u);function u(e){var t=e.pdfViewer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.pdfViewer=t,this.onUpdateResultsCount=null,this.onUpdateState=null,this.reset();var n=Object.keys(a).join("");this.normalizationRegex=new RegExp("["+n+"]","g")}t.FindState=s,t.PDFFindController=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFHistory=void 0;var r=n(2);function i(e){this.linkService=e.linkService,this.eventBus=e.eventBus||(0,r.getGlobalEventBus)(),this.initialized=!1,this.initialDestination=null,this.initialBookmark=null}i.prototype={initialize:function(e){this.initialized=!0,this.reInitialized=!1,this.allowHashChange=!0,this.historyUnlocked=!0,this.isViewerInPresentationMode=!1,this.previousHash=window.location.hash.substring(1),this.currentBookmark="",this.currentPage=0,this.updatePreviousBookmark=!1,this.previousBookmark="",this.previousPage=0,this.nextHashParam="",this.fingerprint=e,this.currentUid=this.uid=0,this.current={};var t=window.history.state;this._isStateObjectDefined(t)?(t.target.dest?this.initialDestination=t.target.dest:this.initialBookmark=t.target.hash,this.currentUid=t.uid,this.uid=t.uid+1,this.current=t.target):(t&&t.fingerprint&&this.fingerprint!==t.fingerprint&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var o=this;function a(){o.previousHash=window.location.hash.slice(1),o._pushToHistory({hash:o.previousHash},!1,!0),o._updatePreviousBookmark()}function n(){var e=o._getPreviousParams(null,!0);if(e){var t=!o.current.dest&&o.current.hash!==o.previousHash;o._pushToHistory(e,!1,t),o._updatePreviousBookmark()}window.removeEventListener("beforeunload",n)}window.addEventListener("popstate",function(e){var t,n;if(o.historyUnlocked)if(e.state)o._goTo(e.state);else if(0===o.uid){var r=o.previousHash&&o.currentBookmark&&o.previousHash!==o.currentBookmark?{hash:o.currentBookmark,page:o.currentPage}:{page:1};t=r,n=function(){a()},o.historyUnlocked=!1,o.allowHashChange=!1,window.addEventListener("popstate",function e(){window.removeEventListener("popstate",e),window.addEventListener("popstate",i),o._pushToHistory(t,!1,!0),history.forward()}),history.back()}else a();function i(){window.removeEventListener("popstate",i),o.allowHashChange=!0,o.historyUnlocked=!0,n()}}),window.addEventListener("beforeunload",n),window.addEventListener("pageshow",function(){window.addEventListener("beforeunload",n)}),o.eventBus.on("presentationmodechanged",function(e){o.isViewerInPresentationMode=e.active})},clearHistoryState:function(){this._pushOrReplaceState(null,!0)},_isStateObjectDefined:function(e){return!!(e&&0<=e.uid&&e.fingerprint&&this.fingerprint===e.fingerprint&&e.target&&e.target.hash)},_pushOrReplaceState:function(e,t){t?window.history.replaceState(e,"",document.URL):window.history.pushState(e,"",document.URL)},get isHashChangeUnlocked(){return!this.initialized||this.allowHashChange},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(e,t){this.initialized&&(this.currentBookmark=e.substring(1),this.currentPage=0|t,this._updatePreviousBookmark())},updateNextHashParam:function(e){this.initialized&&(this.nextHashParam=e)},push:function(e,t){if(this.initialized&&this.historyUnlocked){if(e.dest&&!e.hash&&(e.hash=this.current.hash&&this.current.dest&&this.current.dest===e.dest?this.current.hash:this.linkService.getDestinationHash(e.dest).split("#")[1]),e.page&&(e.page|=0),t){var n=window.history.state.target;return n||(this._pushToHistory(e,!1),this.previousHash=window.location.hash.substring(1)),this.updatePreviousBookmark=!this.nextHashParam,void(n&&this._updatePreviousBookmark())}if(this.nextHashParam){if(this.nextHashParam===e.hash)return this.nextHashParam=null,void(this.updatePreviousBookmark=!0);this.nextHashParam=null}e.hash?!this.current.hash||this.current.hash!==e.hash?this._pushToHistory(e,!0):(!this.current.page&&e.page&&this._pushToHistory(e,!1,!0),this.updatePreviousBookmark=!0):this.current.page&&e.page&&this.current.page!==e.page&&this._pushToHistory(e,!0)}},_getPreviousParams:function(e,t){if(!this.currentBookmark||!this.currentPage)return null;if(this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1),0<this.uid&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!e||t){if(this.previousBookmark===this.currentBookmark)return null}else{if(!this.current.page&&!e)return null;if(this.previousPage===this.currentPage)return null}var n={hash:this.currentBookmark,page:this.currentPage};return this.isViewerInPresentationMode&&(n.hash=null),n},_stateObj:function(e){return{fingerprint:this.fingerprint,uid:this.uid,target:e}},_pushToHistory:function(e,t,n){if(this.initialized){if(!e.hash&&e.page&&(e.hash="page="+e.page),t&&!n){var r=this._getPreviousParams();if(r){var i=!this.current.dest&&this.current.hash!==this.previousHash;this._pushToHistory(r,!1,i)}}this._pushOrReplaceState(this._stateObj(e),n||0===this.uid),this.currentUid=this.uid++,this.current=e,this.updatePreviousBookmark=!0}},_goTo:function(e){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(e)){if(!this.reInitialized&&e.uid<this.currentUid){var t=this._getPreviousParams(!0);if(t)return this._pushToHistory(this.current,!1),this._pushToHistory(t,!1),this.currentUid=e.uid,void window.history.back()}this.historyUnlocked=!1,e.target.dest?this.linkService.navigateTo(e.target.dest):this.linkService.setHash(e.target.hash),this.currentUid=e.uid,e.uid>this.uid&&(this.uid=e.uid),this.current=e.target,this.updatePreviousBookmark=!0;var n=window.location.hash.substring(1);this.previousHash!==n&&(this.allowHashChange=!1),this.previousHash=n,this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(e){if(this.initialized&&this.historyUnlocked){var t=window.history.state;-1===e&&t&&0<t.uid?window.history.back():1===e&&t&&t.uid<this.uid-1&&window.history.forward()}}},t.PDFHistory=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=t.PresentationModeState=void 0;var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=n(0),x=n(1),o=n(7),a=n(4),s=n(2),f=n(5),l=n(3),c=n(6);var u={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};function d(n){var r=[];this.push=function(e){var t=r.indexOf(e);0<=t&&r.splice(t,1),r.push(e),r.length>n&&r.shift().destroy()},this.resize=function(e){for(n=e;r.length>n;)r.shift().destroy()}}function p(e){return e.width<=e.height}var m=(r(g,[{key:"getPageView",value:function(e){return this._pages[e]}},{key:"_setCurrentPageNumber",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t;if(this._currentPageNumber!==e)if(0<e&&e<=this.pagesCount){var r={source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]};this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",r),this.eventBus.dispatch("pagechange",r),n&&this._resetCurrentPageView()}else console.error('PDFViewer._setCurrentPageNumber: "'+e+'" is out of bounds.');else n&&this._resetCurrentPageView()}},{key:"setDocument",value:function(a){var s=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView()),this.pdfDocument=a){var l=a.numPages,c=(0,h.createPromiseCapability)();this.pagesPromise=c.promise,c.promise.then(function(){s._pageViewsReady=!0,s.eventBus.dispatch("pagesloaded",{source:s,pagesCount:l})});var t=!1,u=(0,h.createPromiseCapability)();this.onePageRendered=u.promise;var d=function(e){e.onBeforeDraw=function(){s._buffer.push(e)},e.onAfterDraw=function(){t||(t=!0,u.resolve())}},e=a.getPage(1);(this.firstPagePromise=e).then(function(e){for(var t=s.currentScale,n=e.getViewport(t*x.CSS_UNITS),r=1;r<=l;++r){var i=null;h.PDFJS.disableTextLayer||(i=s);var o=new f.PDFPageView({container:s.viewer,eventBus:s.eventBus,id:r,scale:t,defaultViewport:n.clone(),renderingQueue:s.renderingQueue,textLayerFactory:i,annotationLayerFactory:s,enhanceTextSelection:s.enhanceTextSelection,renderInteractiveForms:s.renderInteractiveForms,renderer:s.renderer,l10n:s.l10n});d(o),s._pages.push(o)}u.promise.then(function(){if(h.PDFJS.disableAutoFetch)c.resolve();else for(var r=l,e=function(n){a.getPage(n).then(function(e){var t=s._pages[n-1];t.pdfPage||t.setPdfPage(e),s.linkService.cachePageRef(n,e.ref),0==--r&&c.resolve()},function(e){console.error("Unable to get page "+n+" to initialize viewer",e),0==--r&&c.resolve()})},t=1;t<=l;++t)e(t)}),s.eventBus.dispatch("pagesinit",{source:s}),s.defaultRenderingQueue&&s.update(),s.findController&&s.findController.resolveFirstPage()}).catch(function(e){console.error("Unable to initialize viewer",e)})}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?e instanceof Array&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("PDFViewer.setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++){var r=this._pages[t],i=this._pageLabels&&this._pageLabels[t];r.setPageLabel(i)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=x.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new d(10),this._location=null,this._pagesRotation=0,this._pagesRequests=[],this._pageViewsReady=!1,this.viewer.textContent=""}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_setScaleDispatchEvent",value:function(e,t,n){var r={source:this,scale:e,presetValue:2<arguments.length&&void 0!==n&&n?t:void 0};this.eventBus.dispatch("scalechanging",r),this.eventBus.dispatch("scalechange",r)}},{key:"_setScaleUpdatePages",value:function(e,t,n,r){var i=2<arguments.length&&void 0!==n&&n,o=3<arguments.length&&void 0!==r&&r;if(this._currentScaleValue=t.toString(),a=this._currentScale,(s=e)===a||Math.abs(s-a)<1e-15)o&&this._setScaleDispatchEvent(e,t,!0);else{for(var a,s,l=0,c=this._pages.length;l<c;l++)this._pages[l].update(e);if(this._currentScale=e,!i){var u=this._currentPageNumber,d=void 0;!this._location||h.PDFJS.ignoreCurrentPositionOnZoom||this.isInPresentationMode||this.isChangingPresentationMode||(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0})}this._setScaleDispatchEvent(e,t,o),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t,r=parseFloat(e);if(0<r)this._setScaleUpdatePages(r,e,n,!1);else{var i=this._pages[this._currentPageNumber-1];if(!i)return;var o=this.isInPresentationMode||this.removePageBorders?0:x.SCROLLBAR_PADDING,a=this.isInPresentationMode||this.removePageBorders?0:x.VERTICAL_PADDING,s=(this.container.clientWidth-o)/i.width*i.scale,l=(this.container.clientHeight-a)/i.height*i.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=s;break;case"page-height":r=l;break;case"page-fit":r=Math.min(s,l);break;case"auto":var c=i.width>i.height?Math.min(l,s):s;r=Math.min(x.MAX_AUTO_SCALE,c);break;default:return void console.error('PDFViewer._setScale: "'+e+'" is an unknown zoom value.')}this._setScaleUpdatePages(r,e,n,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var e=this._pages[this._currentPageNumber-1];(0,x.scrollIntoView)(e.div)}},{key:"scrollPageIntoView",value:function(e,t){if(this.pdfDocument){if(1<arguments.length||"number"==typeof e){console.warn("Call of scrollPageIntoView() with obsolete signature.");var n={};"number"==typeof e&&(n.pageNumber=e),t instanceof Array&&(n.destArray=t),e=n}var r=e.pageNumber||0,i=e.destArray||null,o=e.allowNegativeOffset||!1;if(!this.isInPresentationMode&&i){var a=this._pages[r-1];if(a){var s=0,l=0,c=0,u=0,d=void 0,h=void 0,f=a.rotation%180!=0,p=(f?a.height:a.width)/a.scale/x.CSS_UNITS,m=(f?a.width:a.height)/a.scale/x.CSS_UNITS,g=0;switch(i[1].name){case"XYZ":s=i[2],l=i[3],g=i[4],s=null!==s?s:0,l=null!==l?l:m;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":g="page-width",null===(l=i[2])&&this._location&&(s=this._location.left,l=this._location.top);break;case"FitV":case"FitBV":s=i[2],c=p,u=m,g="page-height";break;case"FitR":s=i[2],l=i[3],c=i[4]-s,u=i[5]-l;var v=this.removePageBorders?0:x.SCROLLBAR_PADDING,y=this.removePageBorders?0:x.VERTICAL_PADDING;d=(this.container.clientWidth-v)/c/x.CSS_UNITS,h=(this.container.clientHeight-y)/u/x.CSS_UNITS,g=Math.min(Math.abs(d),Math.abs(h));break;default:return void console.error('PDFViewer.scrollPageIntoView: "'+i[1].name+'" is not a valid destination type.')}if(g&&g!==this._currentScale?this.currentScaleValue=g:this._currentScale===x.UNKNOWN_SCALE&&(this.currentScaleValue=x.DEFAULT_SCALE_VALUE),"page-fit"!==g||i[4]){var b=[a.viewport.convertToViewportPoint(s,l),a.viewport.convertToViewportPoint(s+c,l+u)],w=Math.min(b[0][0],b[1][0]),C=Math.min(b[0][1],b[1][1]);o||(w=Math.max(w,0),C=Math.max(C,0)),(0,x.scrollIntoView)(a.div,{left:w,top:C})}else(0,x.scrollIntoView)(a.div)}else console.error('PDFViewer.scrollPageIntoView: Invalid "pageNumber" parameter.')}else this._setCurrentPageNumber(r,!0)}}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===t?Math.round(1e4*t)/100:n,i=e.id,o="#page="+i;o+="&zoom="+r;var a=this._pages[i-1],s=this.container,l=a.getPagePoint(s.scrollLeft-e.x,s.scrollTop-e.y),c=Math.round(l[0]),u=Math.round(l[1]);o+=","+c+","+u,this._location={pageNumber:i,scale:r,top:u,left:c,pdfOpenParams:o}}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views;if(0!==t.length){var n=Math.max(10,2*t.length+1);this._buffer.resize(n),this.renderingQueue.renderHighestPriority(e);for(var r=this._currentPageNumber,i=e.first,o=!1,a=0,s=t.length;a<s;++a){var l=t[a];if(l.percent<100)break;if(l.id===r){o=!0;break}}o||(r=t[0].id),this.isInPresentationMode||this._setCurrentPageNumber(r),this._updateLocation(i),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getVisiblePages",value:function(){if(!this.isInPresentationMode)return(0,x.getVisibleElements)(this.container,this._pages,!0);var e=[],t=this._pages[this._currentPageNumber-1];return e.push({id:t.id,view:t}),{first:t,last:t,views:e}}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==o.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(t){var n=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);var r=t.id;if(this._pagesRequests[r])return this._pagesRequests[r];var e=this.pdfDocument.getPage(r).then(function(e){return t.pdfPage||t.setPdfPage(e),n._pagesRequests[r]=null,e}).catch(function(e){console.error("Unable to get page for page view",e),n._pagesRequests[r]=null});return this._pagesRequests[r]=e}},{key:"forceRendering",value:function(e){var t=this,n=e||this._getVisiblePages(),r=this.renderingQueue.getHighestPriority(n,this._pages,this.scroll.down);return!!r&&(this._ensurePdfPageLoaded(r).then(function(){t.renderingQueue.renderView(r)}),!0)}},{key:"getPageTextContent",value:function(e){return this.pdfDocument.getPage(e+1).then(function(e){return e.getTextContent({normalizeWhitespace:!0})})}},{key:"createTextLayerBuilder",value:function(e,t,n,r){var i=3<arguments.length&&void 0!==r&&r;return new c.TextLayerBuilder({textLayerDiv:e,eventBus:this.eventBus,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&i})}},{key:"createAnnotationLayerBuilder",value:function(e,t,n,r){var i=2<arguments.length&&void 0!==n&&n,o=3<arguments.length&&void 0!==r?r:x.NullL10n;return new a.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,renderInteractiveForms:i,linkService:this.linkService,downloadManager:this.downloadManager,l10n:o})}},{key:"setFindController",value:function(e){this.findController=e}},{key:"getPagesOverview",value:function(){var e=this._pages.map(function(e){var t=e.pdfPage.getViewport(1);return{width:t.width,height:t.height,rotation:t.rotation}});if(!this.enablePrintAutoRotate)return e;var t=p(e[0]);return e.map(function(e){return t===p(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}})}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if((0|e)!==e)throw new Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(e,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(e){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);0<=n&&(t=n+1)}this.currentPageNumber=t}},{key:"currentScale",get:function(){return this._currentScale!==x.UNKNOWN_SCALE?this._currentScale:x.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale");this.pdfDocument&&this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){this.pdfDocument&&this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if("number"!=typeof e||e%90!=0)throw new Error("Invalid pages rotation angle.");if(this.pdfDocument){this._pagesRotation=e;for(var t=0,n=this._pages.length;t<n;t++){var r=this._pages[t];r.update(r.scale,e)}this._setScale(this._currentScaleValue,!0),this.defaultRenderingQueue&&this.update()}}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===u.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===u.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}}]),g);function g(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.eventBus=e.eventBus||(0,s.getGlobalEventBus)(),this.linkService=e.linkService||new l.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.removePageBorders=e.removePageBorders||!1,this.enhanceTextSelection=e.enhanceTextSelection||!1,this.renderInteractiveForms=e.renderInteractiveForms||!1,this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||x.RendererType.CANVAS,this.l10n=e.l10n||x.NullL10n,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,x.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=u.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders")}t.PresentationModeState=u,t.PDFViewer=m},function(e,t,n){"use strict";function h(e){var t=p.createEvent("Event");t.initEvent("localized",!0,!1),t.language=e,p.dispatchEvent(t)}function i(e,t,n){t=t||function(){},n=n||function(){};var r=new XMLHttpRequest;r.open("GET",e,u),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?t(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(e){n()}}function f(e,v,o,t){var y=e.replace(/[^\/]*$/,"")||"./";function n(e,t){var d={},n=/^\s*|\s*$/,h=/^\s*#|^\s*$/,f=/^\s*\[(.*)\]\s*$/,p=/^\s*@import\s+url\((.*)\)\s*$/i,m=/^([^=\s]*)\s*=\s*(.+)$/;function r(e,i,o){var a=e.replace(n,"").split(/[\r\n]+/),s="*",l=v.split("-",1)[0],c=!1,u="";!function e(){for(;;){if(!a.length)return void o();var t=a.shift();if(!h.test(t)){if(i){if(u=f.exec(t)){s=u[1].toLowerCase(),c="*"!==s&&s!==v&&s!==l;continue}if(c)continue;if(u=p.exec(t))return void g(y+u[1],e)}var n=t.match(m);n&&3==n.length&&(d[n[1]]=(r=n[2]).lastIndexOf("\\")<0?r:r.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"))}}var r}()}function g(e,t){i(e,function(e){r(e,!1,t)},function(){console.warn(e+" not found."),t()})}r(e,!0,function(){t(d)})}i(e,function(e){g+=e,n(e,function(e){for(var t in e){var n,r,i=t.lastIndexOf(".");r=0<i?(n=t.substring(0,i),t.substr(i+1)):(n=t,d),m[n]||(m[n]={}),m[n][r]=e[t]}o&&o()})},t)}function r(e,t){e=e&&e.toLowerCase(),t=t||function(){},m={},v=g="",v=e;var n,r=p.querySelectorAll('link[type="application/l10n"]'),i=r.length;if(0===i){var o=(n=p.querySelector('script[type="application/l10n"]'))?JSON.parse(n.innerHTML):null;if(o&&o.locales&&o.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(m=o.locales[e])){var a=o.default_locale.toLowerCase();for(var s in o.locales){if((s=s.toLowerCase())===e){m=o.locales[e];break}s===a&&(m=o.locales[a])}}t()}else console.log("no resource to load, early way out");return h(e),void(b="complete")}var l,c=0;function u(e){var n=e.href;this.load=function(e,t){f(n,e,t,function(){console.warn(n+" not found."),console.warn('"'+e+'" resource not found'),v="",t()})}}l=function(){i<=++c&&(t(),h(e),b="complete")};for(var d=0;d<i;d++){new u(r[d]).load(e,l)}}function c(e,t,n){var r=m[e];if(!r){if(console.warn("#"+e+" is undefined."),!n)return null;r=n}var i={};for(var o in r){var a=r[o];a=l(a=s(a,t,e,o),t,e),i[o]=a}return i}function s(e,t,n,r){var i=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!i||!i.length)return e;var o,a=i[1],s=i[2];t&&s in t?o=t[s]:s in m&&(o=m[s]),a in y&&(e=(0,y[a])(e,o,n,r));return e}function l(e,n,r){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,function(e,t){return n&&t in n?n[t]:t in m?m[t]:(console.log("argument {{"+t+"}} for #"+r+" is undefined."),e)})}function o(e){var t=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),r={};if(n)try{r=JSON.parse(n)}catch(e){console.warn("could not parse arguments for #"+t)}return{id:t,args:r}}(e);if(t.id){var n=c(t.id,t.args);if(n){if(n[d]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}(e))e[d]=n[d];else{for(var r=e.childNodes,i=!1,o=0,a=r.length;o<a;o++)3===r[o].nodeType&&/\S/.test(r[o].nodeValue)&&(i?r[o].nodeValue="":(r[o].nodeValue=n[d],i=!0));if(!i){var s=p.createTextNode(n[d]);e.insertBefore(s,e.firstChild)}}delete n[d]}for(var l in n)e[l]=n[l]}else console.warn("#"+t.id+" is undefined.")}}var a,p,m,g,d,v,y,b,u;document.webL10n=(a=window,p=document,m={},d="textContent",b="loading",u=!(v=g=""),(y={}).plural=function(e,t,n,r){var i,o,a,s=parseFloat(t);if(isNaN(s))return e;if(r!=d)return e;function l(e,t){return-1!==t.indexOf(e)}function c(e,t,n){return t<=e&&e<=n}y._pluralRules||(y._pluralRules=(o={0:function(){return"other"},1:function(e){return c(e%100,3,10)?"few":0===e?"zero":c(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return c(e,0,1)?"one":"other"},5:function(e){return c(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return c(e,3,6)?"few":c(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&c(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return c(e%10,2,9)&&!c(e%100,11,19)?"few":e%10!=1||c(e%100,11,19)?"other":"one"},11:function(e){return c(e%10,2,4)&&!c(e%100,12,14)?"few":e%10==0||c(e%10,5,9)||c(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return c(e,2,4)?"few":1==e?"one":"other"},13:function(e){return c(e%10,2,4)&&!c(e%100,12,14)?"few":1!=e&&c(e%10,0,1)||c(e%10,5,9)||c(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return c(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||c(e%100,2,10)?"few":c(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":c(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return c(e,2,10)?"few":c(e,0,1)?"one":"other"},20:function(e){return!c(e%10,3,4)&&e%10!=9||c(e%100,10,19)||c(e%100,70,79)||c(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||l(e%100,[12,72,92])?e%10!=1||l(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return c(e,0,1)||c(e,11,99)?"one":"other"},23:function(e){return c(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return c(e,3,10)||c(e,13,19)?"few":l(e,[2,12])?"two":l(e,[1,11])?"one":"other"}},(a={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[(i=v).replace(/-.*$/,"")])in o?o[a]:(console.warn("plural form unknown for ["+i+"]"),function(){return"other"})));var u="["+y._pluralRules(s)+"]";return 0===s&&n+"[zero]"in m?e=m[n+"[zero]"][r]:1==s&&n+"[one]"in m?e=m[n+"[one]"][r]:2==s&&n+"[two]"in m?e=m[n+"[two]"][r]:n+u in m?e=m[n+u][r]:n+"[other]"in m&&(e=m[n+"[other]"][r]),e},{get:function(e,t,n){var r,i=e.lastIndexOf("."),o=d;0<i&&(o=e.substr(i+1),e=e.substring(0,i)),n&&((r={})[o]=n);var a=c(e,t,r);return a&&o in a?a[o]:"{{"+e+"}}"},getData:function(){return m},getText:function(){return g},getLanguage:function(){return v},setLanguage:function(e,t){r(e,function(){t&&t()})},getDirection:function(){var e=v.split("-",1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(e)?"rtl":"ltr"},translate:function(e){e=e||p.documentElement;for(var t,n=(t=e)?t.querySelectorAll("*[data-l10n-id]"):[],r=n.length,i=0;i<r;i++)o(n[i]);o(e)},getReadyState:function(){return b},ready:function(t){t&&("complete"==b||"interactive"==b?a.setTimeout(function(){t()}):p.addEventListener&&p.addEventListener("localized",function e(){p.removeEventListener("localized",e),t()}))}})},function(e,t,n){"use strict";var r=n(0),i=n(12),o=n(5),a=n(3),s=n(6),l=n(4),c=n(11),u=n(10),d=n(1),h=n(8),f=n(9),p=r.PDFJS;p.PDFViewer=i.PDFViewer,p.PDFPageView=o.PDFPageView,p.PDFLinkService=a.PDFLinkService,p.TextLayerBuilder=s.TextLayerBuilder,p.DefaultTextLayerFactory=s.DefaultTextLayerFactory,p.AnnotationLayerBuilder=l.AnnotationLayerBuilder,p.DefaultAnnotationLayerFactory=l.DefaultAnnotationLayerFactory,p.PDFHistory=c.PDFHistory,p.PDFFindController=u.PDFFindController,p.EventBus=d.EventBus,p.DownloadManager=h.DownloadManager,p.ProgressBar=d.ProgressBar,p.GenericL10n=f.GenericL10n,p.NullL10n=d.NullL10n,t.PDFJS=p}],r.c=i,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14);function r(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";var e=navigator.userAgent,t=navigator.platform,m=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),C=n||r||i,x=C&&(n?document.documentMode||6:+(i||r)[1]),b=!i&&/WebKit\//.test(e),o=b&&/Qt\/\d+\.\d+/.test(e),a=!i&&/Chrome\//.test(e),g=/Opera\//.test(e),l=/Apple Computer/.test(navigator.vendor),s=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),c=/PhantomJS/.test(e),u=!i&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),d=/Android/.test(e),h=u||d||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),w=u||/Mac/.test(t),f=/\bCrOS\b/.test(e),p=/win/i.test(t),v=g&&e.match(/Version\/(\d*\.\d*)/);(v=v&&Number(v[1]))&&15<=v&&(b=!(g=!1));var y=w&&(o||g&&(null==v||v<12.11)),E=m||C&&9<=x;function _(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var $,S=function(e,t){var n=e.className,r=_(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function A(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function k(e,t){return A(e).appendChild(t)}function T(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function M(e,t,n,r){var i=T(e,t,n,r);return i.setAttribute("role","presentation"),i}function N(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function P(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function R(e,t){var n=e.className;_(t).test(n)||(e.className+=(n?" ":"")+t)}function D(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!_(n[r]).test(t)&&(t+=" "+n[r]);return t}$=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var O=function(e){e.select()};function I(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function L(e,t,n){for(var r in t=t||{},e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||t<=s)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}u?O=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:C&&(O=function(e){try{e.select()}catch(e){}});var H=function(){this.id=null};function j(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}H.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var B=30,U={toString:function(){return"CodeMirror.Pass"}},q={scroll:!1},z={origin:"*mouse"},V={origin:"+move"};function W(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||t<=i+a)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,t<=(i+=n-i%n))return r}}var G=[""];function Y(e){for(;G.length<=e;)G.push(K(G)+" ");return G[e]}function K(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Q(){}function Z(e,t){var n;return n=Object.create?Object.create(e):(Q.prototype=e,new Q),t&&L(t,n),n}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||""<e&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(-1<t.source.indexOf("\\w")&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return;return 1}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return 768<=e.charCodeAt(0)&&re.test(e)}function oe(e,t,n){for(;(n<0?0<t:t<e.length)&&ie(e.charAt(t));)t+=n;return t}function ae(e,t,n){for(;;){if(Math.abs(t-n)<=1)return e(t)?t:n;var r=Math.floor((t+n)/2);e(r)?n=r:t=r}}function se(e,t,n){var r=this;this.input=n,r.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=M("div",null,"CodeMirror-code"),r.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=T("div",null,"CodeMirror-cursors"),r.measure=T("div",null,"CodeMirror-measure"),r.lineMeasure=T("div",null,"CodeMirror-measure"),r.lineSpace=M("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var i=M("div",[r.lineSpace],"CodeMirror-lines");r.mover=T("div",[i],null,"position: relative"),r.sizer=T("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=T("div",null,null,"position: absolute; height: "+B+"px; width: 1px;"),r.gutters=T("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=T("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=T("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),C&&x<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),b||m&&h||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function le(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function ce(e,n,r){var i=[],o=n.line;return e.iter(n.line,r.line+1,function(e){var t=e.text;o==r.line&&(t=t.slice(0,r.ch)),o==n.line&&(t=t.slice(n.ch)),i.push(t),++o}),i}function ue(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function de(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function he(e){if(null==e.parent)return null;for(var t=e.parent,n=j(t.lines,e),r=t.parent;r;r=(t=r).parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function fe(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function pe(e,t){return t>=e.first&&t<e.first+e.size}function me(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,n){if(void 0===n&&(n=null),!(this instanceof ge))return new ge(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ve(e,t){return e.line-t.line||e.ch-t.ch}function ye(e,t){return e.sticky==t.sticky&&0==ve(e,t)}function be(e){return ge(e.line,e.ch)}function we(e,t){return ve(e,t)<0?t:e}function Ce(e,t){return ve(e,t)<0?e:t}function xe(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ee(e,t){if(t.line<e.first)return ge(e.first,0);var n,r,i,o=e.first+e.size-1;return t.line>o?ge(o,le(e,o).text.length):(r=le(e,(n=t).line).text.length,null==(i=n.ch)||r<i?ge(n.line,r):i<0?ge(n.line,0):n)}function _e(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=Ee(e,t[r]);return n}var $e=!1,Se=!1;function Ae(e,t,n){this.marker=e,this.from=t,this.to=n}function ke(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Te(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n=n||[]).push(e[r]);return n}function Me(e,t){if(t.full)return null;var n=pe(e,t.from.line)&&le(e,t.from.line).markedSpans,r=pe(e,t.to.line)&&le(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ve(t.from,t.to),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r=r||[]).push(new Ae(a,o.from,s?null:o.to))}}return r}(n,i,a),l=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r=r||[]).push(new Ae(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),c=1==t.text.length,u=K(t.text).length+(c?i:0);if(s)for(var d=0;d<s.length;++d){var h=s[d];if(null==h.to){var f=ke(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+u):h.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=u),null==m.from)ke(s,m.marker)||(m.from=u,c&&(s=s||[]).push(m));else m.from+=u,c&&(s=s||[]).push(m)}s=s&&Ne(s),l&&l!=s&&(l=Ne(l));var g=[s];if(!c){var v,y=t.text.length-2;if(0<y&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v=v||[]).push(new Ae(s[b].marker,null,null));for(var w=0;w<y;++w)g.push(v);g.push(l)}return g}function Ne(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Pe(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Re(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function De(e){return e.inclusiveLeft?-1:0}function Oe(e){return e.inclusiveRight?1:0}function Ie(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ve(r.from,i.from)||De(e)-De(t);if(o)return-o;var a=ve(r.to,i.to)||Oe(e)-Oe(t);return a||t.id-e.id}function Le(e,t){var n,r=Se&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Ie(n,i.marker)<0)&&(n=i.marker);return n}function Fe(e){return Le(e,!0)}function He(e){return Le(e,!1)}function je(e,t,n,r,i){var o=le(e,t),a=Se&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=ve(c.from,n)||De(l.marker)-De(i),d=ve(c.to,r)||Oe(l.marker)-Oe(i);if(!(0<=u&&d<=0||u<=0&&0<=d)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?0<=ve(c.to,n):0<ve(c.to,n))||0<=u&&(l.marker.inclusiveRight&&i.inclusiveLeft?ve(c.from,r)<=0:ve(c.from,r)<0)))return 1}}}function Be(e){for(var t;t=Fe(e);)e=t.find(-1,!0).line;return e}function Ue(e,t){var n=le(e,t),r=Be(n);return n==r?t:he(r)}function qe(e,t){if(t>e.lastLine())return t;var n,r=le(e,t);if(!ze(e,r))return t;for(;n=He(r);)r=n.find(1,!0).line;return he(r)+1}function ze(e,t){var n=Se&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ve(e,t,r))return!0}}function Ve(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Ve(e,r.line,ke(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ve(e,t,i))return!0}function We(e){for(var t=0,n=(e=Be(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function Ge(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Fe(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=He(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Ye(e){var n=e.display,t=e.doc;n.maxLine=le(t,t.first),n.maxLineLength=Ge(n.maxLine),n.maxLineChanged=!0,t.iter(function(e){var t=Ge(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)})}var Ke=null;function Xe(e,t,n){var r;Ke=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:Ke=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:Ke=i)}return null!=r?r:Ke}var Qe,Ze,Je,et,tt,nt,rt,it=(Qe="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",Ze="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",Je=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,et=/[stwN]/,tt=/[LRr]/,nt=/[Lb1n]/,rt=/[1n]/,function(e,t){var n="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!Je.test(e))return!1;for(var r,i=e.length,o=[],a=0;a<i;++a)o.push((r=e.charCodeAt(a))<=247?Qe.charAt(r):1424<=r&&r<=1524?"R":1536<=r&&r<=1785?Ze.charAt(r-1536):1774<=r&&r<=2220?"r":8192<=r&&r<=8203?"w":8204==r?"b":"L");for(var s=0,l=n;s<i;++s){var c=o[s];"m"==c?o[s]=l:l=c}for(var u=0,d=n;u<i;++u){var h=o[u];"1"==h&&"r"==d?o[u]="n":tt.test(h)&&"r"==(d=h)&&(o[u]="R")}for(var f=1,p=o[0];f<i-1;++f){var m=o[f];"+"==m&&"1"==p&&"1"==o[f+1]?o[f]="1":","!=m||p!=o[f+1]||"1"!=p&&"n"!=p||(o[f]=p),p=m}for(var g=0;g<i;++g){var v=o[g];if(","==v)o[g]="N";else if("%"==v){var y=void 0;for(y=g+1;y<i&&"%"==o[y];++y);for(var b=g&&"!"==o[g-1]||y<i&&"1"==o[y]?"1":"N",w=g;w<y;++w)o[w]=b;g=y-1}}for(var C=0,x=n;C<i;++C){var E=o[C];"L"==x&&"1"==E?o[C]="L":tt.test(E)&&(x=E)}for(var _=0;_<i;++_)if(et.test(o[_])){var $=void 0;for($=_+1;$<i&&et.test(o[$]);++$);for(var S="L"==(_?o[_-1]:n),A=S==("L"==($<i?o[$]:n))?S?"L":"R":n,k=_;k<$;++k)o[k]=A;_=$-1}for(var T,M=[],N=0;N<i;)if(nt.test(o[N])){var P=N;for(++N;N<i&&nt.test(o[N]);++N);M.push(new ot(0,P,N))}else{var R=N,D=M.length;for(++N;N<i&&"L"!=o[N];++N);for(var O=R;O<N;)if(rt.test(o[O])){R<O&&M.splice(D,0,new ot(1,R,O));var I=O;for(++O;O<N&&rt.test(o[O]);++O);M.splice(D,0,new ot(2,I,O)),R=O}else++O;R<N&&M.splice(D,0,new ot(1,R,N))}return 1==M[0].level&&(T=e.match(/^\s+/))&&(M[0].from=T[0].length,M.unshift(new ot(0,0,T[0].length))),1==K(M).level&&(T=e.match(/\s+$/))&&(K(M).to-=T[0].length,M.push(new ot(0,i-T[0].length,i))),"rtl"==t?M.reverse():M});function ot(e,t,n){this.level=e,this.from=t,this.to=n}function at(e,t){var n=e.order;return null==n&&(n=e.order=it(e.text,t)),n}function st(e,t,n){var r=oe(e.text,t+n,n);return r<0||r>e.text.length?null:r}function lt(e,t,n){var r=st(e,t.ch,n);return null==r?null:new ge(t.line,r,n<0?"after":"before")}function ct(e,t,n,r,i){if(e){var o=at(n,t.doc.direction);if(o){var a,s=i<0?K(o):o[0],l=i<0==(1==s.level)?"after":"before";if(0<s.level){var c=qn(t,n);a=i<0?n.text.length-1:0;var u=zn(t,c,a).top;a=ae(function(e){return zn(t,c,e).top==u},i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=st(n,a,1))}else a=i<0?s.to:s.from;return new ge(r,a,l)}}return new ge(r,i<0?n.text.length:0,i<0?"before":"after")}function ut(o,a,s,e){var l=at(a,o.doc.direction);if(!l)return lt(a,s,e);s.ch>=a.text.length?(s.ch=a.text.length,s.sticky="before"):s.ch<=0&&(s.ch=0,s.sticky="after");var t=Xe(l,s.ch,s.sticky),n=l[t];if("ltr"==o.doc.direction&&n.level%2==0&&(0<e?n.to>s.ch:n.from<s.ch))return lt(a,s,e);function c(e,t){return st(a,e instanceof ge?e.ch:e,t)}function r(e){return o.options.lineWrapping?(u=u||qn(o,a),i=er(t=o,n=a,zn(t,r=u,e),"line").top,sr(t,n,r,i)):{begin:0,end:a.text.length};var t,n,r,i}var u,i=r("before"==s.sticky?c(s,-1):s.ch);if("rtl"==o.doc.direction||1==n.level){var d=1==n.level==e<0,h=c(s,d?1:-1);if(null!=h&&(d?h<=n.to&&h<=i.end:h>=n.from&&h>=i.begin)){var f=d?"before":"after";return new ge(s.line,h,f)}}function p(e,t,n){for(var r=function(e,t){return t?new ge(s.line,c(e,1),"before"):new ge(s.line,e,"after")};0<=e&&e<l.length;e+=t){var i=l[e],o=0<t==(1!=i.level),a=o?n.begin:c(n.end,-1);if(i.from<=a&&a<i.to)return r(a,o);if(a=o?i.from:c(i.to,-1),n.begin<=a&&a<n.end)return r(a,o)}}var m=p(t+e,e,i);if(m)return m;var g=0<e?i.end:c(i.begin,-1);return null==g||0<e&&g==a.text.length||!(m=p(0<e?0:l.length-1,e,r(g)))?null:m}var dt=[],ht=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||dt).concat(n)}};function ft(e,t){return e._handlers&&e._handlers[t]||dt}function pt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=j(i,n);-1<o&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function mt(e,t){var n=ft(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function gt(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),mt(e,n||t.type,e,t),xt(t)||t.codemirrorIgnore}function vt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==j(n,t[r])&&n.push(t[r])}function yt(e,t){return 0<ft(e,t).length}function bt(e){e.prototype.on=function(e,t){ht(this,e,t)},e.prototype.off=function(e,t){pt(this,e,t)}}function wt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ct(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function xt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Et(e){wt(e),Ct(e)}function _t(e){return e.target||e.srcElement}function $t(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),w&&e.ctrlKey&&1==t&&(t=3),t}var St,At,kt=function(){if(C&&x<9)return!1;var e=T("div");return"draggable"in e||"dragDrop"in e}();function Tt(e){if(null==St){var t=T("span","​");k(e,T("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(St=t.offsetWidth<=1&&2<t.offsetHeight&&!(C&&x<8))}var n=St?T("span","​"):T("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Mt(e){if(null!=At)return At;var t=k(e,document.createTextNode("AخA")),n=$(t,0,1).getBoundingClientRect(),r=$(t,1,2).getBoundingClientRect();return A(e),n&&n.left!=n.right&&(At=r.right-n.right<3)}var Nt,Pt=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Rt=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Dt="oncopy"in(Nt=T("div"))||(Nt.setAttribute("oncopy","return;"),"function"==typeof Nt.oncopy),Ot=null;var It={},Lt={};function Ft(e){if("string"==typeof e&&Lt.hasOwnProperty(e))e=Lt[e];else if(e&&"string"==typeof e.name&&Lt.hasOwnProperty(e.name)){var t=Lt[e.name];"string"==typeof t&&(t={name:t}),(e=Z(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ft("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ft("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ht(e,t){t=Ft(t);var n=It[t.name];if(!n)return Ht(e,"text/plain");var r=n(e,t);if(jt.hasOwnProperty(t.name)){var i=jt[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var jt={};function Bt(e,t){L(t,jt.hasOwnProperty(e)?jt[e]:jt[e]={})}function Ut(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function qt(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function zt(e,t,n){return!e.startState||e.startState(t,n)}var Vt=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Vt.prototype.eol=function(){return this.pos>=this.string.length},Vt.prototype.sol=function(){return this.pos==this.lineStart},Vt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Vt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Vt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Vt.prototype.skipToEnd=function(){this.pos=this.string.length},Vt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},Vt.prototype.backUp=function(e){this.pos-=e},Vt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&0<r.index?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}function i(e){return n?e.toLowerCase():e}if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Vt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Vt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)};var Wt=function(e,t){this.state=e,this.lookAhead=t},Gt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0};function Yt(t,n,r,e){var l=[t.state.modeGen],i={};rn(t,n.text,t.doc.mode,r,function(e,t){return l.push(e,t)},i,e);for(var o=r.state,a=function(e){var o=t.state.overlays[e],a=1,s=0;r.state=!0,rn(t,n.text,o.mode,r,function(e,t){for(var n=a;s<e;){var r=l[a];e<r&&l.splice(a,1,e,l[a+1],r),a+=2,s=Math.min(e,r)}if(t)if(o.opaque)l.splice(n,a-n,e,"overlay "+t),a=n+2;else for(;n<a;n+=2){var i=l[n+1];l[n+1]=(i?i+" ":"")+"overlay "+t}},i)},s=0;s<t.state.overlays.length;++s)a(s);return r.state=o,{styles:l,classes:i.bgClass||i.textClass?i:null}}function Kt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Xt(e,he(t)),i=t.text.length>e.options.maxHighlightLength&&Ut(e.doc.mode,r.state),o=Yt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Xt(n,r,e){var t=n.doc,i=n.display;if(!t.mode.startState)return new Gt(t,!0,r);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;a<s;--s){if(s<=o.first)return o.first;var l=le(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof Wt?c.lookAhead:0)<=o.modeFrontier))return s;var u=F(l.text,null,e.options.tabSize);(null==i||u<r)&&(i=s-1,r=u)}return i}(n,r,e),a=o>t.first&&le(t,o-1).stateAfter,s=a?Gt.fromSaved(t,a,o):new Gt(t,zt(t.mode),o);return t.iter(o,r,function(e){Qt(n,e.text,s);var t=s.line;e.stateAfter=t==r-1||t%5==0||t>=i.viewFrom&&t<i.viewTo?s.save():null,s.nextLine()}),e&&(t.modeFrontier=s.line),s}function Qt(e,t,n,r){var i=e.doc.mode,o=new Vt(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Zt(i,n.state);!o.eol();)Jt(i,o,n.state),o.start=o.pos}function Zt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=qt(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Jt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=qt(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}Gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Gt.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Gt.fromSaved=function(e,t,n){return t instanceof Wt?new Gt(e,Ut(e.mode,t.state),n,t.lookAhead):new Gt(e,Ut(e.mode,t),n)},Gt.prototype.save=function(e){var t=!1!==e?Ut(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Wt(t,this.maxLookAhead):t};function en(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n}function tn(e,t,n,r){var i,o,a=e.doc,s=a.mode,l=le(a,(t=Ee(a,t)).line),c=Xt(e,t.line,n),u=new Vt(l.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=Jt(s,u,c.state),r&&o.push(new en(u,i,Ut(a.mode,c.state)));return r?o:new en(u,i,c.state)}function nn(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function rn(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new Vt(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(""==t&&nn(Zt(n,r.state),o);!d.eol();){if(l=d.pos>e.options.maxHighlightLength?(s=!1,a&&Qt(e,t,r,d.pos),d.pos=t.length,null):nn(Jt(n,d,r.state,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||u!=l){for(;c<d.start;)i(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e3);i(p,u),c=p}}var on=function(e,t,n){this.text=e,Re(this,t),this.height=n?n(this):1};on.prototype.lineNo=function(){return he(this)},bt(on);var an={},sn={};function ln(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?sn:an;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function cn(e,t){var n=M("span",null,null,b?"padding-right: .1px":null),r={pre:M("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(C||b)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=dn,Mt(e.display.measure)&&(a=at(o,e.doc.direction))&&(r.addToken=hn(r.addToken,a)),r.map=[],pn(o,r,Kt(e,o,t!=e.display.externalMeasured&&he(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=D(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=D(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Tt(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(b){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return mt(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=D(r.pre.className,r.textClass||"")),r}function un(e){var t=T("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function dn(e,t,n,r,i,o,a){if(t){var s,l=e.splitSpaces?function(e,t){if(1<e.length&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,c=e.cm.state.specialChars,u=!1;if(c.test(t)){s=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var h=c.exec(t),f=h?h.index-d:t.length-d;if(f){var p=document.createTextNode(l.slice(d,d+f));C&&x<9?s.appendChild(T("span",[p])):s.appendChild(p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f}if(!h)break;d+=1+f;var m=void 0;if("\t"==h[0]){var g=e.cm.options.tabSize,v=g-e.col%g;(m=s.appendChild(T("span",Y(v),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=v}else"\r"==h[0]||"\n"==h[0]?(m=s.appendChild(T("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]):((m=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),C&&x<9?s.appendChild(T("span",[m])):s.appendChild(m)),e.col+=1;e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,s=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,s),C&&x<9&&(u=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),n||r||i||u||a){var y=n||"";r&&(y+=r),i&&(y+=i);var b=T("span",[s],y,a);return o&&(b.title=o),e.content.appendChild(b)}e.content.appendChild(s)}}function hn(d,h){return function(e,t,n,r,i,o,a){n=n?n+" cm-force-border":"cm-force-border";for(var s=e.pos,l=s+t.length;;){for(var c=void 0,u=0;u<h.length&&!((c=h[u]).to>s&&c.from<=s);u++);if(c.to>=l)return d(e,t,n,r,i,o,a);d(e,t.slice(0,c.to-s),n,r,null,o,a),r=null,t=t.slice(c.to-s),s=c.to}}}function fn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i=i||e.content.appendChild(document.createElement("span"))).setAttribute("cm-marker",n.id),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function pn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,c,u,d,h,f=i.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=d=s="",h=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var C=r[w],x=C.marker;"bookmark"==x.type&&C.from==p&&x.widgetNode?y.push(x):C.from<=p&&(null==C.to||C.to>p||x.collapsed&&C.to==p&&C.from==p)?(null!=C.to&&C.to!=p&&v>C.to&&(v=C.to,c=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&C.from==p&&(u+=" "+x.startStyle),x.endStyle&&C.to==v&&(b=b||[]).push(x.endStyle,C.to),x.title&&!d&&(d=x.title),x.collapsed&&(!h||Ie(h.marker,x)<0)&&(h=C)):C.from>p&&v>C.from&&(v=C.from)}if(b)for(var E=0;E<b.length;E+=2)b[E+1]==v&&(c+=" "+b[E]);if(!h||h.from==p)for(var _=0;_<y.length;++_)fn(t,0,y[_]);if(h&&(h.from||0)==p){if(fn(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(f<=p)break;for(var $=Math.min(f,v);;){if(g){var S=p+g.length;if(!h){var A=$<S?g.slice(0,$-p):g;t.addToken(t,A,a?a+l:l,u,p+A.length==v?c:"",d,s)}if($<=S){g=g.slice($-p),p=$;break}p=S,u=""}g=i.slice(o,o=n[m++]),a=ln(n[m++],t.cm.options)}}else for(var k=1;k<n.length;k+=2)t.addToken(t,i.slice(o,o=n[k]),ln(n[k+1],t.cm.options))}function mn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=He(e);)e=t.find(1,!0).line,(n=n||[]).push(e);return n}(t),this.size=this.rest?he(K(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ze(e,t)}function gn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new mn(e.doc,le(e.doc,o),o);r=o+a.size,i.push(a)}return i}var vn=null;function yn(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{vn=null,t(n)}}var bn=null;function wn(e,t){var n=ft(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);vn?r=vn.delayedCallbacks:bn?r=bn:(r=bn=[],setTimeout(Cn,0));for(var o=function(e){r.push(function(){return n[e].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function Cn(){var e=bn;bn=null;for(var t=0;t<e.length;++t)e[t]()}function xn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?$n(e,t):"gutter"==o?An(e,t,n,r):"class"==o?Sn(e,t):"widget"==o&&kn(e,t,r)}t.changes=null}function En(e){return e.node==e.text&&(e.node=T("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),C&&x<8&&(e.node.style.zIndex=2)),e.node}function _n(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):cn(e,t)}function $n(e,t){var n=t.text.className,r=_n(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Sn(e,t)):n&&(t.text.className=n)}function Sn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=En(t);t.background=r.insertBefore(T("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?En(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function An(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=En(t);t.gutterBackground=T("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=En(t),s=t.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(T("div",me(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.options.gutters.length;++l){var c=e.options.gutters[l],u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(T("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function kn(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);Tn(e,t,n)}function Tn(e,t,n){if(Mn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Mn(e,t.rest[r],t,n,!1)}function Mn(e,t,n,r,i){if(t.widgets)for(var o=En(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=T("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Nn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),wn(l,"redraw")}}function Nn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Pn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!N(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),k(t.display.measure,T("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Rn(e,t){for(var n=_t(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return 1}function Dn(e){return e.lineSpace.offsetTop}function On(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function In(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=k(e.measure,T("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Ln(e){return B-e.display.nativeBarWidth}function Fn(e){return e.display.scroller.clientWidth-Ln(e)-e.display.barWidth}function Hn(e){return e.display.scroller.clientHeight-Ln(e)-e.display.barHeight}function jn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(he(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Bn(e,t,n,r){return zn(e,qn(e,t),n,r)}function Un(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[gr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function qn(e,t){var n=he(t),r=Un(e,n);r&&!r.text?r=null:r&&r.changes&&(xn(e,r,n,dr(e)),e.curOp.forceUpdate=!0);var i=jn(r=r||function(e,t){var n=he(t=Be(t)),r=e.display.externalMeasured=new mn(e.doc,t,n);r.lineN=n;var i=r.built=cn(e,r);return r.text=i.pre,k(e.display.lineMeasure,i.pre),r}(e,t),t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function zn(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&Fn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];2<Math.abs(l.bottom-c.bottom)&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Gn(t.map,n,r),a=o.node,s=o.start,l=o.end,c=o.collapse;if(3==a.nodeType){for(var u=0;u<4;u++){for(;s&&ie(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&ie(t.line.text.charAt(o.coverStart+l));)++l;if((i=C&&x<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Yn($(a,s,l).getClientRects(),r)).left||i.right||0==s)break;l=s,--s,c="right"}C&&x<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ot)return Ot;var t=k(e,T("span","x")),n=t.getBoundingClientRect(),r=$(t,0,1).getBoundingClientRect();return Ot=1<Math.abs(n.left-r.left)}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var d;0<s&&(c=r="right"),i=e.options.lineWrapping&&1<(d=a.getClientRects()).length?d["right"==r?d.length-1:0]:a.getBoundingClientRect()}if(C&&x<9&&!s&&(!i||!i.left&&!i.right)){var h=a.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+ur(e.display),top:h.top,bottom:h.bottom}:Wn}for(var f=i.top-t.rect.top,p=i.bottom-t.rect.top,m=(f+p)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(m<g[v]);v++);var y=v?g[v-1]:0,b=g[v],w={left:("right"==c?i.right:i.left)-t.rect.left,right:("left"==c?i.left:i.right)-t.rect.left,top:y,bottom:b};i.left||i.right||(w.bogus=!0);e.options.singleCursorHeightPerLine||(w.rtop=f,w.rbottom=p);return w}(e,t,n,r)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Vn,Wn={left:0,right:0,top:0,bottom:0};function Gn(e,t,n){for(var r,i,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(i=0,o=1,a="left"):t<l?o=(i=t-s)+1:(c==e.length-3||t==l&&e[c+3]>t)&&(i=(o=l-s)-1,l<=t&&(a="right")),null!=i){if(r=e[c+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],a="left";if("right"==n&&i==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Yn(e,t){var n=Wn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;0<=i&&(n=e[i]).left==n.right;i--);return n}function Kn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Xn(e){e.display.externalMeasure=null,A(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Kn(e.display.view[t])}function Qn(e){Xn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Zn(){return a&&d?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Jn(){return a&&d?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function er(e,t,n,r,i){if(!i&&t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var a=Pn(t.widgets[o]);n.top+=a,n.bottom+=a}if("line"==r)return n;r=r||"local";var s=We(t);if("local"==r?s+=Dn(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();s+=l.top+("window"==r?0:Jn());var c=l.left+("window"==r?0:Zn());n.left+=c,n.right+=c}return n.top+=s,n.bottom+=s,n}function tr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Zn(),i-=Jn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function nr(e,t,n,r,i){return er(e,r=r||le(e.doc,t.line),Bn(e,r,t.ch,i),n)}function rr(r,e,i,o,a,s){function l(e,t){var n=zn(r,a,e,t?"right":"left",s);return t?n.left=n.right:n.right=n.left,er(r,o,n,i)}o=o||le(r.doc,e.line),a=a||qn(r,o);var c=at(o,r.doc.direction),t=e.ch,n=e.sticky;if(t>=o.text.length?(t=o.text.length,n="before"):t<=0&&(t=0,n="after"),!c)return l("before"==n?t-1:t,"before"==n);function u(e,t,n){return l(n?e-1:e,c[t].level%2!=0!=n)}var d=Xe(c,t,n),h=Ke,f=u(t,d,"before"==n);return null!=h&&(f.other=u(t,h,"before"!=n)),f}function ir(e,t){var n=0;t=Ee(e.doc,t),e.options.lineWrapping||(n=ur(e.display)*t.ch);var r=le(e.doc,t.line),i=We(r)+Dn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function or(e,t,n,r,i){var o=ge(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function ar(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return or(r.first,0,null,!0,-1);var i=fe(r,n),o=r.first+r.size-1;if(o<i)return or(r.first+r.size-1,le(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=le(r,i);;){var s=lr(e,a,i,t,n),l=He(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&0<s.xRel))return s;i=he(a=c.to.line)}}function sr(t,n,r,i){function o(e){return er(t,n,zn(t,r,e),"line")}var e=n.text.length,a=ae(function(e){return o(e-1).bottom<=i},e,0);return{begin:a,end:e=ae(function(e){return o(e).top>i},a,e)}}function lr(n,r,e,i,o){o-=We(r);var t,a=0,s=r.text.length,l=qn(n,r);if(at(r,n.doc.direction)){var c;if(n.options.lineWrapping)a=(c=sr(n,r,l,o)).begin,s=c.end;t=new ge(e,Math.floor(a+(s-a)/2));var u,d,h=rr(n,t,"line",r,l).left,f=h<i?1:-1,p=h-i,m=Math.ceil((s-a)/4);e:do{u=p,d=t;for(var g=0;g<m;++g){var v=t;if(null==(t=ut(n,r,t,f))||t.ch<a||s<=("before"==t.sticky?t.ch-1:t.ch)){t=v;break e}}if(p=rr(n,t,"line",r,l).left-i,1<m){var y=Math.abs(p-u)/m;m=Math.min(m,Math.ceil(Math.abs(p)/y)),f=p<0?1:-1}}while(0!=p&&(1<m||f<0!=p<0&&Math.abs(p)<=Math.abs(u)));if(Math.abs(p)>Math.abs(u)){if(p<0==u<0)throw new Error("Broke out of infinite loop in coordsCharInner");t=d}}else{var b=ae(function(e){var t=er(n,r,zn(n,l,e),"line");return t.top>o?(s=Math.min(e,s),1):!(t.bottom<=o)&&(t.left>i||!(t.right<i)&&i-t.left<t.right-i)},a,s);t=new ge(e,b=oe(r.text,b,1),b==s?"before":"after")}var w=rr(n,t,"line",r,l);return(o<w.top||w.bottom<o)&&(t.outside=!0),t.xRel=i<w.left?-1:i>w.right?1:0,t}function cr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Vn){Vn=T("pre");for(var t=0;t<49;++t)Vn.appendChild(document.createTextNode("x")),Vn.appendChild(T("br"));Vn.appendChild(document.createTextNode("x"))}k(e.measure,Vn);var n=Vn.offsetHeight/50;return 3<n&&(e.cachedTextHeight=n),A(e.measure),n||1}function ur(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=T("span","xxxxxxxxxx"),n=T("pre",[t]);k(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return 2<i&&(e.cachedCharWidth=i),i||10}function dr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:hr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function hr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function fr(r){var i=cr(r.display),o=r.options.lineWrapping,a=o&&Math.max(5,r.display.scroller.clientWidth/ur(r.display)-3);return function(e){if(ze(r.doc,e))return 0;var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;n++)e.widgets[n].height&&(t+=e.widgets[n].height);return o?t+(Math.ceil(e.text.length/a)||1)*i:t+i}}function pr(e){var t=e.doc,n=fr(e);t.iter(function(e){var t=n(e);t!=e.height&&de(e,t)})}function mr(e,t,n,r){var i=e.display;if(!n&&"true"==_t(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=ar(e,o,a);if(r&&1==c.xRel&&(l=le(e.doc,c.line).text).length==c.ch){var u=F(l,l.length,e.options.tabSize)-l.length;c=ge(c.line,Math.max(0,Math.round((o-In(e.display).left)/ur(e.display))-u))}return c}function gr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function vr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function yr(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&br(e,s.head,i),l||wr(e,s,o)}}return r}function br(e,t,n){var r=rr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(T("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(T("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function wr(i,e,t){var n=i.display,o=i.doc,a=document.createDocumentFragment(),r=In(i.display),p=r.left,m=Math.max(n.sizerWidth,Fn(i)-n.sizer.offsetLeft)-r.right;function g(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),a.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?m-e:n)+"px;\n                             height: "+(r-t)+"px"))}function s(n,l,c){var u,d,r=le(o,n),h=r.text.length;function f(e,t){return nr(i,ge(n,e),"div",r,t)}return function(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}(at(r,o.direction),l||0,null==c?h:c,function(e,t,n){var r,i,o,a=f(e,"left");if(e==t)i=o=(r=a).left;else{if(r=f(t-1,"right"),"rtl"==n){var s=a;a=r,r=s}i=a.left,o=r.right}null==l&&0==e&&(i=p),3<r.top-a.top&&(g(i,a.top,null,a.bottom),i=p,a.bottom<r.top&&g(i,a.bottom,null,r.top)),null==c&&t==h&&(o=m),(!u||a.top<u.top||a.top==u.top&&a.left<u.left)&&(u=a),(!d||r.bottom>d.bottom||r.bottom==d.bottom&&r.right>d.right)&&(d=r),i<p+1&&(i=p),g(i,r.top,o-i,r.bottom)}),{start:u,end:d}}var l=e.from(),c=e.to();if(l.line==c.line)s(l.line,l.ch,c.ch);else{var u=le(o,l.line),d=le(o,c.line),h=Be(u)==Be(d),f=s(l.line,l.ch,h?u.text.length+1:null).end,v=s(c.line,h?0:null,c.ch).start;h&&(f.top<v.top-2?(g(f.right,f.top,null,f.bottom),g(p,v.top,v.left,v.bottom)):g(f.right,f.top,v.left-f.right,f.bottom)),f.bottom<v.top&&g(p,f.bottom,null,v.top)}t.appendChild(a)}function Cr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function xr(e){e.state.focused||(e.display.input.focus(),_r(e))}function Er(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,$r(e))},100)}function _r(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(mt(e,"focus",e,t),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),b&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Cr(e))}function $r(e,t){e.state.delayingBlurEvent||(e.state.focused&&(mt(e,"blur",e,t),e.state.focused=!1,S(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Sr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(C&&x<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-n,n=a}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var l=i.line.height-o;if(o<2&&(o=cr(t)),(.005<l||l<-.005)&&(de(i.line,o),Ar(i.line),i.rest))for(var c=0;c<i.rest.length;c++)Ar(i.rest[c])}}}function Ar(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function kr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Dn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=fe(t,r),a=fe(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?a=fe(t,We(le(t,o=s))+e.wrapper.clientHeight):Math.min(l,t.lastLine())>=a&&(o=fe(t,We(le(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Tr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=hr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Mr(e){if(e.options.lineNumbers){var t=e.doc,n=me(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(T("div",[T("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",mi(e),1}}}function Nr(e,t){var n=e.display,r=cr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Hn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+On(n),l=t.top<r,c=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=i&&(a.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=Fn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),f=t.right-t.left>h;return f&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>h+d-3&&(a.scrollLeft=t.right+(f?0:10)-h),a}function Pr(e,t){null!=t&&(Or(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Rr(e){Or(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Dr(e,t,n){null==t&&null==n||Or(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Or(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Ir(e,ir(e,t.from),ir(e,t.to),t.margin))}function Ir(e,t,n,r){var i=Nr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Dr(e,i.scrollLeft,i.scrollTop)}function Lr(e,t){Math.abs(e.doc.scrollTop-t)<2||(m||pi(e,{top:t}),Fr(e,t,!0),m&&pi(e),ci(e,100))}function Fr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),e.display.scroller.scrollTop==t&&!n||(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Hr(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Tr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function jr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+On(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Ln(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function Br(e,t,n){this.cm=n;var r=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),ht(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ht(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,C&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}Br.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<e.clientHeight&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Br.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Br.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Br.prototype.zeroWidthHack=function(){var e=w&&!s?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new H,this.disableVert=new H},Br.prototype.enableZeroWidthBar=function(n,r,i){n.style.pointerEvents="auto",r.set(1e3,function e(){var t=n.getBoundingClientRect();("vert"==i?document.elementFromPoint(t.right-1,(t.top+t.bottom)/2):document.elementFromPoint((t.right+t.left)/2,t.bottom-1))!=n?n.style.pointerEvents="none":r.set(1e3,e)})},Br.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};function Ur(){}function qr(e,t){t=t||jr(e);var n=e.display.barWidth,r=e.display.barHeight;zr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Sr(e),zr(e,jr(e)),n=e.display.barWidth,r=e.display.barHeight}function zr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Ur.prototype.update=function(){return{bottom:0,right:0}},Ur.prototype.setScrollLeft=function(){},Ur.prototype.setScrollTop=function(){},Ur.prototype.clear=function(){};var Vr={native:Br,null:Ur};function Wr(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&S(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new Vr[n.options.scrollbarStyle](function(e){n.display.wrapper.insertBefore(e,n.display.scrollbarFiller),ht(e,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){("horizontal"==t?Hr:Lr)(n,e)},n),n.display.scrollbars.addClass&&R(n.display.wrapper,n.display.scrollbars.addClass)}var Gr=0;function Yr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Gr},t=e.curOp,vn?vn.ops.push(t):t.ownsGroup=vn={ops:[t],delayedCallbacks:[]}}function Kr(e){yn(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Xr(t[n]);for(var r=0;r<t.length;r++)(i=t[r]).updatedDisplay=i.mustUpdate&&hi(i.cm,i.update);var i;for(var o=0;o<t.length;o++)Qr(t[o]);for(var a=0;a<t.length;a++)Zr(t[a]);for(var s=0;s<t.length;s++)Jr(t[s])}(e)})}function Xr(e){var t,n,r=e.cm,i=r.display;!(n=(t=r).display).scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Ln(t)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Ln(t)+"px",n.scrollbarsClipped=!0),e.updateMaxLine&&Ye(r),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&r.options.lineWrapping,e.update=e.mustUpdate&&new di(r,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Qr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Sr(t),e.barMeasure=jr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Bn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ln(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Fn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function Zr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Hr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==P()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),!e.updatedDisplay&&e.startHeight==t.doc.height||qr(t,e.barMeasure),e.updatedDisplay&&gi(t,e.barMeasure),e.selectionChanged&&Cr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&xr(e.cm)}function Jr(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&fi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Fr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Hr(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!gt(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!c){var o=T("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Dn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Ln(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?ge(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ge(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=rr(e,t),l=n&&n!=t?rr(e,n):s,c=Nr(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Lr(e,c.scrollTop),1<Math.abs(e.doc.scrollTop-u)&&(a=!0)),null!=c.scrollLeft&&(Hr(e,c.scrollLeft),1<Math.abs(e.doc.scrollLeft-d)&&(a=!0)),!a)break}return i}(t,Ee(r,e.scrollToPos.from),Ee(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||mt(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&mt(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&mt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ei(e,t){if(e.curOp)return t();Yr(e);try{return t()}finally{Kr(e)}}function ti(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Yr(e);try{return t.apply(e,arguments)}finally{Kr(e)}}}function ni(e){return function(){if(this.curOp)return e.apply(this,arguments);Yr(this);try{return e.apply(this,arguments)}finally{Kr(this)}}}function ri(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Yr(e);try{return t.apply(this,arguments)}finally{Kr(e)}}}function ii(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r=r||0;var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Se&&Ue(e.doc,t)<i.viewTo&&ai(e);else if(n<=i.viewFrom)Se&&qe(e.doc,n+r)>i.viewFrom?ai(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)ai(e);else if(t<=i.viewFrom){var o=si(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):ai(e)}else if(n>=i.viewTo){var a=si(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):ai(e)}else{var s=si(e,t,t,-1),l=si(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(gn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):ai(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function oi(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[gr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==j(a,n)&&a.push(n)}}}function ai(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function si(e,t,n,r){var i,o=gr(e,t),a=e.display.view;if(!Se||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(0<r){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;Ue(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function li(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function ci(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,I(ui,e))}function ui(l){var c=l.doc;if(!(c.highlightFrontier>=l.display.viewTo)){var u=+new Date+l.options.workTime,d=Xt(l,c.highlightFrontier),h=[];c.iter(d.line,Math.min(c.first+c.size,l.display.viewTo+500),function(e){if(d.line>=l.display.viewFrom){var t=e.styles,n=e.text.length>l.options.maxHighlightLength?Ut(c.mode,d.state):null,r=Yt(l,e,d,!0);n&&(d.state=n),e.styles=r.styles;var i=e.styleClasses,o=r.classes;o?e.styleClasses=o:i&&(e.styleClasses=null);for(var a=!t||t.length!=e.styles.length||i!=o&&(!i||!o||i.bgClass!=o.bgClass||i.textClass!=o.textClass),s=0;!a&&s<t.length;++s)a=t[s]!=e.styles[s];a&&h.push(d.line),e.stateAfter=d.save(),d.nextLine()}else e.text.length<=l.options.maxHighlightLength&&Qt(l,e.text,d),e.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>u)return ci(l,l.options.workDelay),!0}),c.highlightFrontier=d.line,c.modeFrontier=Math.max(c.modeFrontier,d.line),h.length&&ei(l,function(){for(var e=0;e<h.length;e++)oi(l,h[e],"text")})}}var di=function(e,t,n){var r=e.display;this.viewport=t,this.visible=kr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Fn(e),this.force=n,this.dims=dr(e),this.events=[]};function hi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return ai(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==li(e))return!1;Mr(e)&&(ai(e),t.dims=dr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Se&&(o=Ue(e.doc,o),a=qe(e.doc,a));var s,l,c,u,d=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;l=o,c=a,0==(u=(s=e).display).view.length||l>=u.viewTo||c<=u.viewFrom?(u.view=gn(s,l,c),u.viewFrom=l):(u.viewFrom>l?u.view=gn(s,l,u.viewFrom).concat(u.view):u.viewFrom<l&&(u.view=u.view.slice(gr(s,l))),u.viewFrom=l,u.viewTo<c?u.view=u.view.concat(gn(s,u.viewTo,c)):u.viewTo>c&&(u.view=u.view.slice(0,gr(s,c)))),u.viewTo=c,n.viewOffset=We(le(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var h=li(e);if(!d&&0==h&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var f=function(e){if(e.hasFocus())return null;var t=P();if(!t||!N(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return 4<h&&(n.lineDiv.style.display="none"),function(n,e,t){var r=n.display,i=n.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(e){var t=e.nextSibling;return b&&w&&n.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var d=l[u];if(!d.hidden)if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=s(a);var h=i&&null!=e&&e<=c&&d.lineNumber;d.changes&&(-1<j(d.changes,"gutter")&&(h=!1),xn(n,d,c,t)),h&&(A(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(me(n.options,c)))),a=d.node.nextSibling}else{var f=(g=c,v=t,y=_n(p=n,m=d),m.text=m.node=y.pre,y.bgClass&&(m.bgClass=y.bgClass),y.textClass&&(m.textClass=y.textClass),Sn(p,m),An(p,m,g,v),Tn(p,m,v),m.node);o.insertBefore(f,a)}c+=d.size}var p,m,g,v,y;for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),4<h&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=P()&&(e.activeElt.focus(),e.anchorNode&&N(document.body,e.anchorNode)&&N(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(f),A(n.cursorDiv),A(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,d&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ci(e,400)),!(n.updateLineNumbers=null)}function fi(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Fn(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+On(e.display)-Hn(e),n.top)}),t.visible=kr(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&hi(e,t);r=!1){Sr(e);var i=jr(e);vr(e),qr(e,i),gi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function pi(e,t){var n=new di(e,t);if(hi(e,n)){Sr(e),fi(e,n);var r=jr(e);vr(e),qr(e,r),gi(e,r),n.finish()}}function mi(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function gi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ln(e)+"px"}function vi(e){var t=e.display.gutters,n=e.options.gutters;A(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(T("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&((e.display.lineGutter=o).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",mi(e)}function yi(e){var t=j(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}di.prototype.signal=function(e,t){yt(e,t)&&this.events.push(arguments)},di.prototype.finish=function(){for(var e=0;e<this.events.length;e++)mt.apply(null,this.events[e])};var bi=0,wi=null;function Ci(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function xi(e){var t=Ci(e);return t.x*=wi,t.y*=wi,t}function Ei(e,t){var n=Ci(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&w&&b)e:for(var c=t.target,u=o.view;c!=a;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(r&&!m&&!g&&null!=wi)return i&&l&&Lr(e,Math.max(0,a.scrollTop+i*wi)),Hr(e,Math.max(0,a.scrollLeft+r*wi)),(!i||i&&l)&&wt(t),void(o.wheelStartX=null);if(i&&null!=wi){var h=i*wi,f=e.doc.scrollTop,p=f+o.wrapper.clientHeight;h<0?f=Math.max(0,f+h-50):p=Math.min(e.doc.height,p+h+50),pi(e,{top:f,bottom:p})}bi<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(wi=(wi*bi+n)/(bi+1),++bi)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}C?wi=-.53:m?wi=15:a?wi=-.7:l&&(wi=-1/3);var _i=function(e,t){this.ranges=e,this.primIndex=t};_i.prototype.primary=function(){return this.ranges[this.primIndex]},_i.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!ye(n.anchor,r.anchor)||!ye(n.head,r.head))return!1}return!0},_i.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new $i(be(this.ranges[t].anchor),be(this.ranges[t].head));return new _i(e,this.primIndex)},_i.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},_i.prototype.contains=function(e,t){t=t||e;for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(0<=ve(t,r.from())&&ve(e,r.to())<=0)return n}return-1};var $i=function(e,t){this.anchor=e,this.head=t};function Si(e,t){var n=e[t];e.sort(function(e,t){return ve(e.from(),t.from())}),t=j(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(0<=ve(o.to(),i.from())){var a=Ce(o.from(),i.from()),s=we(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new $i(l?s:a,l?a:s))}}return new _i(e,t)}function Ai(e,t){return new _i([new $i(e,t||e)],0)}function ki(e){return e.text?ge(e.from.line+e.text.length-1,K(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ti(e,t){if(ve(e,t.from)<0)return e;if(ve(e,t.to)<=0)return ki(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ki(t).ch-t.to.ch),ge(n,r)}function Mi(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new $i(Ti(i.anchor,t),Ti(i.head,t)))}return Si(n,e.sel.primIndex)}function Ni(e,t,n){return e.line==t.line?ge(n.line,e.ch-t.ch+n.ch):ge(n.line+(e.line-t.line),e.ch)}function Pi(e){e.doc.mode=Ht(e.options,e.doc.modeOption),Ri(e)}function Ri(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ci(e,100),e.state.modeGen++,e.curOp&&ii(e)}function Di(e,t){return 0==t.from.ch&&0==t.to.ch&&""==K(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Oi(e,r,t,i){function o(e){return t?t[e]:null}function n(e,t,n){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Pe(e),Re(e,n);var i=r?r(e):1;i!=e.height&&de(e,i)}(e,t,n,i),wn(e,"change",e,r)}function a(e,t){for(var n=[],r=e;r<t;++r)n.push(new on(c[r],o(r),i));return n}var s=r.from,l=r.to,c=r.text,u=le(e,s.line),d=le(e,l.line),h=K(c),f=o(c.length-1),p=l.line-s.line;if(r.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(Di(e,r)){var m=a(0,c.length-1);n(d,d.text,f),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(u==d)if(1==c.length)n(u,u.text.slice(0,s.ch)+h+u.text.slice(l.ch),f);else{var g=a(1,c.length-1);g.push(new on(h+u.text.slice(l.ch),f,i)),n(u,u.text.slice(0,s.ch)+c[0],o(0)),e.insert(s.line+1,g)}else if(1==c.length)n(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),o(0)),e.remove(s.line+1,p);else{n(u,u.text.slice(0,s.ch)+c[0],o(0)),n(d,h+d.text.slice(l.ch),f);var v=a(1,c.length-1);1<p&&e.remove(s.line+1,p-1),e.insert(s.line+1,v)}wn(e,"change",e,r)}function Ii(e,s,l){!function e(t,n,r){if(t.linked)for(var i=0;i<t.linked.length;++i){var o=t.linked[i];if(o.doc!=n){var a=r&&o.sharedHist;l&&!a||(s(o.doc,a),e(o.doc,t,a))}}}(e,null,!0)}function Li(e,t){if(t.cm)throw new Error("This document is already in use.");pr((e.doc=t).cm=e),Pi(e),Fi(e),e.options.lineWrapping||Ye(e),e.options.mode=t.modeOption,ii(e)}function Fi(e){("rtl"==e.doc.direction?R:S)(e.display.lineDiv,"CodeMirror-rtl")}function Hi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ji(e,t){var n={from:be(t.from),to:ki(t),text:ce(e,t.from,t.to)};return Vi(e,n,t.from.line,t.to.line+1),Ii(e,function(e){return Vi(e,n,t.from.line,t.to.line+1)},!0),n}function Bi(e){for(;e.length;){if(!K(e).ranges)break;e.pop()}}function Ui(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s,l=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>l-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=(s=i).lastOp==r?(Bi(s.done),K(s.done)):s.done.length&&!K(s.done).ranges?K(s.done):1<s.done.length&&!s.done[s.done.length-2].ranges?(s.done.pop(),K(s.done)):void 0))a=K(o.changes),0==ve(t.from,t.to)&&0==ve(t.from,a.to)?a.to=ki(t):o.changes.push(ji(e,t));else{var c=K(i.done);for(c&&c.ranges||zi(e.sel,i.done),o={changes:[ji(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||mt(e,"historyAdded")}function qi(e,t,n,r){var i,o,a,s,l,c=e.history,u=r&&r.origin;n==c.lastSelOp||u&&c.lastSelOrigin==u&&(c.lastModTime==c.lastSelTime&&c.lastOrigin==u||(i=e,o=u,a=K(c.done),s=t,"*"==(l=o.charAt(0))||"+"==l&&a.ranges.length==s.ranges.length&&a.somethingSelected()==s.somethingSelected()&&new Date-i.history.lastSelTime<=(i.cm?i.cm.options.historyEventDelay:500)))?c.done[c.done.length-1]=t:zi(t,c.done),c.lastSelTime=+new Date,c.lastSelOrigin=u,c.lastSelOp=n,r&&!1!==r.clearRedo&&Bi(c.undone)}function zi(e,t){var n=K(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Vi(t,n,e,r){var i=n["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,r),function(e){e.markedSpans&&((i=i||(n["spans_"+t.id]={}))[o]=e.markedSpans),++o})}function Wi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t=t||e.slice(0,n):t&&t.push(e[n]);return t?t.length?t:null:e}function Gi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Wi(n[i]));return r}(e,t),r=Me(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function Yi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?_i.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&-1<j(t,Number(u[1]))&&(K(s)[d]=c[d],delete c[d])}}}return r}function Ki(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ve(t,i)<0;o!=ve(n,i)<0?(i=t,t=n):o!=ve(t,n)<0&&(t=n)}return new $i(i,t)}return new $i(n||t,t)}function Xi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),to(e,new _i([Ki(e.sel.primary(),t,n,i)],0),r)}function Qi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Ki(e.sel.ranges[o],t[o],null,i);to(e,Si(r,e.sel.primIndex),n)}function Zi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,to(e,Si(i,e.sel.primIndex),r)}function Ji(e,t,n,r){to(e,Ai(t,n),r)}function eo(e,t,n){var r=e.history.done,i=K(r);i&&i.ranges?no(e,r[r.length-1]=t,n):to(e,t,n)}function to(e,t,n){no(e,t,n),qi(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function no(e,t,n){var r,i,o,a;(yt(e,"beforeSelectionChange")||e.cm&&yt(e.cm,"beforeSelectionChange"))&&(r=e,o=n,a={ranges:(i=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new $i(Ee(r,e[t].anchor),Ee(r,e[t].head))},origin:o&&o.origin},mt(r,"beforeSelectionChange",r,a),r.cm&&mt(r.cm,"beforeSelectionChange",r.cm,a),t=a.ranges!=i.ranges?Si(a.ranges,a.ranges.length-1):i);var s=n&&n.bias||(ve(t.primary().head,e.sel.primary().head)<0?-1:1);ro(e,oo(e,t,s,!0)),n&&!1===n.scroll||!e.cm||Rr(e.cm)}function ro(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,vt(e.cm)),wn(e,"cursorActivity",e))}function io(e){ro(e,oo(e,e.sel,null,!1))}function oo(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=so(e,a.anchor,s&&s.anchor,n,r),c=so(e,a.head,s&&s.head,n,r);!i&&l==a.anchor&&c==a.head||((i=i||t.ranges.slice(0,o))[o]=new $i(l,c))}return i?Si(i,t.primIndex):t}function ao(e,t,n,r,i){var o=le(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(mt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var c=l.find(r<0?1:-1),u=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(c=lo(e,c,-r,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=ve(c,n))&&(r<0?u<0:0<u))return ao(e,c,t,r,i)}var d=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(d=lo(e,d,r,d.line==t.line?o:null)),d?ao(e,d,t,r,i):null}}return t}function so(e,t,n,r,i){var o=r||1,a=ao(e,t,n,o,i)||!i&&ao(e,t,n,o,!0)||ao(e,t,n,-o,i)||!i&&ao(e,t,n,-o,!0);return a||(e.cantEdit=!0,ge(e.first,0))}function lo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?Ee(e,ge(t.line-1)):null:0<n&&t.ch==(r||le(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+n)}function co(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),q)}function uo(i,e,t){var o={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return o.canceled=!0}};return t&&(o.update=function(e,t,n,r){e&&(o.from=Ee(i,e)),t&&(o.to=Ee(i,t)),n&&(o.text=n),void 0!==r&&(o.origin=r)}),mt(i,"beforeChange",i,o),i.cm&&mt(i.cm,"beforeChange",i.cm,o),o.canceled?null:{from:o.from,to:o.to,text:o.text,origin:o.origin}}function ho(e,t,n){if(e.cm){if(!e.cm.curOp)return ti(e.cm,ho)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(yt(e,"beforeChange")||e.cm&&yt(e.cm,"beforeChange"))||(t=uo(e,t,!0))){var r=$e&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=j(r,n)||(r=r||[]).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ve(c.to,s.from)<0||0<ve(c.from,s.to))){var u=[l,1],d=ve(c.from,s.from),h=ve(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(0<h||!a.inclusiveRight&&!h)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;0<=i;--i)fo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else fo(e,t)}}function fo(e,n){if(1!=n.text.length||""!=n.text[0]||0!=ve(n.from,n.to)){var t=Mi(e,n);Ui(e,n,t,e.cm?e.cm.curOp.id:NaN),go(e,n,t,Me(e,n));var r=[];Ii(e,function(e,t){t||-1!=j(r,e.history)||(wo(e.history,n),r.push(e.history)),go(e,n,null,Me(e,n))})}}function po(i,o,e){if(!i.cm||!i.cm.state.suppressEdits||e){for(var a,t=i.history,n=i.sel,s="undo"==o?t.done:t.undone,r="undo"==o?t.undone:t.done,l=0;l<s.length&&(a=s[l],e?!a.ranges||a.equals(i.sel):a.ranges);l++);if(l!=s.length){for(t.lastOrigin=t.lastSelOrigin=null;(a=s.pop()).ranges;){if(zi(a,r),e&&!a.equals(i.sel))return void to(i,a,{clearRedo:!1});n=a}var c=[];zi(n,r),r.push({changes:c,generation:t.generation}),t.generation=a.generation||++t.maxGeneration;for(var u=yt(i,"beforeChange")||i.cm&&yt(i.cm,"beforeChange"),d=function(e){var n=a.changes[e];if(n.origin=o,u&&!uo(i,n,!1))return s.length=0,{};c.push(ji(i,n));var t=e?Mi(i,n):K(s);go(i,n,t,Gi(i,n)),!e&&i.cm&&i.cm.scrollIntoView({from:n.from,to:ki(n)});var r=[];Ii(i,function(e,t){t||-1!=j(r,e.history)||(wo(e.history,n),r.push(e.history)),go(e,n,null,Gi(e,n))})},h=a.changes.length-1;0<=h;--h){var f=d(h);if(f)return f.v}}}}function mo(e,t){if(0!=t&&(e.first+=t,e.sel=new _i(X(e.sel.ranges,function(e){return new $i(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){ii(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)oi(e.cm,r,"gutter")}}function go(e,t,n,r){if(e.cm&&!e.cm.curOp)return ti(e.cm,go)(e,t,n,r);if(t.to.line<e.first)mo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);mo(e,i),t={from:ge(e.first,0),to:ge(t.to.line+i,t.to.ch),text:[K(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ge(o,le(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ce(e,t.from,t.to),n=n||Mi(e,t),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=he(Be(le(r,o.line))),r.iter(l,a.line+1,function(e){if(e==i.maxLine)return s=!0}));-1<r.sel.contains(t.from,t.to)&&vt(e);Oi(r,t,n,fr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=Ge(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;n<r;r--){var i=le(e,r).stateAfter;if(i&&(!(i instanceof Wt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}})(r,o.line),ci(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?ii(e):o.line!=a.line||1!=t.text.length||Di(e.doc,t)?ii(e,o.line,a.line+1,c):oi(e,o.line,"text");var u=yt(e,"changes"),d=yt(e,"change");if(d||u){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&wn(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,r):Oi(e,t,r),no(e,n,q)}}function vo(e,t,n,r,i){if(ve(r=r||n,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),ho(e,{from:n,to:r,text:t,origin:i})}function yo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function bo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)yo(o.ranges[s].anchor,t,n,r),yo(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=ge(c.from.line+r,c.from.ch),c.to=ge(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function wo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;bo(e.done,n,r,i),bo(e.undone,n,r,i)}function Co(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=le(e,xe(e,t)):i=he(t),null==i?null:(r(o,i)&&e.cm&&oi(e.cm,i,n),o)}function xo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function Eo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}$i.prototype.from=function(){return Ce(this.anchor,this.head)},$i.prototype.to=function(){return we(this.anchor,this.head)},$i.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},xo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n,r=e,i=e+t;r<i;++r){var o=this.lines[r];this.height-=o.height,(n=o).parent=null,Pe(n),wn(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},Eo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof xo))){var s=[];this.collapse(s),this.children=[new xo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&50<i.lines.length){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new xo(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Eo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=j(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new Eo(e.children);(r.parent=e).children=[r,t],e=r}t.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};function _o(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t}function $o(e,t,n){We(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Pr(e,n)}_o.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=he(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Pn(this);de(n,Math.max(0,n.height-o)),e&&(ei(e,function(){$o(e,n,-o),oi(e,r,"widget")}),wn(e,"lineWidgetCleared",e,this,r))}},_o.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Pn(this)-t;i&&(de(r,r.height+i),n&&ei(n,function(){n.curOp.forceUpdate=!0,$o(n,r,i),wn(n,"lineWidgetChanged",n,e,he(r))}))},bt(_o);var So=0,Ao=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++So};function ko(t,r,i,e,n){if(e&&e.shared)return function(e,n,r,i,o){(i=L(i)).shared=!1;var a=[ko(e,n,r,i,o)],s=a[0],l=i.widgetNode;return Ii(e,function(e){l&&(i.widgetNode=l.cloneNode(!0)),a.push(ko(e,Ee(e,n),Ee(e,r),i,o));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;s=K(a)}),new To(a,s)}(t,r,i,e,n);if(t.cm&&!t.cm.curOp)return ti(t.cm,ko)(t,r,i,e,n);var o=new Ao(t,n),a=ve(r,i);if(e&&L(e,o,!1),0<a||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=M("span",[o.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(je(t,r.line,r,i,o)||r.line!=i.line&&je(t,i.line,r,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Se=!0}o.addToHistory&&Ui(t,{from:r,to:i,origin:"markText"},t.sel,NaN);var s,l=r.line,c=t.cm;if(t.iter(l,i.line+1,function(e){var t,n;c&&o.collapsed&&!c.options.lineWrapping&&Be(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=r.line&&de(e,0),t=e,n=new Ae(o,l==r.line?r.ch:null,l==i.line?i.ch:null),t.markedSpans=t.markedSpans?t.markedSpans.concat([n]):[n],n.marker.attachLine(t),++l}),o.collapsed&&t.iter(r.line,i.line+1,function(e){ze(t,e)&&de(e,0)}),o.clearOnEnter&&ht(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&($e=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++So,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)ii(c,r.line,i.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=r.line;u<=i.line;u++)oi(c,u,"text");o.atomic&&io(c.doc),wn(c,"markerAdded",c,o)}return o}Ao.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Yr(e),yt(this,"clear")){var n=this.find();n&&wn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=ke(a.markedSpans,this);e&&!this.collapsed?oi(e,he(a),"text"):e&&(null!=s.to&&(i=he(a)),null!=s.from&&(r=he(a))),a.markedSpans=Te(a.markedSpans,s),null==s.from&&this.collapsed&&!ze(this.doc,a)&&e&&de(a,cr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Be(this.lines[l]),u=Ge(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&ii(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&io(e.doc)),e&&wn(e,"markerCleared",e,this,r,i),t&&Kr(e),this.parent&&this.parent.clear()}},Ao.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=ke(o.markedSpans,this);if(null!=a.from&&(n=ge(t?o:he(o),a.from),-1==e))return n;if(null!=a.to&&(r=ge(t?o:he(o),a.to),1==e))return r}return n&&{from:n,to:r}},Ao.prototype.changed=function(){var o=this,a=this.find(-1,!0),s=this,l=this.doc.cm;a&&l&&ei(l,function(){var e=a.line,t=he(a.line),n=Un(l,t);if(n&&(Kn(n),l.curOp.selectionChanged=l.curOp.forceUpdate=!0),l.curOp.updateMaxLine=!0,!ze(s.doc,e)&&null!=s.height){var r=s.height;s.height=null;var i=Pn(s)-r;i&&de(e,e.height+i)}wn(l,"markerChanged",l,o)})},Ao.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=j(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ao.prototype.detachLine=function(e){if(this.lines.splice(j(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},bt(Ao);var To=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Mo(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function No(o){for(var e=function(e){var t=o[e],n=[t.primary.doc];Ii(t.primary.doc,function(e){return n.push(e)});for(var r=0;r<t.markers.length;r++){var i=t.markers[r];-1==j(n,i.doc)&&(i.parent=null,t.markers.splice(r--,1))}},t=0;t<o.length;t++)e(t)}To.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();wn(this,"clear")}},To.prototype.find=function(e,t){return this.primary.find(e,t)},bt(To);var Po=0,Ro=function(e,t,n,r,i){if(!(this instanceof Ro))return new Ro(e,t,n,r,i);null==n&&(n=0),Eo.call(this,[new xo([new on("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=ge(n,0);this.sel=Ai(o),this.history=new Hi(null),this.id=++Po,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Oi(this,{from:o,to:o,text:e}),to(this,Ai(o),q)};Ro.prototype=Z(Eo.prototype,{constructor:Ro,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ue(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ri(function(e){var t=ge(this.first,0),n=this.first+this.size-1;ho(this,{from:t,to:ge(n,le(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Dr(this.cm,0,0),to(this,Ai(t),q)}),replaceRange:function(e,t,n,r){vo(this,e,t=Ee(this,t),n=n?Ee(this,n):t,r)},getRange:function(e,t,n){var r=ce(this,Ee(this,e),Ee(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(pe(this,e))return le(this,e)},getLineNumber:function(e){return he(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=le(this,e)),Be(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ee(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ri(function(e,t,n){Ji(this,Ee(this,"number"==typeof e?ge(e,t||0):e),null,n)}),setSelection:ri(function(e,t,n){Ji(this,Ee(this,e),Ee(this,t||e),n)}),extendSelection:ri(function(e,t,n){Xi(this,Ee(this,e),t&&Ee(this,t),n)}),extendSelections:ri(function(e,t){Qi(this,_e(this,e),t)}),extendSelectionsBy:ri(function(e,t){Qi(this,_e(this,X(this.sel.ranges,e)),t)}),setSelections:ri(function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new $i(Ee(this,e[i].anchor),Ee(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),to(this,Si(r,t),n)}}),addSelection:ri(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new $i(Ee(this,e),Ee(this,t||e))),to(this,Si(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=ce(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=ce(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ri(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=ge(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=Ni(s.from,i,o),c=Ni(ki(s),i,o);if(i=s.to,o=c,"around"==n){var u=e.sel.ranges[a],d=ve(u.head,u.anchor)<0;r[a]=new $i(d?c:l,d?l:c)}else r[a]=new $i(l,l)}return new _i(r,e.sel.primIndex)}(this,r,t),l=r.length-1;0<=l;l--)ho(this,r[l]);s?eo(this,s):this.cm&&Rr(this.cm)}),undo:ri(function(){po(this,"undo")}),redo:ri(function(){po(this,"redo")}),undoSelection:ri(function(){po(this,"undo",!0)}),redoSelection:ri(function(){po(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Hi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Yi(this.history.done),undone:Yi(this.history.undone)}},setHistory:function(e){var t=this.history=new Hi(this.history.maxGeneration);t.done=Yi(e.done.slice(0),null,!0),t.undone=Yi(e.undone.slice(0),null,!0)},setGutterMarker:ri(function(e,n,r){return Co(this,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[n]=r)&&ne(t)&&(e.gutterMarkers=null),1})}),clearGutter:ri(function(t){var n=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&Co(n,e,"gutter",function(){return e.gutterMarkers[t]=null,ne(e.gutterMarkers)&&(e.gutterMarkers=null),1})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!pe(this,e))return null;if(!(e=le(this,t=e)))return null}else if(null==(t=he(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ri(function(e,n,r){return Co(this,e,"gutter"==n?"gutter":"class",function(e){var t="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(e[t]){if(_(r).test(e[t]))return;e[t]+=" "+r}else e[t]=r;return 1})}),removeLineClass:ri(function(e,o,a){return Co(this,e,"gutter"==o?"gutter":"class",function(e){var t="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",n=e[t];if(n){if(null==a)e[t]=null;else{var r=n.match(_(a));if(!r)return;var i=r.index+r[0].length;e[t]=n.slice(0,r.index)+(r.index&&i!=n.length?" ":"")+n.slice(i)||null}return 1}})}),addLineWidget:ri(function(e,t,n){return i=e,o=new _o(r=this,t,n),(a=r.cm)&&o.noHScroll&&(a.display.alignWidgets=!0),Co(r,i,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,a&&!ze(r,e)){var n=We(e)<r.scrollTop;de(e,e.height+Pn(o)),n&&Pr(a,o.height),a.curOp.forceUpdate=!0}return 1}),wn(a,"lineWidgetAdded",a,o,"number"==typeof i?i:he(i)),o;var r,i,o,a}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ko(this,Ee(this,e),Ee(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ko(this,e=Ee(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=le(this,(e=Ee(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(i,o,a){i=Ee(this,i),o=Ee(this,o);var s=[],l=i.line;return this.iter(i.line,o.line+1,function(e){var t=e.markedSpans;if(t)for(var n=0;n<t.length;n++){var r=t[n];null!=r.to&&l==i.line&&i.ch>=r.to||null==r.from&&l!=i.line||null!=r.from&&l==o.line&&r.from>=o.ch||a&&!a(r.marker)||s.push(r.marker.parent||r.marker)}++l}),s},getAllMarks:function(){var r=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var n=0;n<t.length;++n)null!=t[n].from&&r.push(t[n].marker)}),r},posFromIndex:function(n){var r,i=this.first,o=this.lineSeparator().length;return this.iter(function(e){var t=e.text.length+o;if(n<t)return r=n,!0;n-=t,++i}),Ee(this,ge(i,r))},indexFromPos:function(e){var t=(e=Ee(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ro(ue(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e=e||{};var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ro(ue(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ve(o,a)){var s=ko(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,Mo(this)),r},unlinkDoc:function(e){if(e instanceof Sa&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),No(Mo(this));break}}if(e.history==this.history){var n=[e.id];Ii(e,function(e){return n.push(e.id)},!0),e.history=new Hi(null),e.history.done=Yi(this.history.done,n),e.history.undone=Yi(this.history.undone,n)}},iterLinkedDocs:function(e){Ii(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Pt(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ri(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&ei(t=this.cm,function(){Fi(t),ii(t)}))})}),Ro.prototype.eachLine=Ro.prototype.iter;var Do=0;function Oo(e){var i=this;if(Io(i),!gt(i,e)&&!Rn(i.display,e)){wt(e),C&&(Do=+new Date);var o=mr(i,e,!0),t=e.dataTransfer.files;if(o&&!i.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var a=t.length,s=Array(a),l=0,n=function(e,n){if(!i.options.allowDropFileTypes||-1!=j(i.options.allowDropFileTypes,e.type)){var r=new FileReader;r.onload=ti(i,function(){var e=r.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),s[n]=e,++l==a){var t={from:o=Ee(i.doc,o),to:o,text:i.doc.splitLines(s.join(i.doc.lineSeparator())),origin:"paste"};ho(i.doc,t),eo(i.doc,Ai(o,ki(t)))}}),r.readAsText(e)}},r=0;r<a;++r)n(t[r],r);else{if(i.state.draggingText&&-1<i.doc.sel.contains(o))return i.state.draggingText(e),void setTimeout(function(){return i.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var u;if(i.state.draggingText&&!i.state.draggingText.copy&&(u=i.listSelections()),no(i.doc,Ai(o,o)),u)for(var d=0;d<u.length;++d)vo(i.doc,"",u[d].anchor,u[d].head,"drag");i.replaceSelection(c,"around","paste"),i.display.input.focus()}}catch(e){}}}}function Io(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Lo(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}var Fo=!1;function Ho(){var e;Fo||(ht(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Lo(jo)},100))}),ht(window,"blur",function(){return Lo($r)}),Fo=!0)}function jo(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}for(var Bo={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Uo=0;Uo<10;Uo++)Bo[Uo+48]=Bo[Uo+96]=String(Uo);for(var qo=65;qo<=90;qo++)Bo[qo]=String.fromCharCode(qo);for(var zo=1;zo<=12;zo++)Bo[zo+111]=Bo[zo+63235]="F"+zo;var Vo={};function Wo(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Go(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=X(n.split(" "),Wo),o=0;o<i.length;o++){var a=void 0,s=void 0;a=o==i.length-1?(s=i.join(" "),r):(s=i.slice(0,o+1).join(" "),"...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function Yo(e,t,n,r){var i=(t=Zo(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Yo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Yo(e,t.fallthrough[o],n,r);if(a)return a}}}function Ko(e){var t="string"==typeof e?e:Bo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Xo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(y?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(y?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Qo(e,t){if(g&&34==e.keyCode&&e.char)return!1;var n=Bo[e.keyCode];return null!=n&&!e.altGraphKey&&Xo(n,e,t)}function Zo(e){return"string"==typeof e?Vo[e]:e}function Jo(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&ve(o.from,K(r).to)<=0;){var a=r.pop();if(ve(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}ei(t,function(){for(var e=r.length-1;0<=e;e--)vo(t.doc,"",r[e].from,r[e].to,"+delete");Rr(t)})}Vo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vo.default=w?Vo.macDefault:Vo.pcDefault;var ea={selectAll:co,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),q)},killLine:function(n){return Jo(n,function(e){if(e.empty()){var t=le(n.doc,e.head.line).text.length;return e.head.ch==t&&e.head.line<n.lastLine()?{from:e.head,to:ge(e.head.line+1,0)}:{from:e.head,to:ge(e.head.line,t)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Jo(t,function(e){return{from:ge(e.from().line,0),to:Ee(t.doc,ge(e.to().line+1,0))}})},delLineLeft:function(e){return Jo(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(n){return Jo(n,function(e){var t=n.charCoords(e.head,"div").top+5;return{from:n.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(r){return Jo(r,function(e){var t=r.charCoords(e.head,"div").top+5,n=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return ta(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return na(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(e,t){var n=le(e.doc,t),r=function(e){for(var t;t=He(e);)e=t.find(1,!0).line;return e}(n);r!=n&&(t=he(r));return ct(!0,e,n,t,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(e){var t=n.charCoords(e.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div")},V)},goLineLeft:function(n){return n.extendSelectionsBy(function(e){var t=n.charCoords(e.head,"div").top+5;return n.coordsChar({left:0,top:t},"div")},V)},goLineLeftSmart:function(r){return r.extendSelectionsBy(function(e){var t=r.charCoords(e.head,"div").top+5,n=r.coordsChar({left:0,top:t},"div");return n.ch<r.getLine(n.line).search(/\S/)?na(r,e.head):n},V)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(e.getLine(o.line),o.ch,r);t.push(Y(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(a){return ei(a,function(){for(var e=a.listSelections(),t=[],n=0;n<e.length;n++)if(e[n].empty()){var r=e[n].head,i=le(a.doc,r.line).text;if(i)if(r.ch==i.length&&(r=new ge(r.line,r.ch-1)),0<r.ch)r=new ge(r.line,r.ch+1),a.replaceRange(i.charAt(r.ch-1)+i.charAt(r.ch-2),ge(r.line,r.ch-2),r,"+transpose");else if(r.line>a.doc.first){var o=le(a.doc,r.line-1).text;o&&(r=new ge(r.line,1),a.replaceRange(i.charAt(0)+a.doc.lineSeparator()+o.charAt(o.length-1),ge(r.line-1,o.length-1),r,"+transpose"))}t.push(new $i(r,r))}a.setSelections(t)})},newlineAndIndent:function(r){return ei(r,function(){for(var e=r.listSelections(),t=e.length-1;0<=t;t--)r.replaceRange(r.doc.lineSeparator(),e[t].anchor,e[t].head,"+input");e=r.listSelections();for(var n=0;n<e.length;n++)r.indentLine(e[n].from().line,null,!0);Rr(r)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ta(e,t){var n=le(e.doc,t),r=Be(n);return r!=n&&(t=he(r)),ct(!0,e,r,t,1)}function na(e,t){var n=ta(e,t.line),r=le(e.doc,n.line),i=at(r,e.doc.direction);if(i&&0!=i[0].level)return n;var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ge(n.line,a?0:o,n.sticky)}function ra(e,t,n){if("string"==typeof t&&!(t=ea[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=U}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var ia=new H;function oa(e,t,n,r){var i=e.state.keySeq;if(i){if(Ko(t))return"handled";ia.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Yo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Yo(t,e.options.extraKeys,n,e)||Yo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&wn(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(wt(n),Cr(e)),i&&!o&&/\'$/.test(t)?(wt(n),!0):!!o}function aa(t,e){var n=Qo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?oa(t,"Shift-"+n,e,function(e){return ra(t,e,!0)})||oa(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ra(t,e)}):oa(t,n,e,function(e){return ra(t,e)}))}var sa=null;function la(e){if(this.curOp.focus=P(),!gt(this,e)){C&&x<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;this.display.shift=16==t||e.shiftKey;var n,r=aa(this,e);g&&(sa=r?t:null,!r&&88==t&&!Dt&&(w?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||(R(n=this.display.lineDiv,"CodeMirror-crosshair"),ht(document,"keyup",i),ht(document,"mouseover",i))}function i(e){18!=e.keyCode&&e.altKey||(S(n,"CodeMirror-crosshair"),pt(document,"keyup",i),pt(document,"mouseover",i))}}function ca(e){16==e.keyCode&&(this.doc.sel.shift=!1),gt(this,e)}function ua(e){if(!(Rn(this.display,e)||gt(this,e)||e.ctrlKey&&!e.altKey||w&&e.metaKey)){var t=e.keyCode,n=e.charCode;if(g&&t==sa)return sa=null,void wt(e);if(!g||e.which&&!(e.which<10)||!aa(this,e)){var r,i=String.fromCharCode(null==n?t:n);if("\b"!=i)if(!oa(r=this,"'"+i+"'",e,function(e){return ra(r,e,!0)}))this.display.input.onKeyPress(e)}}}var da,ha,fa=function(e,t,n){this.time=e,this.pos=t,this.button=n};function pa(e){var t=this,n=t.display;if(!(gt(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Rn(n,e))b||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!va(t,e)){var r,i,o,a=mr(t,e),s=$t(e),l=a?(r=a,i=s,o=+new Date,ha&&ha.compare(o,r,i)?(da=ha=null,"triple"):da&&da.compare(o,r,i)?(ha=new fa(o,r,i),da=null,"double"):(da=new fa(o,r,i),ha=null,"single")):"single";window.focus(),1==s&&t.state.selectingText&&t.state.selectingText(e),a&&function(n,e,r,t,i){var o="Click";"double"==t?o="Double"+o:"triple"==t&&(o="Triple"+o);return oa(n,Xo(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,function(e){if("string"==typeof e&&(e=ea[e]),!e)return!1;var t=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),t=e(n,r)!=U}finally{n.state.suppressEdits=!1}return t})}(t,s,a,l,e)||(1==s?a?function(e,t,n,r){C?setTimeout(I(xr,e),0):e.curOp.focus=P();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=f?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}null!=i.extend&&!e.doc.extend||(i.extend=e.doc.extend||n.shiftKey);null==i.addNew&&(i.addNew=w?n.metaKey:n.ctrlKey);null==i.moveOnDrag&&(i.moveOnDrag=!(w?n.altKey:n.ctrlKey));return i}(e,n,r),a=e.doc.sel;(e.options.dragDrop&&kt&&!e.isReadOnly()&&"single"==n&&-1<(i=a.contains(t))&&(ve((i=a.ranges[i]).from(),t)<0||0<t.xRel)&&(0<ve(i.to(),t)||t.xRel<0)?function(t,n,r,i){var o=t.display,a=!1,s=ti(t,function(e){b&&(o.scroller.draggable=!1),t.state.draggingText=!1,pt(document,"mouseup",s),pt(document,"mousemove",l),pt(o.scroller,"dragstart",c),pt(o.scroller,"drop",s),a||(wt(e),i.addNew||Xi(t.doc,r,null,null,i.extend),b||C&&9==x?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())}),l=function(e){a=a||10<=Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)},c=function(){return a=!0};b&&(o.scroller.draggable=!0);(t.state.draggingText=s).copy=!i.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop();ht(document,"mouseup",s),ht(document,"mousemove",l),ht(o.scroller,"dragstart",c),ht(o.scroller,"drop",s),Er(t),setTimeout(function(){return o.input.focus()},20)}:function(g,e,v,y){var o=g.display,b=g.doc;wt(e);var w,C,x=b.sel,t=x.ranges;y.addNew&&!y.extend?(C=b.sel.contains(v),w=-1<C?t[C]:new $i(v,v)):(w=b.sel.primary(),C=b.sel.primIndex);if("rectangle"==y.unit)y.addNew||(w=new $i(v,v)),v=mr(g,e,!0,!0),C=-1;else{var n=ma(g,v,y.unit);w=y.extend?Ki(w,n.anchor,n.head,y.extend):n}y.addNew?-1==C?(C=t.length,to(b,Si(t.concat([w]),C),{scroll:!1,origin:"*mouse"})):1<t.length&&t[C].empty()&&"char"==y.unit&&!y.extend?(to(b,Si(t.slice(0,C).concat(t.slice(C+1)),0),{scroll:!1,origin:"*mouse"}),x=b.sel):Zi(b,C,w,z):(to(b,new _i([w],C=0),z),x=b.sel);var E=v;var a=o.wrapper.getBoundingClientRect(),s=0;function l(e){var t=++s,n=mr(g,e,!0,"rectangle"==y.unit);if(n)if(0!=ve(n,E)){g.curOp.focus=P(),function(e){if(0!=ve(E,e))if(E=e,"rectangle"==y.unit){for(var t=[],n=g.options.tabSize,r=F(le(b,v.line).text,v.ch,n),i=F(le(b,e.line).text,e.ch,n),o=Math.min(r,i),a=Math.max(r,i),s=Math.min(v.line,e.line),l=Math.min(g.lastLine(),Math.max(v.line,e.line));s<=l;s++){var c=le(b,s).text,u=W(c,o,n);o==a?t.push(new $i(ge(s,u),ge(s,u))):c.length>u&&t.push(new $i(ge(s,u),ge(s,W(c,a,n))))}t.length||t.push(new $i(v,v)),to(b,Si(x.ranges.slice(0,C).concat(t),C),{origin:"*mouse",scroll:!1}),g.scrollIntoView(e)}else{var d,h=w,f=ma(g,e,y.unit),p=h.anchor;p=0<ve(f.anchor,p)?(d=f.head,Ce(h.from(),f.anchor)):(d=f.anchor,we(h.to(),f.head));var m=x.ranges.slice(0);m[C]=new $i(Ee(b,p),d),to(b,Si(m,C),z)}}(n);var r=kr(o,b);(n.line>=r.to||n.line<r.from)&&setTimeout(ti(g,function(){s==t&&l(e)}),150)}else{var i=e.clientY<a.top?-20:e.clientY>a.bottom?20:0;i&&setTimeout(ti(g,function(){s==t&&(o.scroller.scrollTop+=i,l(e))}),50)}}function r(e){g.state.selectingText=!1,s=1/0,wt(e),o.input.focus(),pt(document,"mousemove",i),pt(document,"mouseup",c),b.history.lastSelOrigin=null}var i=ti(g,function(e){($t(e)?l:r)(e)}),c=ti(g,r);g.state.selectingText=c,ht(document,"mousemove",i),ht(document,"mouseup",c)})(e,r,t,o)}(t,a,l,e):_t(e)==n.scroller&&wt(e):2==s?(a&&Xi(t.doc,a),setTimeout(function(){return n.input.focus()},20)):3==s&&(E?ya(t,e):Er(t)))}}function ma(e,t,n){if("char"==n)return new $i(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new $i(ge(t.line,0),Ee(e.doc,ge(t.line+1,0)));var r=n(e,t);return new $i(r.from,r.to)}function ga(e,t,n,r){var i,o;try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&wt(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!yt(e,n))return xt(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return mt(e,n,e,fe(e.doc,o),e.options.gutters[l],t),xt(t)}}function va(e,t){return ga(e,t,"gutterClick",!0)}function ya(e,t){var n,r;Rn(e.display,t)||(r=t,yt(n=e,"gutterContextMenu")&&ga(n,r,"gutterContextMenu",!1))||gt(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function ba(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Qn(e)}fa.prototype.compare=function(e,t,n){return this.time+400>e&&0==ve(t,this.pos)&&n==this.button};var wa={toString:function(){return"CodeMirror.Init"}},Ca={},xa={};function Ea(e){vi(e),ii(e),Tr(e)}function _a(e,t,n){if(!t!=!(n&&n!=wa)){var r=e.display.dragFunctions,i=t?ht:pt;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function $a(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(S(e.display.wrapper,"CodeMirror-wrap"),Ye(e)),pr(e),ii(e),Qn(e),setTimeout(function(){return qr(e)},100)}function Sa(e,t){var n=this;if(!(this instanceof Sa))return new Sa(e,t);this.options=t=t?L(t):{},L(Ca,t,!1),yi(t);var r=t.value;"string"==typeof r&&(r=new Ro(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new Sa.inputStyles[t.inputStyle](this),o=this.display=new se(e,r,i);for(var a in vi(o.wrapper.CodeMirror=this),ba(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new H,keySeq:null,specialChars:null},t.autofocus&&!h&&o.input.focus(),C&&x<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(i){var o=i.display;ht(o.scroller,"mousedown",ti(i,pa)),ht(o.scroller,"dblclick",C&&x<11?ti(i,function(e){if(!gt(i,e)){var t=mr(i,e);if(t&&!va(i,e)&&!Rn(i.display,e)){wt(e);var n=i.findWordAt(t);Xi(i.doc,n.anchor,n.head)}}}):function(e){return gt(i,e)||wt(e)});E||ht(o.scroller,"contextmenu",function(e){return ya(i,e)});var n,r={end:0};function a(){o.activeTouch&&(n=setTimeout(function(){return o.activeTouch=null},1e3),(r=o.activeTouch).end=+new Date)}function s(e,t){if(null==t.left)return 1;var n=t.left-e.left,r=t.top-e.top;return 400<n*n+r*r}ht(o.scroller,"touchstart",function(e){if(!gt(i,e)&&!function(e){if(1==e.touches.length){var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}}(e)){o.input.ensurePolled(),clearTimeout(n);var t=+new Date;o.activeTouch={start:t,moved:!1,prev:t-r.end<=300?r:null},1==e.touches.length&&(o.activeTouch.left=e.touches[0].pageX,o.activeTouch.top=e.touches[0].pageY)}}),ht(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),ht(o.scroller,"touchend",function(e){var t=o.activeTouch;if(t&&!Rn(o,e)&&null!=t.left&&!t.moved&&new Date-t.start<300){var n,r=i.coordsChar(o.activeTouch,"page");n=!t.prev||s(t,t.prev)?new $i(r,r):!t.prev.prev||s(t,t.prev.prev)?i.findWordAt(r):new $i(ge(r.line,0),Ee(i.doc,ge(r.line+1,0))),i.setSelection(n.anchor,n.head),i.focus(),wt(e)}a()}),ht(o.scroller,"touchcancel",a),ht(o.scroller,"scroll",function(){o.scroller.clientHeight&&(Lr(i,o.scroller.scrollTop),Hr(i,o.scroller.scrollLeft,!0),mt(i,"scroll",i))}),ht(o.scroller,"mousewheel",function(e){return Ei(i,e)}),ht(o.scroller,"DOMMouseScroll",function(e){return Ei(i,e)}),ht(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(e){gt(i,e)||Et(e)},over:function(e){gt(i,e)||(function(e,t){var n=mr(e,t);if(n){var r=document.createDocumentFragment();br(e,n,r),e.display.dragCursor||(e.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),k(e.display.dragCursor,r)}}(i,e),Et(e))},start:function(e){return function(e,t){if(C&&(!e.state.draggingText||new Date-Do<100))Et(t);else if(!gt(e,t)&&!Rn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!l)){var n=T("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),g&&n.parentNode.removeChild(n)}}(i,e)},drop:ti(i,Oo),leave:function(e){gt(i,e)||Io(i)}};var e=o.input.getField();ht(e,"keyup",function(e){return ca.call(i,e)}),ht(e,"keydown",ti(i,la)),ht(e,"keypress",ti(i,ua)),ht(e,"focus",function(e){return _r(i,e)}),ht(e,"blur",function(e){return $r(i,e)})}(this),Ho(),Yr(this),this.curOp.forceUpdate=!0,Li(this,r),t.autofocus&&!h||this.hasFocus()?setTimeout(I(_r,this),20):$r(this),xa)xa.hasOwnProperty(a)&&xa[a](n,t[a],wa);Mr(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Aa.length;++s)Aa[s](n);Kr(this),b&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Sa.defaults=Ca,Sa.optionHandlers=xa;var Aa=[];function ka(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Xt(e,t).state:n="prev");var a=e.options.tabSize,s=le(o,t),l=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(i,s.text.slice(u.length),s.text))==U||150<c)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?F(le(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/a);f;--f)h+=a,d+="\t";if(h<c&&(d+=Y(c-h)),d!=u)return vo(o,d,ge(t,0),ge(t,u.length),"+input"),!(s.stateAfter=null);for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<u.length){var g=ge(t,u.length);Zi(o,p,new $i(g,g));break}}}Sa.defineInitHook=function(e){return Aa.push(e)};var Ta=null;function Ma(e){Ta=e}function Na(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r=r||o.sel;var a,s=e.state.pasteIncoming||"paste"==i,l=Pt(t),c=null;if(s&&1<r.ranges.length)if(Ta&&Ta.text.join("\n")==t){if(r.ranges.length%Ta.text.length==0){c=[];for(var u=0;u<Ta.text.length;u++)c.push(o.splitLines(Ta.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=X(l,function(e){return[e]}));for(var d=r.ranges.length-1;0<=d;d--){var h=r.ranges[d],f=h.from(),p=h.to();h.empty()&&(n&&0<n?f=ge(f.line,f.ch-n):e.state.overwrite&&!s?p=ge(p.line,Math.min(le(o,p.line).text.length,p.ch+K(l).length)):Ta&&Ta.lineWise&&Ta.text.join("\n")==t&&(f=p=ge(f.line,0))),a=e.curOp.updateInput;var m={from:f,to:p,text:c?c[d%c.length]:l,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};ho(e.doc,m),wn(e,"inputRead",e,m)}t&&!s&&Ra(e,t),Rr(e),e.curOp.updateInput=a,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Pa(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");return n&&(e.preventDefault(),t.isReadOnly()||t.options.disableInput||ei(t,function(){return Na(t,n,0,null,"paste")}),1)}function Ra(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;0<=r;r--){var i=n.ranges[r];if(!(100<i.head.ch||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(-1<t.indexOf(o.electricChars.charAt(s))){a=ka(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(le(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=ka(e,i.head.line,"smart"));a&&wn(e,"electricInput",e,i.head.line)}}}function Da(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:ge(i,0),head:ge(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Oa(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Ia(){var e=T("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=T("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return b?e.style.width="1000px":e.setAttribute("wrap","off"),u&&(e.style.border="1px solid black"),Oa(e),t}function La(r,i,o,e,a){var t=i,n=o,s=le(r,i.line);function l(e){var t,n;if(null==(t=a?ut(r.cm,s,i,o):lt(s,i,o))){if(e||(n=i.line+o)<r.first||n>=r.first+r.size||(i=new ge(n,i.ch,i.sticky),!(s=le(r,n))))return;i=ct(a,r.cm,s,i.line,o)}else i=t;return 1}if("char"==e)l();else if("column"==e)l(!0);else if("word"==e||"group"==e)for(var c=null,u="group"==e,d=r.cm&&r.cm.getHelper(i,"wordChars"),h=!0;!(o<0)||l(!h);h=!1){var f=s.text.charAt(i.ch)||"\n",p=te(f,d)?"w":u&&"\n"==f?"n":!u||/\s/.test(f)?null:"p";if(!u||h||p||(p="s"),c&&c!=p){o<0&&(o=1,l(),i.sticky="after");break}if(p&&(c=p),0<o&&!l(!h))break}var m=so(r,i,t,n,!0);return ye(t,m)&&(m.hitSide=!0),m}function Fa(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*cr(e.display),3);i=(0<n?t.bottom:t.top)+n*c}else"line"==r&&(i=0<n?t.bottom+3:t.top-3);for(;(o=ar(e,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}function Ha(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new H,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null}function ja(e,t){var n=Un(e,t.line);if(!n||n.hidden)return null;var r=le(e.doc,t.line),i=jn(n,r,t.line),o=at(r,e.doc.direction),a="left";o&&(a=Xe(o,t.ch)%2?"right":"left");var s=Gn(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Ba(e,t){return t&&(e.bad=!0),e}function Ua(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Ba(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return qa(o,t,n)}}function qa(c,e,t){var n=c.text.firstChild,r=!1;if(!e||!N(n,e))return Ba(ge(he(c.line),0),!0);if(e==n&&(r=!0,e=n.childNodes[t],t=0,!e)){var i=c.rest?K(c.rest):c.line;return Ba(ge(he(i),i.text.length),r)}var o=3==e.nodeType?e:null,a=e;for(o||1!=e.childNodes.length||3!=e.firstChild.nodeType||(o=e.firstChild,t=t&&o.nodeValue.length);a.parentNode!=n;)a=a.parentNode;var u=c.measure,d=u.maps;function s(e,t,n){for(var r=-1;r<(d?d.length:0);r++)for(var i=r<0?u.map:d[r],o=0;o<i.length;o+=3){var a=i[o+2];if(a==e||a==t){var s=he(r<0?c.line:c.rest[r]),l=i[o]+n;return(n<0||a!=e)&&(l=i[o+(n?1:0)]),ge(s,l)}}}var l=s(o,a,t);if(l)return Ba(l,r);for(var h=a.nextSibling,f=o?o.nodeValue.length-t:0;h;h=h.nextSibling){if(l=s(h,h.firstChild,0))return Ba(ge(l.line,l.ch-f),r);f+=h.textContent.length}for(var p=a.previousSibling,m=t;p;p=p.previousSibling){if(l=s(p,p.firstChild,-1))return Ba(ge(l.line,l.ch+m),r);m+=p.textContent.length}}Ha.prototype.init=function(e){var t=this,a=this,s=a.cm,l=a.div=e.lineDiv;function n(e){if(!gt(s,e)){if(s.somethingSelected())Ma({lineWise:!1,text:s.getSelections()}),"cut"==e.type&&s.replaceSelection("",null,"cut");else{if(!s.options.lineWiseCopyCut)return;var t=Da(s);Ma({lineWise:!0,text:t.text}),"cut"==e.type&&s.operation(function(){s.setSelections(t.ranges,0,q),s.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=Ta.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var r=Ia(),i=r.firstChild;s.display.lineSpace.insertBefore(r,s.display.lineSpace.firstChild),i.value=Ta.text.join("\n");var o=document.activeElement;O(i),setTimeout(function(){s.display.lineSpace.removeChild(r),o.focus(),o==l&&a.showPrimarySelection()},50)}}Oa(l,s.options.spellcheck),ht(l,"paste",function(e){gt(s,e)||Pa(e,s)||x<=11&&setTimeout(ti(s,function(){return t.updateFromDOM()}),20)}),ht(l,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),ht(l,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),ht(l,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ht(l,"touchstart",function(){return a.forceCompositionEnd()}),ht(l,"input",function(){t.composing||t.readFromDOMSoon()}),ht(l,"copy",n),ht(l,"cut",n)},Ha.prototype.prepareSelection=function(){var e=yr(this.cm,!1);return e.focus=this.cm.state.focused,e},Ha.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ha.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var o=Ua(t,e.anchorNode,e.anchorOffset),a=Ua(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=ve(Ce(o,a),r)||0!=ve(we(o,a),i)){var s=t.display.view,l=r.line>=t.display.viewFrom&&ja(t,r)||{node:s[0].measure.map[2],offset:0},c=i.line<t.display.viewTo&&ja(t,i);if(!c){var u=s[s.length-1].measure,d=u.maps?u.maps[u.maps.length-1]:u.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(l&&c){var h,f=e.rangeCount&&e.getRangeAt(0);try{h=$(l.node,l.offset,c.offset,c.node)}catch(e){}h&&(!m&&t.state.focused?(e.collapse(l.node,l.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),f&&null==e.anchorNode?e.addRange(f):m&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ha.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ha.prototype.showMultipleSelections=function(e){k(this.cm.display.cursorDiv,e.cursors),k(this.cm.display.selectionDiv,e.selection)},Ha.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ha.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return N(this.div,t)},Ha.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ha.prototype.blur=function(){this.div.blur()},Ha.prototype.getField=function(){return this.div},Ha.prototype.supportsTouch=function(){return!0},Ha.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():ei(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Ha.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ha.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(d&&a&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return 1;return}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ua(t,e.anchorNode,e.anchorOffset),r=Ua(t,e.focusNode,e.focusOffset);n&&r&&ei(t,function(){to(t.doc,Ai(n,r),q),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Ha.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=ge(a.line-1,le(r.doc,a.line-1).length)),s.ch==le(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=ge(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;n=a.line==i.viewFrom||0==(e=gr(r,a.line))?(t=he(i.view[0].line),i.view[0].node):(t=he(i.view[e].line),i.view[e-1].node.nextSibling);var l,c,u=gr(r,s.line);if(c=u==i.view.length-1?(l=i.viewTo-1,i.lineDiv.lastChild):(l=he(i.view[u+1].line)-1,i.view[u+1].node.previousSibling),!n)return!1;for(var d=r.doc.splitLines(function(l,e,t,c,u){var n="",d=!1,h=l.doc.lineSeparator();function f(){d&&(n+=h,d=!1)}function p(e){e&&(f(),n+=e)}function m(e){if(1==e.nodeType){var t=e.getAttribute("cm-text");if(null!=t)return void p(t||e.textContent.replace(/\u200b/g,""));var n,r=e.getAttribute("cm-marker");if(r){var i=l.findMarks(ge(c,0),ge(u+1,0),(s=+r,function(e){return e.id==s}));return void(i.length&&(n=i[0].find())&&p(ce(l.doc,n.from,n.to).join(h)))}if("false"==e.getAttribute("contenteditable"))return;var o=/^(pre|div|p)$/i.test(e.nodeName);o&&f();for(var a=0;a<e.childNodes.length;a++)m(e.childNodes[a]);o&&(d=!0)}else 3==e.nodeType&&p(e.nodeValue);var s}for(;m(e),e!=t;)e=e.nextSibling;return n}(r,n,c,t,l)),h=ce(r.doc,ge(t,0),ge(l,le(r.doc,l).text.length));1<d.length&&1<h.length;)if(K(d)==K(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),t++}for(var f=0,p=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var y=K(d),b=K(h),w=Math.min(y.length-(1==d.length?f:0),b.length-(1==h.length?f:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==d.length&&1==h.length&&t==a.line)for(;f&&f>a.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)f--,p++;d[d.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var C=ge(t,f),x=ge(l,h.length?K(h).length-p:0);return 1<d.length||d[0]||ve(C,x)?(vo(r.doc,d,C,x,"+input"),!0):void 0},Ha.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ha.prototype.reset=function(){this.forceCompositionEnd()},Ha.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ha.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Ha.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||ei(this.cm,function(){return ii(e.cm)})},Ha.prototype.setUneditable=function(e){e.contentEditable="false"},Ha.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||ti(this.cm,Na)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ha.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ha.prototype.onContextMenu=function(){},Ha.prototype.resetPosition=function(){},Ha.prototype.needsContentAttribute=!0;function za(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new H,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}var Va,Wa,Ga,Ya,Ka;function Xa(e,t,r,n){Va.defaults[e]=t,r&&(Wa[e]=n?function(e,t,n){n!=wa&&r(e,t,n)}:r)}za.prototype.init=function(t){var e=this,n=this,r=this.cm,i=this.wrapper=Ia(),o=this.textarea=i.firstChild;function a(e){if(!gt(r,e)){if(r.somethingSelected())Ma({lineWise:!1,text:r.getSelections()}),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Ta.text.join("\n"),O(o));else{if(!r.options.lineWiseCopyCut)return;var t=Da(r);Ma({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,q):(n.prevInput="",o.value=t.text.join("\n"),O(o))}"cut"==e.type&&(r.state.cutIncoming=!0)}}t.wrapper.insertBefore(i,t.wrapper.firstChild),u&&(o.style.width="0px"),ht(o,"input",function(){C&&9<=x&&e.hasSelection&&(e.hasSelection=null),n.poll()}),ht(o,"paste",function(e){gt(r,e)||Pa(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),ht(o,"cut",a),ht(o,"copy",a),ht(t.scroller,"paste",function(e){Rn(t,e)||gt(r,e)||(r.state.pasteIncoming=!0,n.focus())}),ht(t.lineSpace,"selectstart",function(e){Rn(t,e)||wt(e)}),ht(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ht(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},za.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=yr(e);if(e.options.moveInputWithCursor){var i=rr(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},za.prototype.showSelection=function(e){var t=this.cm.display;k(t.cursorDiv,e.cursors),k(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},za.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary(),a=(t=Dt&&(100<o.to().line-o.from().line||1e3<(n=r.getSelection()).length))?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&O(this.textarea),C&&9<=x&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",C&&9<=x&&(this.hasSelection=null));this.inaccurateSelection=t}},za.prototype.getField=function(){return this.textarea},za.prototype.supportsTouch=function(){return!1},za.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!h||P()!=this.textarea))try{this.textarea.focus()}catch(e){}},za.prototype.blur=function(){this.textarea.blur()},za.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},za.prototype.receivedFocus=function(){this.slowPoll()},za.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},za.prototype.fastPoll=function(){var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))})},za.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Rt(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(C&&9<=x&&this.hasSelection===i||w&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);a<s&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return ei(t,function(){Na(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),1e3<i.length||-1<i.indexOf("\n")?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},za.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},za.prototype.onKeyPress=function(){C&&9<=x&&(this.hasSelection=null),this.fastPoll()},za.prototype.onContextMenu=function(e){var n=this,r=n.cm,i=r.display,o=n.textarea,t=mr(r,e),a=i.scroller.scrollTop;if(t&&!g){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(t)&&ti(r,to)(r.doc,Ai(t),q);var s=o.style.cssText,l=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var c,u=n.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-u.top-5)+"px; left: "+(e.clientX-u.left-5)+"px;\n      z-index: 1000; background: "+(C?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",b&&(c=window.scrollY),i.input.focus(),b&&window.scrollTo(null,c),i.input.reset(),r.somethingSelected()||(o.value=n.prevInput=" "),n.contextMenuPending=!0,i.selForContextMenu=r.doc.sel,clearTimeout(i.detectingSelectAll),C&&9<=x&&h(),E){Et(e);var d=function(){pt(window,"mouseup",d),setTimeout(f,20)};ht(window,"mouseup",d)}else setTimeout(f,50)}function h(){if(null!=o.selectionStart){var e=r.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,n.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,i.selForContextMenu=r.doc.sel}}function f(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=l,o.style.cssText=s,C&&x<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=a),null!=o.selectionStart){(!C||C&&x<9)&&h();var e=0,t=function(){i.selForContextMenu==r.doc.sel&&0==o.selectionStart&&0<o.selectionEnd&&"​"==n.prevInput?ti(r,co)(r):e++<10?i.detectingSelectAll=setTimeout(t,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(t,200)}}},za.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},za.prototype.setUneditable=function(){},za.prototype.needsContentAttribute=!1,Wa=(Va=Sa).optionHandlers,Va.defineOption=Xa,Va.Init=wa,Xa("value","",function(e,t){return e.setValue(t)},!0),Xa("mode",null,function(e,t){e.doc.modeOption=t,Pi(e)},!0),Xa("indentUnit",2,Pi,!0),Xa("indentWithTabs",!1),Xa("smartIndent",!0),Xa("tabSize",4,function(e){Ri(e),Qn(e),ii(e)},!0),Xa("lineSeparator",null,function(e,r){if(e.doc.lineSep=r){var i=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var n=e.text.indexOf(r,t);if(-1==n)break;t=n+r.length,i.push(ge(o,n))}o++});for(var t=i.length-1;0<=t;t--)vo(e.doc,r,i[t],ge(i[t].line,i[t].ch+r.length))}}),Xa("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=wa&&e.refresh()}),Xa("specialCharPlaceholder",un,function(e){return e.refresh()},!0),Xa("electricChars",!0),Xa("inputStyle",h?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Xa("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),Xa("rtlMoveVisually",!p),Xa("wholeLineUpdateBefore",!0),Xa("theme","default",function(e){ba(e),Ea(e)},!0),Xa("keyMap","default",function(e,t,n){var r=Zo(t),i=n!=wa&&Zo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),Xa("extraKeys",null),Xa("configureMouse",null),Xa("lineWrapping",!1,$a,!0),Xa("gutters",[],function(e){yi(e.options),Ea(e)},!0),Xa("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?hr(e.display)+"px":"0",e.refresh()},!0),Xa("coverGutterNextToScrollbar",!1,function(e){return qr(e)},!0),Xa("scrollbarStyle","native",function(e){Wr(e),qr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Xa("lineNumbers",!1,function(e){yi(e.options),Ea(e)},!0),Xa("firstLineNumber",1,Ea,!0),Xa("lineNumberFormatter",function(e){return e},Ea,!0),Xa("showCursorWhenSelecting",!1,vr,!0),Xa("resetSelectionOnContextMenu",!0),Xa("lineWiseCopyCut",!0),Xa("pasteLinesPerSelection",!0),Xa("readOnly",!1,function(e,t){"nocursor"==t&&($r(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),Xa("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Xa("dragDrop",!0,_a),Xa("allowDropFileTypes",null),Xa("cursorBlinkRate",530),Xa("cursorScrollMargin",0),Xa("cursorHeight",1,vr,!0),Xa("singleCursorHeightPerLine",!0,vr,!0),Xa("workTime",100),Xa("workDelay",100),Xa("flattenSpans",!0,Ri,!0),Xa("addModeClass",!1,Ri,!0),Xa("pollInterval",100),Xa("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),Xa("historyEventDelay",1250),Xa("viewportMargin",10,function(e){return e.refresh()},!0),Xa("maxHighlightLength",1e4,Ri,!0),Xa("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Xa("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),Xa("autofocus",null),Xa("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),Ya=(Ga=Sa).optionHandlers,Ka=Ga.helpers={},Ga.prototype={constructor:Ga,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,Ya.hasOwnProperty(e)&&ti(this,Ya[e])(this,t,r),mt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Zo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ni(function(e,t){var n=e.token?e:Ga.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:n,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,ii(this)}),removeOverlay:ni(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void ii(this)}}),indentLine:ni(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),pe(this.doc,e)&&ka(this,e,t,n)}),indentSelection:ni(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(ka(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Rr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)ka(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&0<c[r].from().ch&&Zi(this.doc,r,new $i(o,c[r].to()),q)}}}),getTokenAt:function(e,t){return tn(this,e,t)},getLineTokens:function(e,t){return tn(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=Ee(this.doc,e);var t,n=Kt(this,le(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=1+a}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?Ga.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Ka.hasOwnProperty(t))return n;var r=Ka[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var s=0;s<r._global.length;s++){var l=r._global[s];l.pred(i,this)&&-1==j(n,l.val)&&n.push(l.val)}return n},getStateAfter:function(e,t){var n=this.doc;return Xt(this,(e=xe(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return rr(this,null==e?n.head:"object"==typeof e?Ee(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return nr(this,Ee(this.doc,e),t||"page")},coordsChar:function(e,t){return ar(this,(e=tr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=tr(this,{top:e,left:0},t||"page").top,fe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:o<e&&(e=o,i=!0),r=le(this.doc,e)}else r=e;return er(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-We(r):0)},defaultTextHeight:function(){return cr(this.display)},defaultCharWidth:function(){return ur(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,a,s,l=this.display,c=(e=rr(this,Ee(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==r)c=e.top;else if("above"==r||"near"==r){var d=Math.max(l.wrapper.clientHeight,this.doc.height),h=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>d)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=d&&(c=e.bottom),u+t.offsetWidth>h&&(u=h-t.offsetWidth)}t.style.top=c+"px",t.style.left=t.style.right="","right"==i?(u=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&(o=this,a={left:u,top:c,right:u+t.offsetWidth,bottom:c+t.offsetHeight},null!=(s=Nr(o,a)).scrollTop&&Lr(o,s.scrollTop),null!=s.scrollLeft&&Hr(o,s.scrollLeft))},triggerOnKeyDown:ni(la),triggerOnKeyPress:ni(ua),triggerOnKeyUp:ca,triggerOnMouseDown:ni(pa),execCommand:function(e){if(ea.hasOwnProperty(e))return ea[e].call(null,this)},triggerElectric:ni(function(e){Ra(this,e)}),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=Ee(this.doc,e),a=0;a<t&&!(o=La(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:ni(function(t,n){var r=this;this.extendSelectionsBy(function(e){return r.display.shift||r.doc.extend||e.empty()?La(r.doc,e.head,t,n,r.options.rtlMoveVisually):t<0?e.from():e.to()},V)}),deleteH:ni(function(n,r){var e=this.doc.sel,i=this.doc;e.somethingSelected()?i.replaceSelection("",null,"+delete"):Jo(this,function(e){var t=La(i,e.head,n,r,!1);return n<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=Ee(this.doc,e),s=0;s<t;++s){var l=rr(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Fa(this,l,i,n)).hitSide)break}return a},moveV:ni(function(r,i){var o=this,a=this.doc,s=[],l=!this.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy(function(e){if(l)return r<0?e.from():e.to();var t=rr(o,e.head,"div");null!=e.goalColumn&&(t.left=e.goalColumn),s.push(t.left);var n=Fa(o,t,r,i);return"page"==i&&e==a.sel.primary()&&Pr(o,nr(o,n,"div").top-t.top),n},V),s.length)for(var e=0;e<a.sel.ranges.length;e++)a.sel.ranges[e].goalColumn=s[e]}),findWordAt:function(e){var t=le(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=te(o,i)?function(e){return te(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};0<n&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new $i(ge(e.line,n),ge(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?R:S)(this.display.cursorDiv,"CodeMirror-overwrite"),mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==P()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ni(function(e,t){Dr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ln(this)-this.display.barHeight,width:e.scrollWidth-Ln(this)-this.display.barWidth,clientHeight:Hn(this),clientWidth:Fn(this)}},scrollIntoView:ni(function(e,t){var n,r;null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(r=e,Or(n=this),n.curOp.scrollToPos=r):Ir(this,e.from,e.to,e.margin)}),setSize:ni(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Xn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){oi(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,mt(this,"refresh",this)}),operation:function(e){return ei(this,e)},refresh:ni(function(){var e=this.display.cachedTextHeight;ii(this),this.curOp.forceUpdate=!0,Qn(this),Dr(this,this.doc.scrollLeft,this.doc.scrollTop),mi(this),(null==e||.5<Math.abs(e-cr(this.display)))&&pr(this),mt(this,"refresh",this)}),swapDoc:ni(function(e){var t=this.doc;return t.cm=null,Li(this,e),Qn(this),this.display.input.reset(),Dr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wn(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bt(Ga),Ga.registerHelper=function(e,t,n){Ka.hasOwnProperty(e)||(Ka[e]=Ga[e]={_global:[]}),Ka[e][t]=n},Ga.registerGlobalHelper=function(e,t,n,r){Ga.registerHelper(e,t,r),Ka[e]._global.push({pred:n,val:r})};var Qa,Za="iter insert remove copy getEditor constructor".split(" ");for(var Ja in Ro.prototype)Ro.prototype.hasOwnProperty(Ja)&&j(Za,Ja)<0&&(Sa.prototype[Ja]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ro.prototype[Ja]));return bt(Ro),Sa.inputStyles={textarea:za,contenteditable:Ha},Sa.defineMode=function(e){Sa.defaults.mode||"null"==e||(Sa.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),It[e]=t}.apply(this,arguments)},Sa.defineMIME=function(e,t){Lt[e]=t},Sa.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Sa.defineMIME("text/plain","null"),Sa.defineExtension=function(e,t){Sa.prototype[e]=t},Sa.defineDocExtension=function(e,t){Ro.prototype[e]=t},Sa.fromTextArea=function(t,e){if((e=e?L(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=P();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=s.getValue()}var i;if(t.form&&(ht(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}e.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(pt(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=i))}},t.style.display="none";var s=Sa(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return s},(Qa=Sa).off=pt,Qa.on=ht,Qa.wheelEventPixels=xi,Qa.Doc=Ro,Qa.splitLines=Pt,Qa.countColumn=F,Qa.findColumn=W,Qa.isWordChar=ee,Qa.Pass=U,Qa.signal=mt,Qa.Line=on,Qa.changeEnd=ki,Qa.scrollbarModel=Vr,Qa.Pos=ge,Qa.cmpPos=ve,Qa.modes=It,Qa.mimeModes=Lt,Qa.resolveMode=Ft,Qa.getMode=Ht,Qa.modeExtensions=jt,Qa.extendMode=Bt,Qa.copyState=Ut,Qa.startState=zt,Qa.innerMode=qt,Qa.commands=ea,Qa.keyMap=Vo,Qa.keyName=Qo,Qa.isModifierKey=Ko,Qa.lookupKey=Yo,Qa.normalizeKeyMap=Go,Qa.StringStream=Vt,Qa.SharedTextMarker=To,Qa.TextMarker=Ao,Qa.LineWidget=_o,Qa.e_preventDefault=wt,Qa.e_stopPropagation=Ct,Qa.e_stop=Et,Qa.addClass=R,Qa.contains=N,Qa.rmClass=S,Qa.keyNames=Bo,Sa.version="5.27.4",Sa}),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"],function(d){"use strict";function e(i){return{require:"?ngModel",restrict:"A",link:function(a,e,t,n){function s(){var e=r(a);return d.isObject(e)&&e.hasOwnProperty("$viewValue")&&(e=e.$viewValue),e}if(n&&t.match){var r=i(t.match),l=i(t.matchCaseless),c=i(t.notMatch),u=i(t.matchIgnoreEmpty);a.$watch(s,function(){n.$$parseAndValidate()}),n.$validators.match=function(e,t){var n,r=e||t,i=s(),o=c(a);return!(!u(a)||t)||(n=l(a)?d.lowercase(r)===d.lowercase(i):r===i,!!(n^=o))}}}}}e.$inject=["$parse"],d.module("validation.match",[]),d.module("validation.match").directive("match",e)}((window,window.angular));var duScrollDefaultEasing=function(e){"use strict";return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");function diff_match_patch(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(a,f,p,m,g,i,s,v){"use strict";function l(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE}function c(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE}function u(e){return c(e)||l(e)?e:e[0]}var y,b,e={};e.duScrollTo=function(e,t,n,r){var i;if(angular.isElement(e)?i=this.duScrollToElement:angular.isDefined(n)&&(i=this.duScrollToAnimated),i)return i.apply(this,arguments);var o=u(this);if(l(o))return a.scrollTo(e,t);o.scrollLeft=e,o.scrollTop=t},e.duScrollToAnimated=function(e,t,n,r){n&&!r&&(r=g);var i=this.duScrollLeft(),o=this.duScrollTop(),a=Math.round(e-i),s=Math.round(t-o),l=null,c=0,u=this,d=function(e){(!e||c&&0<e.which)&&(v&&u.unbind(v,d),p(y),b.reject(),y=null)};if(y&&d(),b=f.defer(),0===n||!a&&!s)return 0===n&&u.duScrollTo(e,t),b.resolve(),b.promise;var h=function(e){null===l&&(l=e);var t=n<=(c=e-l)?1:r(c/n);u.scrollTo(i+Math.ceil(a*t),o+Math.ceil(s*t)),t<1?y=m(h):(v&&u.unbind(v,d),y=null,b.resolve())};return u.duScrollTo(i,o),v&&u.bind(v,d),y=m(h),b.promise},e.duScrollToElement=function(e,t,n,r){var i=u(this);angular.isNumber(t)&&!isNaN(t)||(t=s);var o=this.duScrollTop()+u(e).getBoundingClientRect().top-t;return c(i)&&(o-=i.getBoundingClientRect().top),this.duScrollTo(0,o,n,r)},e.duScrollLeft=function(e,t,n){if(angular.isNumber(e))return this.duScrollTo(e,this.duScrollTop(),t,n);var r=u(this);return l(r)?a.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},e.duScrollTop=function(e,t,n){if(angular.isNumber(e))return this.duScrollTo(this.duScrollLeft(),e,t,n);var r=u(this);return l(r)?a.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop},e.duScrollToElementAnimated=function(e,t,n,r){return this.duScrollToElement(e,t,n||i,r)},e.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||i,n)},e.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||i,n)},angular.forEach(e,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(o){"use strict";var a=["webkit","moz","o","ms"];return function(e,t){if(o[e])return o[e];for(var n,r=e.substr(0,1).toUpperCase()+e.substr(1),i=0;i<a.length;i++)if(o[n=a[i]+r])return o[n];return t}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,o){"use strict";var a=0;return e("requestAnimationFrame",function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-a)),i=o(function(){e(n+r)},r);return a=n+r,i})}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";return e("cancelAnimationFrame",function(e){t.cancel(e)})}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(f,n,i,p,m,r,g,o,a,v,y){"use strict";function s(d){function e(){h=!1;var e,t=d.container[0],n=0;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||t.nodeType&&t.nodeType===t.ELEMENT_NODE)n=t.getBoundingClientRect().top,e=Math.round(t.scrollTop+t.clientHeight)>=t.scrollHeight;else{var r=m[0].body.scrollHeight||m[0].documentElement.scrollHeight;e=Math.round(p.pageYOffset+p.innerHeight)>=r}var i,o,a,s,l,c,u=v&&e?"bottom":"top";for(s=d.spies,o=d.currentlyActive,a=void 0,i=0;i<s.length;i++)(c=(l=s[i]).getTargetPosition())&&l.$element&&(v&&e||c.top+l.offset-n<20&&(g||-1*c.top+n)<c.height)&&(!a||a[u]<c[u])&&((a={spy:l})[u]=c[u]);o===(a=a&&a.spy)||g&&!a||(o&&o.$element&&(o.$element.removeClass(y),f.$broadcast("duScrollspy:becameInactive",o.$element,angular.element(o.getTargetElement()))),a&&(a.$element.addClass(y),f.$broadcast("duScrollspy:becameActive",a.$element,angular.element(a.getTargetElement()))),d.currentlyActive=a)}var t=!1,h=!1;return o?function(){t?h=!0:(e(),t=n(function(){t=!1,h&&e()},o,!1))}:e}function e(e){var t=e.$id,n={spies:[]};return n.handler=s(n),c[t]=n,e.$on("$destroy",function(){u(e)}),t}function l(e){var t,n,r=e.$scope;if(r)return d(r);for(n in c)if(-1!==(t=c[n]).spies.indexOf(e))return t}var c={},u=function(e){var t=e.$id,n=c[t],r=n.container;n.intervalPromise&&i.cancel(n.intervalPromise),r&&r.off("scroll",n.handler),delete c[t]},t=e(f),d=function(e){return c[e.$id]?c[e.$id]:e.$parent?d(e.$parent):c[t]};return{addSpy:function(e){var t=l(e);t&&(t.spies.push(e),t.container&&function(e){for(;e.parentNode;)if((e=e.parentNode)===document)return!0;return!1}(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=r.getContainer(e.$scope),a&&!t.intervalPromise&&(t.intervalPromise=i(t.handler,a,0,!1)),t.container.on("scroll",t.handler).triggerHandler("scroll")))},removeSpy:function(e){var t=l(e);e===t.currentlyActive&&(f.$broadcast("duScrollspy:becameInactive",t.currentlyActive.$element),t.currentlyActive=null);var n=t.spies.indexOf(e);-1!==n&&t.spies.splice(n,1),e.$element=null},createContext:e,destroyContext:u,getContextForScope:d}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(n){"use strict";var r={},i=function(e){return r[e.$id]?e.$id:e.$parent?i(e.$parent):void 0};return{getContainerId:i,getContainer:function(e){var t=i(e);return t?r[t]:n},setContainer:function(e,t){var n=e.$id;return r[n]=t,n},removeContainer:function(e){var t=i(e);t&&delete r[t]}}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(s,l,c){"use strict";return{link:function(o,e,a){e.on("click",function(e){if(a.href&&-1!==a.href.indexOf("#")||""!==a.duSmoothScroll){var t=a.href?a.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):a.duSmoothScroll,n=document.getElementById(t)||document.getElementsByName(t)[0];if(n&&n.getBoundingClientRect){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var r=a.offset?parseInt(a.offset,10):l,i=a.duration?parseInt(a.duration,10):s;c.getContainer(o).duScrollToElement(angular.element(n),isNaN(r)?0:r,isNaN(i)?0:i)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e){t.createContext(e)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(r){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,n,e){e.$observe("duScrollContainer",function(e){angular.isString(e)&&(e=document.getElementById(e)),e=angular.isElement(e)?angular.element(e):n,r.setContainer(t,e),t.$on("$destroy",function(){r.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(a,s,l,c){"use strict";function u(e,t,n,r){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=r}return u.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},u.prototype.getTargetPosition=function(){var e=this.getTargetElement();if(e)return e.getBoundingClientRect()},u.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(n,r,i){var o,e=i.ngHref||i.href;if(e&&-1!==e.indexOf("#")?o=e.replace(/.*(?=#[^\s]+$)/,"").substring(1):i.duScrollspy?o=i.duScrollspy:i.duSmoothScroll&&(o=i.duSmoothScroll),o){var t=l(function(){var e=new u(o,n,r,-(i.offset?parseInt(i.offset,10):s));a.addSpy(e),n.$on("$locationChangeSuccess",e.flushTargetCache.bind(e));var t=c.$on("$stateChangeSuccess",e.flushTargetCache.bind(e));n.$on("$destroy",function(){a.removeSpy(e),t()})},0,!1);n.$on("$destroy",function(){l.cancel(t)})}}}}]),function(A){"use strict";function e(f,p){function t(t,n,e,r){var i=r.shift(),o=r.shift();function a(){Array.prototype.some.call(n.find("md-icon"),function(e){return e.classList.contains("md-sort-icon")&&n[0].removeChild(e)}),n.removeClass("md-sort").off("click",d)}function s(){var e;e=A.element('<md-icon md-svg-icon="arrow-up.svg">'),f(e.addClass("md-sort-icon").attr("ng-class","getDirection()"))(t),n.hasClass("md-numeric")?n.prepend(e):n.append(e),n.addClass("md-sort").on("click",d)}function l(){return Array.prototype.indexOf.call(n.parent().children(),n[0])}function c(){return t.orderBy&&(i.order===t.orderBy||i.order==="-"+t.orderBy)}function u(){return""===e.mdNumeric||t.numeric}function d(){t.$applyAsync(function(){c()?i.order="md-asc"===t.getDirection()?"-"+t.orderBy:t.orderBy:i.order="md-asc"===t.getDirection()?t.orderBy:"-"+t.orderBy,A.isFunction(i.onReorder)&&p.nextTick(function(){i.onReorder(i.order)})})}function h(e,t){(o.$$columns[e]=t).numeric?n.addClass("md-numeric"):n.removeClass("md-numeric")}t.getDirection=function(){return c()?"-"===i.order.charAt(0)?"md-desc":"md-asc":""===e.mdDesc||t.$eval(e.mdDesc)?"md-desc":"md-asc"},t.$watch(c,function(e){e?n.addClass("md-active"):n.removeClass("md-active")}),t.$watch(l,function(e){h(e,{numeric:u()})}),t.$watch(u,function(e){h(l(),{numeric:e})}),t.$watch("orderBy",function(e){e?n.hasClass("md-sort")||s():n.hasClass("md-sort")&&a()})}return{compile:function(e){return e.addClass("md-column"),t},require:["^^mdHead","^^mdTable"],restrict:"A",scope:{numeric:"=?mdNumeric",orderBy:"@?mdOrderBy"}}}function t(o){return function(e,t,n,r){if(n&&"object"==typeof n){var i=o(e,t,!0,r);return A.extend(i.instance,n),i()}return o(e,t,n,r)}}function n(b,w,e,C,o,x,a,s,E){var _=27,$=!1,S=A.element(e.prop("body")),l={clickOutsideToClose:!0,disableScroll:!0,escToClose:!0,focusOnOpen:!0};function c(e,t){var n,r,i,o,a,s,l,c,u,d,h,f=x.$new(),p=b(e)(f),m=C.createBackdrop(f,"md-edit-dialog-backdrop");function g(){return o.prop("clientHeight")}function v(){var e,t={width:l(),height:g()},n=a.getBoundingClientRect(),r="MD-TABLE-CONTAINER"===(e=s.parent()).prop("tagName")?e[0].getBoundingClientRect():s[0].getBoundingClientRect();t.width>r.right-n.left?o.css("left",r.right-t.width+"px"):o.css("left",n.left+"px"),t.height>r.bottom-n.top?o.css("top",r.bottom-t.height+"px"):o.css("top",n.top+1+"px"),o.css("minWidth",n.width+"px")}function y(e){e.keyCode===_&&h.remove()}return t.controller?n=function(e,t,n){if(!e.controller)return;e.resolve&&A.extend(n,e.resolve);e.locals&&A.extend(n,e.locals);e.controllerAs?(t[e.controllerAs]={},e.bindToController?A.extend(t[e.controllerAs],e.scope):A.extend(t,e.scope)):A.extend(t,e.scope);return e.bindToController?w(e.controller,n,t[e.controllerAs]):w(e.controller,n)}(t,f,{$element:p,$scope:f}):A.extend(f,t.scope),t.disableScroll&&(r=p,i=C.disableScrollAround(r,S),r.on("$destroy",function(){i()})),S.prepend(m).append(p.addClass("md-whiteframe-1dp")),o=p,a=t.target,s=A.element(a).controller("mdCell").getTable(),l=function(){return o.prop("clientWidth")},c=x.$watch(l,v),u=x.$watch(g,v),E.addEventListener("resize",v),o.on("$destroy",function(){c(),u(),E.removeEventListener("resize",v)}),t.focusOnOpen&&(d=p,C.nextTick(function(){var e=C.findFocusTarget(d);e&&e.focus()},!1)),t.clickOutsideToClose&&m.on("click",function(){p.remove()}),t.escToClose&&(h=p,S.on("keyup",y),h.on("$destroy",function(){S.off("keyup",y)})),p.on("$destroy",function(){$=!1,m.remove()}),n}function u(e){$=!1,console.error(e)}function t(e,n){return{controller:["$element","$q","save","$scope",function(e,t,n,r){this.dismiss=function(){e.remove()},this.getInput=function(){return r.editDialog.input},r.dismiss=this.dismiss,r.submit=function(){(r.editDialog.$invalid?t.reject():A.isFunction(n)?t.when(n(r.editDialog.input)):t.resolve()).then(function(){r.dismiss()})}}],locals:{save:n.save},scope:{cancel:n.cancel||"Cancel",messages:n.messages,model:n.modelValue,ok:n.ok||"Save",placeholder:n.placeholder,title:n.title,size:e},template:'<md-edit-dialog><div layout="column" class="md-content"><div ng-if="size === \'large\'" class="md-title">{{title || \'Edit\'}}</div><form name="editDialog" layout="column" ng-submit="submit(model)"><md-input-container md-no-float><input name="input" ng-model="model" md-autofocus placeholder="{{placeholder}} "'+function(){var e='type="'+(n.type||"text")+'"';for(var t in n.validators)e+=" "+t+'="'+n.validators[t]+'"';return e}()+'><div ng-messages="editDialog.input.$error"><div ng-repeat="(key, message) in messages" ng-message="{{key}}">{{message}}</div></div></md-input-container></form></div><div ng-if="size === \'large\'" layout="row" layout-align="end" class="md-actions"><md-button class="md-primary" ng-click="dismiss()">{{cancel}}</md-button><md-button class="md-primary" ng-click="submit()">{{ok}}</md-button></div></md-edit-dialog>'}}return this.show=function(r){if($)return o.reject();if($=!0,!(r=A.extend({},l,r)).targetEvent)return u("options.targetEvent is required to align the dialog with the table cell.");if(!r.targetEvent.currentTarget.classList.contains("md-cell"))return u("The event target must be a table cell.");if(r.bindToController&&!r.controllerAs)return u("You must define options.controllerAs when options.bindToController is true.");r.target=r.targetEvent.currentTarget;var i,e=(i=r,o(function(t,e){var n=i.template;return n?A.isString(n)?t(n):void e("Unexpected template value. Expected a string; received a "+typeof n+"."):i.templateUrl?(n=a.get(i.templateUrl))?t(n):s(i.templateUrl).then(function(e){return t(e)},function(){return e("Error retrieving template from URL.")}):void e("Template not provided.")})),t=[e];for(var n in r.resolve)e=r.resolve[n],t.push(o.when(A.isFunction(e)?e():e));return(e=o.all(t)).catch(u),e.then(function(e){var t=e.shift();for(var n in r.resolve)r.resolve[n]=e.shift();return c(t,r)})},this.small=function(e){return this.show(A.extend({},e,t("small",e)))}.bind(this),this.large=function(e){return this.show(A.extend({},e,t("large",e)))}.bind(this),this}function r(s){function t(t,n,e,r){var i=new Array(2);function o(){n.prop("lastElementChild").firstElementChild.appendChild(s(A.element("<md-checkbox>").attr({"aria-label":"Select All","ng-click":"toggleAll()","ng-checked":"allSelected()","ng-disabled":"!getSelectableRows().length"}))(t)[0])}function a(e){return A.element(e).controller("mdSelect")}t.allSelected=function(){var e=t.getSelectableRows();return e.length&&e.every(function(e){return e.isSelected()})},t.getSelectableRows=function(){return r.getBodyRows().map(a).filter(function(e){return e&&!e.disabled})},t.selectAll=function(){r.getBodyRows().map(a).forEach(function(e){e&&!e.isSelected()&&e.select()})},t.toggleAll=function(){return t.allSelected()?t.unSelectAll():t.selectAll()},t.unSelectAll=function(){r.getBodyRows().map(a).forEach(function(e){e&&e.isSelected()&&e.deselect()})},t.$watchGroup([function(){return r.$$rowSelect},r.enableMultiSelect],function(e){var t;e[0]!==i[0]?e[0]?(n.children().prepend('<th class="md-column md-checkbox-column">'),e[1]&&o()):Array.prototype.some.call(n.find("th"),function(e){return e.classList.contains("md-checkbox-column")&&e.remove()}):e[0]&&e[1]!==i[1]&&(e[1]?o():(t=n.prop("lastElementChild").firstElementChild).classList.contains("md-checkbox-column")&&A.element(t).empty()),A.copy(e,i)})}return{bindToController:!0,compile:function(e){return e.addClass("md-head"),t},controller:function(){},controllerAs:"$mdHead",require:"^^mdTable",restrict:"A",scope:{order:"=?mdOrder",onReorder:"=?mdOnReorder"}}}function i(h,f){return{bindToController:!0,controller:function(){},controllerAs:"$mdSelect",link:function(t,n,e,r){var i=r.shift(),o=r.shift(),a=f(e.mdSelectId);if(i.id=a(i.model),o.$$rowSelect&&i.id)if(o.$$hash.has(i.id)){var s=o.selected.indexOf(o.$$hash.get(i.id));-1===s?o.$$hash.purge(i.id):o.$$hash.equals(i.id,i.model)||(o.$$hash.update(i.id,i.model),o.selected.splice(s,1,i.model))}else o.selected.some(function(e,t){if(a(e)===i.id)return o.$$hash.update(i.id,i.model),o.selected.splice(t,1,i.model),!0});function l(){return""===e.mdAutoSelect||i.autoSelect}function c(){var e;n.prepend((e=A.element("<md-checkbox>").attr({"aria-label":"Select Row","ng-click":"$mdSelect.toggle($event)","ng-checked":"$mdSelect.isSelected()","ng-disabled":"$mdSelect.disabled"}),A.element('<td class="md-cell md-checkbox-cell">').append(h(e)(t)))),l()&&n.on("click",d)}function u(e){i.id&&(o.$$hash.has(i.id)?-1===e.indexOf(o.$$hash.get(i.id))&&o.$$hash.purge(i.id):-1!==e.indexOf(i.model)&&o.$$hash.update(i.id,i.model))}function d(e){t.$applyAsync(function(){i.toggle(e)})}i.isSelected=function(){return!!o.$$rowSelect&&(i.id?o.$$hash.has(i.id):-1!==o.selected.indexOf(i.model))},i.select=function(){i.disabled||(o.enableMultiSelect()?o.selected.push(i.model):o.selected.splice(0,o.selected.length,i.model),A.isFunction(i.onSelect)&&i.onSelect(i.model))},i.deselect=function(){i.disabled||(o.selected.splice(o.selected.indexOf(i.model),1),A.isFunction(i.onDeselect)&&i.onDeselect(i.model))},i.toggle=function(e){return e&&e.stopPropagation&&e.stopPropagation(),i.isSelected()?i.deselect():i.select()},t.$watch(function(){return o.$$rowSelect},function(e){e?c():(Array.prototype.some.call(n.children(),function(e){return e.classList.contains("md-checkbox-cell")&&n[0].removeChild(e)}),l()&&n.off("click",d))}),t.$watch(l,function(e,t){e!==t&&(o.$$rowSelect&&e?n.on("click",d):n.off("click",d))}),t.$watch(i.isSelected,function(e){return e?n.addClass("md-selected"):n.removeClass("md-selected")}),t.$watch(o.enableMultiSelect,function(e){o.$$rowSelect&&!e&&o.selected.splice(1)}),o.registerModelChangeListener(u),n.on("$destroy",function(){o.removeModelChangeListener(u)})},require:["mdSelect","^^mdTable"],restrict:"A",scope:{model:"=mdSelect",disabled:"=ngDisabled",onSelect:"=?mdOnSelect",onDeselect:"=?mdOnDeselect",autoSelect:"=mdAutoSelect"}}}function l(){var n={};this.equals=function(e,t){return n[e]===t},this.get=function(e){return n[e]},this.has=function(e){return n.hasOwnProperty(e)},this.purge=function(e){delete n[e]},this.update=function(e,t){n[e]=t}}A.module("md.table.templates",["md-table-pagination.html","md-table-progress.html","arrow-up.svg","navigate-before.svg","navigate-first.svg","navigate-last.svg","navigate-next.svg"]),A.module("md-table-pagination.html",[]).run(["$templateCache",function(e){e.put("md-table-pagination.html",'<div class="page-select" ng-if="$pagination.showPageSelect()">\n  <div class="label">{{$pagination.label.page}}</div>\n\n  <md-select virtual-page-select total="{{$pagination.pages()}}" class="md-table-select" ng-model="$pagination.page" md-container-class="md-pagination-select" ng-change="$pagination.onPaginationChange()" ng-disabled="$pagination.disabled" aria-label="Page">\n    <md-content>\n      <md-option ng-repeat="page in $pageSelect.pages" ng-value="page">{{page}}</md-option>\n    </md-content>\n  </md-select>\n</div>\n\n<div class="limit-select" ng-if="$pagination.limitOptions">\n  <div class="label">{{$pagination.label.rowsPerPage}}</div>\n\n  <md-select class="md-table-select" ng-model="$pagination.limit" md-container-class="md-pagination-select" ng-disabled="$pagination.disabled" aria-label="Rows" placeholder="{{ $pagination.limitOptions[0] }}">\n    <md-option ng-repeat="option in $pagination.limitOptions" ng-value="option.value ? $pagination.eval(option.value) : option">{{::option.label ? option.label : option}}</md-option>\n  </md-select>\n</div>\n\n<div class="buttons">\n  <div class="label">{{$pagination.min()}} - {{$pagination.max()}} {{$pagination.label.of}} {{$pagination.total}}</div>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.first()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="First">\n    <md-icon md-svg-icon="navigate-first.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.previous()" ng-disabled="$pagination.disabled || !$pagination.hasPrevious()" aria-label="Previous">\n    <md-icon md-svg-icon="navigate-before.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-click="$pagination.next()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Next">\n    <md-icon md-svg-icon="navigate-next.svg"></md-icon>\n  </md-button>\n\n  <md-button class="md-icon-button" type="button" ng-if="$pagination.showBoundaryLinks()" ng-click="$pagination.last()" ng-disabled="$pagination.disabled || !$pagination.hasNext()" aria-label="Last">\n    <md-icon md-svg-icon="navigate-last.svg"></md-icon>\n  </md-button>\n</div>')}]),A.module("md-table-progress.html",[]).run(["$templateCache",function(e){e.put("md-table-progress.html",'<tr>\n  <th colspan="{{columnCount()}}">\n    <md-progress-linear ng-show="deferred()" md-mode="indeterminate"></md-progress-linear>\n  </th>\n</tr>')}]),A.module("arrow-up.svg",[]).run(["$templateCache",function(e){e.put("arrow-up.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>')}]),A.module("navigate-before.svg",[]).run(["$templateCache",function(e){e.put("navigate-before.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>')}]),A.module("navigate-first.svg",[]).run(["$templateCache",function(e){e.put("navigate-first.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 6 v12 h2 v-12 h-2z M17.41 7.41L16 6l-6 6 6 6 1.41-1.41L12.83 12z"/></svg>')}]),A.module("navigate-last.svg",[]).run(["$templateCache",function(e){e.put("navigate-last.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 6 v12 h2 v-12 h-2z M8 6L6.59 7.41 11.17 12l-4.58 4.59L8 18l6-6z"/></svg>')}]),A.module("navigate-next.svg",[]).run(["$templateCache",function(e){e.put("navigate-next.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>')}]),A.module("md.data.table",["md.table.templates"]),A.module("md.data.table").directive("mdBody",function(){return{compile:function(e){e.addClass("md-body")},restrict:"A"}}),A.module("md.data.table").directive("mdCell",function(){function n(e,t,n,r){var i=t.find("md-select"),o=r.shift(),a=r.shift();n.ngClick&&t.addClass("md-clickable"),i.length&&(i.on("click",function(e){e.stopPropagation()}),t.addClass("md-clickable").on("click",function(e){e.stopPropagation(),i[0].click()})),o.getTable=a.getElement,e.$watch(function(){return a.$$columns[Array.prototype.indexOf.call(t.parent().children(),t[0])]},function(e){e&&(e.numeric?t.addClass("md-numeric"):t.removeClass("md-numeric"))})}return{controller:function(){},compile:function(e){var t=e.find("md-select");return t.length&&t.addClass("md-table-select").attr("md-container-class","md-table-select"),e.addClass("md-cell"),n},require:["mdCell","^^mdTable"],restrict:"A"}}),A.module("md.data.table").directive("mdColumn",e),e.$inject=["$compile","$mdUtil"],A.module("md.data.table").decorator("$controller",t).factory("$mdEditDialog",n),t.$inject=["$delegate"],n.$inject=["$compile","$controller","$document","$mdUtil","$q","$rootScope","$templateCache","$templateRequest","$window"],A.module("md.data.table").directive("mdFoot",function(){return{compile:function(e){e.addClass("md-foot")},restrict:"A"}}),A.module("md.data.table").directive("mdHead",r),r.$inject=["$compile"],A.module("md.data.table").directive("mdRow",function(){function t(e,t,n,r){function i(e){return t[0].contains(e[0])}if(-1!==r.getBodyRows().indexOf(t[0])){var o=A.element('<td class="md-cell">');e.$watch(function(){return r.$$rowSelect},function(e){!e||n.mdSelect?i(o)&&o.remove():i(o)||t.prepend(o)})}}return{compile:function(e){return e.addClass("md-row"),t},require:"^^mdTable",restrict:"A"}}),A.module("md.data.table").directive("mdSelect",i),i.$inject=["$compile","$parse"],A.module("md.data.table").directive("mdTable",function(){function e(e,t,n,r){var i,o=this,a=[],s=[];o.$$hash=new l,o.$$columns={},o.columnCount=function(){return o.getRows(t[0]).reduce(function(e,t){return t.cells.length>e?t.cells.length:e},0)},o.getRows=function(e){return Array.prototype.filter.call(e.rows,function(e){return!e.classList.contains("ng-leave")})},o.getBodyRows=function(){return Array.prototype.reduce.call(t.prop("tBodies"),function(e,t){return e.concat(o.getRows(t))},[])},o.getElement=function(){return t},o.getHeaderRows=function(){return o.getRows(t.prop("tHead"))},o.enableMultiSelect=function(){return""===e.multiple||r.$eval(e.multiple)},o.waitingOnPromise=function(){return!!a.length},o.queuePromise=function(e){e&&1===a.push(A.isArray(e)?n.all(e):n.when(e))&&!function e(){if(!a.length)return r.$applyAsync();a[0].finally(function(){a.shift(),e()})}()},o.registerModelChangeListener=function(e){s.push(e)},o.removeModelChangeListener=function(e){var t=s.indexOf(e);-1!==t&&s.splice(t,1)},e.hasOwnProperty("mdProgress")&&r.$watch("$mdTable.progress",o.queuePromise),r.$watch(function(){return""===e.mdRowSelect||o.rowSelect},function(e){e&&(o.selected?A.isArray(o.selected)||console.error("Row selection: Expected an array. Recived "+typeof o.selected+"."):console.error("Row selection: ngModel is not defined."))?(o.$$rowSelect=!0,i=r.$watchCollection("$mdTable.selected",function(t){s.forEach(function(e){e(t)})}),t.addClass("md-row-select")):(o.$$rowSelect=!1,A.isFunction(i)&&i(),t.removeClass("md-row-select"))})}return e.$inject=["$attrs","$element","$q","$scope"],{bindToController:!0,compile:function(e,t){if(e.addClass("md-table"),t.hasOwnProperty("mdProgress")){var n=e.find("tbody")[0],r=A.element('<thead class="md-table-progress" md-table-progress>');n&&e[0].insertBefore(r[0],n)}},controller:e,controllerAs:"$mdTable",restrict:"A",scope:{progress:"=?mdProgress",selected:"=ngModel",rowSelect:"=mdRowSelect"}}}),A.module("md.data.table").directive("mdTablePagination",function(){function e(e,t,n){var r=this,i={page:"Page:",rowsPerPage:"Rows per page:",of:"of"};function o(e){return 0<parseInt(e,10)}r.label=A.copy(i),r.eval=function(e){return n.$eval(e)},r.first=function(){r.page=1,r.onPaginationChange()},r.hasNext=function(){return r.page*r.limit<r.total},r.hasPrevious=function(){return 1<r.page},r.last=function(){r.page=r.pages(),r.onPaginationChange()},r.max=function(){return r.hasNext()?r.page*r.limit:r.total},r.min=function(){return o(r.total)?r.page*r.limit-r.limit+1:0},r.next=function(){r.page++,r.onPaginationChange()},r.onPaginationChange=function(){A.isFunction(r.onPaginate)&&t.nextTick(function(){r.onPaginate(r.page,r.limit)})},r.pages=function(){return o(r.total)?Math.ceil(r.total/(o(r.limit)?r.limit:1)):1},r.previous=function(){r.page--,r.onPaginationChange()},r.showBoundaryLinks=function(){return""===e.mdBoundaryLinks||r.boundaryLinks},r.showPageSelect=function(){return""===e.mdPageSelect||r.pageSelect},n.$watch("$pagination.limit",function(e,t){isNaN(e)||isNaN(t)||e===t||(r.page=Math.floor((r.page*t-t+e)/(o(e)?e:1)),r.onPaginationChange())}),e.$observe("mdLabel",function(e){A.extend(r.label,i,n.$eval(e))}),n.$watch("$pagination.total",function(e,t){isNaN(e)||e===t||r.page>r.pages()&&r.last()})}return e.$inject=["$attrs","$mdUtil","$scope"],{bindToController:{boundaryLinks:"=?mdBoundaryLinks",disabled:"=ngDisabled",limit:"=mdLimit",page:"=mdPage",pageSelect:"=?mdPageSelect",onPaginate:"=?mdOnPaginate",limitOptions:"=?mdLimitOptions",total:"@mdTotal"},compile:function(e){e.addClass("md-table-pagination")},controller:e,controllerAs:"$pagination",restrict:"E",scope:{},templateUrl:"md-table-pagination.html"}}),A.module("md.data.table").directive("mdTableProgress",function(){return{link:function(e,t,n,r){e.columnCount=r.columnCount,e.deferred=r.waitingOnPromise},require:"^^mdTable",restrict:"A",scope:{},templateUrl:"md-table-progress.html"}}),A.module("md.data.table").directive("virtualPageSelect",function(){function e(e,t){var n=this,r=e.find("md-content");function i(e,t){return Math.min(e,isFinite(t)&&0<t?t:1)}function o(e){if(n.pages.length>e)return n.pages.splice(e);for(var t=n.pages.length;t<e;t++)n.pages.push(t+1)}n.pages=[],r.on("scroll",function(){r.prop("clientHeight")+r.prop("scrollTop")>=r.prop("scrollHeight")&&t.$applyAsync(function(){o(i(n.pages.length+10,n.total))})}),t.$watch("$pageSelect.total",function(e){o(i(Math.max(n.pages.length,10),e))}),t.$watch("$pagination.page",function(e){for(var t=n.pages.length;t<e;t++)n.pages.push(t+1)})}return e.$inject=["$element","$scope"],{bindToController:{total:"@"},controller:e,controllerAs:"$pageSelect"}})}((window,angular));var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;diff_match_patch.Diff,diff_match_patch.prototype.diff_main=function(e,t,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[DIFF_EQUAL,e]]:[];void 0===n&&(n=!0);var o=n,a=this.diff_commonPrefix(e,t),s=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var l=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var c=this.diff_compute_(e,t,o,i);return s&&c.unshift([DIFF_EQUAL,s]),l&&c.push([DIFF_EQUAL,l]),this.diff_cleanupMerge(c),c},diff_match_patch.prototype.diff_compute_=function(e,t,n,r){var i;if(!e)return[[DIFF_INSERT,t]];if(!t)return[[DIFF_DELETE,e]];var o=e.length>t.length?e:t,a=e.length>t.length?t:e,s=o.indexOf(a);if(-1!=s)return i=[[DIFF_INSERT,o.substring(0,s)],[DIFF_EQUAL,a],[DIFF_INSERT,o.substring(s+a.length)]],e.length>t.length&&(i[0][0]=i[2][0]=DIFF_DELETE),i;if(1==a.length)return[[DIFF_DELETE,e],[DIFF_INSERT,t]];var l=this.diff_halfMatch_(e,t);if(l){var c=l[0],u=l[1],d=l[2],h=l[3],f=l[4],p=this.diff_main(c,d,n,r),m=this.diff_main(u,h,n,r);return p.concat([[DIFF_EQUAL,f]],m)}return n&&100<e.length&&100<t.length?this.diff_lineMode_(e,t,r):this.diff_bisect_(e,t,r)},diff_match_patch.prototype.diff_lineMode_=function(e,t,n){e=(u=this.diff_linesToChars_(e,t)).chars1,t=u.chars2;var r=u.lineArray,i=this.diff_main(e,t,!1,n);this.diff_charsToLines_(i,r),this.diff_cleanupSemantic(i),i.push([DIFF_EQUAL,""]);for(var o=0,a=0,s=0,l="",c="";o<i.length;){switch(i[o][0]){case DIFF_INSERT:s++,c+=i[o][1];break;case DIFF_DELETE:a++,l+=i[o][1];break;case DIFF_EQUAL:if(1<=a&&1<=s){i.splice(o-a-s,a+s),o=o-a-s;for(var u,d=(u=this.diff_main(l,c,!1,n)).length-1;0<=d;d--)i.splice(o,0,u[d]);o+=u.length}a=s=0,c=l=""}o++}return i.pop(),i},diff_match_patch.prototype.diff_bisect_=function(e,t,n){for(var r=e.length,i=t.length,o=Math.ceil((r+i)/2),a=o,s=2*o,l=new Array(s),c=new Array(s),u=0;u<s;u++)l[u]=-1,c[u]=-1;l[a+1]=0;for(var d=r-i,h=d%2!=(c[a+1]=0),f=0,p=0,m=0,g=0,v=0;v<o&&!((new Date).getTime()>n);v++){for(var y=-v+f;y<=v-p;y+=2){for(var b=a+y,w=($=y==-v||y!=v&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1)-y;$<r&&w<i&&e.charAt($)==t.charAt(w);)$++,w++;if(r<(l[b]=$))p+=2;else if(i<w)f+=2;else if(h){if(0<=(E=a+d-y)&&E<s&&-1!=c[E])if((x=r-c[E])<=$)return this.diff_bisectSplit_(e,t,$,w,n)}}for(var C=-v+m;C<=v-g;C+=2){for(var x,E=a+C,_=(x=C==-v||C!=v&&c[E-1]<c[E+1]?c[E+1]:c[E-1]+1)-C;x<r&&_<i&&e.charAt(r-x-1)==t.charAt(i-_-1);)x++,_++;if(r<(c[E]=x))g+=2;else if(i<_)m+=2;else if(!h){if(0<=(b=a+d-C)&&b<s&&-1!=l[b]){var $;w=a+($=l[b])-b;if((x=r-x)<=$)return this.diff_bisectSplit_(e,t,$,w,n)}}}}return[[DIFF_DELETE,e],[DIFF_INSERT,t]]},diff_match_patch.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),l=t.substring(r),c=this.diff_main(o,a,!1,i),u=this.diff_main(s,l,!1,i);return c.concat(u)},diff_match_patch.prototype.diff_linesToChars_=function(e,t){var a=[],s={};function n(e){for(var t="",n=0,r=-1,i=a.length;r<e.length-1;){-1==(r=e.indexOf("\n",n))&&(r=e.length-1);var o=e.substring(n,r+1);n=r+1,(s.hasOwnProperty?s.hasOwnProperty(o):void 0!==s[o])?t+=String.fromCharCode(s[o]):(t+=String.fromCharCode(i),s[o]=i,a[i++]=o)}return t}return a[0]="",{chars1:n(e),chars2:n(t),lineArray:a}},diff_match_patch.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},diff_match_patch.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},diff_match_patch.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},diff_match_patch.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;r<n?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,a=1;;){var s=e.substring(i-a),l=t.indexOf(s);if(-1==l)return o;a+=l,0!=l&&e.substring(i-a)!=t.substring(0,a)||(o=a,a++)}},diff_match_patch.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var h=this;function i(e,t,n){for(var r,i,o,a,s=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!=(l=t.indexOf(s,l+1));){var u=h.diff_commonPrefix(e.substring(n),t.substring(l)),d=h.diff_commonSuffix(e.substring(0,n),t.substring(0,l));c.length<d+u&&(c=t.substring(l-d,l)+t.substring(l,l+u),r=e.substring(0,n-d),i=e.substring(n+u),o=t.substring(0,l-d),a=t.substring(l+u))}return 2*c.length>=e.length?[r,i,o,a,c]:null}var o,a,s,l,c,u=i(n,r,Math.ceil(n.length/4)),d=i(n,r,Math.ceil(n.length/2));return u||d?(o=!d||u&&u[4].length>d[4].length?u:d,e.length>t.length?(a=o[0],s=o[1],l=o[2],c=o[3]):(l=o[0],c=o[1],a=o[2],s=o[3]),[a,s,l,c,o[4]]):null},diff_match_patch.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],r=0,i=null,o=0,a=0,s=0,l=0,c=0;o<e.length;)e[o][0]==DIFF_EQUAL?(a=l,s=c,c=l=0,i=e[n[r++]=o][1]):(e[o][0]==DIFF_INSERT?l+=e[o][1].length:c+=e[o][1].length,i&&i.length<=Math.max(a,s)&&i.length<=Math.max(l,c)&&(e.splice(n[r-1],0,[DIFF_DELETE,i]),e[n[r-1]+1][0]=DIFF_INSERT,r--,o=0<--r?n[r-1]:-1,c=l=s=a=0,t=!(i=null))),o++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),o=1;o<e.length;){if(e[o-1][0]==DIFF_DELETE&&e[o][0]==DIFF_INSERT){var u=e[o-1][1],d=e[o][1],h=this.diff_commonOverlap_(u,d),f=this.diff_commonOverlap_(d,u);f<=h?(h>=u.length/2||h>=d.length/2)&&(e.splice(o,0,[DIFF_EQUAL,d.substring(0,h)]),e[o-1][1]=u.substring(0,u.length-h),e[o+1][1]=d.substring(h),o++):(f>=u.length/2||f>=d.length/2)&&(e.splice(o,0,[DIFF_EQUAL,u.substring(0,f)]),e[o-1][0]=DIFF_INSERT,e[o-1][1]=d.substring(0,d.length-f),e[o+1][0]=DIFF_DELETE,e[o+1][1]=u.substring(f),o++),o++}o++}},diff_match_patch.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(diff_match_patch.nonAlphaNumericRegex_),o=r.match(diff_match_patch.nonAlphaNumericRegex_),a=i&&n.match(diff_match_patch.whitespaceRegex_),s=o&&r.match(diff_match_patch.whitespaceRegex_),l=a&&n.match(diff_match_patch.linebreakRegex_),c=s&&r.match(diff_match_patch.linebreakRegex_),u=l&&e.match(diff_match_patch.blanklineEndRegex_),d=c&&t.match(diff_match_patch.blanklineStartRegex_);return u||d?5:l||c?4:i&&!a&&s?3:a||s?2:i||o?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==DIFF_EQUAL&&e[n+1][0]==DIFF_EQUAL){var r=e[n-1][1],i=e[n][1],o=e[n+1][1],a=this.diff_commonSuffix(r,i);if(a){var s=i.substring(i.length-a);r=r.substring(0,r.length-a),i=s+i.substring(0,i.length-a),o=s+o}for(var l=r,c=i,u=o,d=t(r,i)+t(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var h=t(r,i)+t(i,o);d<=h&&(d=h,l=r,c=i,u=o)}e[n-1][1]!=l&&(l?e[n-1][1]=l:(e.splice(n-1,1),n--),e[n][1]=c,u?e[n+1][1]=u:(e.splice(n+1,1),n--))}n++}},diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,diff_match_patch.whitespaceRegex_=/\s/,diff_match_patch.linebreakRegex_=/[\r\n]/,diff_match_patch.blanklineEndRegex_=/\n\r?\n$/,diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/,diff_match_patch.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,i=null,o=0,a=!1,s=!1,l=!1,c=!1;o<e.length;)e[o][0]==DIFF_EQUAL?(i=e[o][1].length<this.Diff_EditCost&&(l||c)?(a=l,s=c,e[n[r++]=o][1]):(r=0,null),l=c=!1):(e[o][0]==DIFF_DELETE?c=!0:l=!0,i&&(a&&s&&l&&c||i.length<this.Diff_EditCost/2&&a+s+l+c==3)&&(e.splice(n[r-1],0,[DIFF_DELETE,i]),e[n[r-1]+1][0]=DIFF_INSERT,r--,i=null,a&&s?(l=c=!0,r=0):(o=0<--r?n[r-1]:-1,l=c=!1),t=!0)),o++;t&&this.diff_cleanupMerge(e)},diff_match_patch.prototype.diff_cleanupMerge=function(e){e.push([DIFF_EQUAL,""]);for(var t,n=0,r=0,i=0,o="",a="";n<e.length;)switch(e[n][0]){case DIFF_INSERT:i++,a+=e[n][1],n++;break;case DIFF_DELETE:r++,o+=e[n][1],n++;break;case DIFF_EQUAL:1<r+i?(0!==r&&0!==i&&(0!==(t=this.diff_commonPrefix(a,o))&&(0<n-r-i&&e[n-r-i-1][0]==DIFF_EQUAL?e[n-r-i-1][1]+=a.substring(0,t):(e.splice(0,0,[DIFF_EQUAL,a.substring(0,t)]),n++),a=a.substring(t),o=o.substring(t)),0!==(t=this.diff_commonSuffix(a,o))&&(e[n][1]=a.substring(a.length-t)+e[n][1],a=a.substring(0,a.length-t),o=o.substring(0,o.length-t))),0===r?e.splice(n-i,r+i,[DIFF_INSERT,a]):0===i?e.splice(n-r,r+i,[DIFF_DELETE,o]):e.splice(n-r-i,r+i,[DIFF_DELETE,o],[DIFF_INSERT,a]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&e[n-1][0]==DIFF_EQUAL?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,r=i=0,a=o=""}""===e[e.length-1][1]&&e.pop();var s=!1;for(n=1;n<e.length-1;)e[n-1][0]==DIFF_EQUAL&&e[n+1][0]==DIFF_EQUAL&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),s=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),s=!0)),n++;s&&this.diff_cleanupMerge(e)},diff_match_patch.prototype.diff_xIndex=function(e,t){var n,r=0,i=0,o=0,a=0;for(n=0;n<e.length&&(e[n][0]!==DIFF_INSERT&&(r+=e[n][1].length),e[n][0]!==DIFF_DELETE&&(i+=e[n][1].length),!(t<r));n++)o=r,a=i;return e.length!=n&&e[n][0]===DIFF_DELETE?a:a+(t-o)},diff_match_patch.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,a=0;a<e.length;a++){var s=e[a][0],l=e[a][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(s){case DIFF_INSERT:t[a]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case DIFF_DELETE:t[a]='<del style="background:#ffe6e6;">'+l+"</del>";break;case DIFF_EQUAL:t[a]="<span>"+l+"</span>"}}return t.join("")},diff_match_patch.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==DIFF_INSERT&&(t[n]=e[n][1]);return t.join("")},diff_match_patch.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==DIFF_DELETE&&(t[n]=e[n][1]);return t.join("")},diff_match_patch.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=e[i][0],a=e[i][1];switch(o){case DIFF_INSERT:n+=a.length;break;case DIFF_DELETE:r+=a.length;break;case DIFF_EQUAL:t+=Math.max(n,r),r=n=0}}return t+=Math.max(n,r)},diff_match_patch.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case DIFF_INSERT:t[n]="+"+encodeURI(e[n][1]);break;case DIFF_DELETE:t[n]="-"+e[n][1].length;break;case DIFF_EQUAL:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},diff_match_patch.prototype.diff_fromDelta=function(e,t){for(var n=[],r=0,i=0,o=t.split(/\t/g),a=0;a<o.length;a++){var s=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{n[r++]=[DIFF_INSERT,decodeURI(s)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var l=parseInt(s,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+s);var c=e.substring(i,i+=l);"="==o[a].charAt(0)?n[r++]=[DIFF_EQUAL,c]:n[r++]=[DIFF_DELETE,c];break;default:if(o[a])throw new Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return n},diff_match_patch.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},diff_match_patch.prototype.match_bitap_=function(e,i,o){if(i.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var t=this.match_alphabet_(i),a=this;function n(e,t){var n=e/i.length,r=Math.abs(o-t);return a.Match_Distance?n+r/a.Match_Distance:r?1:n}var r=this.Match_Threshold,s=e.indexOf(i,o);-1!=s&&(r=Math.min(n(0,s),r),-1!=(s=e.lastIndexOf(i,o+i.length))&&(r=Math.min(n(0,s),r)));var l,c,u=1<<i.length-1;s=-1;for(var d,h=i.length+e.length,f=0;f<i.length;f++){for(l=0,c=h;l<c;)n(f,o+c)<=r?l=c:h=c,c=Math.floor((h-l)/2+l);h=c;var p=Math.max(1,o-c+1),m=Math.min(o+c,e.length)+i.length,g=Array(m+2);g[m+1]=(1<<f)-1;for(var v=m;p<=v;v--){var y=t[e.charAt(v-1)];if(g[v]=0===f?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(d[v+1]|d[v])<<1|1|d[v+1],g[v]&u){var b=n(f,v-1);if(b<=r){if(r=b,!(o<(s=v-1)))break;p=Math.max(1,2*o-s)}}}if(n(f+1,o)>r)break;d=g}return s},diff_match_patch.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},diff_match_patch.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),r=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var i=t.substring(e.start2-r,e.start2);i&&e.diffs.unshift([DIFF_EQUAL,i]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+r);o&&e.diffs.push([DIFF_EQUAL,o]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+o.length,e.length2+=i.length+o.length}},diff_match_patch.prototype.patch_make=function(e,t,n){var r,i;if("string"==typeof e&&"string"==typeof t&&void 0===n)r=e,2<(i=this.diff_main(r,t,!0)).length&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)i=e,r=this.diff_text1(i);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)r=e,i=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");r=e,i=n}if(0===i.length)return[];for(var o=[],a=new diff_match_patch.patch_obj,s=0,l=0,c=0,u=r,d=r,h=0;h<i.length;h++){var f=i[h][0],p=i[h][1];switch(s||f===DIFF_EQUAL||(a.start1=l,a.start2=c),f){case DIFF_INSERT:a.diffs[s++]=i[h],a.length2+=p.length,d=d.substring(0,c)+p+d.substring(c);break;case DIFF_DELETE:a.length1+=p.length,a.diffs[s++]=i[h],d=d.substring(0,c)+d.substring(c+p.length);break;case DIFF_EQUAL:p.length<=2*this.Patch_Margin&&s&&i.length!=h+1?(a.diffs[s++]=i[h],a.length1+=p.length,a.length2+=p.length):p.length>=2*this.Patch_Margin&&s&&(this.patch_addContext_(a,u),o.push(a),a=new diff_match_patch.patch_obj,s=0,u=d,l=c)}f!==DIFF_INSERT&&(l+=p.length),f!==DIFF_DELETE&&(c+=p.length)}return s&&(this.patch_addContext_(a,u),o.push(a)),o},diff_match_patch.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=new diff_match_patch.patch_obj;i.diffs=[];for(var o=0;o<r.diffs.length;o++)i.diffs[o]=r.diffs[o].slice();i.start1=r.start1,i.start2=r.start2,i.length1=r.length1,i.length2=r.length2,t[n]=i}return t},diff_match_patch.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,i=[],o=0;o<e.length;o++){var a,s,l=e[o].start2+r,c=this.diff_text1(e[o].diffs),u=-1;if(c.length>this.Match_MaxBits?-1!=(a=this.match_main(t,c.substring(0,this.Match_MaxBits),l))&&(-1==(u=this.match_main(t,c.substring(c.length-this.Match_MaxBits),l+c.length-this.Match_MaxBits))||u<=a)&&(a=-1):a=this.match_main(t,c,l),-1==a)i[o]=!1,r-=e[o].length2-e[o].length1;else if(i[o]=!0,r=a-l,c==(s=-1==u?t.substring(a,a+c.length):t.substring(a,u+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[o].diffs)+t.substring(a+c.length);else{var d=this.diff_main(c,s,!1);if(c.length>this.Match_MaxBits&&this.diff_levenshtein(d)/c.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(d);for(var h,f=0,p=0;p<e[o].diffs.length;p++){var m=e[o].diffs[p];m[0]!==DIFF_EQUAL&&(h=this.diff_xIndex(d,f)),m[0]===DIFF_INSERT?t=t.substring(0,a+h)+m[1]+t.substring(a+h):m[0]===DIFF_DELETE&&(t=t.substring(0,a+h)+t.substring(a+this.diff_xIndex(d,f+m[1].length))),m[0]!==DIFF_DELETE&&(f+=m[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),i]},diff_match_patch.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",r=1;r<=t;r++)n+=String.fromCharCode(r);for(r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var i=e[0],o=i.diffs;if(0==o.length||o[0][0]!=DIFF_EQUAL)o.unshift([DIFF_EQUAL,n]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>o[0][1].length){var a=t-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],i.start1-=a,i.start2-=a,i.length1+=a,i.length2+=a}if(0==(o=(i=e[e.length-1]).diffs).length||o[o.length-1][0]!=DIFF_EQUAL)o.push([DIFF_EQUAL,n]),i.length1+=t,i.length2+=t;else if(t>o[o.length-1][1].length){a=t-o[o.length-1][1].length;o[o.length-1][1]+=n.substring(0,a),i.length1+=a,i.length2+=a}return n},diff_match_patch.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var r=e[n];e.splice(n--,1);for(var i=r.start1,o=r.start2,a="";0!==r.diffs.length;){var s=new diff_match_patch.patch_obj,l=!0;for(s.start1=i-a.length,s.start2=o-a.length,""!==a&&(s.length1=s.length2=a.length,s.diffs.push([DIFF_EQUAL,a]));0!==r.diffs.length&&s.length1<t-this.Patch_Margin;){var c=r.diffs[0][0],u=r.diffs[0][1];c===DIFF_INSERT?(s.length2+=u.length,o+=u.length,s.diffs.push(r.diffs.shift()),l=!1):c===DIFF_DELETE&&1==s.diffs.length&&s.diffs[0][0]==DIFF_EQUAL&&u.length>2*t?(s.length1+=u.length,i+=u.length,l=!1,s.diffs.push([c,u]),r.diffs.shift()):(u=u.substring(0,t-s.length1-this.Patch_Margin),s.length1+=u.length,i+=u.length,c===DIFF_EQUAL?(s.length2+=u.length,o+=u.length):l=!1,s.diffs.push([c,u]),u==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(u.length))}a=(a=this.diff_text2(s.diffs)).substring(a.length-this.Patch_Margin);var d=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==d&&(s.length1+=d.length,s.length2+=d.length,0!==s.diffs.length&&s.diffs[s.diffs.length-1][0]===DIFF_EQUAL?s.diffs[s.diffs.length-1][1]+=d:s.diffs.push([DIFF_EQUAL,d])),l||e.splice(++n,0,s)}}},diff_match_patch.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},diff_match_patch.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),r=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<n.length;){var o=n[r].match(i);if(!o)throw new Error("Invalid patch string: "+n[r]);var a=new diff_match_patch.patch_obj;for(t.push(a),a.start1=parseInt(o[1],10),""===o[2]?(a.start1--,a.length1=1):"0"==o[2]?a.length1=0:(a.start1--,a.length1=parseInt(o[2],10)),a.start2=parseInt(o[3],10),""===o[4]?(a.start2--,a.length2=1):"0"==o[4]?a.length2=0:(a.start2--,a.length2=parseInt(o[4],10)),r++;r<n.length;){var s=n[r].charAt(0);try{var l=decodeURI(n[r].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==s)a.diffs.push([DIFF_DELETE,l]);else if("+"==s)a.diffs.push([DIFF_INSERT,l]);else if(" "==s)a.diffs.push([DIFF_EQUAL,l]);else{if("@"==s)break;if(""!==s)throw new Error('Invalid patch mode "'+s+'" in: '+l)}r++}}return t},diff_match_patch.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},diff_match_patch.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case DIFF_INSERT:e="+";break;case DIFF_DELETE:e="-";break;case DIFF_EQUAL:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},this.diff_match_patch=diff_match_patch,this.DIFF_DELETE=DIFF_DELETE,this.DIFF_INSERT=DIFF_INSERT,this.DIFF_EQUAL=DIFF_EQUAL,function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("stex",function(){function o(e,t){e.cmdState.push(t)}function a(e){return 0<e.cmdState.length?e.cmdState[e.cmdState.length-1]:null}function e(e,t,n){return function(){this.name=e,this.bracketNo=0,this.style=t,this.styles=n,this.argument=null,this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null},this.openBracket=function(){return this.bracketNo++,"bracket"},this.closeBracket=function(){}}}var s={};function l(e,t){e.f=t}function i(e,t){var n;if(e.match(/^\\[a-zA-Z@]+/)){var r=e.current().slice(1);return o(t,n=new(n=s[r]||s.DEFAULT)),l(t,u),n.style}if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/\\]/))return"tag";if(e.match("\\["))return l(t,function(e,t){return c(e,t,"\\]")}),"keyword";if(e.match("$$"))return l(t,function(e,t){return c(e,t,"$$")}),"keyword";if(e.match("$"))return l(t,function(e,t){return c(e,t,"$")}),"keyword";var i=e.next();return"%"==i?(e.skipToEnd(),"comment"):"}"==i||"]"==i?(n=a(t))?(n.closeBracket(i),l(t,u),"bracket"):"error":"{"==i||"["==i?(o(t,n=new(n=s.DEFAULT)),"bracket"):/\d/.test(i)?(e.eatWhile(/[\w.%]/),"atom"):(e.eatWhile(/[\w\-_]/),"begin"==(n=function(e){for(var t=e.cmdState,n=t.length-1;0<=n;n--){var r=t[n];if("DEFAULT"!=r.name)return r}return{styleIdentifier:function(){return null}}}(t)).name&&(n.argument=e.current()),n.styleIdentifier())}function c(e,t,n){if(e.eatSpace())return null;if(e.match(n))return l(t,i),"keyword";if(e.match(/^\\[a-zA-Z@]+/))return"tag";if(e.match(/^[a-zA-Z]+/))return"variable-2";if(e.match(/^\\[$&%#{}_]/))return"tag";if(e.match(/^\\[,;!\/]/))return"tag";if(e.match(/^[\^_&]/))return"tag";if(e.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(e.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var r=e.next();return"{"==r||"}"==r||"["==r||"]"==r||"("==r||")"==r?"bracket":"%"==r?(e.skipToEnd(),"comment"):"error"}function u(e,t){var n,r=e.peek();return"{"==r||"["==r?(a(t).openBracket(r),e.eat(r),l(t,i),"bracket"):/[ \t\r]/.test(r)?(e.eat(r),null):(l(t,i),(n=t.cmdState.pop())&&n.closeBracket(),i(e,t))}return s.importmodule=e("importmodule","tag",["string","builtin"]),s.documentclass=e("documentclass","tag",["","atom"]),s.usepackage=e("usepackage","tag",["atom"]),s.begin=e("begin","tag",["atom"]),s.end=e("end","tag",["atom"]),s.DEFAULT=function(){this.name="DEFAULT",this.style="tag",this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){return{cmdState:[],f:i}},copyState:function(e){return{cmdState:e.cmdState.slice(),f:e.f}},token:function(e,t){return t.f(e,t)},blankLine:function(e){e.f=i,e.cmdState.length=0},lineComment:"%"}}),e.defineMIME("text/x-stex","stex"),e.defineMIME("text/x-latex","stex")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(E){"use strict";var _={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},$={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};E.defineMode("xml",function(e,t){var a,o,s=e.indentUnit,l={},n=t.htmlMode?_:$;for(var r in n)l[r]=n[r];for(var r in t)l[r]=t[r];function c(t,n){function e(e){return(n.tokenize=e)(t,n)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?e(i("atom","]]>")):null:t.match("--")?e(i("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function r(i){return function(e,t){for(var n;null!=(n=e.next());){if("<"==n)return t.tokenize=r(i+1),t.tokenize(e,t);if(">"==n){if(1!=i)return t.tokenize=r(i-1),t.tokenize(e,t);t.tokenize=c;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),n.tokenize=i("meta","?>"),"meta"):(a=t.eat("/")?"closeTag":"openTag",n.tokenize=u,"tag bracket"):"&"!=r?(t.eatWhile(/[^&<]/),null):(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error"}function u(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=c,a=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return a="equals",null;if("<"!=n)return/[\'\"]/.test(n)?(t.tokenize=(r=n,o.isInAttribute=!0,o),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");t.tokenize=c,t.state=p,t.tagName=t.tagStart=null;var r,i=t.tokenize(e,t);return i?i+" tag error":"tag error";function o(e,t){for(;!e.eol();)if(e.next()==r){t.tokenize=u;break}return"string"}}function i(n,r){return function(e,t){for(;!e.eol();){if(e.match(r)){t.tokenize=c;break}e.next()}return n}}function d(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function h(e){e.context&&(e.context=e.context.prev)}function f(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;h(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),m):"closeTag"==e?g:p}function m(e,t,n){return"word"==e?(n.tagName=t.current(),o="tag",b):(o="error",m)}function g(e,t,n){if("word"!=e)return o="error",y;var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&h(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(o="tag",v):(o="tag error",y)}function v(e,t,n){return"endTag"!=e?(o="error",v):(h(n),p)}function y(e,t,n){return o="error",v(e,0,n)}function b(e,t,n){if("word"==e)return o="attribute",w;if("endTag"!=e&&"selfcloseTag"!=e)return o="error",b;var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?f(n,r):(f(n,r),n.context=new d(n,r,i==n.indented)),p}function w(e,t,n){return"equals"==e?C:(l.allowMissing||(o="error"),b(e,0,n))}function C(e,t,n){return"string"==e?x:"word"==e&&l.allowUnquoted?(o="string",b):(o="error",b(e,0,n))}function x(e,t,n){return"string"==e?x:b(e,0,n)}return c.isInText=!0,{startState:function(e){var t={tokenize:c,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;a=null;var n=t.tokenize(e,t);return(n||a)&&"comment"!=n&&(o=null,t.state=t.state(a||n,e,t),o&&(n="error"==o?n+" error":o)),n},indent:function(e,t,n){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(r&&r.noIndent)return E.Pass;if(e.tokenize!=u&&e.tokenize!=c)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var i=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(i&&i[1])for(;r;){if(r.tagName==i[2]){r=r.prev;break}if(!l.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(i)for(;r;){var o=l.contextGrabbers[r.tagName];if(!o||!o.hasOwnProperty(i[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+s:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==C&&(e.state=b)}}}),E.defineMIME("text/xml","xml"),E.defineMIME("application/xml","xml"),E.mimeModes.hasOwnProperty("text/html")||E.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(M){"use strict";function e(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}M.defineMode("css",function(e,t){var n=t.inline;t.propertyKeywords||(t=M.resolveMode("text/css"));var r,i,o=e.indentUnit,a=t.tokenHooks,s=t.documentTypes||{},l=t.mediaTypes||{},c=t.mediaFeatures||{},u=t.mediaValueKeywords||{},d=t.propertyKeywords||{},h=t.nonStandardPropertyKeywords||{},f=t.fontProperties||{},p=t.counterDescriptors||{},m=t.colorKeywords||{},g=t.valueKeywords||{},v=t.allowNested,y=t.lineComment,b=!0===t.supportsAtComponent;function w(e,t){return r=t,e}function C(i){return function(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==i&&!r){")"==i&&e.backUp(1);break}r=!r&&"\\"==n}return n!=i&&(r||")"==i)||(t.tokenize=null),w("string","string")}}function x(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=C(")"),w(null,"(")}function E(e,t,n){this.type=e,this.indent=t,this.prev=n}function _(e,t,n,r){return e.context=new E(n,t.indentation()+(!1===r?0:o),e.context),n}function $(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function S(e,t,n){return T[n.context.type](e,t,n)}function A(e,t,n,r){for(var i=r||1;0<i;i--)n.context=n.context.prev;return S(e,t,n)}function k(e){var t=e.current().toLowerCase();i=g.hasOwnProperty(t)?"atom":m.hasOwnProperty(t)?"keyword":"variable"}var T={top:function(e,t,n){if("{"==e)return _(n,t,"block");if("}"==e&&n.context.prev)return $(n);if(b&&/@component/.test(e))return _(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return _(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return _(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return _(n,t,"at");if("hash"==e)i="builtin";else if("word"==e)i="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return _(n,t,"interpolation");if(":"==e)return"pseudo";if(v&&"("==e)return _(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"!=e)return"meta"==e?"block":v||"hash"!=e&&"qualifier"!=e?T.top(e,t,n):(i="error","block");var r=t.current().toLowerCase();return d.hasOwnProperty(r)?(i="property","maybeprop"):h.hasOwnProperty(r)?(i="string-2","maybeprop"):v?(i=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(i+=" error","maybeprop")},maybeprop:function(e,t,n){return":"==e?_(n,t,"prop"):S(e,t,n)},prop:function(e,t,n){if(";"==e)return $(n);if("{"==e&&v)return _(n,t,"propBlock");if("}"==e||"{"==e)return A(e,t,n);if("("==e)return _(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)k(t);else if("interpolation"==e)return _(n,t,"interpolation")}else i+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?$(n):"word"==e?(i="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?A(e,t,n):")"==e?$(n):"("==e?_(n,t,"parens"):"interpolation"==e?_(n,t,"interpolation"):("word"==e&&k(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(i="variable-3",n.context.type):S(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&s.hasOwnProperty(t.current())?(i="tag",n.context.type):T.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return _(n,t,"atBlock_parens");if("}"==e||";"==e)return A(e,t,n);if("{"==e)return $(n)&&_(n,t,v?"block":"top");if("interpolation"==e)return _(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();i="only"==r||"not"==r||"and"==r||"or"==r?"keyword":l.hasOwnProperty(r)?"attribute":c.hasOwnProperty(r)?"property":u.hasOwnProperty(r)?"keyword":d.hasOwnProperty(r)?"property":h.hasOwnProperty(r)?"string-2":g.hasOwnProperty(r)?"atom":m.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?A(e,t,n):"{"==e?$(n)&&_(n,t,v?"block":"top",!1):("word"==e&&(i="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?$(n):"{"==e||"}"==e?A(e,t,n,2):T.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?_(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(i="variable","restricted_atBlock_before"):S(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,$(n)):"word"==e?(i="@font-face"==n.stateArg&&!f.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(i="variable","keyframes"):"{"==e?_(n,t,"top"):S(e,t,n)},at:function(e,t,n){return";"==e?$(n):"{"==e||"}"==e?A(e,t,n):("word"==e?i="tag":"hash"==e&&(i="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?$(n):"{"==e||";"==e?A(e,t,n):("word"==e?i="variable":"variable"!=e&&"("!=e&&")"!=e&&(i="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:n?"block":"top",stateArg:null,context:new E(n?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||function(e,t){var n=e.next();if(a[n]){var r=a[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),w("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?w(null,"compare"):'"'==n||"'"==n?(t.tokenize=C(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),w("atom","hash")):"!"==n?(e.match(/^\s*\w*/),w("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),w("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?w(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?w("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?w(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=x,w("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),w("property","word")):w(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),w("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?w("variable-2","variable-definition"):w("variable-2","variable")):e.match(/^\w+-/)?w("meta","meta"):void 0})(e,t);return n&&"object"==typeof n&&(r=n[1],n=n[0]),i=n,t.state=T[t.state](r,e,t),i},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(i=Math.max(0,n.indent-o)):i=(n=n.prev).indent),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:y,fold:"brace"}});var t=["domain","regexp","url","url-prefix"],n=e(t),r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],i=e(r),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=e(o),s=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],l=e(s),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=e(c),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=e(d),f=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),p=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],g=e(m),v=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],y=e(v),b=t.concat(r).concat(o).concat(s).concat(c).concat(d).concat(m).concat(v);function w(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}M.registerHelper("hintWords","css",b),M.defineMIME("text/css",{documentTypes:n,mediaTypes:i,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:h,fontProperties:f,counterDescriptors:p,colorKeywords:g,valueKeywords:y,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=w)(e,t)}},name:"css"}),M.defineMIME("text/x-scss",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:h,colorKeywords:g,valueKeywords:y,fontProperties:f,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=w)(e,t):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),M.defineMIME("text/x-less",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:h,colorKeywords:g,valueKeywords:y,fontProperties:f,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=w)(e,t):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),M.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:i,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:h,fontProperties:f,counterDescriptors:p,colorKeywords:g,valueKeywords:y,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=w)(e,t)}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(Re){"use strict";function De(e,t,n){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}Re.defineMode("javascript",function(e,d){var r,i,h=e.indentUnit,f=d.statementIndent,a=d.jsonld,s=d.json||a,u=d.typescript,c=d.wordCharacters||/[\w$\xa1-\uffff]/,l=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},a={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e("new"),delete:r,throw:r,debugger:r,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r};if(u){var s={type:"variable",style:"type"},l={interface:e("class"),implements:r,namespace:r,module:e("module"),enum:e("module"),public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),string:s,number:s,boolean:s,any:s};for(var c in l)a[c]=l[c]}return a}(),p=/[+\-*&%=<>!?|~^@]/,m=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(e,t,n){return r=e,i=n,t}function v(e,t){var i,n=e.next();if('"'==n||"'"==n)return t.tokenize=(i=n,function(e,t){var n,r=!1;if(a&&"@"==e.peek()&&e.match(m))return t.tokenize=v,g("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=i||r);)r=!r&&"\\"==n;return r||(t.tokenize=v),g("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return g("number","number");if("."==n&&e.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return g(n);if("="==n&&e.eat(">"))return g("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),g("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),g("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),g("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),g("number","number");if("/"==n)return e.eat("*")?(t.tokenize=y)(e,t):e.eat("/")?(e.skipToEnd(),g("comment","comment")):De(e,t,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),g("regexp","string-2")):(e.eatWhile(p),g("operator","operator",e.current()));if("`"==n)return(t.tokenize=b)(e,t);if("#"==n)return e.skipToEnd(),g("error","error");if(p.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||e.eatWhile(p),g("operator","operator",e.current());if(c.test(n)){e.eatWhile(c);var r=e.current();if("."!=t.lastType){if(l.propertyIsEnumerable(r)){var o=l[r];return g(o.type,o.style,r)}if("async"==r&&e.match(/^\s*[\(\w]/,!1))return g("async","keyword",r)}return g("variable","variable",r)}}function y(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=v;break}r="*"==n}return g("comment","comment")}function b(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=v;break}r=!r&&"\\"==n}return g("quasi","string-2",e.current())}var w="([{}])";function o(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;0<=a;--a){var s=e.string.charAt(a),l=w.indexOf(s);if(0<=l&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(3<=l&&l<6)++i;else if(c.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}var C={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function x(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function E(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return 1;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return 1}var _={state:null,column:null,marked:null,cc:null};function $(){for(var e=arguments.length-1;0<=e;e--)_.cc.push(arguments[e])}function S(){return $.apply(null,arguments),!0}function n(n){function e(e){for(var t=e;t;t=t.next)if(t.name==n)return 1}var t=_.state;if(_.marked="def",t.context){if(e(t.localVars))return;t.localVars={name:n,next:t.localVars}}else{if(e(t.globalVars))return;d.globalVars&&(t.globalVars={name:n,next:t.globalVars})}}var t={name:"this",next:{name:"arguments"}};function A(){_.state.context={prev:_.state.context,vars:_.state.localVars},_.state.localVars=t}function k(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}function T(r,i){function e(){var e=_.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var n=e.lexical;n&&")"==n.type&&n.align;n=n.prev)t=n.indented;e.lexical=new x(t,_.stream.column(),r,null,e.lexical,i)}return e.lex=!0,e}function M(){var e=_.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function N(n){return function e(t){return t==n?S():";"==n?$():S(e)}}function P(e,t){return"var"==e?S(T("vardef",t.length),se,N(";"),M):"keyword a"==e?S(T("form"),O,P,M):"keyword b"==e?S(T("form"),P,M):"{"==e?S(T("}"),ee,M):";"==e?S():"if"==e?("else"==_.state.lexical.info&&_.state.cc[_.state.cc.length-1]==M&&_.state.cc.pop()(),S(T("form"),O,P,M,he)):"function"==e?S(ye):"for"==e?S(T("form"),fe,P,M):"variable"==e?u&&"type"==t?(_.marked="keyword",S(ne,N("operator"),ne,N(";"))):S(T("stat"),G):"switch"==e?S(T("form"),O,N("{"),T("}","switch"),ee,M,M):"case"==e?S(R,N(":")):"default"==e?S(N(":")):"catch"==e?S(T("form"),A,N("("),be,N(")"),P,M,k):"class"==e?S(T("form"),Ce,M):"export"==e?S(T("stat"),$e,M):"import"==e?S(T("stat"),Ae,M):"module"==e?S(T("form"),le,N("{"),T("}"),ee,M,M):"async"==e?S(P):"@"==t?S(R,P):$(T("stat"),R,N(";"),M)}function R(e){return I(e,!1)}function D(e){return I(e,!0)}function O(e){return"("!=e?$():S(T(")"),R,N(")"),M)}function I(e,t){if(_.state.fatArrowAt==_.stream.start){var n=t?z:q;if("("==e)return S(A,T(")"),Z(le,")"),M,N("=>"),n,k);if("variable"==e)return $(A,le,N("=>"),n,k)}var r,i=t?j:H;return C.hasOwnProperty(e)?S(i):"function"==e?S(ye,i):"class"==e?S(T("form"),we,M):"keyword c"==e||"async"==e?S(t?F:L):"("==e?S(T(")"),L,N(")"),M,i):"operator"==e||"spread"==e?S(t?D:R):"["==e?S(T("]"),Pe,M,i):"{"==e?J(K,"}",null,i):"quasi"==e?$(B,i):"new"==e?S((r=t,function(e){return"."==e?S(r?W:V):$(r?D:R)})):S()}function L(e){return e.match(/[;\}\)\],]/)?$():$(R)}function F(e){return e.match(/[;\}\)\],]/)?$():$(D)}function H(e,t){return","==e?S(R):j(e,t,!1)}function j(e,t,n){var r=0==n?H:j,i=0==n?R:D;return"=>"==e?S(A,n?z:q,k):"operator"==e?/\+\+|--/.test(t)?S(r):"?"==t?S(R,N(":"),i):S(i):"quasi"==e?$(B,r):";"!=e?"("==e?J(D,")","call",r):"."==e?S(Y,r):"["==e?S(T("]"),L,N("]"),M,r):u&&"as"==t?(_.marked="keyword",S(ne,r)):void 0:void 0}function B(e,t){return"quasi"!=e?$():"${"!=t.slice(t.length-2)?S(B):S(R,U)}function U(e){if("}"==e)return _.marked="string-2",_.state.tokenize=b,S(B)}function q(e){return o(_.stream,_.state),$("{"==e?P:R)}function z(e){return o(_.stream,_.state),$("{"==e?P:D)}function V(e,t){if("target"==t)return _.marked="keyword",S(H)}function W(e,t){if("target"==t)return _.marked="keyword",S(j)}function G(e){return":"==e?S(M,P):$(H,N(";"),M)}function Y(e){if("variable"==e)return _.marked="property",S()}function K(e,t){return"async"==e?(_.marked="property",S(K)):"variable"==e||"keyword"==_.style?(_.marked="property",S("get"==t||"set"==t?X:Q)):"number"==e||"string"==e?(_.marked=a?"property":_.style+" property",S(Q)):"jsonld-keyword"==e?S(Q):"modifier"==e?S(K):"["==e?S(R,N("]"),Q):"spread"==e?S(R,Q):":"==e?$(Q):void 0}function X(e){return"variable"!=e?$(Q):(_.marked="property",S(ye))}function Q(e){return":"==e?S(D):"("==e?$(ye):void 0}function Z(r,i,o){function a(e,t){if(o?-1<o.indexOf(e):","==e){var n=_.state.lexical;return"call"==n.info&&(n.pos=(n.pos||0)+1),S(function(e,t){return e==i||t==i?$():$(r)},a)}return e==i||t==i?S():S(N(i))}return function(e,t){return e==i||t==i?S():$(r,a)}}function J(e,t,n){for(var r=3;r<arguments.length;r++)_.cc.push(arguments[r]);return S(T(t,n),Z(e,t),M)}function ee(e){return"}"==e?S():$(P,ee)}function te(e,t){if(u){if(":"==e)return S(ne);if("?"==t)return S(te)}}function ne(e){return"variable"==e?(_.marked="type",S(ae)):"string"==e||"number"==e||"atom"==e?S(ae):"{"==e?S(T("}"),Z(ie,"}",",;"),M,ae):"("==e?S(Z(oe,")"),re):void 0}function re(e){if("=>"==e)return S(ne)}function ie(e,t){return"variable"==e||"keyword"==_.style?(_.marked="property",S(ie)):"?"==t?S(ie):":"==e?S(ne):"["==e?S(R,te,N("]"),ie):void 0}function oe(e){return"variable"==e?S(oe):":"==e?S(ne):void 0}function ae(e,t){return"<"==t?S(T(">"),Z(ne,">"),M,ae):"|"==t||"."==e?S(ne):"["==e?S(N("]"),ae):"extends"==t?S(ne):void 0}function se(){return $(le,te,ue,de)}function le(e,t){return"modifier"==e?S(le):"variable"==e?(n(t),S()):"spread"==e?S(le):"["==e?J(le,"]"):"{"==e?J(ce,"}"):void 0}function ce(e,t){return"variable"!=e||_.stream.match(/^\s*:/,!1)?("variable"==e&&(_.marked="property"),"spread"==e?S(le):"}"==e?$():S(N(":"),le,ue)):(n(t),S(ue))}function ue(e,t){if("="==t)return S(D)}function de(e){if(","==e)return S(se)}function he(e,t){if("keyword b"==e&&"else"==t)return S(T("form","else"),P,M)}function fe(e){if("("==e)return S(T(")"),pe,N(")"),M)}function pe(e){return"var"==e?S(se,N(";"),ge):";"==e?S(ge):"variable"==e?S(me):$(R,N(";"),ge)}function me(e,t){return"in"==t||"of"==t?(_.marked="keyword",S(R)):S(H,ge)}function ge(e,t){return";"==e?S(ve):"in"==t||"of"==t?(_.marked="keyword",S(R)):$(R,N(";"),ve)}function ve(e){")"!=e&&S(R)}function ye(e,t){return"*"==t?(_.marked="keyword",S(ye)):"variable"==e?(n(t),S(ye)):"("==e?S(A,T(")"),Z(be,")"),M,te,P,k):u&&"<"==t?S(T(">"),Z(ne,">"),M,ye):void 0}function be(e){return"spread"==e?S(be):$(le,te,ue)}function we(e,t){return("variable"==e?Ce:xe)(e,t)}function Ce(e,t){if("variable"==e)return n(t),S(xe)}function xe(e,t){return"<"==t?S(T(">"),Z(ne,">"),M,xe):"extends"==t||"implements"==t||u&&","==e?S(u?ne:R,xe):"{"==e?S(T("}"),Ee,M):void 0}function Ee(e,t){return"variable"==e||"keyword"==_.style?("async"==t||"static"==t||"get"==t||"set"==t||u&&("public"==t||"private"==t||"protected"==t||"readonly"==t||"abstract"==t))&&_.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(_.marked="keyword",S(Ee)):(_.marked="property",S(u?_e:ye,Ee)):"["==e?S(R,N("]"),u?_e:ye,Ee):"*"==t?(_.marked="keyword",S(Ee)):";"==e?S(Ee):"}"==e?S():"@"==t?S(R,Ee):void 0}function _e(e,t){return"?"==t?S(_e):":"==e?S(ne,ue):"="==t?S(D):$(ye)}function $e(e,t){return"*"==t?(_.marked="keyword",S(Ne,N(";"))):"default"==t?(_.marked="keyword",S(R,N(";"))):"{"==e?S(Z(Se,"}"),Ne,N(";")):$(P)}function Se(e,t){return"as"==t?(_.marked="keyword",S(N("variable"))):"variable"==e?$(D,Se):void 0}function Ae(e){return"string"==e?S():$(ke,Te,Ne)}function ke(e,t){return"{"==e?J(ke,"}"):("variable"==e&&n(t),"*"==t&&(_.marked="keyword"),S(Me))}function Te(e){if(","==e)return S(ke,Te)}function Me(e,t){if("as"==t)return _.marked="keyword",S(ke)}function Ne(e,t){if("from"==t)return _.marked="keyword",S(R)}function Pe(e){return"]"==e?S():$(Z(D,"]"))}return M.lex=!0,{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new x((e||0)-h,0,"block",!1),localVars:d.localVars,context:d.localVars&&{vars:d.localVars},indented:e||0};return d.globalVars&&"object"==typeof d.globalVars&&(t.globalVars=d.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),o(e,t)),t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==r?n:(t.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(e,t,n,r,i){var o=e.cc;for(_.state=e,_.stream=i,_.marked=null,_.cc=o,_.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((o.length?o.pop():s?R:P)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return _.marked?_.marked:"variable"==n&&E(e,r)?"variable-2":t}}}(t,n,r,i,e))},indent:function(e,t){if(e.tokenize==y)return Re.Pass;if(e.tokenize!=v)return 0;var n,r=t&&t.charAt(0),i=e.lexical;if(!/^\s*else\b/.test(t))for(var o=e.cc.length-1;0<=o;--o){var a=e.cc[o];if(a==M)i=i.prev;else if(a!=he)break}for(;("stat"==i.type||"form"==i.type)&&("}"==r||(n=e.cc[e.cc.length-1])&&(n==H||n==j)&&!/^[,\.=+\-*:?[\(]/.test(t));)i=i.prev;f&&")"==i.type&&"stat"==i.prev.type&&(i=i.prev);var s,l,c=i.type,u=r==c;return"vardef"==c?i.indented+("operator"==e.lastType||","==e.lastType?i.info+1:0):"form"==c&&"{"==r?i.indented:"form"==c?i.indented+h:"stat"==c?i.indented+(l=t,"operator"==(s=e).lastType||","==s.lastType||p.test(l.charAt(0))||/[,.]/.test(l.charAt(0))?f||h:0):"switch"!=i.info||u||0==d.doubleIndentSwitch?i.align?i.column+(u?0:1):i.indented+(u?0:h):i.indented+(/^(?:case|default)\b/.test(t)?h:2*h)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:a,jsonMode:s,expressionAllowed:De,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=R&&t!=D||e.cc.pop()}}}),Re.registerHelper("wordChars","javascript",/[\w$]/),Re.defineMIME("text/javascript","javascript"),Re.defineMIME("text/ecmascript","javascript"),Re.defineMIME("application/javascript","javascript"),Re.defineMIME("application/x-javascript","javascript"),Re.defineMIME("application/ecmascript","javascript"),Re.defineMIME("application/json",{name:"javascript",json:!0}),Re.defineMIME("application/x-json",{name:"javascript",json:!0}),Re.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Re.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Re.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(T){"use strict";function M(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=i,this.prev=o}function N(e,t,n,r){var i=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=n&&(i=e.context.indented),e.context=new M(i,t,n,r,null,e.context)}function P(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function R(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function D(e){for(;;){if(!e||"top"==e.type)return 1;if("}"==e.type&&"namespace"!=e.prev.info)return;e=e.prev}}function e(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function O(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}T.defineMode("clike",function(e,s){var a,l,c=e.indentUnit,u=s.statementIndentUnit||c,d=s.dontAlignCalls,h=s.keywords||{},f=s.types||{},p=s.builtin||{},m=s.blockKeywords||{},g=s.defKeywords||{},v=s.atoms||{},y=s.hooks||{},b=s.multiLineStrings,o=!1!==s.indentStatements,t=!1!==s.indentSwitch,w=s.namespaceSeparator,C=s.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,x=s.numberStart||/[\d\.]/,E=s.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,_=s.isOperatorChar||/[+\-*&%=<>!?|\/]/,$=s.isIdentifierChar||/[\w\$_\xa1-\uffff]/;function S(e,t){var o,n=e.next();if(y[n]){var r=y[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=(o=n,function(e,t){for(var n,r=!1,i=!1;null!=(n=e.next());){if(n==o&&!r){i=!0;break}r=!r&&"\\"==n}return!i&&(r||b)||(t.tokenize=null),"string"}),t.tokenize(e,t);if(C.test(n))return a=n,null;if(x.test(n)){if(e.backUp(1),e.match(E))return"number";e.next()}if("/"==n){if(e.eat("*"))return(t.tokenize=A)(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(_.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(_););return"operator"}if(e.eatWhile($),w)for(;e.match(w);)e.eatWhile($);var i=e.current();return O(h,i)?(O(m,i)&&(a="newstatement"),O(g,i)&&(l=!0),"keyword"):O(f,i)?"type":O(p,i)?(O(m,i)&&(a="newstatement"),"builtin"):O(v,i)?"atom":"variable"}function A(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function k(e,t){s.typeFirstDefinitions&&e.eol()&&D(t.context)&&(t.typeAtEndOfLine=R(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new M((e||0)-c,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return k(e,t),null;a=l=null;var r=(t.tokenize||S)(e,t);if("comment"==r||"meta"==r)return r;if(null==n.align&&(n.align=!0),";"==a||":"==a||","==a&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)P(t);else if("{"==a)N(t,e.column(),"}");else if("["==a)N(t,e.column(),"]");else if("("==a)N(t,e.column(),")");else if("}"==a){for(;"statement"==n.type;)n=P(t);for("}"==n.type&&(n=P(t));"statement"==n.type;)n=P(t)}else a==n.type?P(t):o&&(("}"==n.type||"top"==n.type)&&";"!=a||"statement"==n.type&&"newstatement"==a)&&N(t,e.column(),"statement",e.current());if("variable"==r&&("def"==t.prevToken||s.typeFirstDefinitions&&R(e,t,e.start)&&D(t.context)&&e.match(/^\s*\(/,!1))&&(r="def"),y.token){var i=y.token(e,t,r);void 0!==i&&(r=i)}return"def"==r&&!1===s.styleDefs&&(r="variable"),t.startOfLine=!1,t.prevToken=l?"def":r||a,k(e,t),r},indent:function(e,t){if(e.tokenize!=S&&null!=e.tokenize||e.typeAtEndOfLine)return T.Pass;var n=e.context,r=t&&t.charAt(0);if("statement"==n.type&&"}"==r&&(n=n.prev),s.dontIndentStatements)for(;"statement"==n.type&&s.dontIndentStatements.test(n.info);)n=n.prev;if(y.indent){var i=y.indent(e,n,t);if("number"==typeof i)return i}var o=r==n.type,a=n.prev&&"switch"==n.prev.info;if(s.allmanIndentation&&/[{(]/.test(r)){for(;"top"!=n.type&&"}"!=n.type;)n=n.prev;return n.indented}return"statement"==n.type?n.indented+("{"==r?0:u):!n.align||d&&")"==n.type?")"!=n.type||o?n.indented+(o?0:c)+(o||!a||/^(?:case|default)\b/.test(t)?0:c):n.indented+u:n.column+(o?0:1)},electricInput:t?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var t="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",n="int long char short double float unsigned signed void size_t ptrdiff_t";function i(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=i;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function r(e,t){return"type"==t.prevToken&&"type"}function o(e){return e.eatWhile(/[\w\.']/),"number"}function a(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return n?(t.cpp11RawStringDelim=n[1],(t.tokenize=l)(e,t)):!1}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function s(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function l(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function c(e,t){"string"==typeof e&&(e=[e]);var n=[];function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&n.push(t)}r(t.keywords),r(t.types),r(t.builtin),r(t.atoms),n.length&&(t.helperType=e[0],T.registerHelper("hintWords",e[0],n));for(var i=0;i<e.length;++i)T.defineMIME(e[i],t)}function u(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}c(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:e(t),types:e(n+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:e("case do else for if switch while struct"),defKeywords:e("struct"),typeFirstDefinitions:!0,atoms:e("null true false"),hooks:{"#":i,"*":r},modeProps:{fold:["brace","include"]}}),c(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:e(t+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:e(n+" bool wchar_t"),blockKeywords:e("catch class do else finally for if struct switch try while"),defKeywords:e("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:e("true false null"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,hooks:{"#":i,"*":r,u:a,U:a,L:a,R:a,0:o,1:o,2:o,3:o,4:o,5:o,6:o,7:o,8:o,9:o,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&(r=e.current(),(i=/(\w+)::~?(\w+)$/.exec(r))&&i[1]==i[2]))return"def";var r,i}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),c("text/x-java",{name:"clike",keywords:e("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:e("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:e("catch class do else finally for if switch try while"),defKeywords:e("class interface package enum @interface"),typeFirstDefinitions:!0,atoms:e("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),c("text/x-csharp",{name:"clike",keywords:e("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:e("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),defKeywords:e("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:e("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=s)(e,t):(e.eatWhile(/[\w\$_]/),"meta")}}}),c("text/x-scala",{name:"clike",keywords:e("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:e("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:e("catch class enum do else finally for forSome if match switch try while"),defKeywords:e("class enum def object package trait type val var"),atoms:e("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=u,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,t){var n=t.context;return!("}"!=n.type||!n.align||!e.eat(">"))&&(t.context=new M(n.indented,n.column,n.type,n.info,null,n.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),c("text/x-kotlin",{name:"clike",keywords:e("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend"),types:e("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:e("catch class do else finally for if where try while enum"),defKeywords:e("class val var object package interface fun"),atoms:e("true false null this"),hooks:{'"':function(e,t){var o;return t.tokenize=(o=e.match('""'),function(e,t){for(var n,r=!1,i=!1;!e.eol();){if(!o&&!r&&e.match('"')){i=!0;break}if(o&&e.match('"""')){i=!0;break}n=e.next(),!r&&"$"==n&&e.match("{")&&e.skipTo("}"),r=!r&&"\\"==n&&!o}return!i&&o||(t.tokenize=null),"string"}),t.tokenize(e,t)}},modeProps:{closeBrackets:{triples:'"'}}}),c(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:e("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:e("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:e("for while do if else struct"),builtin:e("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:e("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":i},modeProps:{fold:["brace","include"]}}),c("text/x-nesc",{name:"clike",keywords:e(t+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:e(n),blockKeywords:e("case do else for if switch while struct"),atoms:e("null true false"),hooks:{"#":i},modeProps:{fold:["brace","include"]}}),c("text/x-objectivec",{name:"clike",keywords:e(t+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:e(n),atoms:e("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":i,indent:function(e,t,n){if("statement"==t.type&&/^@\w/.test(n))return t.indented}},modeProps:{fold:"brace"}}),c("text/x-squirrel",{name:"clike",keywords:e("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:e(n),blockKeywords:e("case catch class else for foreach if switch try while"),defKeywords:e("function local class"),typeFirstDefinitions:!0,atoms:e("true false null"),hooks:{"#":i},modeProps:{fold:["brace","include"]}});var d=null;c("text/x-ceylon",{name:"clike",keywords:e("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:e("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:e("class dynamic function interface module object package value"),builtin:e("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:e("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=function o(a){return function(e,t){for(var n,r=!1,i=!1;!e.eol();){if(!r&&e.match('"')&&("single"==a||e.match('""'))){i=!0;break}if(!r&&e.match("``")){d=o(a),i=!0;break}n=e.next(),r="single"==a&&!r&&"\\"==n}return i&&(t.tokenize=null),"string"}}(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!d||!e.match("`"))&&(t.tokenize=d,d=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(x){"use strict";function r(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var E=r(["and","or","not","is"]),_=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],$=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function S(e){return e.scopes[e.scopes.length-1]}x.registerHelper("hintWords","python",_.concat($)),x.defineMode("python",function(t,o){var c="error",i=o.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.]/,a=o.doubleOperators||/^([!<>]==|<>|<<|>>|\/\/|\*\*)/,s=o.doubleDelimiters||/^(\+=|\-=|\*=|%=|\/=|&=|\|=|\^=)/,l=o.tripleDelimiters||/^(\/\/=|>>=|<<=|\*\*=)/,u=o.hangingIndent||t.indentUnit,e=_,n=$;null!=o.extra_keywords&&(e=e.concat(o.extra_keywords)),null!=o.extra_builtins&&(n=n.concat(o.extra_builtins));var d=!(o.version&&Number(o.version)<3);if(d){var h=o.singleOperators||/^[\+\-\*\/%&|\^~<>!@]/,f=o.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;e=e.concat(["nonlocal","False","True","None","async","await"]),n=n.concat(["ascii","bytes","exec","print"]);var p=new RegExp("^(([rbuf]|(br))?('{3}|\"{3}|['\"]))","i")}else{h=o.singleOperators||/^[\+\-\*\/%&|\^~<>!]/,f=o.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;e=e.concat(["exec","print"]),n=n.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);p=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var m=r(e),g=r(n);function v(e,t){if(e.sol()&&(t.indent=e.indentation()),e.sol()&&"py"==S(t).type){var n=S(t).offset;if(e.eatSpace()){var r=e.indentation();return n<r?b(t):r<n&&w(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var i=y(e,t);return 0<n&&w(e,t)&&(i+=" "+c),i}return y(e,t)}function y(e,t){if(e.eatSpace())return null;if("#"==e.peek())return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var n=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(n=!0),e.match(/^[\d_]+\.\d*/)&&(n=!0),e.match(/^\.\d+/)&&(n=!0),n)return e.eat(/J/i),"number";var r=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(r=!0),e.match(/^0b[01_]+/i)&&(r=!0),e.match(/^0o[0-7_]+/i)&&(r=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),r=!0),e.match(/^0(?![\dx])/i)&&(r=!0),r)return e.eat(/L/i),"number"}return e.match(p)?(t.tokenize=function(n){for(;0<="rubf".indexOf(n.charAt(0).toLowerCase());)n=n.substr(1);var r=1==n.length,i="string";function e(e,t){for(;!e.eol();)if(e.eatWhile(/[^'"\\]/),e.eat("\\")){if(e.next(),r&&e.eol())return i}else{if(e.match(n))return t.tokenize=v,i;e.eat(/['"]/)}if(r){if(o.singleLineStringErrors)return c;t.tokenize=v}return i}return e.isString=!0,e}(e.current()),t.tokenize(e,t)):e.match(l)||e.match(s)?"punctuation":e.match(a)||e.match(h)?"operator":e.match(i)?"punctuation":"."==t.lastToken&&e.match(f)?"property":e.match(m)||e.match(E)?"keyword":e.match(g)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(f)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),c)}function b(e){for(;"py"!=S(e).type;)e.scopes.pop();e.scopes.push({offset:S(e).offset+t.indentUnit,type:"py",align:null})}function w(e,t){for(var n=e.indentation();1<t.scopes.length&&S(t).offset>n;){if("py"!=S(t).type)return 1;t.scopes.pop()}return S(t).offset!=n}function C(e,t){e.sol()&&(t.beginningOfLine=!0);var n=t.tokenize(e,t),r=e.current();if(t.beginningOfLine&&"@"==r)return e.match(f,!1)?"meta":d?"operator":c;/\S/.test(r)&&(t.beginningOfLine=!1),"variable"!=n&&"builtin"!=n||"meta"!=t.lastToken||(n="meta"),"pass"!=r&&"return"!=r||(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=S(t).type||b(t);var i,o,a,s,l=1==r.length?"[({".indexOf(r):-1;if(-1!=l&&(i=e,o=t,a="])}".slice(l,l+1),s=i.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:i.column()+1,o.scopes.push({offset:o.indent+u,type:a,align:s})),-1!=(l="])}".indexOf(r))){if(S(t).type!=r)return c;t.indent=t.scopes.pop().offset-u}return 0<t.dedent&&e.eol()&&"py"==S(t).type&&(1<t.scopes.length&&t.scopes.pop(),--t.dedent),n}return{startState:function(e){return{tokenize:v,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var r=C(e,t);return r&&"comment"!=r&&(t.lastToken="keyword"==r||"punctuation"==r?e.current():r),"punctuation"==r&&(r=null),e.eol()&&t.lambda&&(t.lambda=!1),n?r+" "+c:r},indent:function(e,t){if(e.tokenize!=v)return e.tokenize.isString?x.Pass:0;var n=S(e),r=n.type==t.charAt(0);return null!=n.align?n.align-(r?1:0):n.offset-(r?u:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}}),x.defineMIME("text/x-python","python");x.defineMIME("text/x-cython",{name:"python",extra_keywords:"by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE".split(" ")})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(p){"use strict";var i={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var o={};function m(e,t){var n,r=e.match(o[n=t]||(o[n]=new RegExp("\\s+"+n+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function g(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function a(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;0<=o;o--)r.unshift(i[o])}p.defineMode("htmlmixed",function(u,e){var d=p.getMode(u,{name:"xml",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),h={},t=e&&e.tags,n=e&&e.scriptTypes;if(a(i,h),t&&a(t,h),n)for(var r=n.length-1;0<=r;r--)h.script.unshift(["type",n[r].matches,n[r].mode]);function f(e,t){var n,r=d.token(e,t.htmlState),i=/\btag\b/.test(r);if(i&&!/[<>\s\/]/.test(e.current())&&(n=t.htmlState.tagName&&t.htmlState.tagName.toLowerCase())&&h.hasOwnProperty(n))t.inTag=n+" ";else if(t.inTag&&i&&/>$/.test(e.current())){var o=/^([\S]+) (.*)/.exec(t.inTag);t.inTag=null;var a=">"==e.current()&&function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(m(t,r[0])))return r[2]}}(h[o[1]],o[2]),s=p.getMode(u,a),l=g(o[1],!0),c=g(o[1],!1);t.token=function(e,t){return e.match(l,!1)?(t.token=f,t.localState=t.localMode=null,null):(n=e,r=c,i=t.localMode.token(e,t.localState),o=n.current(),-1<(a=o.search(r))?n.backUp(o.length-a):o.match(/<\/?$/)&&(n.backUp(o.length),n.match(r,!1)||n.match(o)),i);var n,r,i,o,a},t.localMode=s,t.localState=p.startState(s,d.indent(t.htmlState,""))}else t.inTag&&(t.inTag+=e.current(),e.eol()&&(t.inTag+=" "));return r}return{startState:function(){return{token:f,inTag:null,localMode:null,localState:null,htmlState:p.startState(d)}},copyState:function(e){var t;return e.localState&&(t=p.copyState(e.localMode,e.localState)),{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:t,htmlState:p.copyState(d,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t,n){return!e.localMode||/^\s*<\//.test(t)?d.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t,n):p.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||d}}}},"xml","javascript","css"),p.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(m){"use strict";function e(e){for(var t;null!=(t=e.next());)if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function t(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function n(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function r(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}var i;m.defineMode("sql",function(i,e){var a=e.client||{},s=e.atoms||{false:!0,true:!0,null:!0},l=e.builtin||{},c=e.keywords||{},u=e.operatorChars||/^[*+\-%<>!=&|~^]/,d=e.support||{},h=e.hooks||{},f=e.dateSQL||{date:!0,time:!0,timestamp:!0};function p(e,t){var i,n=e.next();if(h[n]){var r=h[n](e,t);if(!1!==r)return r}if(d.hexNumber&&("0"==n&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==n||"X"==n)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(d.binaryNumber&&(("b"==n||"B"==n)&&e.match(/^'[01]+'/)||"0"==n&&e.match(/^b[01]+/)))return"number";if(47<n.charCodeAt(0)&&n.charCodeAt(0)<58)return e.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/),d.decimallessFloat&&e.eat("."),"number";if("?"==n&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==n||'"'==n&&d.doubleQuote)return t.tokenize=(i=n,function(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==i&&!r){t.tokenize=p;break}r=!r&&"\\"==n}return"string"}),t.tokenize(e,t);if((d.nCharCast&&("n"==n||"N"==n)||d.charsetCast&&"_"==n&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(/^[\(\),\;\[\]]/.test(n))return null;if(d.commentSlashSlash&&"/"==n&&e.eat("/"))return e.skipToEnd(),"comment";if(d.commentHash&&"#"==n||"-"==n&&e.eat("-")&&(!d.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==n&&e.eat("*"))return t.tokenize=function r(i){return function(e,t){var n=e.match(/^.*?(\/\*|\*\/)/);return n?"/*"==n[1]?t.tokenize=r(i+1):t.tokenize=1<i?r(i-1):p:e.skipToEnd(),"comment"}}(1),t.tokenize(e,t);if("."==n)return d.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":d.ODBCdotTable&&e.match(/^[a-zA-Z_]+/)?"variable-2":void 0;if(u.test(n))return e.eatWhile(u),null;if("{"==n&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var o=e.current().toLowerCase();return f.hasOwnProperty(o)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":s.hasOwnProperty(o)?"atom":l.hasOwnProperty(o)?"builtin":c.hasOwnProperty(o)?"keyword":a.hasOwnProperty(o)?"string-2":null}function o(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}return{startState:function(){return{tokenize:p,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),t.tokenize==p&&e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var r,i=e.current();return"("==i?o(e,t,")"):"["==i?o(e,t,"]"):t.context&&t.context.type==i&&((r=t).indent=r.context.indent,r.context=r.context.prev),n},indent:function(e,t){var n=e.context;if(!n)return m.Pass;var r=t.charAt(0)==n.type;return n.align?n.col+(r?0:1):n.indent+(r?0:i.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:d.commentSlashSlash?"//":d.commentHash?"#":null}}),i="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ",m.defineMIME("text/x-sql",{name:"sql",keywords:r(i+"begin"),builtin:r("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:r("date time timestamp"),support:r("ODBCdotTable doubleQuote binaryNumber hexNumber")}),m.defineMIME("text/x-mssql",{name:"sql",client:r("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:r(i+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec"),builtin:r("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:r("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":t}}),m.defineMIME("text/x-mysql",{name:"sql",client:r("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:r(i+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:r("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:r("date time timestamp"),support:r("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":t,"`":e,"\\":n}}),m.defineMIME("text/x-mariadb",{name:"sql",client:r("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:r(i+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:r("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:r("date time timestamp"),support:r("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":t,"`":e,"\\":n}}),m.defineMIME("text/x-sqlite",{name:"sql",client:r("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:r(i+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:r("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:r("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:r("date time timestamp datetime"),support:r("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":t,":":t,"?":t,$:t,'"':function(e){for(var t;null!=(t=e.next());)if('"'==t&&!e.eat('"'))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null},"`":e}}),m.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:r("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:r("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:r("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:r("commentSlashSlash decimallessFloat"),hooks:{}}),m.defineMIME("text/x-plsql",{name:"sql",client:r("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:r("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:r("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:r("date time timestamp"),support:r("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),m.defineMIME("text/x-hive",{name:"sql",keywords:r("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:r("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:r("date timestamp"),support:r("ODBCdotTable doubleQuote binaryNumber hexNumber")}),m.defineMIME("text/x-pgsql",{name:"sql",client:r("source"),keywords:r(i+"a abort abs absent absolute access according action ada add admin after aggregate all allocate also always analyse analyze any are array array_agg array_max_cardinality asensitive assertion assignment asymmetric at atomic attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli binary bit_length blob blocked bom both breadth c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain characteristics characters character_length character_set_catalog character_set_name character_set_schema char_length check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column columns column_name command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constraint constraints constraint_catalog constraint_name constraint_schema constructor contains content continue control conversion convert copy corr corresponding cost covar_pop covar_samp cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datetime_interval_code datetime_interval_precision day db deallocate dec declare default defaults deferrable deferred defined definer degree delimiter delimiters dense_rank depth deref derived describe descriptor deterministic diagnostics dictionary disable discard disconnect dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain dynamic dynamic_function dynamic_function_code each element else empty enable encoding encrypted end end-exec end_frame end_partition enforced enum equals escape event every except exception exclude excluding exclusive exec execute exists exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreign fortran forward found frame_row free freeze fs full function functions fusion g general generated get global go goto grant granted greatest grouping groups handler header hex hierarchy hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import including increment indent index indexes indicator inherit inherits initially inline inner inout input insensitive instance instantiable instead integrity intersect intersection invoker isnull isolation k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like_regex link listen ln load local localtime localtimestamp location locator lock locked logged lower m map mapping match matched materialized max maxvalue max_cardinality member merge message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized nothing notify notnull nowait nth_value ntile null nullable nullif nulls number object occurrences_regex octets octet_length of off offset oids old only open operator option options ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password percent percentile_cont percentile_disc percent_rank period permission placing plans pli policy portion position position_regex power precedes preceding prepare prepared preserve primary prior privileges procedural procedure program public quote range rank read reads reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict restricted result return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns revoke right role rollback rollup routine routine_catalog routine_name routine_schema row rows row_count row_number rule savepoint scale schema schema_name scope scope_catalog scope_name scope_schema scroll search second section security selective self sensitive sequence sequences serializable server server_name session session_user setof sets share show similar simple size skip snapshot some source space specific specifictype specific_name sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset substring substring_regex succeeds sum symmetric sysid system system_time system_user t tables tablesample tablespace table_name temp template temporary then ties timezone_hour timezone_minute to token top_level_count trailing transaction transactions_committed transactions_rolled_back transaction_active transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted unique unknown unlink unlisten unlogged unnamed unnest until untyped upper uri usage user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of varbinary variadic var_pop var_samp verbose version versioning view views volatile when whenever whitespace width_bucket window within work wrapper write xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes loop repeat attach path depends detach zone"),builtin:r("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:r("date time timestamp"),support:r("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),m.defineMIME("text/x-gql",{name:"sql",keywords:r("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:r("false true"),builtin:r("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var u=e.Pos;var t="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=new RegExp("<(/?)(["+t+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function d(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function i(e,t){var n=e.cm.getTokenTypeAt(u(e.line,t));return n&&/\btag\b/.test(n)}function o(e){return!(e.line>=e.max)&&(e.ch=0,e.text=e.cm.getLine(++e.line),1)}function a(e){return!(e.line<=e.min)&&(e.text=e.cm.getLine(--e.line),e.ch=e.text.length,1)}function h(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(o(e))continue;return}if(i(e,t+1)){var n=e.text.lastIndexOf("/",t),r=-1<n&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t+1}}function f(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(i(e,t+1)){r.lastIndex=t,e.ch=t;var n=r.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){r.lastIndex=e.ch;var t=r.exec(e.text);if(!t){if(o(e))continue;return}if(i(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(i(e,t+1)){var n=e.text.lastIndexOf("/",t),r=-1<n&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,r?"selfClose":"regular"}e.ch=t}}function p(e,t){for(var n=[];;){var r,i=l(e),o=e.line,a=e.ch-(i?i[0].length:0);if(!i||!(r=h(e)))return;if("selfClose"!=r)if(i[1]){for(var s=n.length-1;0<=s;--s)if(n[s]==i[2]){n.length=s;break}if(s<0&&(!t||t==i[2]))return{tag:i[2],from:u(o,a),to:u(e.line,e.ch)}}else n.push(i[2])}}function m(e,t){for(var n=[];;){var r=c(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,a=f(e);if(!a)return;if(a[1])n.push(a[2]);else{for(var s=n.length-1;0<=s;--s)if(n[s]==a[2]){n.length=s;break}if(s<0&&(!t||t==a[2]))return{tag:a[2],from:u(e.line,e.ch),to:u(i,o)}}}else f(e)}}e.registerHelper("fold","xml",function(e,t){for(var n=new d(e,t.line,0);;){var r,i=l(n);if(!i||n.line!=t.line||!(r=h(n)))return;if(!i[1]&&"selfClose"!=r){var o=u(n.line,n.ch),a=p(n,i[2]);return a&&{from:o,to:a.from}}}}),e.findMatchingTag=function(e,t,n){var r=new d(e,t.line,t.ch,n);if(-1!=r.text.indexOf(">")||-1!=r.text.indexOf("<")){var i=h(r),o=i&&u(r.line,r.ch),a=i&&f(r);if(i&&a&&(l=t,!(0<((s=r).line-l.line||s.ch-l.ch)))){var s,l,c={from:u(r.line,r.ch),to:o,tag:a[2]};return"selfClose"==i?{open:c,close:null,at:"open"}:a[1]?{open:m(r,a[2]),close:c,at:"close"}:{open:c,close:p(r=new d(e,o.line,o.ch,n),a[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,n,r){for(var i=new d(e,t.line,t.ch,n);;){var o=m(i,r);if(!o)break;var a=p(new d(e,t.line,t.ch,n),o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,n,r){return p(new d(e,t.line,t.ch,r?{from:0,to:r}:null),n)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(r){var u=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),m=r.Pos,g={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function d(e,t,n){var r=e.getLineHandle(t.line),i=t.ch-1,o=n&&n.afterCursor;null==o&&(o=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var a=!o&&0<=i&&g[r.text.charAt(i)]||g[r.text.charAt(++i)];if(!a)return null;var s=">"==a.charAt(1)?1:-1;if(n&&n.strict&&0<s!=(i==t.ch))return null;var l=e.getTokenTypeAt(m(t.line,i+1)),c=h(e,m(t.line,i+(0<s?1:0)),s,l||null,n);return null==c?null:{from:m(t.line,i),to:c&&c.pos,match:c&&c.ch==a.charAt(0),forward:0<s}}function h(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,a=i&&i.maxScanLines||1e3,s=[],l=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,c=0<n?Math.min(t.line+a,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-a),u=t.line;u!=c;u+=n){var d=e.getLine(u);if(d){var h=0<n?0:d.length-1,f=0<n?d.length:-1;if(!(d.length>o))for(u==t.line&&(h=t.ch-(n<0?1:0));h!=f;h+=n){var p=d.charAt(h);if(l.test(p)&&(void 0===r||e.getTokenTypeAt(m(u,h+1))==r))if(">"==g[p].charAt(1)==0<n)s.push(p);else{if(!s.length)return{pos:m(u,h),ch:p};s.pop()}}}}return u-n!=(0<n?e.lastLine():e.firstLine())&&null}function t(e,t,n){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,i=[],o=e.listSelections(),a=0;a<o.length;a++){var s=o[a].empty()&&d(e,o[a].head,n);if(s&&e.getLine(s.from.line).length<=r){var l=s.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";i.push(e.markText(s.from,m(s.from.line,s.from.ch+1),{className:l})),s.to&&e.getLine(s.to.line).length<=r&&i.push(e.markText(s.to,m(s.to.line,s.to.ch+1),{className:l}))}}if(i.length){u&&e.state.focused&&e.focus();function c(){e.operation(function(){for(var e=0;e<i.length;e++)i[e].clear()})}if(!t)return c;setTimeout(c,800)}}var i=null;function o(e){e.operation(function(){i&&(i(),i=null),i=t(e,!1,e.state.matchBrackets)})}r.defineOption("matchBrackets",!1,function(e,t,n){n&&n!=r.Init&&(e.off("cursorActivity",o),i&&(i(),i=null)),t&&(e.state.matchBrackets="object"==typeof t?t:{},e.on("cursorActivity",o))}),r.defineExtension("matchBrackets",function(){t(this,!0)}),r.defineExtension("findMatchingBracket",function(e,t,n){return!n&&"boolean"!=typeof t||(t=n?(n.strict=t,n):t?{strict:!0}:null),d(this,e,t)}),r.defineExtension("scanForBracket",function(e,t,n,r){return h(this,e,t,n,r)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(b){var n={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},w=b.Pos;function C(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:n[t]}b.defineOption("autoCloseBrackets",!1,function(e,t,n){n&&n!=b.Init&&(e.removeKeyMap(r),e.state.closeBrackets=null),t&&(e.state.closeBrackets=t,e.addKeyMap(r))});for(var e=n.pairs+"`",r={Backspace:function(e){var t=x(e);if(!t||e.getOption("disableInput"))return b.Pass;for(var n=C(t,"pairs"),r=e.listSelections(),i=0;i<r.length;i++){if(!r[i].empty())return b.Pass;var o=s(e,r[i].head);if(!o||n.indexOf(o)%2!=0)return b.Pass}for(i=r.length-1;0<=i;i--){var a=r[i].head;e.replaceRange("",w(a.line,a.ch-1),w(a.line,a.ch+1),"+delete")}},Enter:function(n){var e=x(n),t=e&&C(e,"explode");if(!t||n.getOption("disableInput"))return b.Pass;for(var r=n.listSelections(),i=0;i<r.length;i++){if(!r[i].empty())return b.Pass;var o=s(n,r[i].head);if(!o||t.indexOf(o)%2!=0)return b.Pass}n.operation(function(){n.replaceSelection("\n\n",null),n.execCommand("goCharLeft"),r=n.listSelections();for(var e=0;e<r.length;e++){var t=r[e].head.line;n.indentLine(t,null,!0),n.indentLine(t+1,null,!0)}})}},t=0;t<e.length;t++)r["'"+e.charAt(t)+"'"]=i(e.charAt(t));function i(t){return function(e){return function(i,e){var t=x(i);if(!t||i.getOption("disableInput"))return b.Pass;var n=C(t,"pairs"),r=n.indexOf(e);if(-1==r)return b.Pass;for(var o,a=C(t,"triples"),s=n.charAt(r+1)==e,l=i.listSelections(),c=r%2==0,u=0;u<l.length;u++){var d,h=l[u],f=h.head,p=i.getRange(f,w(f.line,f.ch+1));if(c&&!h.empty())d="surround";else if(!s&&c||p!=e)if(s&&1<f.ch&&0<=a.indexOf(e)&&i.getRange(w(f.line,f.ch-2),f)==e+e&&(f.ch<=2||i.getRange(w(f.line,f.ch-3),w(f.line,f.ch-2))!=e))d="addFour";else if(s){if(b.isWordChar(p)||!E(i,f,e))return b.Pass;d="both"}else{if(!c||!(i.getLine(f.line).length==f.ch||(m=p,-1<(g=n.lastIndexOf(m))&&g%2==1)||/\s/.test(p)))return b.Pass;d="both"}else d=s&&_(i,f)?"both":0<=a.indexOf(e)&&i.getRange(f,w(f.line,f.ch+3))==e+e+e?"skipThree":"skip";if(o){if(o!=d)return b.Pass}else o=d}var m,g;var v=r%2?n.charAt(r-1):e,y=r%2?e:n.charAt(r+1);i.operation(function(){if("skip"==o)i.execCommand("goCharRight");else if("skipThree"==o)for(var e=0;e<3;e++)i.execCommand("goCharRight");else if("surround"==o){var t=i.getSelections();for(e=0;e<t.length;e++)t[e]=v+t[e]+y;i.replaceSelections(t,"around"),t=i.listSelections().slice();for(e=0;e<t.length;e++)t[e]=(n=t[e],r=0<b.cmpPos(n.anchor,n.head),{anchor:new w(n.anchor.line,n.anchor.ch+(r?-1:1)),head:new w(n.head.line,n.head.ch+(r?1:-1))});i.setSelections(t)}else"both"==o?(i.replaceSelection(v+y,null),i.triggerElectric(v+y),i.execCommand("goCharLeft")):"addFour"==o&&(i.replaceSelection(v+v+v+v,"before"),i.execCommand("goCharRight"));var n,r})}(e,t)}}function x(e){var t=e.state.closeBrackets;return t&&!t.override&&e.getModeAt(e.getCursor()).closeBrackets||t}function s(e,t){var n=e.getRange(w(t.line,t.ch-1),w(t.line,t.ch+1));return 2==n.length?n:null}function E(e,t,n){var r=e.getLine(t.line),i=e.getTokenAt(t);if(!/\bstring2?\b/.test(i.type)&&!_(e,t)){var o=new b.StringStream(r.slice(0,t.ch)+n+r.slice(t.ch),4);for(o.pos=o.start=i.start;;){var a=e.getMode().token(o,i.state);if(o.pos>=t.ch+1)return/\bstring2?\b/.test(a);o.start=o.pos}}}function _(e,t){var n=e.getTokenAt(w(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(a){"use strict";function s(e){e.state.tagHit&&e.state.tagHit.clear(),e.state.tagOther&&e.state.tagOther.clear(),e.state.tagHit=e.state.tagOther=null}function r(o){o.state.failedTagMatch=!1,o.operation(function(){if(s(o),!o.somethingSelected()){var e=o.getCursor(),t=o.getViewport();t.from=Math.min(t.from,e.line),t.to=Math.max(e.line+1,t.to);var n=a.findMatchingTag(o,e,t);if(n){if(o.state.matchBothTags){var r="open"==n.at?n.open:n.close;r&&(o.state.tagHit=o.markText(r.from,r.to,{className:"CodeMirror-matchingtag"}))}var i="close"==n.at?n.open:n.close;i?o.state.tagOther=o.markText(i.from,i.to,{className:"CodeMirror-matchingtag"}):o.state.failedTagMatch=!0}}})}function i(e){e.state.failedTagMatch&&r(e)}a.defineOption("matchTags",!1,function(e,t,n){n&&n!=a.Init&&(e.off("cursorActivity",r),e.off("viewportChange",i),s(e)),t&&(e.state.matchBothTags="object"==typeof t&&t.bothTags,e.on("cursorActivity",r),e.on("viewportChange",i),r(e))}),a.commands.toMatchingTag=function(e){var t=a.findMatchingTag(e,e.getCursor());if(t){var n="close"==t.at?t.open:t.close;n&&e.extendSelection(n.to,n.from)}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(v){v.defineOption("autoCloseTags",!1,function(e,t,n){if(n!=v.Init&&n&&e.removeKeyMap("autoCloseTags"),t){var r={name:"autoCloseTags"};"object"==typeof t&&!t.whenClosing||(r["'/'"]=function(e){return(t=e).getOption("disableInput")?v.Pass:i(t,!0);var t}),"object"==typeof t&&!t.whenOpening||(r["'>'"]=function(e){return function(e){if(e.getOption("disableInput"))return v.Pass;for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){if(!t[r].empty())return v.Pass;var i=t[r].head,o=e.getTokenAt(i),a=v.innerMode(e.getMode(),o.state),s=a.state;if("xml"!=a.mode.name||!s.tagName)return v.Pass;var l=e.getOption("autoCloseTags"),c="html"==a.mode.configuration,u="object"==typeof l&&l.dontCloseTags||c&&y,d="object"==typeof l&&l.indentTags||c&&b,h=s.tagName;o.end>i.ch&&(h=h.slice(0,h.length-o.end+i.ch));var f=h.toLowerCase();if(!h||"string"==o.type&&(o.end!=i.ch||!/[\"\']/.test(o.string.charAt(o.string.length-1))||1==o.string.length)||"tag"==o.type&&"closeTag"==s.type||o.string.indexOf("/")==o.string.length-1||u&&-1<w(u,f)||C(e,h,i,s,!0))return v.Pass;var p=d&&-1<w(d,f);n[r]={indent:p,text:">"+(p?"\n\n":"")+"</"+h+">",newPos:p?v.Pos(i.line+1,0):v.Pos(i.line,i.ch+1)}}for(r=t.length-1;0<=r;r--){var m=n[r];e.replaceRange(m.text,t[r].head,t[r].anchor,"+insert");var g=e.listSelections().slice(0);g[r]={head:m.newPos,anchor:m.newPos},e.setSelections(g),m.indent&&(e.indentLine(m.newPos.line,null,!0),e.indentLine(m.newPos.line+1,null,!0))}}(e)}),e.addKeyMap(r)}});var y=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],b=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function i(e,t){for(var n=e.listSelections(),r=[],i=t?"/":"</",o=0;o<n.length;o++){if(!n[o].empty())return v.Pass;var a,s=n[o].head,l=e.getTokenAt(s),c=v.innerMode(e.getMode(),l.state),u=c.state;if(t&&("string"==l.type||"<"!=l.string.charAt(0)||l.start!=s.ch-1))return v.Pass;if("xml"!=c.mode.name)if("htmlmixed"==e.getMode().name&&"javascript"==c.mode.name)a=i+"script";else{if("htmlmixed"!=e.getMode().name||"css"!=c.mode.name)return v.Pass;a=i+"style"}else{if(!u.context||!u.context.tagName||C(e,u.context.tagName,s,u))return v.Pass;a=i+u.context.tagName}">"!=e.getLine(s.line).charAt(l.end)&&(a+=">"),r[o]=a}e.replaceSelections(r),n=e.listSelections();for(o=0;o<n.length;o++)(o==n.length-1||n[o].head.line<n[o+1].head.line)&&e.indentLine(n[o].head.line)}function w(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;++n)if(e[n]==t)return n;return-1}function C(e,t,n,r,i){if(v.scanForClosingTag){var o=Math.min(e.lastLine()+1,n.line+500),a=v.scanForClosingTag(e,n,null,o);if(a&&a.tag==t){for(var s=r.context,l=i?1:0;s&&s.tagName==t;s=s.prev)++l;n=a.to;for(var c=1;c<l;c++){var u=v.scanForClosingTag(e,n,null,o);if(!u||u.tag!=t)return;n=u.to}return 1}}}v.commands.closeTag=function(e){return i(e)}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.io=t():e.io=t()}(this,function(){return i={},n.m=r=[function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(1),r=n(7),u=n(17),d=n(3)("socket.io-client");e.exports=t=i;var h=t.managers={};function i(e,t){"object"===(void 0===e?"undefined":l(e))&&(t=e,e=void 0),t=t||{};var n,r=c(e),i=r.source,o=r.id,a=r.path,s=h[o]&&a in h[o].nsps;return n=t.forceNew||t["force new connection"]||!1===t.multiplex||s?(d("ignoring socket cache for %s",i),u(i,t)):(h[o]||(d("new io instance for %s",i),h[o]=u(i,t)),h[o]),r.query&&!t.query?t.query=r.query:t&&"object"===l(t.query)&&(t.query=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(t.query)),n.socket(r.path,t)}t.protocol=r.protocol,t.connect=i,t.Manager=n(17),t.Socket=n(44)},function(e,t,n){(function(i){"use strict";var o=n(2),a=n(3)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||i.location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(a("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),a("parse %s",e),n=o(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var r=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port,n.href=n.protocol+"://"+r+(t&&t.port===n.port?"":":"+n.port),n}}).call(t,function(){return this}())},function(e,t){var s=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var i=s.exec(e||""),o={},a=14;a--;)o[l[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o}},function(n,o,r){(function(e){function t(){try{return o.storage.debug}catch(e){}if(void 0!==e&&"env"in e)return e.env.DEBUG}(o=n.exports=r(5)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},o.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+o.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n),e},o.save=function(e){try{null==e?o.storage.removeItem("debug"):o.storage.debug=e}catch(e){}},o.load=t,o.useColors=function(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},o.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),o.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],o.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},o.enable(t())}).call(o,r(4))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,s,t){(s=e.exports=n.debug=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},s.disable=function(){s.enable("")},s.enable=function(e){s.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,r=0;r<n;r++)t[r]&&("-"===(e=t[r].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"))[0]?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$")))},s.enabled=function(e){var t,n;for(t=0,n=s.skips.length;t<n;t++)if(s.skips[t].test(e))return!1;for(t=0,n=s.names.length;t<n;t++)if(s.names[t].test(e))return!0;return!1},s.humanize=t(6),s.names=[],s.skips=[],s.formatters={};var l,c=0;function n(e){function t(){}function r(){var i=r,e=+new Date,t=e-(l||e);i.diff=t,i.prev=l,i.curr=e,l=e,null==i.useColors&&(i.useColors=s.useColors()),null==i.color&&i.useColors&&(i.color=s.colors[c++%s.colors.length]);for(var o=new Array(arguments.length),n=0;n<o.length;n++)o[n]=arguments[n];o[0]=s.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var a=0;o[0]=o[0].replace(/%([a-z%])/g,function(e,t){if("%%"===e)return e;a++;var n=s.formatters[t];if("function"==typeof n){var r=o[a];e=n.call(i,r),o.splice(a,1),a--}return e}),o=s.formatArgs.apply(i,o),(r.log||s.log||console.log.bind(console)).apply(i,o)}r.enabled=!(t.enabled=!1);var n=s.enabled(e)?r:t;return n.namespace=e,n}},function(e,t){function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var n,r=typeof e;if("string"==r&&0<e.length)return function(e){if(1e4<(e=String(e)).length)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"==r&&!1===isNaN(e))return t.long?i(n=e,864e5,"day")||i(n,36e5,"hour")||i(n,6e4,"minute")||i(n,1e3,"second")||n+" ms":function(e){if(864e5<=e)return Math.round(e/864e5)+"d";if(36e5<=e)return Math.round(e/36e5)+"h";if(6e4<=e)return Math.round(e/6e4)+"m";if(1e3<=e)return Math.round(e/1e3)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,a,t){var s=t(8)("socket.io-parser"),l=t(11),n=t(13),o=t(14),r=t(16);function i(){}function c(e){var t="",n=!1;return t+=e.type,a.BINARY_EVENT!=e.type&&a.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(n=!0,t+=e.nsp),null!=e.id&&(n&&(t+=",",n=!1),t+=e.id),null!=e.data&&(n&&(t+=","),t+=l.stringify(e.data)),s("encoded %j as %s",e,t),t}function u(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function h(){return{type:a.ERROR,data:"parser error"}}a.protocol=4,a.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],a.CONNECT=0,a.DISCONNECT=1,a.EVENT=2,a.ACK=3,a.ERROR=4,a.BINARY_EVENT=5,a.BINARY_ACK=6,a.Encoder=i,a.Decoder=u,i.prototype.encode=function(e,t){var n,i;(s("encoding packet %j",e),a.BINARY_EVENT==e.type||a.BINARY_ACK==e.type)?(n=e,i=t,o.removeBlobs(n,function(e){var t=o.deconstructPacket(e),n=c(t.packet),r=t.buffers;r.unshift(n),i(r)})):t([c(e)])},n(u.prototype),u.prototype.add=function(e){var t;if("string"==typeof e)t=function(e){var t={},n=0;if(t.type=Number(e.charAt(0)),null==a.types[t.type])return h();if(a.BINARY_EVENT==t.type||a.BINARY_ACK==t.type){for(var r="";"-"!=e.charAt(++n)&&(r+=e.charAt(n),n!=e.length););if(r!=Number(r)||"-"!=e.charAt(n))throw new Error("Illegal attachments");t.attachments=Number(r)}if("/"==e.charAt(n+1))for(t.nsp="";++n;){if(","==(o=e.charAt(n)))break;if(t.nsp+=o,n==e.length)break}else t.nsp="/";var i=e.charAt(n+1);if(""!==i&&Number(i)==i){for(t.id="";++n;){var o;if(null==(o=e.charAt(n))||Number(o)!=o){--n;break}if(t.id+=e.charAt(n),n==e.length)break}t.id=Number(t.id)}e.charAt(++n)&&(t=function(e,t){try{e.data=l.parse(t)}catch(e){return h()}return e}(t,e.substr(n)));return s("decoded %s as %j",e,t),t}(e),a.BINARY_EVENT==t.type||a.BINARY_ACK==t.type?(this.reconstructor=new d(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!r(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},u.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length!=this.reconPack.attachments)return null;var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,o,t){function n(){var e;try{e=o.storage.debug}catch(e){}return e}(o=e.exports=t(9)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},o.formatArgs=function(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+o.humanize(this.diff),!t)return e;var n="color: "+this.color;e=[e[0],n,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))}),e.splice(i,0,n),e},o.save=function(e){try{null==e?o.storage.removeItem("debug"):o.storage.debug=e}catch(e){}},o.load=n,o.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},o.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),o.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],o.formatters.j=function(e){return JSON.stringify(e)},o.enable(n())},function(e,s,t){(s=e.exports=function(e){function t(){}function n(){var i=n,e=+new Date,t=e-(l||e);i.diff=t,i.prev=l,i.curr=e,l=e,null==i.useColors&&(i.useColors=s.useColors()),null==i.color&&i.useColors&&(i.color=s.colors[c++%s.colors.length]);var o=Array.prototype.slice.call(arguments);o[0]=s.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var a=0;o[0]=o[0].replace(/%([a-z%])/g,function(e,t){if("%%"===e)return e;a++;var n=s.formatters[t];if("function"==typeof n){var r=o[a];e=n.call(i,r),o.splice(a,1),a--}return e}),"function"==typeof s.formatArgs&&(o=s.formatArgs.apply(i,o)),(n.log||s.log||console.log.bind(console)).apply(i,o)}t.enabled=!1,n.enabled=!0;var r=s.enabled(e)?n:t;return r.namespace=e,r}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},s.disable=function(){s.enable("")},s.enable=function(e){s.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,r=0;r<n;r++)t[r]&&("-"===(e=t[r].replace(/\*/g,".*?"))[0]?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$")))},s.enabled=function(e){var t,n;for(t=0,n=s.skips.length;t<n;t++)if(s.skips[t].test(e))return!1;for(t=0,n=s.names.length;t<n;t++)if(s.names[t].test(e))return!0;return!1},s.humanize=t(10),s.names=[],s.skips=[],s.formatters={};var l,c=0},function(e,t){function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if(1e4<(e=""+e).length)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return 864e5*n;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}(e):t.long?i(r=e,864e5,"day")||i(r,36e5,"hour")||i(r,6e4,"minute")||i(r,1e3,"second")||r+" ms":864e5<=(n=e)?Math.round(n/864e5)+"d":36e5<=n?Math.round(n/36e5)+"h":6e4<=n?Math.round(n/6e4)+"m":1e3<=n?Math.round(n/1e3)+"s":n+"ms";var n,r}},function(e,l,t){(function(a,s){(function(){var F={function:!0,object:!0},e=F[typeof l]&&l&&!l.nodeType&&l,H=F[typeof window]&&window||this,t=e&&F[typeof a]&&a&&!a.nodeType&&"object"==typeof s&&s;function j(e,l){e=e||H.Object(),l=l||H.Object();var c=e.Number||H.Number,u=e.String||H.String,t=e.Object||H.Object,d=e.Date||H.Date,n=e.SyntaxError||H.SyntaxError,E=e.TypeError||H.TypeError,r=e.Math||H.Math,i=e.JSON||H.JSON;"object"==typeof i&&i&&(l.stringify=i.stringify,l.parse=i.parse);var _,$,S,o=t.prototype,A=o.toString,h=new d(-0xc782b5b800cec);try{h=-109252==h.getUTCFullYear()&&0===h.getUTCMonth()&&1===h.getUTCDate()&&10==h.getUTCHours()&&37==h.getUTCMinutes()&&6==h.getUTCSeconds()&&708==h.getUTCMilliseconds()}catch(e){}function f(e){if(f[e]!==S)return f[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=f("json-stringify")&&f("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var i=l.stringify,o="function"==typeof i&&h;if(o){(n=function(){return 1}).toJSON=n;try{o="0"===i(0)&&"0"===i(new c)&&'""'==i(new u)&&i(A)===S&&i(S)===S&&i()===S&&"1"===i(n)&&"[1]"==i([n])&&"[null]"==i([S])&&"null"==i(null)&&"[null,null,null]"==i([S,A,null])&&i({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===i(null,n)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new d(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new d(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new d(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new d(-1))}catch(e){o=!1}}t=o}if("json-parse"==e){var a=l.parse;if("function"==typeof a)try{if(0===a("0")&&!a(!1)){var s=5==(n=a(r)).a.length&&1===n.a[0];if(s){try{s=!a('"\t"')}catch(e){}if(s)try{s=1!==a("01")}catch(e){}if(s)try{s=1!==a("1.")}catch(e){}}}}catch(e){s=!1}t=s}}return f[e]=!!t}if(!f("json")){var p="[object Function]",k="[object Number]",T="[object String]",M="[object Array]",s=f("bug-string-char-index");if(!h)var N=r.floor,a=[0,31,59,90,120,151,181,212,243,273,304,334],P=function(e,t){return a[t]+365*(e-1970)+N((e-1969+(t=+(1<t)))/4)-N((e-1901+t)/100)+N((e-1601+t)/400)};if((_=o.hasOwnProperty)||(_=function(e){var n,t={};return t.__proto__=null,t.__proto__={toString:1},_=t.toString!=A?function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(n=t.constructor,function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,_.call(this,e)}),$=function(e,t){var n,a,r,i=0;for(r in(n=function(){this.valueOf=0}).prototype.valueOf=0,a=new n)_.call(a,r)&&i++;return n=a=null,($=i?2==i?function(e,t){var n,r={},i=A.call(e)==p;for(n in e)i&&"prototype"==n||_.call(r,n)||!(r[n]=1)||!_.call(e,n)||t(n)}:function(e,t){var n,r,i=A.call(e)==p;for(n in e)i&&"prototype"==n||!_.call(e,n)||(r="constructor"===n)||t(n);(r||_.call(e,n="constructor"))&&t(n)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(e,t){var n,r,i=A.call(e)==p,o=!i&&"function"!=typeof e.constructor&&F[typeof e.hasOwnProperty]&&e.hasOwnProperty||_;for(n in e)i&&"prototype"==n||!o.call(e,n)||t(n);for(r=a.length;n=a[--r];o.call(e,n)&&t(n));}))(e,t)},!f("json-stringify")){function R(e,t){return("000000"+(t||0)).slice(-e)}function D(e){for(var t='"',n=0,r=e.length,i=!s||10<r,o=i&&(s?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=m[a];break;default:if(a<32){t+="\\u00"+R(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'}var m={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},O=function(e,t,n,r,i,o,a){var s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,x;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(l=A.call(s))||_.call(s,"toJSON"))"function"==typeof s.toJSON&&(l!=k&&l!=T&&l!=M||_.call(s,"toJSON"))&&(s=s.toJSON(e));else if(-1/0<s&&s<1/0){if(P){for(d=N(s/864e5),c=N(d/365.2425)+1970-1;P(c+1,0)<=d;c++);for(u=N((d-P(c,0))/30.42);P(c,u+1)<=d;u++);d=1+d-P(c,u),f=N((h=(s%864e5+864e5)%864e5)/36e5)%24,p=N(h/6e4)%60,m=N(h/1e3)%60,g=h%1e3}else c=s.getUTCFullYear(),u=s.getUTCMonth(),d=s.getUTCDate(),f=s.getUTCHours(),p=s.getUTCMinutes(),m=s.getUTCSeconds(),g=s.getUTCMilliseconds();s=(c<=0||1e4<=c?(c<0?"-":"+")+R(6,c<0?-c:c):R(4,c))+"-"+R(2,u+1)+"-"+R(2,d)+"T"+R(2,f)+":"+R(2,p)+":"+R(2,m)+"."+R(3,g)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(l=A.call(s)))return""+s;if(l==k)return-1/0<s&&s<1/0?""+s:"null";if(l==T)return D(""+s);if("object"==typeof s){for(w=a.length;w--;)if(a[w]===s)throw E();if(a.push(s),v=[],C=o,o+=i,l==M){for(b=0,w=s.length;b<w;b++)y=O(b,s,n,r,i,o,a),v.push(y===S?"null":y);x=v.length?i?"[\n"+o+v.join(",\n"+o)+"\n"+C+"]":"["+v.join(",")+"]":"[]"}else $(r||s,function(e){var t=O(e,s,n,r,i,o,a);t!==S&&v.push(D(e)+":"+(i?" ":"")+t)}),x=v.length?i?"{\n"+o+v.join(",\n"+o)+"\n"+C+"}":"{"+v.join(",")+"}":"{}";return a.pop(),x}};l.stringify=function(e,t,n){var r,i,o,a;if(F[typeof t]&&t)if((a=A.call(t))==p)i=t;else if(a==M){o={};for(var s,l=0,c=t.length;l<c;s=t[l++],(a=A.call(s))!=T&&a!=k||(o[s]=1));}if(n)if((a=A.call(n))==k){if(0<(n-=n%1))for(r="",10<n&&(n=10);r.length<n;r+=" ");}else a==T&&(r=n.length<=10?n:n.slice(0,10));return O("",((s={})[""]=e,s),i,o,r,"",[])}}if(!f("json-parse")){function g(){throw b=w=null,n()}function v(){for(var e,t,n,r,i,o=w,a=o.length;b<a;)switch(i=o.charCodeAt(b)){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=s?o.charAt(b):o[b],b++,e;case 34:for(e="@",b++;b<a;)if((i=o.charCodeAt(b))<32)g();else if(92==i)switch(i=o.charCodeAt(++b)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=x[i],b++;break;case 117:for(t=++b,n=b+4;b<n;b++)48<=(i=o.charCodeAt(b))&&i<=57||97<=i&&i<=102||65<=i&&i<=70||g();e+=C("0x"+o.slice(t,b));break;default:g()}else{if(34==i)break;for(i=o.charCodeAt(b),t=b;32<=i&&92!=i&&34!=i;)i=o.charCodeAt(++b);e+=o.slice(t,b)}if(34==o.charCodeAt(b))return b++,e;g();default:if(t=b,45==i&&(r=!0,i=o.charCodeAt(++b)),48<=i&&i<=57){for(48==i&&(48<=(i=o.charCodeAt(b+1))&&i<=57)&&g(),r=!1;b<a&&(48<=(i=o.charCodeAt(b))&&i<=57);b++);if(46==o.charCodeAt(b)){for(n=++b;n<a&&(48<=(i=o.charCodeAt(n))&&i<=57);n++);n==b&&g(),b=n}if(101==(i=o.charCodeAt(b))||69==i){for(43!=(i=o.charCodeAt(++b))&&45!=i||b++,n=b;n<a&&(48<=(i=o.charCodeAt(n))&&i<=57);n++);n==b&&g(),b=n}return+o.slice(t,b)}if(r&&g(),"true"==o.slice(b,b+4))return b+=4,!0;if("false"==o.slice(b,b+5))return b+=5,!1;if("null"==o.slice(b,b+4))return b+=4,null;g()}return"$"}function y(e,t,n){var r=L(e,t,n);r===S?delete e[t]:e[t]=r}var b,w,C=u.fromCharCode,x={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(e){var t,n;if("$"==e&&g(),"string"==typeof e){if("@"==(s?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=v());n=n||!0)!n||","==e&&"]"!=(e=v())||g(),","==e&&g(),t.push(I(e));return t}if("{"==e){for(t={};"}"!=(e=v());n=n||!0)!n||","==e&&"}"!=(e=v())||g(),","!=e&&"string"==typeof e&&"@"==(s?e.charAt(0):e[0])&&":"==v()||g(),t[e.slice(1)]=I(v());return t}g()}return e},L=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(A.call(i)==M)for(r=i.length;r--;)y(i,r,n);else $(i,function(e){y(i,e,n)});return n.call(e,t,i)};l.parse=function(e,t){var n,r;return b=0,w=""+e,n=I(v()),"$"!=v()&&g(),b=w=null,t&&A.call(t)==p?L(((r={})[""]=n,r),"",t):n}}}return l.runInContext=j,l}if(!t||t.global!==t&&t.window!==t&&t.self!==t||(H=t),e)j(H,e);else{var n=H.JSON,r=H.JSON3,i=!1,o=j(H,H.JSON3={noConflict:function(){return i||(i=!0,H.JSON=n,H.JSON3=r,n=r=null),o}});H.JSON={parse:o.parse,stringify:o.stringify}}}).call(this)}).call(l,t(12)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}(e.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(u){var d=n(15),h=n(16);t.deconstructPacket=function(e){var a=[],t=e.data;var n=e;return n.data=function e(t){if(!t)return t;if(h(t)){var n={_placeholder:!0,num:a.length};return a.push(t),n}if(d(t)){for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=e(t[i]);return r}if("object"!=typeof t||t instanceof Date)return t;r={};for(var o in t)r[o]=e(t[o]);return r}(t),n.attachments=a.length,{packet:n,buffers:a}},t.reconstructPacket=function(e,i){return e.data=function e(t){if(t&&t._placeholder)return i[t.num];if(d(t)){for(var n=0;n<t.length;n++)t[n]=e(t[n]);return t}if(t&&"object"==typeof t){for(var r in t)t[r]=e(t[r]);return t}return t}(e.data),e.attachments=void 0,e},t.removeBlobs=function(e,s){var l=0,c=e;!function e(t,n,r){if(!t)return t;if(u.Blob&&t instanceof Blob||u.File&&t instanceof File){l++;var i=new FileReader;i.onload=function(){r?r[n]=this.result:c=this.result,--l||s(c)},i.readAsArrayBuffer(t)}else if(d(t))for(var o=0;o<t.length;o++)e(t[o],o,t);else if(t&&"object"==typeof t&&!h(t))for(var a in t)e(t[a],a,t)}(c),l||s(c)}}).call(t,function(){return this}())},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(t,function(){return this}())},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(18),o=n(44),i=n(35),a=n(7),c=n(46),s=n(47),u=n(3)("socket.io-client:manager"),d=n(42),h=n(48),f=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"===(void 0===e?"undefined":r(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}(e.exports=p).prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},i(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(n,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=l(this.uri,this.opts);var t=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=c(t,"open",function(){r.onopen(),n&&n()}),o=c(t,"error",function(e){if(u("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),n){var t=new Error("Connection error");t.data=e,n(t)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var s=setTimeout(function(){u("connect attempt timed out after %d",a),i.destroy(),t.close(),t.emit("error","timeout"),r.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(i),this.subs.push(o),this},p.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",s(this,"ondata"))),this.subs.push(c(e,"ping",s(this,"onping"))),this.subs.push(c(e,"pong",s(this,"onpong"))),this.subs.push(c(e,"error",s(this,"onerror"))),this.subs.push(c(e,"close",s(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",s(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new o(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&i()}function i(){~d(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(n){u("writing packet %j",n);var r=this;n.query&&0===n.type&&(n.nsp+="?"+n.query),r.encoding?r.packetBuffer.push(n):(r.encoding=!0,this.encoder.encode(n,function(e){for(var t=0;t<e.length;t++)r.engine.write(e[t],n.options);r.encoding=!1,r.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(19)},function(e,t,n){e.exports=n(20),e.exports.parser=n(27)},function(t,e,c){(function(r){var n=c(21),e=c(35),d=c(3)("engine.io-client:socket"),i=c(42),o=c(27),a=c(2),s=c(43),l=c(36);function h(e,t){if(!(this instanceof h))return new h(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=a(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=a(t.host).host),this.secure=null!=t.secure?t.secure:r.location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(r.location?location.hostname:"localhost"),this.port=t.port||(r.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized,this.forceNode=!!t.forceNode;var n="object"==typeof r&&r;n.global===n&&(t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}(t.exports=h).priorWebsocketSuccess=!1,e(h.prototype),h.protocol=o.protocol,(h.Socket=h).Transport=c(26),h.transports=c(21),h.parser=c(27),h.prototype.createTransport=function(e){d('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=o.protocol,t.transport=e,this.id&&(t.sid=this.id),new n[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},h.prototype.open=function(){var e;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},h.prototype.setTransport=function(e){d("setting transport %s",e.name);var t=this;this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=e).on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},h.prototype.probe=function(n){d('probing transport "%s"',n);var r=this.createTransport(n,{probe:1}),i=!1,o=this;function e(){if(o.onlyBinaryUpgrades){var e=!this.supportsBinary&&o.transport.supportsBinary;i=i||e}i||(d('probe transport "%s" opened',n),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(e){if(!i)if("pong"===e.type&&"probe"===e.data){if(d('probe transport "%s" pong',n),o.upgrading=!0,o.emit("upgrading",r),!r)return;h.priorWebsocketSuccess="websocket"===r.name,d('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){i||"closed"!==o.readyState&&(d("changing transport and sending upgrade packet"),u(),o.setTransport(r),r.send([{type:"upgrade"}]),o.emit("upgrade",r),r=null,o.upgrading=!1,o.flush())})}else{d('probe transport "%s" failed',n);var t=new Error("probe error");t.transport=r.name,o.emit("upgradeError",t)}}))}function a(){i||(i=!0,u(),r.close(),r=null)}function t(e){var t=new Error("probe error: "+e);t.transport=r.name,a(),d('probe transport "%s" failed because of error: %s',n,e),o.emit("upgradeError",t)}function s(){t("transport closed")}function l(){t("socket closed")}function c(e){r&&e.name!==r.name&&(d('"%s" works - aborting "%s"',e.name,r.name),a())}function u(){r.removeListener("open",e),r.removeListener("error",t),r.removeListener("close",s),o.removeListener("close",l),o.removeListener("upgrading",c)}h.priorWebsocketSuccess=!1,r.once("open",e),r.once("error",t),r.once("close",s),this.once("close",l),this.once("upgrading",c),r.open()},h.prototype.onOpen=function(){if(d("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){d("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},h.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(d('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(s(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else d('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},h.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){d("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},h.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(d("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},h.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},h.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){(this.upgrading?r:t)()}):(this.upgrading?r:t)()}function t(){e.onClose("forced close"),d("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},h.prototype.onError=function(e){d("socket error %j",e),h.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},h.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){d('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},h.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~i(this.transports,e[n])&&t.push(e[n]);return t}}).call(e,function(){return this}())},function(e,t,n){(function(a){var s=n(22),l=n(24),c=n(39),e=n(40);t.polling=function(e){var t=!1,n=!1,r=!1!==e.jsonp;if(a.location){var i="https:"===location.protocol,o=location.port;o=o||(i?443:80),t=e.hostname!==location.hostname||o!==e.port,n=e.secure!==i}{if(e.xdomain=t,e.xscheme=n,"open"in new s(e)&&!e.forceJSONP)return new l(e);if(!r)throw new Error("JSONP disabled");return new c(e)}},t.websocket=e}).call(t,function(){return this}())},function(e,t,n){(function(i){var o=n(23);e.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||o))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(u,e,d){(function(i){var o=d(22),r=d(25),e=d(35),t=d(37),a=d(3)("engine.io-client:polling-xhr");function n(){}function s(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,i.location){var t="https:"===location.protocol,n=location.port;n=n||(t?443:80),this.xd=e.hostname!==i.location.hostname||n!==e.port,this.xs=e.secure!==t}else this.extraHeaders=e.extraHeaders}function l(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function c(){for(var e in l.requests)l.requests.hasOwnProperty(e)&&l.requests[e].abort()}u.exports=s,u.exports.Request=l,t(s,r),s.prototype.supportsBinary=!0,s.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new l(e)},s.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},s.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},e(l.prototype),l.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new o(e),n=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},a("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}i.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},l.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},l.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(e){}i.document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,o=n.length;i<o;i++)r.push(n[i]);t=String.fromCharCode.apply(null,r)}else t=this.xhr.responseText}catch(e){this.onError(e)}null!=t&&this.onData(t)},l.prototype.hasXDR=function(){return void 0!==i.XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},i.document&&(i.attachEvent?i.attachEvent("onunload",c):i.addEventListener&&i.addEventListener("beforeunload",c,!1))}).call(e,function(){return this}())},function(e,t,n){var r=n(26),i=n(36),o=n(27),a=n(37),s=n(38),l=n(3)("engine.io-client:polling");e.exports=u;var c=null!=new(n(22))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}a(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function n(){l("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){l("pre-pause polling complete"),--r||n()})),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",function(){l("pre-pause writing complete"),--r||n()}))}else n()},u.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var r=this;l("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,function(e,t,n){if("opening"===r.readyState&&r.onOpen(),"close"===e.type)return r.onClose(),!1;r.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){l("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(l("transport open - closing"),t()):(l("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;function n(){t.writable=!0,t.emit("drain")}o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"==t&&443!==Number(this.port)||"http"==t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){var r=n(27);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}n(35)((e.exports=i).prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,g,r){(function(c){var i,e=r(28),o=r(29),f=r(30),s=r(31),u=r(32);c&&c.ArrayBuffer&&(i=r(33));var t="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),n="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=t||n;g.protocol=3;var h=g.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=e(h),p={type:"error",data:"parser error"},m=r(34);function l(e,t,n){function r(n,e,r){t(e,function(e,t){i[n]=t,r(e,i)})}for(var i=new Array(e.length),o=s(e.length,n),a=0;a<e.length;a++)r(a,e[a],o)}g.encodePacket=function(e,t,n,r){"function"==typeof t&&(r=t,t=!1),"function"==typeof n&&(r=n,n=null);var i,o,a,s=void 0===e.data?void 0:e.data.buffer||e.data;if(c.ArrayBuffer&&s instanceof ArrayBuffer)return function(e,t,n){if(!t)return g.encodeBase64Packet(e,n);var r=e.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=h[e.type];for(var a=0;a<i.length;a++)o[a+1]=i[a];return n(o.buffer)}(e,t,r);if(m&&s instanceof c.Blob)return function(e,t,n){if(!t)return g.encodeBase64Packet(e,n);if(d)return function(e,t,n){if(!t)return g.encodeBase64Packet(e,n);var r=new FileReader;return r.onload=function(){e.data=r.result,g.encodePacket(e,t,!0,n)},r.readAsArrayBuffer(e.data)}(e,t,n);var r=new Uint8Array(1);r[0]=h[e.type];var i=new m([r.buffer,e.data]);return n(i)}(e,t,r);if(s&&s.base64)return i=e,o=r,a="b"+g.packets[i.type]+i.data.data,o(a);var l=h[e.type];return void 0!==e.data&&(l+=n?u.encode(String(e.data)):String(e.data)),r(""+l)},g.encodeBase64Packet=function(t,n){var r,i="b"+g.packets[t.type];if(m&&t.data instanceof c.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var a=new Uint8Array(t.data),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a[l];r=String.fromCharCode.apply(null,s)}return i+=c.btoa(r),n(i)},g.decodePacket=function(e,t,n){if(void 0===e)return p;if("string"==typeof e){if("b"==e.charAt(0))return g.decodeBase64Packet(e.substr(1),t);if(n&&!1===(e=function(e){try{e=u.decode(e)}catch(e){return!1}return e}(e)))return p;var r=e.charAt(0);return Number(r)==r&&a[r]?1<e.length?{type:a[r],data:e.substring(1)}:{type:a[r]}:p}r=new Uint8Array(e)[0];var i=f(e,1);return m&&"blob"===t&&(i=new m([i])),{type:a[r],data:i}},g.decodeBase64Packet=function(e,t){var n=a[e.charAt(0)];if(!i)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=i.decode(e.substr(1));return"blob"===t&&m&&(r=new m([r])),{type:n,data:r}},g.encodePayload=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=o(e);if(t&&r)return m&&!d?g.encodePayloadAsBlob(e,n):g.encodePayloadAsArrayBuffer(e,n);if(!e.length)return n("0:");l(e,function(e,n){g.encodePacket(e,!!r&&t,!0,function(e){var t;n(null,(t=e).length+":"+t)})},function(e,t){return n(t.join(""))})},g.decodePayload=function(e,t,n){if("string"!=typeof e)return g.decodePayloadAsBinary(e,t,n);var r;if("function"==typeof t&&(n=t,t=null),""==e)return n(p,0,1);for(var i,o,a="",s=0,l=e.length;s<l;s++){var c=e.charAt(s);if(":"!=c)a+=c;else{if(""==a||a!=(i=Number(a)))return n(p,0,1);if(a!=(o=e.substr(s+1,i)).length)return n(p,0,1);if(o.length){if(r=g.decodePacket(o,t,!0),p.type==r.type&&p.data==r.data)return n(p,0,1);if(!1===n(r,s+i,l))return}s+=i,a=""}}return""!=a?n(p,0,1):void 0},g.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));l(e,function(e,t){g.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,t){var n=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),a=new Uint8Array(n),s=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);n=r.buffer}a[s++]=t?0:1;var o=n.byteLength.toString();for(i=0;i<o.length;i++)a[s++]=parseInt(o[i]);a[s++]=255;for(r=new Uint8Array(n),i=0;i<r.length;i++)a[s++]=r[i]}),r(a.buffer)})},g.encodePayloadAsBlob=function(e,n){l(e,function(e,s){g.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);e=n.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(i.length+1);for(r=0;r<i.length;r++)o[r]=parseInt(i[r]);if(o[i.length]=255,m){var a=new m([t.buffer,o.buffer,e]);s(null,a)}})},function(e,t){return n(new m(t))})},g.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var t=e,i=[],o=!1;0<t.byteLength;){for(var a=new Uint8Array(t),s=0===a[0],l="",c=1;255!=a[c];c++){if(310<l.length){o=!0;break}l+=a[c]}if(o)return r(p,0,1);t=f(t,2+l.length),l=parseInt(l);var u=f(t,0,l);if(s)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(e){var d=new Uint8Array(u);u="";for(c=0;c<d.length;c++)u+=String.fromCharCode(d[c])}i.push(u),t=f(t,l)}var h=i.length;i.forEach(function(e,t){r(g.decodePacket(e,n,!0),t,h)})}}).call(g,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){(function(i){var o=n(15);e.exports=function(e){return function e(t){if(!t)return!1;if(i.Buffer&&i.Buffer.isBuffer&&i.Buffer.isBuffer(t)||i.ArrayBuffer&&t instanceof ArrayBuffer||i.Blob&&t instanceof Blob||i.File&&t instanceof File)return!0;if(o(t)){for(var n=0;n<t.length;n++)if(e(t[n]))return!0}else if(t&&"object"==typeof t)for(var r in t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}(e)}}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),r<n&&(n=r),r<=t||n<=t||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){function a(){}e.exports=function(e,n,r){var i=!1;return r=r||a,0===(o.count=e)?n():o;function o(e,t){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,n(e),n=r):0!==o.count||i||n(null,t)}}},function(e,p,m){var g;(function(h,f){!function(){var e="object"==typeof p&&p,t=("object"==typeof h&&h&&h.exports,"object"==typeof f&&f);t.global!==t&&t.window;var r,i,o,a=String.fromCharCode;function s(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function n(e,t){return a(e>>t&63|128)}function l(e){if(0==(4294967168&e))return a(e);var t="";return 0==(4294965248&e)?t=a(e>>6&31|192):0==(4294901760&e)?(t=a(e>>12&15|224),t+=n(e,6)):0==(4292870144&e)&&(t=a(e>>18&7|240),t+=n(e,12),t+=n(e,6)),t+=a(63&e|128)}function c(){if(i<=o)throw Error("Invalid byte index");var e=255&r[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(){var e,t;if(i<o)throw Error("Invalid byte index");if(o==i)return!1;if(e=255&r[o],o++,0==(128&e))return e;if(192==(224&e)){if(128<=(t=(31&e)<<6|c()))return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if(2048<=(t=(15&e)<<12|c()<<6|c()))return t;throw Error("Invalid continuation byte")}if(240==(248&e)&&65536<=(t=(15&e)<<18|c()<<12|c()<<6|c())&&t<=1114111)return t;throw Error("Invalid WTF-8 detected")}var d={version:"1.0.0",encode:function(e){for(var t=s(e),n=t.length,r=-1,i="";++r<n;)i+=l(t[r]);return i},decode:function(e){r=s(e),i=r.length,o=0;for(var t,n=[];!1!==(t=u());)n.push(t);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)65535<(t=e[r])&&(i+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=a(t);return i}(n)}};void 0===(g=function(){return d}.call(p,m,p,h))||(h.exports=g)}()}).call(p,m(12)(e),function(){return this}())},function(e,t){!function(){"use strict";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=new Uint8Array(256),e=0;e<o.length;e++)d[o.charCodeAt(e)]=e;t.encode=function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=o[n[t]>>2],i+=o[(3&n[t])<<4|n[t+1]>>4],i+=o[(15&n[t+1])<<2|n[t+2]>>6],i+=o[63&n[t+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=d[e.charCodeAt(t)],r=d[e.charCodeAt(t+1)],i=d[e.charCodeAt(t+2)],o=d[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}}()},function(l,e){(function(e){var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,t=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),n=t&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),r=i&&i.prototype.append&&i.prototype.getBlob;function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function a(e,t){t=t||{};var n=new i;o(e);for(var r=0;r<e.length;r++)n.append(e[r]);return t.type?n.getBlob(t.type):n.getBlob()}function s(e,t){return o(e),new Blob(e,t||{})}l.exports=t?n?e.Blob:s:r?a:void 0}).call(e,function(){return this}())},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(e.exports=r).prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={},a=0,s=0;function l(e){for(var t="";t=r[e%i]+t,0<(e=Math.floor(e/i)););return t}function c(){var e=l(+new Date);return e!==n?(a=0,n=e):e+"."+l(a++)}for(;s<i;s++)o[r[s]]=s;c.encode=l,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=t*i+o[e.charAt(s)];return t},e.exports=c},function(a,e,s){(function(n){var r=s(25),e=s(37);a.exports=t;var i,c=/\n/g,u=/\\n/g;function o(){}function t(e){r.call(this,e),this.query=this.query||{},i||(n.___eio||(n.___eio=[]),i=n.___eio),this.index=i.length;var t=this;i.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=o)},!1)}e(t,r),t.prototype.supportsBinary=!1,t.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},t.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},t.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=a,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function s(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),e=e.replace(u,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&s()}:this.iframe.onload=s}}).call(e,function(){return this}())},function(d,e,h){(function(a){var t,n=h(26),s=h(27),r=h(36),e=h(37),i=h(38),l=h(3)("engine.io-client:websocket"),o=a.WebSocket||a.MozWebSocket;if("undefined"==typeof window)try{t=h(41)}catch(e){}var c=o;function u(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=o&&!e.forceNode,this.usingBrowserWebSocket||(c=t),n.call(this,e)}c||"undefined"!=typeof window||(c=t),e(d.exports=u,n),u.prototype.name="websocket",u.prototype.supportsBinary=!0,u.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new c(e):new c(e,void 0,t)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},u.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},u.prototype.write=function(e){var r=this;this.writable=!1;for(var i=e.length,t=0,n=i;t<n;t++)!function(n){s.encodePacket(n,r.supportsBinary,function(e){if(!r.usingBrowserWebSocket){var t={};if(n.options&&(t.compress=n.options.compress),r.perMessageDeflate)("string"==typeof e?a.Buffer.byteLength(e):e.length)<r.perMessageDeflate.threshold&&(t.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(e):r.ws.send(e,t)}catch(e){l("websocket closed before onclose event")}--i||o()})}(e[t]);function o(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}},u.prototype.onClose=function(){n.prototype.onClose.call(this)},u.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!==Number(this.port)||"ws"==t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=i()),this.supportsBinary||(e.b64=1),(e=r.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},u.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===u.prototype.name)}}).call(e,function(){return this}())},function(e,t){},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){"use strict";var o=n(7),r=n(35),a=n(45),i=n(46),s=n(47),l=n(3)("socket.io-client:socket"),c=n(29);e.exports=h;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=r.prototype.emit;function h(e,t,n){this.io=e,this.nsp=t,(this.json=this).ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[i(e,"open",s(this,"onopen")),i(e,"packet",s(this,"onpacket")),i(e,"close",s(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(u.hasOwnProperty(e))return d.apply(this,arguments),this;var t=a(arguments),n=o.EVENT;c(t)&&(n=o.BINARY_EVENT);var r={type:n,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){l("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:o.CONNECT,query:this.query}):this.packet({type:o.CONNECT}))},h.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(n){var r=this,i=!1;return function(){if(!i){i=!0;var e=a(arguments);l("sending ack %j",e);var t=c(e)?o.BINARY_ACK:o.ACK;r.packet({type:t,id:n,data:e})}}},h.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){"use strict";e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var r=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=0<e.jitter&&e.jitter<=1?e.jitter:0,this.attempts=0}(e.exports=n).prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}],n.c=i,n.p="",n(0);function n(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var r,i}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],t):t((e=e||self)["@uirouter/angularjs-state-events"]={},e.angular)}(this,function(e,t){"use strict";var c,i,n=angular,r=t&&t.module?t:n;function a(e,t){var n,r;if(Array.isArray(t)&&(n=t[0],r=t[1]),!i(n))throw new Error("invalid parameters to applyPairs");return e[n]=r,e}function s(t){if(t.options().notify&&t.valid()&&!t.ignored()){var e=t.injector(),n=e.get("$stateEvents"),r=e.get("$rootScope"),i=e.get("$state"),o=e.get("$urlRouter"),a=n.provider.enabled(),s=t.params("to"),l=t.params("from");if(a.$stateChangeSuccess){if(r.$broadcast("$stateChangeStart",t.to(),s,t.from(),l,t.options(),t).defaultPrevented)return a.$stateChangeCancel&&r.$broadcast("$stateChangeCancel",t.to(),s,t.from(),l,t.options(),t),null==i.transition&&o.update(),!1;t.onSuccess({},function(){r.$broadcast("$stateChangeSuccess",t.to(),s,t.from(),l,t.options(),t)},{priority:9999})}a.$stateChangeError&&t.promise.catch(function(e){e&&(2===e.type||3===e.type)||(r.$broadcast("$stateChangeError",t.to(),s,t.from(),l,e,t.options(),t).defaultPrevented||o.update())})}}function l(e,t,n){var r=n.get("$state"),i=n.get("$rootScope"),o=n.get("$urlRouter"),a={to:e.identifier(),toParams:e.params(),options:e.options()},s=i.$broadcast("$stateNotFound",a,t.state(),t.params());function l(){return r.target(a.to,a.toParams,a.options)}return(s.defaultPrevented||s.retry)&&o.update(),!s.defaultPrevented&&(s.retry||r.get(a.to)?s.retry&&c(s.retry.then)?s.retry.then(l):l():void 0)}function u(t){u.prototype.instance=this;var n=!1,r=["$stateChangeStart","$stateNotFound","$stateChangeSuccess","$stateChangeError"],i=r.map(function(e){return[e,!0]}).reduce(a,{});function o(){if(n)throw new Error("Cannot enable events at runtime (use $stateEventsProvider")}function e(e){return n=!0,i.$stateNotFound&&t.onInvalid(l),i.$stateChangeStart&&e.onBefore({},s,{priority:1e3}),{provider:u.prototype.instance}}this.enable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(),e&&e.length||(e=r),e.forEach(function(e){return i[e]=!0})},this.disable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(),e&&e.length||(e=r),e.forEach(function(e){return delete i[e]})},this.enabled=function(){return i},(this.$get=e).$inject=["$transitions"]}c=r.isFunction,i=r.isString,l.$inject=["$to$","$from$","$state","$rootScope","$urlRouter"],u.$inject=["$stateProvider"],r.module("ui.router.state.events",["ui.router.state"]).provider("$stateEvents",u).run(["$stateEvents",function(e){}]),e.$stateChangeStart=void 0,e.$stateChangeCancel=void 0,e.$stateChangeSuccess=void 0,e.$stateChangeError=void 0,e.$stateNotFound=void 0,Object.defineProperty(e,"__esModule",{value:!0})});