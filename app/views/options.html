<div flex class="scroll-frame">
<md-content layout="column" class="no-background scroll-section" layout-padding>
	<h2>Collaborators</h2>
	<md-chips ng-model="ctrl.options.users" placeholder="add another username" secondary-placeholder="+username"></md-chips>

	<h2>Raw exports</h2>
	<p>
		<md-button class="md-raised md-primary" ng-href="{{ctrl.downloadURL}}">Download project</md-button>
		<md-button class="md-raised md-primary" ng-href="{{ctrl.downloadODSURL}}">Download native ODS</md-button>
		<md-button class="md-raised md-primary" ng-href="{{ctrl.downloadCSVURL}}">Download students.csv</md-button>
		<md-button class="md-raised md-warn" ng-href="{{ctrl.resetLockURL}}">Reset project's server locks</md-button>
	</p>

	<h2>Options</h2>
	<md-input-container>
		<label>Nb of copies</label>
		<input ng-model="ctrl.options.options.nombre_copies" string-to-number type="number">
	</md-input-container>
	<p>
		Threshold: {{ctrl.options.options.seuil * 100 | number: 0}}% black filled
		<md-slider class="md-primary" md-discrete string-to-number ng-model="ctrl.options.options.seuil" min="0" max="1" step="0.05" aria-label="threshold"></md-slider>
		When one uses a separate answer sheet, letters or digits use at least 0.5.
	</p>
	<md-input-container>
		<label>Annotation</label>
		<textarea ng-model="ctrl.options.options.verdict"></textarea>
	</md-input-container>

	<md-switch ng-model="showAllOptions" aria-label="show all options">
   		Display all options
  	</md-switch>
	<div ng-if="showAllOptions">
		<md-input-container ng-repeat="(key, value) in ctrl.options.options">
			<label>{{::key}}</label>
			<input ng-model="ctrl.options.options[key]" ng-if="::key !='verdict' && key != 'email_text'">
			<textarea ng-model="ctrl.options.options[key]" ng-if="::key =='verdict' || key =='email_text'"></textarea>
		</md-input-container>
	</div>
	<p>
		<md-button class="md-warn md-raised" ng-click="ctrl.saveOptions()">Save Options</md-button>
	</p>
</md-content>
</div>
